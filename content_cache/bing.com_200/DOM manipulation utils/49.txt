<!doctype html>
<html lang="en-US" dir="ltr" class="no-js" data-ffo-opensans="false" data-ffo-zillaslab="false">
 <head prefix="og: http://ogp.me/ns#"> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script> 
  <title>Using JavaScript code modules - Mozilla | MDN</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <meta name="robots" content="index, follow"> 
  <link rel="home" href="/en-US/"> 
  <link rel="copyright" href="#copyright"> 
  <link href="https://developer.cdn.mozilla.net/static/build/styles/mdn-skinny.b2d9061c8deb.css" rel="stylesheet" type="text/css"> 
  <link href="https://developer.cdn.mozilla.net/static/build/styles/wiki-skinny.8dcc315e0a59.css" rel="stylesheet" type="text/css"> 
  <link href="https://developer.cdn.mozilla.net/static/build/styles/locale-en-US.7e45c23d7d30.css" rel="stylesheet" type="text/css"> 
  <!-- common social tags --> 
  <meta property="og:type" content="website"> 
  <meta property="og:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.72382e605ce3.png"> 
  <meta property="og:site_name" content="Mozilla Developer Network"> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:image" content="https://developer.cdn.mozilla.net/static/img/opengraph-logo.72382e605ce3.png"> 
  <meta name="twitter:site" content="@MozDevNet"> 
  <meta name="twitter:creator" content="@MozDevNet"> 
  <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="Mozilla Developer Network"> 
  <!-- third-generation iPad with high-resolution Retina display: --> 
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://developer.cdn.mozilla.net/static/img/favicon144.0d89fc050967.png"> 
  <!-- iPhone with high-resolution Retina display: --> 
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://developer.cdn.mozilla.net/static/img/favicon114.57ce6f6d1857.png"> 
  <!-- first- and second-generation iPad: --> 
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://developer.cdn.mozilla.net/static/img/favicon72.deefe20a0360.png"> 
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: --> 
  <link rel="apple-touch-icon-precomposed" href="https://developer.cdn.mozilla.net/static/img/favicon57.930938a93373.png"> 
  <!-- basic favicon --> 
  <link rel="shortcut icon" href="https://developer.cdn.mozilla.net/static/img/favicon32.e1ca6d9bb933.png"> 
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/html5shiv.3948ccddab6f.js" charset="utf-8"></script>
  <![endif]--> 
  <script type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/font-check.f6a4c7250869.js" charset="utf-8"></script> 
  <link rel="alternate" type="application/json" href="/en-US/docs/Mozilla/JavaScript_code_modules/Using$json"> 
  <link rel="canonical" href="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using"> 
  <link rel="alternate" hreflang="ca" href="/ca/docs/Fent_servir_m%C3%B2duls_de_codi_Javascript" title="Fent servir mòduls de codi Javascript"> 
  <link rel="alternate" hreflang="de" href="/de/docs/Mozilla/JavaScript_code_modules/Deutsch" title="Using JavaScript code modules"> 
  <link rel="alternate" hreflang="es" href="/es/docs/JavaScript_code_modules/Using" title="Usando módulos de código JavaScript"> 
  <link rel="alternate" hreflang="fr" href="/fr/docs/Utilisation_de_modules_de_code_JavaScript" title="Utilisation de modules de code JavaScript"> 
  <link rel="alternate" hreflang="ja" href="/ja/docs/Mozilla/JavaScript_code_modules/Using" title="JavaScript ???????????"> 
  <link rel="alternate" hreflang="pl" href="/pl/docs/Mozilla/JavaScript_code_modules/Zastosowanie_modu%C5%82%C3%B3w_JavaScript" title="Zastosowanie modu?ów JavaScript"> 
  <link rel="alternate" hreflang="zh-CN" href="/zh-CN/docs/Mozilla/JavaScript_code_modules/Using" title="?? JavaScript ?? modules ??"> 
  <!-- document-specific social tags --> 
  <meta property="og:title" content="Using JavaScript code modules"> 
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using"> 
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using"> 
  <meta name="twitter:title" content="Using JavaScript code modules"> 
  <meta property="og:description" content="JavaScript code modules are a concept introduced in Gecko&nbsp;1.9 and can be used for sharing code between different privileged scopes. Modules can also be used to create global JavaScript singletons that previously required using JavaScript XPCOM objects. A JavaScript code module is simply some JavaScript code located in a registered location. The module is loaded into a specific JavaScript scope, such as XUL script or JavaScript XPCOM script, using Components.utils.import() or Components.utils[&quot;import&quot;]()."> 
  <meta name="description" content="JavaScript code modules are a concept introduced in Gecko&nbsp;1.9 and can be used for sharing code between different privileged scopes. Modules can also be used to create global JavaScript singletons that previously required using JavaScript XPCOM objects. A JavaScript code module is simply some JavaScript code located in a registered location. The module is loaded into a specific JavaScript scope, such as XUL script or JavaScript XPCOM script, using Components.utils.import() or Components.utils[&quot;import&quot;]()."> 
  <meta name="twitter:description" content="JavaScript code modules are a concept introduced in Gecko&nbsp;1.9 and can be used for sharing code between different privileged scopes. Modules can also be used to create global JavaScript singletons that previously required using JavaScript XPCOM objects. A JavaScript code module is simply some JavaScript code located in a registered location. The module is loaded into a specific JavaScript scope, such as XUL script or JavaScript XPCOM script, using Components.utils.import() or Components.utils[&quot;import&quot;]()."> 
  <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-36116321-5', 'mozilla.org');
    ga('set', 'anonymizeIp', true);

    

    // dimension9 == "Section editing"
    
        ga('set', 'dimension9', 'Enabled');
    
        // dimension12 == 'Page Revision'
        ga('set', 'dimension12', '979147');
        // dimension17 == 'English Slug'
        ga('set', 'dimension17', 'Mozilla/JavaScript_code_modules/Using');

    (function() {
        // http://cfsimplicity.com/61/removing-analytics-clutter-from-campaign-urls
        var win = window;
        var removeUtms = function(){
            var location = win.location;
            if (location.href.indexOf('utm') != -1 && win.history.replaceState) {
                win.history.replaceState({}, '', location.pathname);
            }
        };

        ga('send', 'pageview', {'hitCallback': removeUtms});
    })();
</script> 
 </head> 
 <body data-slug="Mozilla/JavaScript_code_modules/Using" contextmenu="edit-history-menu" data-search-url="" class="document   "> 
  <script type="text/javascript">
    // make sure global mdn object exists
    var mdn = window.mdn || {};

    (function(win) {
        'use strict';

        
            (function(){
  var FLAGS = {
    'compat_api': false,'kumaediting': false,'line_length': false,'page_move': false,'redesign_beta': false,'redesign_live': false,'registration_disabled': false,'sample_frame': false,'search_suggestions': false,'section_edit': true,'sg_task_completion': false,'spam_admin_override': false,'spam_checks_enabled': true,'spam_spammer_override': false,'spam_submissions_enabled': false,'spam_testing_mode': false,'wiki_samples': true,'wiki_spam_exempted': false,'wiki_spam_training': false
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'enable_optimizely': false,'welcome_email': true,'application_ACAO': true,'store_revision_ips': true,'dumb_doc_urls': true,'newsletter': true,'newsletter_article': true,'foundation_callout': false,'helpful-survey-2': true
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

        

        // This needs to be set before ckeditor.js loads
        window.CKEDITOR_BASEPATH = '/static/js/libs/ckeditor/build/ckeditor/';

        // Site configuration
        win.mdn.ckeditor = {};
        win.mdn.features = {};
        win.mdn.staticPath = 'https://developer.cdn.mozilla.net/static/';
        win.mdn.optimizely = win['optimizely'] || [];
        win.mdn.wiki = {
            autosuggestTitleUrl: '/en-US/docs/get-documents'
        };
        win.mdn.assets = {
            css: {
                'editor-content': ['https://developer.cdn.mozilla.net/static/build/styles/editor-content.4b63a9347c67.css','https://developer.cdn.mozilla.net/static/build/styles/editor-locale-en-US.7e45c23d7d30.css',
                ]
            },
            js: {
                'syntax-prism': ['https://developer.cdn.mozilla.net/static/build/js/syntax-prism.66bd4038bff3.js',]
            }
        };

        win.mdn.notifications = [];

        

        // interactive editor config
        win.mdn.interactiveEditor = {
            siteUrl: "https://developer.mozilla.org",
            editorUrl: "https://interactive-examples.mdn.mozilla.net"
        };

    })(this);
</script> 
  <div class="global-notice"> 
   <div class="wrap center"> 
    <p><bdi>MDN will be in maintenance mode on Tuesday October 10, from 9:30 AM to 1:30 PM Pacific (4:30 PM to 8:30 PM UTC) as we move data centers.</bdi></p> 
   </div> 
  </div> 
  <ul id="nav-access"> 
   <li><a href="#document-main" id="skip-main">Skip to main content</a></li> 
   <li><a id="skip-language" href="#language">Select language</a></li> 
   <li><a href="#q" id="skip-search">Skip to search</a></li> 
  </ul> 
  <!-- Header --> 
  <header id="main-header">
   <div class="center"> 
    <a href="/en-US/" class="logo">MDN Web Docs</a> 
    <div id="nav-sec"> 
     <ul> 
      <li class="nav-login">
       <div class="login"> 
        <a href="/users/github/login/?next=%2Fen-US%2Fdocs%2FMozilla%2FJavaScript_code_modules%2FUsing" class="login-link js-login-link" data-service="GitHub"> Sign in <i class="icon-github" aria-hidden="true"></i> </a> 
       </div></li> 
     </ul> 
    </div> 
    <nav id="main-nav" class="nav-main" role="navigation">
     <ul>
      <li class="nav-main-item"><a href="/en-US/docs/Web">Technologies<i aria-hidden="true" class="icon-caret-down"></i></a> 
       <div class="submenu js-submenu" id="nav-tech-submenu"> 
        <div class="submenu-column"> 
         <ul> 
          <li><a href="/en-US/docs/Web/HTML">HTML</a></li> 
          <li><a href="/en-US/docs/Web/CSS">CSS</a></li> 
          <li><a href="/en-US/docs/Web/JavaScript">JavaScript</a></li> 
          <li><a href="/en-US/docs/Web/Guide/Graphics">Graphics</a></li> 
          <li><a href="/en-US/docs/Web/HTTP">HTTP</a></li> 
          <li><a href="/en-US/docs/Web/API">APIs / DOM</a></li> 
          <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions">Browser Extensions</a></li> 
          <li><a href="/en-US/docs/Web/MathML">MathML</a></li> 
         </ul> 
        </div>
       </div></li>
      <li class="nav-main-item"><a href="/en-US/docs/Learn">References &amp; Guides<i aria-hidden="true" class="icon-caret-down"></i></a> 
       <div class="submenu js-submenu" id="nav-learn-submenu"> 
        <div class="submenu-column"> 
         <ul> 
          <li><a href="/en-US/docs/Learn">Learn web development</a></li> 
          <li><a href="/en-US/docs/Web/Tutorials">Tutorials</a></li> 
          <li><a href="/en-US/docs/Web/Reference">References</a></li> 
          <li><a href="/en-US/docs/Web/Guide">Developer Guides</a></li> 
          <li><a href="/en-US/docs/Web/Accessibility">Accessibility</a></li> 
          <li><a href="/en-US/docs/Games">Game development</a></li> 
          <li><a href="/en-US/docs/Web">...more docs</a></li> 
         </ul> 
        </div> 
       </div> </li>
      <li class="nav-main-item"><a href="/en-US/docs/MDN/Feedback">Feedback<i aria-hidden="true" class="icon-caret-down"></i></a> 
       <div class="submenu js-submenu" id="nav-contact-submenu"> 
        <div class="submenu-column"> 
         <ul> 
          <li><a href="https://support.mozilla.org/">Get Firefox help<i aria-hidden="true" class="icon-external-link"></i></a></li> 
          <li><a href="https://stackoverflow.com/">Get web development help<i aria-hidden="true" class="icon-external-link"></i></a></li> 
         </ul> 
         <ul> 
          <li><a href="/en-US/docs/MDN/Community">Join the MDN community</a></li> 
          <li><a target="_blank" href="https://bugzilla.mozilla.org/form.doc?bug_file_loc=https%3A//developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Using">Report a content problem<i aria-hidden="true" class="icon-external-link"></i></a></li> 
          <li><a target="_blank" href="https://bugzilla.mozilla.org/form.mdn">Report a bug<i aria-hidden="true" class="icon-external-link"></i></a></li> 
         </ul> 
        </div> 
       </div> </li>
      <li class="nav-main-search">
       <form action="/en-US/search" method="get" role="search"> 
        <div class="search-wrap"> 
         <label for="main-q" class="offscreen">Search</label> 
         <input type="search" id="main-q" name="q" placeholder="Search" data-value="" value=""> 
         <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span> 
         <button type="submit" class="offscreen">Search</button> 
        </div> 
       </form></li>
     </ul>
    </nav> 
   </div>
  </header> 
  <!-- Content will go here --> 
  <main id="content"> 
   <!-- heading --> 
   <div id="wiki-document-head" class="document-head"> 
    <div class="center"> 
     <!-- crumbs --> 
     <nav class="crumbs" role="navigation">
      <ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs"> 
       <li typeof="v:Breadcrumb"><a href="/en-US" rel="v:url" property="v:title">MDN</a></li> 
       <li class="crumb" typeof="v:Breadcrumb"><a href="/en-US/docs/Mozilla" rel="v:url" property="v:title">Mozilla</a></li> 
       <li class="crumb" typeof="v:Breadcrumb"><a href="/en-US/docs/Mozilla/JavaScript_code_modules" rel="v:url" property="v:title">JavaScript code modules</a></li> 
       <li class="crumb" typeof="v:Breadcrumb" property="v:title">Using JavaScript code modules</li> 
      </ol>
     </nav> 
     <!-- action buttons --> 
     <div class="document-actions"> 
      <ul class="page-buttons"> 
       <li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>Languages</span><i aria-hidden="true" class="icon-language"></i></button> 
        <div class="submenu js-submenu" id="languages-menu-submenu"> 
         <div class="submenu-column"> 
          <ul id="translations"> 
           <li><bdi><a rel="internal" href="/ca/docs/Fent_servir_m%C3%B2duls_de_codi_Javascript" title="Catalan">Català (ca)</a></bdi></li> 
           <li><bdi><a rel="internal" href="/de/docs/Mozilla/JavaScript_code_modules/Deutsch" title="German">Deutsch (de)</a></bdi></li> 
           <li><bdi><a rel="internal" href="/es/docs/JavaScript_code_modules/Using" title="Spanish">Español (es)</a></bdi></li> 
           <li><bdi><a rel="internal" href="/fr/docs/Utilisation_de_modules_de_code_JavaScript" title="French">Français (fr)</a></bdi></li> 
           <li><bdi><a rel="internal" href="/ja/docs/Mozilla/JavaScript_code_modules/Using" title="Japanese">??? (ja)</a></bdi></li> 
           <li><bdi><a rel="internal" href="/pl/docs/Mozilla/JavaScript_code_modules/Zastosowanie_modu%C5%82%C3%B3w_JavaScript" title="Polish">Polski (pl)</a></bdi></li> 
           <li><bdi><a rel="internal" href="/zh-CN/docs/Mozilla/JavaScript_code_modules/Using" title="Chinese (Simplified)">?? (??) (zh-CN)</a></bdi></li> 
           <li><a href="/en-US/docs/Mozilla/JavaScript_code_modules/Using$locales" rel="nofollow, noindex" id="translations-add">Add a translation</a></li> 
          </ul> 
         </div> 
        </div> </li> 
       <li class="page-buttons-edit"><a href="/en-US/docs/Mozilla/JavaScript_code_modules/Using$edit" class="button neutral" data-optimizely-hook="button-edit-doc" id="edit-button" rel="nofollow, noindex">Edit<i aria-hidden="true" class="icon-pencil"></i></a></li> 
       <li class="page-buttons-advanced"><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>Advanced</span><i aria-hidden="true" class="icon-cog"></i></button> 
        <div class="submenu js-submenu" id="advanced-menu-submenu"> 
         <!-- this page --> 
         <div class="submenu-column"> 
          <div class="title">
           Advanced
          </div> 
          <ul> 
           <li><a href="/en-US/docs/Mozilla/JavaScript_code_modules/Using$history" rel="nofollow, noindex">History</a></li> 
           <li class="page-print"><a href="#" onclick="return window.print();">Print this article</a></li> 
          </ul> 
         </div> 
        </div> </li>
      </ul> 
     </div> 
     <div class="document-title"> 
      <h1>Using JavaScript code modules</h1> 
     </div> 
    </div> 
   </div> 
   <div class="center clear"> 
    <div class="wiki-main-content" id="document-main">
     <div class="center"> 
      <!-- start the main content container --> 
      <div id="wiki-column-container" class="wiki-right-present wiki-left-closed wiki-left-none"> 
       <!-- content row with three strips --> 
       <div class="column-container column-container-reverse"> 
        <!-- TOC, approvals, etc --> 
        <div class="column-strip wiki-column" id="wiki-right"> 
         <!-- table of contents --> 
         <div id="toc" class="toc toggleable"> 
          <a href="#toc" class="title toggler" data-open-icon="icon-caret-right" data-closed-icon="icon-caret-down">In This Article<i></i></a> 
          <ol class="toggle-container"> 
           <li><a href="#Creating_a_JavaScript_code_module" rel="internal">Creating a JavaScript code module</a>
            <ol>
             <li><a href="#The_URL_for_a_code_module" rel="internal">The URL for a code module</a></li>
             <li><a href="#Sharing_objects_using_code_modules" rel="internal">Sharing objects using code modules</a></li>
            </ol></li>
           <li><a href="#Unloading_code_modules" rel="internal">Unloading code modules</a>
            <ol>
             <li><a href="#Examples" rel="internal">Examples</a></li>
            </ol></li>
           <li><a href="#Extending_resource_URLs" rel="internal">Extending resource: URLs</a>
            <ol>
             <li><a href="#Using_chrome.manifest" rel="internal">Using chrome.manifest</a></li>
             <li><a href="#Programmatically_adding_aliases" rel="internal">Programmatically adding aliases</a></li>
            </ol></li>
           <li><a href="#Notes" rel="internal">Notes</a>
            <ol>
             <li><a href="#Custom_modules_and_XPCOM_components" rel="internal">Custom modules and XPCOM components</a></li>
             <li><a href="#Packaging_notes" rel="internal">Packaging notes</a></li>
            </ol></li>
           <li><a href="#Importing_CommonJS_modules" rel="internal">Importing CommonJS modules</a></li>
           <li><a href="#See_also" rel="internal">See also</a> </li>
          </ol> 
         </div> 
        </div> 
        <!-- center: main article content --> 
        <div id="wiki-content" class="column-main wiki-column text-content"> 
         <!-- just the article content --> 
         <article id="wikiArticle"> 
          <div></div> 
          <p>JavaScript code modules are a concept introduced in <span title="(Firefox 3)">Gecko&nbsp;1.9</span> and can be used for sharing code between different privileged scopes. Modules can also be used to create global JavaScript singletons that previously required using JavaScript XPCOM objects. A JavaScript code module is simply some JavaScript code located in a registered location. The module is loaded into a specific JavaScript scope, such as XUL script or JavaScript XPCOM script, using <code><a href="/en-US/docs/Components.utils.import">Components.utils.import()</a></code> or <code><a href="/en-US/docs/Components.utils.import">Components.utils["import"]()</a></code>.</p> 
          <h2 id="Creating_a_JavaScript_code_module">Creating a JavaScript code module</h2> 
          <p>A very simple JavaScript module looks like this:</p> 
          <pre class="brush: js">var EXPORTED_SYMBOLS = ["foo", "bar"];

function foo() {
  return "foo";
}

var bar = {
  name : "bar",
  size : 3
};

var dummy = "dummy";
</pre> 
          <p>Notice that the module uses normal JavaScript to create functions, objects, constants, and any other JavaScript type. The module also defines a special Array named <code>EXPORTED_SYMBOLS</code>. Any JavaScript item named in <code>EXPORTED_SYMBOLS</code> will be exported from the module and injected into the importing scope. For example:</p> 
          <pre class="brush: js">Components.utils.import("resource://app/my_module.jsm");

alert(foo());         // displays "foo"
alert(bar.size + 3);  // displays "6"
alert(dummy);         // displays "dummy is not defined" because 'dummy' was not exported from the module
</pre> 
          <div class="note">
           <strong>Note:</strong> When you're testing changes to a code module, be sure to change the application's build ID (e.g., the version) before your next test run; otherwise, you may find yourself running the previous version of your module's code.
          </div> 
          <h3 id="The_URL_for_a_code_module">The URL for a code module</h3> 
          <p>As you can see from the example above, you need a URL&nbsp;to import a code module. (The URL in the example is "resource://app/my_module.jsm".)</p> 
          <p>Code modules can only be loaded using a&nbsp;<strong>chrome:</strong> (), <strong>resource:</strong>, or <strong>file:</strong> URL.</p> 
          <ul> 
           <li>If you're writing an extension for Firefox 4 and already have a <a href="/en-US/docs/Chrome_Registration">chrome.manifest</a> with a <code>content</code> instruction in it, you can put the code module in your content folder and reference it like your other content files via <code>chrome://&lt;yourextension&gt;/content/&lt;yourmodule&gt;.jsm.</code></li> 
           <li>If your extension or application needs to support Mozilla 1.9.x (Firefox 3.x), you should register a new resource URL. Details on doing this are in the <a href="#Extending_resource.3A_URLs">"Extending resource: URLs" section</a> below.</li> 
          </ul> 
          <h3 id="Sharing_objects_using_code_modules">Sharing objects using code modules</h3> 
          <p>An extremely important behavior of <code><a href="/en-US/docs/Components.utils.import">Components.utils.import()</a></code> is that modules are cached when loaded and subsequent imports do not reload a new version of the module, but instead use the previously cached version. This means that a given module will be shared when imported multiple times. Any modifications to data, objects, or functions will be available in any scope that has imported the module. For example, if the simple module were imported into two different JavaScript scopes, changes in one scope can be observed in the other scope.</p> 
          <p>Scope 1:</p> 
          <pre class="brush: js">Components.utils.import("resource://app/my_module.jsm");

alert(bar.size + 3);  // displays "6"

bar.size = 10;
</pre> 
          <p>Scope 2:</p> 
          <pre class="brush: js">Components.utils.import("resource://app/my_module.jsm");

alert(foo());         // displays "foo"
alert(bar.size + 3);  // displays "13"
</pre> 
          <p>This sharing behavior can be used to create singleton objects that can share data across windows and between XUL script and XPCOM components.</p> 
          <p></p>
          <div class="note">
           <strong>Note:</strong>&nbsp;Each scope that imports a module receives a by-value copy of the exported symbols in that module. Changes to the symbol's value will not propagate to other scopes (though an object's properties will be manipulated by reference).
          </div>
          <p></p> 
          <p>Scope 1:</p> 
          <pre class="brush: js">Components.utils.import("resource://app/my_module.jsm");

bar = "foo";
alert(bar);         // displays "foo"
</pre> 
          <p>Scope 2:</p> 
          <pre class="brush: js">Components.utils.import("resource://app/my_module.jsm");

alert(bar);         // displays "[object Object]"
</pre> 
          <p>The main effect of the by-value copy is that global variables of simple types won't be shared across scopes. Always put variables in a wrapper class and export the wrapper (such as <code>bar</code> in the above example).</p> 
          <p></p>
          <div class="headingWithIndicator"> 
           <h2 id="Unloading_code_modules">Unloading code modules</h2> 
           <span class="indicatorInHeadline minVer geckoMinVerMethod">Requires Gecko 7.0(Firefox 7.0 / Thunderbird 7.0 / SeaMonkey 2.4)</span> 
          </div>
          <p></p> 
          <p><code><a href="/en-US/docs/Components.utils.unload">Components.utils.unload()</a></code> allows you to unload a previously imported code module. Once this method has been called, references to the module will continue to work but any subsequent import of the module will reload it and give a new reference.</p> 
          <h3 id="Examples">Examples</h3> 
          <ul> 
           <li>A template to download and edit is seen here on <a href="https://gist.github.com/Noitidart/9045387" class="external">GitHub - Gists - _template-BootstrapJSM.xpi</a></li> 
          </ul> 
          <h2 id="Extending_resource_URLs">Extending resource: URLs</h2> 
          <p>Prior to <span title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Gecko&nbsp;2.0</span>, the most common way to load code modules was using <strong>resource:</strong> URLs. The basic syntax of a resource URL is as follows:</p> 
          <pre>resource://&lt;alias&gt;/&lt;relative-path&gt;/&lt;file.js|jsm&gt;
</pre> 
          <p>The <code>&lt;alias&gt;</code> is an alias to a location, usually a physical location relative to the application or XUL runtime. There are multiple pre-defined aliases set up by the XUL runtime:</p> 
          <ul> 
           <li><code>app</code> - Alias to the location of the XUL application</li> 
           <li><code>gre</code> - Alias to the location of the XUL runtime</li> 
          </ul> 
          <p>The <code>&lt;relative-path&gt;</code> can be multiple levels deep and is always relative to the location defined by the <code>&lt;alias&gt;</code>. The common relative path is "modules" and is used by XUL Runner and Firefox. Code modules are simple JavaScript files with a .js or .jsm extension.</p> 
          <p><code>&lt;alias&gt;</code> must be unique to your add-on, as the application and other extensions share the same namespace for all aliases.</p> 
          <h3 id="Using_chrome.manifest">Using chrome.manifest</h3> 
          <p>The easiest way for extensions and XUL applications to add custom aliases is by registering an alias in the <a href="/en-US/docs/Chrome_Registration">chrome manifest</a> using a line like this:</p> 
          <pre>resource <em>aliasname</em> <em>uri/to/files/</em>
</pre> 
          <p>For example, if the XPI for your <em>foo</em> extension includes a top-level modules/directory containing the <em>bar.js</em> module (that is, the modules/directory is a sibling to chrome.manifest and install.rdf), you could create an alias to that directory via the instruction:</p> 
          <pre>resource foo modules/
</pre> 
          <p>(Don't forget the trailing slash!) You could then import the module into your JavaScript code via the statement:</p> 
          <pre class="brush: js">Components.utils.import("resource://foo/bar.js");
</pre> 
          <h3 id="Programmatically_adding_aliases">Programmatically adding aliases</h3> 
          <p>Custom aliases to paths that can be represented as an <code><a title="" href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsILocalFile">nsILocalFile</a></code> can be programmatically added as well. For example:</p> 
          <pre class="brush: js">// Import Services.jsm unless in a scope where it's already been imported
Components.utils.import("resource://gre/modules/Services.jsm");

var resProt = Services.io.getProtocolHandler("resource")
                      .QueryInterface(Components.interfaces.nsIResProtocolHandler);

var aliasFile = Components.classes["@mozilla.org/file/local;1"]
                          .createInstance(Components.interfaces.nsILocalFile);
aliasFile.initWithPath("/some/absolute/path");

var aliasURI = Services.io.newFileURI(aliasFile);
resProt.setSubstitution("myalias", aliasURI);

// assuming the code modules are in the alias folder itself
</pre> 
          <h2 id="Notes">Notes</h2> 
          <h3 id="Custom_modules_and_XPCOM_components">Custom modules and XPCOM components</h3> 
          <p>Note that prior to <span title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Gecko&nbsp;2.0</span> JavaScript XPCOM components are loaded before chrome registration. This means you can't use <code><a href="/en-US/docs/Components.utils.import">Components.utils.import()</a></code> with your own resource URL at the top level in a component source. A possible solution is moving the call to <code><a href="/en-US/docs/Components.utils.import">Components.utils.import()</a></code> into the XPCOM component constructor (<a href="http://groups.google.com/group/mozilla.dev.apps.firefox/browse_thread/thread/e178d41afa2ccc87?hl=en#" class="external">discussion</a>).</p> 
          <h3 id="Packaging_notes">Packaging notes</h3> 
          <p>It's important to note that you should not typically put your JavaScript code modules in a JAR file in your add-on. Firefox 3.6 doesn't support them at all, and there's only one case in which it's remotely useful: a Firefox 4-only add-on which must be installed unpacked. Otherwise placing code modules in a JAR file breaks compatibility unnecessarily.</p> 
          <h2 id="Importing_CommonJS_modules">Importing CommonJS modules</h2> 
          <p>The JavaScript code modules described here are not the same thing as <a href="http://www.commonjs.org/specs/modules/1.0/" class="external">CommonJS modules</a>, but you can import CommonJS modules into any scope where you can use <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Language_Bindings/Components.utils.import">Components.utils.import</a>. Just call the following:</p> 
          <pre class="brush: js line-numbers  language-js"><code class="language-js"><span class="keyword token">const</span> <span class="punctuation token">{</span> require <span class="punctuation token">}</span> <span class="operator token">=</span> Cu<span class="punctuation token">.</span><span class="keyword token">import</span><span class="punctuation token">(</span><span class="string token">"resource://gre/modules/commonjs/toolkit/require.js"</span><span class="punctuation token">,</span> <span class="punctuation token">{</span><span class="punctuation token">}</span><span class="punctuation token">)</span></code></pre> 
          <p>This will import <code>require()</code> into your scope.</p> 
          <p>You can then use that to import CommonJS modules. You can import <a href="/en-US/docs/Mozilla/Add-ons/SDK">Add-on SDK</a> modules in just the same way you could from an SDK add-on:</p> 
          <pre class="brush: js">// import the SDK's base64 module

var base64 = require("sdk/base64");
base64.encode("hello"); // "aGVsbG8="</pre> 
          <p>You can import other CommonJS modules, too, as long as you know the path to them:</p> 
          <pre class="brush: js">// import my module

var myModule = require("resource://path/to/my/module.js");</pre> 
          <p>In this case, though, you might be better off <a href="/en-US/Add-ons/SDK/Low-Level_APIs/_loader">creating your own loader</a>, so you can specify the <code><a href="/en-US/Add-ons/SDK/Low-Level_APIs/_loader#paths">paths</a></code> property yourself.</p> 
          <h2 name="See_also" id="See_also">See also</h2> 
          <ul> 
           <li><a href="/en-US/docs/Mozilla/JavaScript_code_modules">JavaScript code modules</a> topic page</li> 
          </ul> 
          <aside class="helpful-survey hidden" id="helpful-survey"> 
           <p>Was this article helpful?</p> 
           <div class="helpful-survey-content"> 
            <div class="helpful-survey-buttons"> 
             <button type="button" class="helpful-survey-vote helpful-survey-yes"> <span class="offscreen">Yes</span> <i class="icon-thumbs-o-up" aria-hidden="true"></i> </button> 
             <button type="button" class="helpful-survey-vote helpful-survey-no"> <span class="offscreen">No</span> <i class="icon-thumbs-o-down" aria-hidden="true"></i> </button> 
            </div> 
            <div class="helpful-survey-thankyou">
             Thank you!
            </div> 
           </div> 
          </aside> 
         </article> 
         <!-- contributors --> 
         <div class="wiki-block contributors"> 
          <h2 class="offscreen">Document Tags and Contributors</h2> 
          <div class="tag-attach-list contributors-sub"> 
           <i aria-hidden="true" class="icon-tags icon-fw"></i> 
           <strong>Tags:</strong>&nbsp; 
           <ul class="tags tags-small"> 
            <li><a href="/en-US/docs/tag/Add-ons" rel="nofollow, noindex">Add-ons</a></li> 
            <li><a href="/en-US/docs/tag/Extensions" rel="nofollow, noindex">Extensions</a></li> 
            <li><a href="/en-US/docs/tag/Guide" rel="nofollow, noindex">Guide</a></li> 
            <li><a href="/en-US/docs/tag/JavaScript" rel="nofollow, noindex">JavaScript</a></li> 
            <li><a href="/en-US/docs/tag/XPCOM" rel="nofollow, noindex">XPCOM</a></li> 
           </ul> 
          </div> 
          <div class="contributors-sub"> 
           <i aria-hidden="true" class="icon-group icon-fw"></i>&nbsp;
           <strong>Contributors to this page:</strong> 
           <a href="/en-US/profiles/wbamberg">wbamberg</a>, 
           <a href="/en-US/profiles/chrmod">chrmod</a>, 
           <a href="/en-US/profiles/bbondy">bbondy</a>, 
           <a href="/en-US/profiles/kscarfone">kscarfone</a>, 
           <a href="/en-US/profiles/Nitish">Nitish</a>, 
           <a href="/en-US/profiles/nabelputraprem">nabelputraprem</a>, 
           <a href="/en-US/profiles/jlongster">jlongster</a>, 
           <a href="/en-US/profiles/Noitidart">Noitidart</a>, 
           <a href="/en-US/profiles/robamler">robamler</a>, 
           <a href="/en-US/profiles/ethertank">ethertank</a>, 
           <a href="/en-US/profiles/trevorh">trevorh</a>, 
           <a href="/en-US/profiles/teoli">teoli</a>, 
           <a href="/en-US/profiles/kmaglione">kmaglione</a>, 
           <a href="/en-US/profiles/Wladimir_Palant">Wladimir_Palant</a>, 
           <a href="/en-US/profiles/Hans.Hokke">Hans.Hokke</a>, 
           <a href="/en-US/profiles/Blake_Binkley">Blake_Binkley</a>, 
           <a href="/en-US/profiles/mattflaschen">mattflaschen</a>, 
           <a href="/en-US/profiles/berkerpeksag">berkerpeksag</a>, 
           <a href="/en-US/profiles/Sheppy">Sheppy</a>, 
           <a href="/en-US/profiles/wellington7">wellington7</a>, 
           <a href="/en-US/profiles/Nmaier">Nmaier</a>, 
           <a href="/en-US/profiles/Nickolay">Nickolay</a>, 
           <a href="/en-US/profiles/Johnjbarton">Johnjbarton</a>, 
           <a href="/en-US/profiles/andre.selm">andre.selm</a>, 
           <a href="/en-US/profiles/Morn">Morn</a>, 
           <a href="/en-US/profiles/user01">user01</a>, 
           <a href="/en-US/profiles/DaveG">DaveG</a>, 
           <a href="/en-US/profiles/Brettz9">Brettz9</a>, 
           <a href="/en-US/profiles/ericjung">ericjung</a>, 
           <a href="/en-US/profiles/Jorge.villalobos">Jorge.villalobos</a>, 
           <a href="/en-US/profiles/GG">GG</a>, 
           <a href="/en-US/profiles/Dietrich">Dietrich</a>, 
           <a href="/en-US/profiles/Sevenspade">Sevenspade</a>, 
           <a href="/en-US/profiles/MarkFinkle">MarkFinkle</a>, 
           <a href="/en-US/profiles/WPWoodJr">WPWoodJr</a>, 
           <a href="/en-US/profiles/Varmaa">Varmaa</a>, 
           <a href="/en-US/profiles/Mgjbot">Mgjbot</a>, 
           <a href="/en-US/profiles/drry">drry</a>, 
           <a href="/en-US/profiles/MykMelez">MykMelez</a>, 
           <a href="/en-US/profiles/Gomita">Gomita</a> 
          </div> 
          <div class="contributors-sub"> 
           <i aria-hidden="true" class="icon-clock-o icon-fw"></i>&nbsp;
           <strong>Last updated by:</strong> 
           <a href="/en-US/profiles/wbamberg">wbamberg</a>, 
           <time datetime="2015-12-23T10:14:38-08:00">Dec 23, 2015, 10:14:38 AM</time> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
    <!-- ends "main-content" --> 
    <div class="newsletter-box"> 
     <div class="newsletter"> 
      <form id="newsletterForm" class="newsletter-form nodisable" name="newsletter-form" action="https://www.mozilla.org/en-US/newsletter/" method="post"> 
       <div class="newsletter-head"> 
        <h2 class="newsletter-teaser">Learn the best of web development</h2> 
        <p class="newsletter-description">Get the latest and greatest from MDN delivered straight to your inbox.</p> 
       </div> 
       <div class="newsletter-fields"> 
        <input type="hidden" id="fmt" name="fmt" value="H"> 
        <input type="hidden" id="newsletterNewslettersInput" name="newsletters" value="app-dev"> 
        <div id="newsletterErrors" class="newsletter-errors"></div> 
        <div id="newsletterEmail" class="form-group newsletter-group-email"> 
         <label for="newsletterEmailInput" class="form-label offscreen">E-mail</label> 
         <input type="email" id="newsletterEmailInput" name="email" class="form-input newsletter-input-email" required placeholder="you@example.com" size="30"> 
        </div> 
        <div id="newsletterPrivacy" class="form-group form-group-agree newsletter-group-privacy hidden"> 
         <input type="checkbox" id="newsletterPrivacyInput" name="privacy" required> 
         <label for="newsletterPrivacyInput"> I'm okay with Mozilla handling my info as explained in this <a href="https://www.mozilla.org/privacy/">Privacy Policy</a>. </label> 
        </div> 
        <div id="newsletterSubmit" class="newsletter-group-submit"> 
         <button id="newsletter-submit" type="submit" class="button neutral newsletter-submit">Sign up now</button> 
        </div> 
       </div> 
      </form> 
      <div id="newsletterThanks" class="newsletter-thanks hidden"> 
       <h2>Thanks! Please check your inbox to confirm your subscription.</h2> 
       <p>If you havent previously confirmed a subscription to a Mozilla-related newsletter you may have to do so. Please check your inbox or your spam filter for an email from us. </p> 
      </div> 
      <button id="newsletterHide" type="button" class="only-icon newsletter-hide hidden"><span>Hide Newsletter Sign-up</span><i aria-hidden="true" class="icon-times"></i></button> 
     </div> 
    </div> 
    <menu type="context" id="edit-history-menu"> 
     <menuitem data-action="/en-US/docs/Mozilla/JavaScript_code_modules/Using$edit" label="Edit page"> 
     <menuitem data-action="/en-US/docs/Mozilla/JavaScript_code_modules/Using$history" label="View page history"> 
    </menu> 
   </div> 
  </main> 
  <!-- redesign notices --> 
  <!-- Footer --> 
  <footer id="nav-footer" class="nav-footer"> 
   <div class="center"> 
    <a href="/en-US/" class="nav-footer-logo">MDN Web Docs</a> 
    <div class="footer-group footer-group-mdn"> 
     <h2 class="footer-title">MDN</h2> 
     <ul class="footer-list"> 
      <li><a href="/en-US/docs/Web">Web Technologies</a></li> 
      <li><a href="/en-US/docs/Learn">Learn Web Development</a></li> 
      <li><a href="/docs/MDN/About">About MDN</a></li> 
      <li><a href="/en-US/docs/MDN/Feedback">Feedback</a></li> 
      <li class="footer-social"><a href="https://twitter.com/mozdevnet" class="only-icon"><i aria-hidden="true" class="icon-twitter"></i> <span>Twitter</span></a></li> 
      <li class="footer-social"><a href="https://github.com/mdn/" class="only-icon"><i aria-hidden="true" class="icon-github"></i> <span>GitHub</span></a></li> 
     </ul> 
    </div> 
    <a href="https://mozilla.org" class="nav-footer-mozilla">Mozilla</a> 
    <div class="footer-group footer-group-mozilla"> 
     <h2 class="footer-title">Mozilla</h2> 
     <ul class="footer-list"> 
      <li><a href="https://www.mozilla.org/about/">About</a></li> 
      <li><a href="https://www.mozilla.org/contact/">Contact Us</a></li> 
      <li><a href="https://donate.mozilla.org/?utm_source=developer.mozilla.org&amp;utm_medium=referral&amp;utm_content=footer">Donate</a></li> 
      <li><a href="https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&amp;utm_campaign=footer&amp;utm_medium=referral">Firefox</a></li> 
      <li class="footer-social"><a href="https://twitter.com/mozilla" class="only-icon"><i aria-hidden="true" class="icon-twitter"></i> <span>Twitter</span></a></li> 
      <li class="footer-social"><a href="https://www.facebook.com/mozilla" class="only-icon"><i aria-hidden="true" class="icon-facebook"></i> <span>Facebook</span></a></li> 
      <li class="footer-social"><a href="https://www.instagram.com/mozillagram/" class="only-icon"><i aria-hidden="true" class="icon-instagram"></i> <span>Instagram</span></a></li> 
     </ul> 
    </div> 
    <form class="languages go" method="get" action="/en-US/docs/Web"> 
     <label for="language">Other languages:</label> 
     <select id="language" class="wiki-l10n" name="next" dir="ltr"> <option title="English (US)" value="/en-US/docs/Mozilla/JavaScript_code_modules/Using" selected> English (US) (en-US) </option> <option title="Catalan" value="/ca/docs/Fent_servir_m%C3%B2duls_de_codi_Javascript"> Català (ca) </option> <option title="German" value="/de/docs/Mozilla/JavaScript_code_modules/Deutsch"> Deutsch (de) </option> <option title="Spanish" value="/es/docs/JavaScript_code_modules/Using"> Español (es) </option> <option title="French" value="/fr/docs/Utilisation_de_modules_de_code_JavaScript"> Français (fr) </option> <option title="Japanese" value="/ja/docs/Mozilla/JavaScript_code_modules/Using"> ??? (ja) </option> <option title="Polish" value="/pl/docs/Mozilla/JavaScript_code_modules/Zastosowanie_modu%C5%82%C3%B3w_JavaScript"> Polski (pl) </option> <option title="Chinese (Simplified)" value="/zh-CN/docs/Mozilla/JavaScript_code_modules/Using"> ?? (??) (zh-CN) </option> </select> 
     <noscript>
      <button type="submit">Go</button>
     </noscript> 
    </form> 
    <ul class="footer-tos"> 
     <li><a href="https://www.mozilla.org/about/legal/terms/mozilla">Terms</a></li> 
     <li><a href="https://www.mozilla.org/privacy/websites/">Privacy</a></li> 
     <li><a href="https://www.mozilla.org/privacy/websites/#cookies">Cookies</a></li> 
    </ul> 
    <div class="contentinfo"> 
     <p>© 2005-2017 Mozilla and individual contributors.</p> 
     <p>Content is available under <a href="/en-US/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p> 
    </div> 
   </div> 
  </footer> 
  <!-- site js --> 
  <!--[if lte IE 8]><script type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/selectivizr.091e18cf669b.js" charset="utf-8"></script><![endif]--> 
  <script type="text/javascript" src="https://developer.cdn.mozilla.net/static/jsi18n/en-us/javascript.b28203373cc1.js"></script> 
  <script type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/main.0a73d7502ddf.js" charset="utf-8"></script> 
  <script>
        if(window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
      </script> 
  <script async type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/wiki-skinny.2187d581918b.js" charset="utf-8"></script> 
  <script type="text/javascript">
        (function($) {
            $('#wikiArticle').children('h2[id]').each(function() {
                var id = $(this).attr('id');
                var href = '/en-US/docs/Mozilla/JavaScript_code_modules/Using$edit#' + id;

                $('<a>').attr({
                    href: href,
                    'class': 'button section-edit only-icon',
                    'rel': 'nofollow, noindex'
                })
                .append($('<i aria-hidden="true" class="icon-pencil"></i>'))
                .append($('<span>'))
                .find('span')
                .text(gettext('Edit'))
                .end()
                .on('click', function(e) {
                    e.preventDefault();

                    mdn.analytics.trackEvent({
                        category: 'Section Edit',
                        action: id
                    }, function() {
                        window.location = href;
                    });
                })
                .appendTo(this);
            });
        })(jQuery);
    </script> 
  <script async type="text/javascript" src="https://developer.cdn.mozilla.net/static/build/js/newsletter.7cd3274169f2.js" charset="utf-8"></script>  
 </body>
</html>