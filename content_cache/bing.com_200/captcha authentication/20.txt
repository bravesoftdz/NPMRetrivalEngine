<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
 <head>
  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17618439-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>    
  <title>Spring: Spring Security + reCaptcha</title> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <meta name="robots" content="index,follow"> 
  <link rel="canonical" href="http://marioosh.net/blog/?p=1087"> 
  <link rel="stylesheet" type="text/css" href="http://marioosh.net/blog/wp-content/themes/thematic/style.css"> 
  <link rel="pingback" href="http://marioosh.net/blog/xmlrpc.php"> 
  <link rel="alternate" type="application/rss+xml" title="marioosh.net » Feed" href="http://marioosh.net/blog/?feed=rss2"> 
  <link rel="alternate" type="application/rss+xml" title="marioosh.net » Comments Feed" href="http://marioosh.net/blog/?feed=comments-rss2"> 
  <link rel="alternate" type="application/rss+xml" title="marioosh.net » Spring: Spring Security + reCaptcha Comments Feed" href="http://marioosh.net/blog/?feed=rss2&amp;p=1087"> 
  <script type="text/javascript" src="http://marioosh.net/blog/wp-includes/js/jquery/jquery.js?ver=1.4.2"></script> 
  <script type="text/javascript" src="http://marioosh.net/blog/wp-content/plugins/si-contact-form/captcha-secureimage/ctf_captcha.js?ver=3.0"></script> 
  <script type="text/javascript" src="http://marioosh.net/blog/wp-includes/js/comment-reply.js?ver=20090102"></script> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://marioosh.net/blog/xmlrpc.php?rsd"> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://marioosh.net/blog/wp-includes/wlwmanifest.xml"> 
  <link rel="index" title="marioosh.net" href="http://marioosh.net/blog"> 
  <link rel="start" title="GIMP: Zaokr?glone ramki + cie?, przepis nr 1" href="http://marioosh.net/blog/?p=6"> 
  <link rel="prev" title="Vim: Usuwanie ca?ej zawarto?ci pliku" href="http://marioosh.net/blog/?p=1083"> 
  <link rel="next" title="Testowanie po??czenia SSL" href="http://marioosh.net/blog/?p=1098"> 
  <link rel="canonical" href="http://marioosh.net/blog/?p=1087"> 
  <link rel="shortlink" href="http://wp.me/p1iUa2-hx"> 
  <!-- Using Simple Yearly Archive Plugin v1.1.31 | http://www.schloebe.de/wordpress/simple-yearly-archive-plugin/ // --> 
  <link rel="stylesheet" href="http://marioosh.net/blog/wp-content/plugins/wp-syntax/wp-syntax.css" type="text/css" media="screen"> 
  <script type="text/javascript" src="http://marioosh.net/blog/wp-content/themes/thematic/library/scripts/hoverIntent.js"></script> 
  <script type="text/javascript" src="http://marioosh.net/blog/wp-content/themes/thematic/library/scripts/superfish.js"></script> 
  <script type="text/javascript" src="http://marioosh.net/blog/wp-content/themes/thematic/library/scripts/supersubs.js"></script> 
  <script type="text/javascript" src="http://marioosh.net/blog/wp-content/themes/thematic/library/scripts/thematic-dropdowns.js"></script> 
  <script type="text/javascript">
		/*<![CDATA[*/
		jQuery.noConflict();
		/*]]>*/
	</script> 
 </head> 
 <body class="single single-post postid-1087 windows chrome ch"> 
  <div id="wrapper" class="hfeed"> 
   <div id="header"> 
    <div id="branding"> 
     <div id="blog-title">
      <span><a href="http://marioosh.net/blog/" title="marioosh.net" rel="home">marioosh.net</a></span>
     </div> 
     <div id="blog-description">
      mini blog / notes
     </div> 
    </div>
    <!--  #branding --> 
    <div id="access"> 
     <div class="skip-link">
      <a href="#content" title="Skip navigation to the content">Skip to content</a>
     </div>
     <!-- .skip-link --> 
     <div class="menu">
      <ul class="sf-menu">
       <li class="page_item page-item-2"><a href="http://marioosh.net/blog/?page_id=2" title="About">About</a></li>
       <li class="page_item page-item-1111"><a href="http://marioosh.net/blog/?page_id=1111" title="Contact">Contact</a></li>
       <li class="page_item page-item-1119"><a href="http://marioosh.net/blog/?page_id=1119" title="Sitemap">Sitemap</a></li>
       <li class="page_item page-item-1126"><a href="http://marioosh.net/blog/?page_id=1126" title="Archives">Archives</a></li>
      </ul>
     </div> 
    </div>
    <!-- #access --> 
   </div>
   <!-- #header--> 
   <div id="main"> 
    <div id="container"> 
     <div id="content"> 
      <div id="nav-above" class="navigation"> 
       <div class="nav-previous">
        <a href="http://marioosh.net/blog/?p=1083" rel="prev"><span class="meta-nav">«</span> Vim: Usuwanie ca?ej zawarto?ci pliku</a>
       </div> 
       <div class="nav-next">
        <a href="http://marioosh.net/blog/?p=1098" rel="next">Testowanie po??czenia SSL <span class="meta-nav">»</span></a>
       </div> 
      </div> 
      <div id="post-1087" class="post-1087 post type-post hentry category-java-2 category-spring tag-captcha tag-jsf tag-spring">
       <h1 class="entry-title">Spring: Spring Security + reCaptcha</h1> 
       <div class="entry-meta">
        <span class="meta-prep meta-prep-author">By </span>
        <span class="author vcard"><a class="url fn n" href="http://marioosh.net/blog/?author=1" title="View all posts by admin">admin</a></span>
        <span class="meta-sep meta-sep-entry-date"> | </span>
        <span class="meta-prep meta-prep-entry-date">Published: </span>
        <span class="entry-date"><abbr class="published" title="2011-01-14T13:41:25+0000">January 14, 2011</abbr></span>
       </div>
       <!-- .entry-meta --> 
       <div class="entry-content"> 
        <p>Mo?e niezbyt eleganckie rozwi?zanie, ale dzia?a. Przedstawione rozwi?zanie jest oparte na Spring Web Flow + JSF 2.0. </p> 
        <p>Na wejsciu do strony logowania generowany jest kod html reCaptcha. Tutaj fragment konfiguracji flow’a:</p> 
        <div class="wp_syntax">
         <table>
          <tbody>
           <tr>
            <td class="line_numbers"><pre>1
2
3
4
5
6
7
</pre></td>
            <td class="code"><pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;view-state</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"login"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;on-render<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
		<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;evaluate</span> <span style="color: #000066;">expression</span>=<span style="color: #ff0000;">"reCaptcha.createRecaptchaHtml(null,null)"</span> <span style="color: #000066;">result</span>=<span style="color: #ff0000;">"flowScope.captcha"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/on-render<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;transition</span> <span style="color: #000066;">on</span>=<span style="color: #ff0000;">"login"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;transition</span> <span style="color: #000066;">on</span>=<span style="color: #ff0000;">"resetpass"</span> <span style="color: #000066;">to</span>=<span style="color: #ff0000;">"resetpassword"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/view-state<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre></td>
           </tr>
          </tbody>
         </table>
        </div> 
        <p>Tworzymy beana springowego dla reCaptcha’y:</p> 
        <div class="wp_syntax">
         <table>
          <tbody>
           <tr>
            <td class="line_numbers"><pre>1
2
3
4
5
6
7
</pre></td>
            <td class="code"><pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;bean</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"reCaptcha"</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"net.tanesha.recaptcha.ReCaptchaImpl"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;property</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"privateKey"</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">"PRIVATE_KEY"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;property</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"publicKey"</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">"PUBLIC_KEY"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;property</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"includeNoscript"</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">"false"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
        <span style="color: #009900;">&lt;-- po ssl --<span style="color: #000000; font-weight: bold;">&gt;</span></span>
        <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;property</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"recaptchaServer"</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">"https://api-secure.recaptcha.net"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/bean<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre></td>
           </tr>
          </tbody>
         </table>
        </div> 
        <p>Formularz logowania – login.xhtml:</p> 
        <div class="wp_syntax">
         <table>
          <tbody>
           <tr>
            <td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre></td>
            <td class="code"><pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;form</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"jf"</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"f"</span> <span style="color: #000066;">action</span>=<span style="color: #ff0000;">"#{request.contextPath}/j_spring_security_check"</span> <span style="color: #000066;">method</span>=<span style="color: #ff0000;">"post"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;table<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
		<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tbody<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tr<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td</span> <span style="color: #000066;">colspan</span>=<span style="color: #ff0000;">"3"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>Logowanie	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tr<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>				
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tr<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"fLabel"</span> <span style="color: #000066;">width</span>=<span style="color: #ff0000;">"100"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
					<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;h:outputText</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">"Login"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
					<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;input</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">"text"</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"j_username"</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">""</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"logininput"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td<span style="color: #000000; font-weight: bold;">&gt;</span></span><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tr<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tr<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"fLabel"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
					<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;h:outputText</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">"Password"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
					<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;input</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">"password"</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"j_password"</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"logininput"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tr<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tr<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"fLabel"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>Captcha<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"captcha"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
					<span style="color: #808080; font-style: italic;">&lt;!-- blackgloss theme --&gt;</span>
					<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;script</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">"text/javascript"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span> var RecaptchaOptions = {theme : 'blackglass'}; <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/script<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
					<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;h:outputText</span> <span style="color: #000066;">escape</span>=<span style="color: #ff0000;">"false"</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">"#{captcha}"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td<span style="color: #000000; font-weight: bold;">&gt;</span></span><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tr<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>				
&nbsp;
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;tr<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"fLabel"</span><span style="color: #000000; font-weight: bold;">&gt;</span><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td</span> <span style="color: #000066;">colspan</span>=<span style="color: #ff0000;">"2"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
					<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;a</span> <span style="color: #000066;">href</span>=<span style="color: #ff0000;">"#"</span> <span style="color: #000066;">onclick</span>=<span style="color: #ff0000;">"jQuery('#jf').submit()"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>Login<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/a<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;td<span style="color: #000000; font-weight: bold;">&gt;</span></span><span style="color: #000000; font-weight: bold;">&lt;/td<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tr<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>				
&nbsp;
		<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/tbody<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/table<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/form<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre></td>
           </tr>
          </tbody>
         </table>
        </div> 
        <p>Spring security config. Tutaj w?a?ciwie najwa?niejsze, czyli dodanie dodatkowego filtra “loginFilter”, w którym b?dzie sprawdzana poprawno?? wprowadzonego tekstu z captcha’y.</p> 
        <div class="wp_syntax">
         <table>
          <tbody>
           <tr>
            <td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td>
            <td class="code"><pre class="xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;security:http</span> <span style="color: #000066;">auto-config</span>=<span style="color: #ff0000;">"true"</span> <span style="color: #000066;">access-denied-page</span>=<span style="color: #ff0000;">"/app/login?access_denied=1"</span> <span style="color: #000066;">use-expressions</span>=<span style="color: #ff0000;">"true"</span> <span style="color: #000000; font-weight: bold;">&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;security:form-login</span> <span style="color: #000066;">authentication-success-handler-ref</span>=<span style="color: #ff0000;">"myAuthenticationSuccessHandler"</span>  <span style="color: #000066;">login-page</span>=<span style="color: #ff0000;">"/app/login?login=1"</span> <span style="color: #000066;">authentication-failure-url</span>=<span style="color: #ff0000;">"/app/login?login_error=1"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;security:logout</span> <span style="color: #000066;">logout-success-url</span>=<span style="color: #ff0000;">"/app/login"</span> <span style="color: #000066;">logout-url</span>=<span style="color: #ff0000;">"/logout=1"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
&nbsp;
	<span style="color: #808080; font-style: italic;">&lt;!-- check captcha --&gt;</span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;security:custom-filter</span> <span style="color: #000066;">before</span>=<span style="color: #ff0000;">"FORM_LOGIN_FILTER"</span> <span style="color: #000066;">ref</span>=<span style="color: #ff0000;">"loginFilter"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/security:http<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;bean</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"loginFilter"</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"utils.LoginFilter"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
		<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;property</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"privateKey"</span> <span style="color: #000066;">value</span>=<span style="color: #ff0000;">"PUT HERE YOUR RECAPTCHA PRIVATE KEY"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>
		<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;property</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"userDAO"</span> <span style="color: #000066;">ref</span>=<span style="color: #ff0000;">"userDAO"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/bean<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;bean</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"authenticationManager"</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"org.springframework.security.authentication.ProviderManager"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;property</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"providers"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
		<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;list<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;bean</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"org.springframework.security.authentication.dao.DaoAuthenticationProvider"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
				<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;property</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">"userDetailsService"</span> <span style="color: #000066;">ref</span>=<span style="color: #ff0000;">"userDAO"</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span>
			<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/bean<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
		<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/list<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/property<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/bean<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
&nbsp;
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;security:authentication-manager<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;security:authentication-provider</span> <span style="color: #000066;">user-service-ref</span>=<span style="color: #ff0000;">"userDAO"</span><span style="color: #000000; font-weight: bold;">&gt;</span></span>
		<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;security:password-encoder</span> <span style="color: #000066;">hash</span>=<span style="color: #ff0000;">"sha-256"</span> <span style="color: #000066;">base64</span>=<span style="color: #ff0000;">"true"</span> <span style="color: #000000; font-weight: bold;">/&gt;</span></span>		
	<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/security:authentication-provider<span style="color: #000000; font-weight: bold;">&gt;</span></span></span>
<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/security:authentication-manager<span style="color: #000000; font-weight: bold;">&gt;</span></span></span></pre></td>
           </tr>
          </tbody>
         </table>
        </div> 
        <p>LoginFiler.java:</p> 
        <div class="wp_syntax">
         <table>
          <tbody>
           <tr>
            <td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
</pre></td>
            <td class="code"><pre class="java" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">package</span> <span style="color: #006699;">utils</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">java.io.IOException</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">javax.servlet.Filter</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">javax.servlet.FilterChain</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">javax.servlet.FilterConfig</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">javax.servlet.ServletException</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">javax.servlet.ServletRequest</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">javax.servlet.ServletResponse</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">model.dao.UserDAO</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">net.tanesha.recaptcha.ReCaptchaImpl</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">net.tanesha.recaptcha.ReCaptchaResponse</span><span style="color: #339933;">;</span>
<span style="color: #000000; font-weight: bold;">import</span> <span style="color: #006699;">org.apache.log4j.Logger</span><span style="color: #339933;">;</span>
&nbsp;
<span style="color: #008000; font-style: italic; font-weight: bold;">/**
 * reCaptcha Filter
 */</span>
<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">class</span> LoginFilter <span style="color: #000000; font-weight: bold;">implements</span> Filter <span style="color: #009900;">{</span>
&nbsp;
	<span style="color: #000000; font-weight: bold;">transient</span> <span style="color: #000000; font-weight: bold;">private</span> Logger log <span style="color: #339933;">=</span> Logger.<span style="color: #006633;">getLogger</span><span style="color: #009900;">(</span>getClass<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
	<span style="color: #000000; font-weight: bold;">private</span> <span style="color: #003399;">String</span> privateKey<span style="color: #339933;">;</span>
	<span style="color: #000000; font-weight: bold;">private</span> UserDAO userDAO<span style="color: #339933;">;</span>
&nbsp;
	<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">void</span> setPrivateKey<span style="color: #009900;">(</span><span style="color: #003399;">String</span> privateKey<span style="color: #009900;">)</span> <span style="color: #009900;">{</span>
		<span style="color: #000000; font-weight: bold;">this</span>.<span style="color: #006633;">privateKey</span> <span style="color: #339933;">=</span> privateKey<span style="color: #339933;">;</span>
	<span style="color: #009900;">}</span>
	<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">void</span> setUserDAO<span style="color: #009900;">(</span>UserDAO userDAO<span style="color: #009900;">)</span> <span style="color: #009900;">{</span>
		<span style="color: #000000; font-weight: bold;">this</span>.<span style="color: #006633;">userDAO</span> <span style="color: #339933;">=</span> userDAO<span style="color: #339933;">;</span>
	<span style="color: #009900;">}</span>
&nbsp;
	@Override
	<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">void</span> destroy<span style="color: #009900;">(</span><span style="color: #009900;">)</span> <span style="color: #009900;">{</span><span style="color: #009900;">}</span>
&nbsp;
	@Override
	<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">void</span> init<span style="color: #009900;">(</span>FilterConfig arg0<span style="color: #009900;">)</span> <span style="color: #000000; font-weight: bold;">throws</span> ServletException <span style="color: #009900;">{</span><span style="color: #009900;">}</span>
&nbsp;
	@Override
	<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">void</span> doFilter<span style="color: #009900;">(</span>ServletRequest req, ServletResponse resp,
			FilterChain chain<span style="color: #009900;">)</span> <span style="color: #000000; font-weight: bold;">throws</span> <span style="color: #003399;">IOException</span>, ServletException <span style="color: #009900;">{</span>
&nbsp;
		<span style="color: #003399;">String</span> response <span style="color: #339933;">=</span> req.<span style="color: #006633;">getParameter</span><span style="color: #009900;">(</span><span style="color: #0000ff;">"recaptcha_response_field"</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
		<span style="color: #003399;">String</span> challenge <span style="color: #339933;">=</span> req.<span style="color: #006633;">getParameter</span><span style="color: #009900;">(</span><span style="color: #0000ff;">"recaptcha_challenge_field"</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
		<span style="color: #000000; font-weight: bold;">if</span> <span style="color: #009900;">(</span>challenge <span style="color: #339933;">!=</span> <span style="color: #000066; font-weight: bold;">null</span><span style="color: #009900;">)</span> <span style="color: #009900;">{</span>
			<span style="color: #003399;">String</span> remoteAddr <span style="color: #339933;">=</span> req.<span style="color: #006633;">getRemoteAddr</span><span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
			ReCaptchaImpl reCaptcha <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> ReCaptchaImpl<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
			reCaptcha.<span style="color: #006633;">setPrivateKey</span><span style="color: #009900;">(</span>privateKey<span style="color: #009900;">)</span><span style="color: #339933;">;</span>
			ReCaptchaResponse reCaptchaResponse <span style="color: #339933;">=</span> reCaptcha.<span style="color: #006633;">checkAnswer</span><span style="color: #009900;">(</span>remoteAddr, challenge, response<span style="color: #009900;">)</span><span style="color: #339933;">;</span>
&nbsp;
			<span style="color: #000066; font-weight: bold;">boolean</span> captchaOK <span style="color: #339933;">=</span> reCaptchaResponse.<span style="color: #006633;">isValid</span><span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
			userDAO.<span style="color: #006633;">setCaptchaOK</span><span style="color: #009900;">(</span>captchaOK<span style="color: #009900;">)</span><span style="color: #339933;">;</span>
			<span style="color: #000000; font-weight: bold;">if</span> <span style="color: #009900;">(</span><span style="color: #339933;">!</span>captchaOK<span style="color: #009900;">)</span> <span style="color: #009900;">{</span>
				log.<span style="color: #006633;">debug</span><span style="color: #009900;">(</span><span style="color: #0000ff;">"CAPTCHA *NOT* OK"</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
			<span style="color: #009900;">}</span> <span style="color: #000000; font-weight: bold;">else</span> <span style="color: #009900;">{</span>
				log.<span style="color: #006633;">debug</span><span style="color: #009900;">(</span><span style="color: #0000ff;">"CAPTCHA OK"</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
			<span style="color: #009900;">}</span>
		<span style="color: #009900;">}</span>
&nbsp;
		chain.<span style="color: #006633;">doFilter</span><span style="color: #009900;">(</span>req, resp<span style="color: #009900;">)</span><span style="color: #339933;">;</span>
	<span style="color: #009900;">}</span>
&nbsp;
<span style="color: #009900;">}</span></pre></td>
           </tr>
          </tbody>
         </table>
        </div> 
        <p>Fragment UserDAOImpl.java, gdzie sprawdzana jest captcha i przerywana jest procedura logowania, je?li kod z obrazka si? nie zgadza:</p> 
        <div class="wp_syntax">
         <table>
          <tbody>
           <tr>
            <td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td>
            <td class="code"><pre class="java" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">class</span> UserDAOImpl <span style="color: #000000; font-weight: bold;">implements</span> UserDAO, UserDetailsService <span style="color: #009900;">{</span>
&nbsp;
	<span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">void</span> setCaptchaOK<span style="color: #009900;">(</span><span style="color: #000066; font-weight: bold;">boolean</span> captchaOK<span style="color: #009900;">)</span> <span style="color: #009900;">{</span>
		<span style="color: #000000; font-weight: bold;">this</span>.<span style="color: #006633;">captchaOK</span> <span style="color: #339933;">=</span> captchaOK<span style="color: #339933;">;</span>
	<span style="color: #009900;">}</span>
&nbsp;
	<span style="color: #008000; font-style: italic; font-weight: bold;">/**
	 * Spring Security
	 */</span>
	@Override
	<span style="color: #000000; font-weight: bold;">public</span> UserDetails loadUserByUsername<span style="color: #009900;">(</span><span style="color: #003399;">String</span> login<span style="color: #009900;">)</span>
			<span style="color: #000000; font-weight: bold;">throws</span> UsernameNotFoundException, DataAccessException <span style="color: #009900;">{</span>
&nbsp;
		<span style="color: #666666; font-style: italic;">// check captcha</span>
		<span style="color: #000000; font-weight: bold;">if</span><span style="color: #009900;">(</span><span style="color: #339933;">!</span>captchaOK<span style="color: #009900;">)</span> <span style="color: #009900;">{</span>
			<span style="color: #000000; font-weight: bold;">throw</span> <span style="color: #000000; font-weight: bold;">new</span> UsernameNotFoundException<span style="color: #009900;">(</span><span style="color: #0000ff;">"Invalid captcha"</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span>
		<span style="color: #009900;">}</span>
&nbsp;
		<span style="color: #666666; font-style: italic;">// ... </span>
&nbsp;
	<span style="color: #009900;">}</span>
<span style="color: #009900;">}</span></pre></td>
           </tr>
          </tbody>
         </table>
        </div> 
       </div>
       <!-- .entry-content --> 
       <div class="entry-utility">
        <span class="cat-links">This entry was posted in <a href="http://marioosh.net/blog/?cat=53" title="View all posts in Java" rel="category">Java</a>, <a href="http://marioosh.net/blog/?cat=97" title="View all posts in Spring" rel="category">Spring</a></span>
        <span class="tag-links"> and tagged <a href="http://marioosh.net/blog/?tag=captcha" rel="tag">captcha</a>, <a href="http://marioosh.net/blog/?tag=jsf" rel="tag">JSF</a>, <a href="http://marioosh.net/blog/?tag=spring" rel="tag">Spring</a></span>. Bookmark the 
        <a href="http://marioosh.net/blog/?p=1087" title="Permalink to Spring: Spring Security + reCaptcha">permalink</a>. 
        <a class="comment-link" href="#respond" title="Post a comment">Post a comment</a> or leave a trackback: 
        <a class="trackback-link" href="http://marioosh.net/blog/wp-trackback.php?p=1087" title="Trackback URL for your post" rel="trackback">Trackback URL</a>.
       </div>
       <!-- .entry-utility --> 
      </div>
      <!-- #post --> 
      <div id="nav-below" class="navigation"> 
       <div class="nav-previous">
        <a href="http://marioosh.net/blog/?p=1083" rel="prev"><span class="meta-nav">«</span> Vim: Usuwanie ca?ej zawarto?ci pliku</a>
       </div> 
       <div class="nav-next">
        <a href="http://marioosh.net/blog/?p=1098" rel="next">Testowanie po??czenia SSL <span class="meta-nav">»</span></a>
       </div> 
      </div> 
      <div id="comments"> 
       <div id="respond"> 
        <h3 id="reply-title">Post a Comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/?p=1087#respond" style="display:none;">Cancel reply</a></small></h3> 
        <form action="http://marioosh.net/blog/wp-comments-post.php" method="post" id="commentform"> 
         <p class="comment-notes">Your email is <em>never</em> published nor shared. Required fields are marked <span class="required">*</span></p> 
         <div id="form-section-author" class="form-section">
          <div class="form-label">
           <label for="author">Name</label> 
           <span class="required">*</span>
          </div>
          <div class="form-input">
           <input id="author" name="author" type="text" value="" size="30" maxlength="20" tabindex="3" aria-required="true">
          </div>
         </div>
         <!-- #form-section-author .form-section --> 
         <div id="form-section-email" class="form-section">
          <div class="form-label">
           <label for="email">Email</label> 
           <span class="required">*</span>
          </div>
          <div class="form-input">
           <input id="email" name="email" type="text" value="" size="30" maxlength="50" tabindex="4" aria-required="true">
          </div>
         </div>
         <!-- #form-section-email .form-section --> 
         <div id="form-section-url" class="form-section">
          <div class="form-label">
           <label for="url">Website</label>
          </div>
          <div class="form-input">
           <input id="url" name="url" type="text" value="" size="30" maxlength="50" tabindex="5">
          </div>
         </div>
         <!-- #form-section-url .form-section --> 
         <div id="form-section-comment" class="form-section">
          <div class="form-label">
           <label for="comment">Comment</label>
          </div>
          <div class="form-textarea">
           <textarea id="comment" name="comment" cols="45" rows="8" tabindex="6" aria-required="true"></textarea>
          </div>
         </div>
         <!-- #form-section-comment .form-section --> 
         <div id="form-allowed-tags" class="form-section">
          <p><span>You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:</span> <code>&lt;a href="" title=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; &lt;b&gt; &lt;blockquote cite=""&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=""&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=""&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre lang="" line="" escaped=""&gt; </code></p>
         </div> 
         <p class="form-submit"> <input name="submit" type="submit" id="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="1087" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"> </p> 
        </form> 
       </div>
       <!-- #respond --> 
      </div>
      <!-- #comments --> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #container --> 
    <div id="primary" class="aside main-aside"> 
     <ul class="xoxo"> 
      <li id="search-2" class="widgetcontainer widget_search"><h3 class="widgettitle"><label for="s">Search</label></h3> 
       <form id="searchform" method="get" action="http://marioosh.net/blog/"> 
        <div> 
         <input id="s" name="s" type="text" value="To search, type and hit enter" onfocus="if (this.value == 'To search, type and hit enter') {this.value = '';}" onblur="if (this.value == '') {this.value = 'To search, type and hit enter';}" size="32" tabindex="1"> 
         <input id="searchsubmit" name="searchsubmit" type="submit" value="Search" tabindex="2"> 
        </div> 
       </form></li>
      <li id="tag_cloud-3" class="widgetcontainer widget_tag_cloud"><h3 class="widgettitle">Tags</h3> 
       <div>
        <a href="http://marioosh.net/blog/?tag=htaccess" class="tag-link-58" title="1 topic" style="font-size: 8pt;">.htaccess</a> 
        <a href="http://marioosh.net/blog/?tag=apache-2" class="tag-link-37" title="1 topic" style="font-size: 8pt;">apache</a> 
        <a href="http://marioosh.net/blog/?tag=argparse" class="tag-link-95" title="2 topics" style="font-size: 11.230769230769pt;">argparse</a> 
        <a href="http://marioosh.net/blog/?tag=awk" class="tag-link-47" title="1 topic" style="font-size: 8pt;">awk</a> 
        <a href="http://marioosh.net/blog/?tag=bang" class="tag-link-81" title="1 topic" style="font-size: 8pt;">bang</a> 
        <a href="http://marioosh.net/blog/?tag=bash" class="tag-link-67" title="11 topics" style="font-size: 22pt;">bash</a> 
        <a href="http://marioosh.net/blog/?tag=bitchx" class="tag-link-61" title="1 topic" style="font-size: 8pt;">bitchx</a> 
        <a href="http://marioosh.net/blog/?tag=cdrw" class="tag-link-75" title="5 topics" style="font-size: 16.615384615385pt;">cdrw</a> 
        <a href="http://marioosh.net/blog/?tag=convert" class="tag-link-65" title="4 topics" style="font-size: 15.179487179487pt;">convert</a> 
        <a href="http://marioosh.net/blog/?tag=cups" class="tag-link-68" title="1 topic" style="font-size: 8pt;">cups</a> 
        <a href="http://marioosh.net/blog/?tag=debian" class="tag-link-54" title="8 topics" style="font-size: 19.666666666667pt;">debian</a> 
        <a href="http://marioosh.net/blog/?tag=exif" class="tag-link-56" title="1 topic" style="font-size: 8pt;">exif</a> 
        <a href="http://marioosh.net/blog/?tag=ftp" class="tag-link-76" title="2 topics" style="font-size: 11.230769230769pt;">ftp</a> 
        <a href="http://marioosh.net/blog/?tag=guitar" class="tag-link-73" title="1 topic" style="font-size: 8pt;">guitar</a> 
        <a href="http://marioosh.net/blog/?tag=httrack" class="tag-link-66" title="1 topic" style="font-size: 8pt;">httrack</a> 
        <a href="http://marioosh.net/blog/?tag=java" class="tag-link-44" title="5 topics" style="font-size: 16.615384615385pt;">java</a> 
        <a href="http://marioosh.net/blog/?tag=javascript" class="tag-link-42" title="1 topic" style="font-size: 8pt;">javascript</a> 
        <a href="http://marioosh.net/blog/?tag=jpegtran" class="tag-link-57" title="1 topic" style="font-size: 8pt;">jpegtran</a> 
        <a href="http://marioosh.net/blog/?tag=jquery-2" class="tag-link-39" title="1 topic" style="font-size: 8pt;">jquery</a> 
        <a href="http://marioosh.net/blog/?tag=jsf" class="tag-link-100" title="3 topics" style="font-size: 13.384615384615pt;">JSF</a> 
        <a href="http://marioosh.net/blog/?tag=kernel" class="tag-link-71" title="2 topics" style="font-size: 11.230769230769pt;">kernel</a> 
        <a href="http://marioosh.net/blog/?tag=knoppix" class="tag-link-79" title="1 topic" style="font-size: 8pt;">knoppix</a> 
        <a href="http://marioosh.net/blog/?tag=linux-2" class="tag-link-34" title="3 topics" style="font-size: 13.384615384615pt;">linux</a> 
        <a href="http://marioosh.net/blog/?tag=lirc" class="tag-link-69" title="1 topic" style="font-size: 8pt;">lirc</a> 
        <a href="http://marioosh.net/blog/?tag=maven" class="tag-link-101" title="3 topics" style="font-size: 13.384615384615pt;">maven</a> 
        <a href="http://marioosh.net/blog/?tag=mp3" class="tag-link-64" title="1 topic" style="font-size: 8pt;">mp3</a> 
        <a href="http://marioosh.net/blog/?tag=mysql" class="tag-link-19" title="1 topic" style="font-size: 8pt;">MySQL</a> 
        <a href="http://marioosh.net/blog/?tag=ntpdate" class="tag-link-78" title="1 topic" style="font-size: 8pt;">ntpdate</a> 
        <a href="http://marioosh.net/blog/?tag=rar" class="tag-link-82" title="1 topic" style="font-size: 8pt;">rar</a> 
        <a href="http://marioosh.net/blog/?tag=scp" class="tag-link-70" title="1 topic" style="font-size: 8pt;">scp</a> 
        <a href="http://marioosh.net/blog/?tag=sed" class="tag-link-46" title="2 topics" style="font-size: 11.230769230769pt;">sed</a> 
        <a href="http://marioosh.net/blog/?tag=shebang" class="tag-link-80" title="1 topic" style="font-size: 8pt;">shebang</a> 
        <a href="http://marioosh.net/blog/?tag=slrn" class="tag-link-55" title="1 topic" style="font-size: 8pt;">slrn</a> 
        <a href="http://marioosh.net/blog/?tag=spring" class="tag-link-97" title="3 topics" style="font-size: 13.384615384615pt;">Spring</a> 
        <a href="http://marioosh.net/blog/?tag=sql" class="tag-link-105" title="2 topics" style="font-size: 11.230769230769pt;">sql</a> 
        <a href="http://marioosh.net/blog/?tag=subtitles" class="tag-link-77" title="1 topic" style="font-size: 8pt;">subtitles</a> 
        <a href="http://marioosh.net/blog/?tag=tar" class="tag-link-72" title="3 topics" style="font-size: 13.384615384615pt;">tar</a> 
        <a href="http://marioosh.net/blog/?tag=tomcat" class="tag-link-74" title="3 topics" style="font-size: 13.384615384615pt;">tomcat</a> 
        <a href="http://marioosh.net/blog/?tag=transcode" class="tag-link-52" title="1 topic" style="font-size: 8pt;">transcode</a> 
        <a href="http://marioosh.net/blog/?tag=vim" class="tag-link-49" title="2 topics" style="font-size: 11.230769230769pt;">vim</a> 
        <a href="http://marioosh.net/blog/?tag=vsftpd" class="tag-link-83" title="1 topic" style="font-size: 8pt;">vsftpd</a> 
        <a href="http://marioosh.net/blog/?tag=vsftpd-conf" class="tag-link-84" title="1 topic" style="font-size: 8pt;">vsftpd.conf</a> 
        <a href="http://marioosh.net/blog/?tag=x11-2" class="tag-link-63" title="5 topics" style="font-size: 16.615384615385pt;">x11</a> 
        <a href="http://marioosh.net/blog/?tag=xine" class="tag-link-62" title="3 topics" style="font-size: 13.384615384615pt;">xine</a> 
        <a href="http://marioosh.net/blog/?tag=zip" class="tag-link-32" title="1 topic" style="font-size: 8pt;">zip</a>
       </div> </li>
      <li id="categories-2" class="widgetcontainer widget_categories"><h3 class="widgettitle">Categories</h3> 
       <ul> 
        <li class="cat-item cat-item-132"><a href="http://marioosh.net/blog/?cat=132" title="View all posts filed under Android">Android</a> (4) </li> 
        <li class="cat-item cat-item-6"><a href="http://marioosh.net/blog/?cat=6" title="View all posts filed under Apache">Apache</a> (3) </li> 
        <li class="cat-item cat-item-141"><a href="http://marioosh.net/blog/?cat=141" title="View all posts filed under async.js">async.js</a> (1) </li> 
        <li class="cat-item cat-item-108"><a href="http://marioosh.net/blog/?cat=108" title="View all posts filed under CSS">CSS</a> (2) </li> 
        <li class="cat-item cat-item-131"><a href="http://marioosh.net/blog/?cat=131" title="View all posts filed under d3.js">d3.js</a> (1) </li> 
        <li class="cat-item cat-item-127"><a href="http://marioosh.net/blog/?cat=127" title="View all posts filed under Eclipse">Eclipse</a> (1) </li> 
        <li class="cat-item cat-item-4"><a href="http://marioosh.net/blog/?cat=4" title="View all posts filed under GIMP">GIMP</a> (1) </li> 
        <li class="cat-item cat-item-122"><a href="http://marioosh.net/blog/?cat=122" title="View all posts filed under git">git</a> (3) </li> 
        <li class="cat-item cat-item-129"><a href="http://marioosh.net/blog/?cat=129" title="View all posts filed under github">github</a> (1) </li> 
        <li class="cat-item cat-item-13"><a href="http://marioosh.net/blog/?cat=13" title="View all posts filed under Grafika / foto">Grafika / foto</a> (1) </li> 
        <li class="cat-item cat-item-60"><a href="http://marioosh.net/blog/?cat=60" title="View all posts filed under HTML">HTML</a> (4) </li> 
        <li class="cat-item cat-item-53"><a href="http://marioosh.net/blog/?cat=53" title="View all posts filed under Java">Java</a> (26) </li> 
        <li class="cat-item cat-item-93"><a href="http://marioosh.net/blog/?cat=93" title="View all posts filed under JavaScript">JavaScript</a> (2) </li> 
        <li class="cat-item cat-item-102"><a href="http://marioosh.net/blog/?cat=102" title="View all posts filed under jetty">jetty</a> (2) </li> 
        <li class="cat-item cat-item-5"><a href="http://marioosh.net/blog/?cat=5" title="View all posts filed under jQuery">jQuery</a> (2) </li> 
        <li class="cat-item cat-item-59"><a href="http://marioosh.net/blog/?cat=59" title="View all posts filed under Linki">Linki</a> (8) </li> 
        <li class="cat-item cat-item-22"><a href="http://marioosh.net/blog/?cat=22" title="View all posts filed under Linux">Linux</a> (148) </li> 
        <li class="cat-item cat-item-38"><a href="http://marioosh.net/blog/?cat=38" title="View all posts filed under Linux shell">Linux shell</a> (31) </li> 
        <li class="cat-item cat-item-111"><a href="http://marioosh.net/blog/?cat=111" title="View all posts filed under Maven">Maven</a> (6) </li> 
        <li class="cat-item cat-item-19"><a href="http://marioosh.net/blog/?cat=19" title="View all posts filed under MySQL">MySQL</a> (11) </li> 
        <li class="cat-item cat-item-128"><a href="http://marioosh.net/blog/?cat=128" title="View all posts filed under node.js">node.js</a> (3) </li> 
        <li class="cat-item cat-item-130"><a href="http://marioosh.net/blog/?cat=130" title="View all posts filed under npm">npm</a> (1) </li> 
        <li class="cat-item cat-item-20"><a href="http://marioosh.net/blog/?cat=20" title="View all posts filed under OpenOffice">OpenOffice</a> (2) </li> 
        <li class="cat-item cat-item-21"><a href="http://marioosh.net/blog/?cat=21" title="View all posts filed under Perl">Perl</a> (1) </li> 
        <li class="cat-item cat-item-86"><a href="http://marioosh.net/blog/?cat=86" title="View all posts filed under PHP">PHP</a> (3) </li> 
        <li class="cat-item cat-item-143"><a href="http://marioosh.net/blog/?cat=143" title="View all posts filed under plink">plink</a> (1) </li> 
        <li class="cat-item cat-item-23"><a href="http://marioosh.net/blog/?cat=23" title="View all posts filed under PostgreSQL">PostgreSQL</a> (7) </li> 
        <li class="cat-item cat-item-88"><a href="http://marioosh.net/blog/?cat=88" title="View all posts filed under Python">Python</a> (3) </li> 
        <li class="cat-item cat-item-140"><a href="http://marioosh.net/blog/?cat=140" title="View all posts filed under Retrofit">Retrofit</a> (1) </li> 
        <li class="cat-item cat-item-96"><a href="http://marioosh.net/blog/?cat=96" title="View all posts filed under Richfaces">Richfaces</a> (1) </li> 
        <li class="cat-item cat-item-26"><a href="http://marioosh.net/blog/?cat=26" title="View all posts filed under Ró?ne">Ró?ne</a> (5) </li> 
        <li class="cat-item cat-item-139"><a href="http://marioosh.net/blog/?cat=139" title="View all posts filed under RxJava">RxJava</a> (3) </li> 
        <li class="cat-item cat-item-97"><a href="http://marioosh.net/blog/?cat=97" title="View all posts filed under Spring">Spring</a> (6) </li> 
        <li class="cat-item cat-item-119"><a href="http://marioosh.net/blog/?cat=119" title="View all posts filed under SQL Server">SQL Server</a> (1) </li> 
        <li class="cat-item cat-item-142"><a href="http://marioosh.net/blog/?cat=142" title="View all posts filed under ssh">ssh</a> (1) </li> 
        <li class="cat-item cat-item-134"><a href="http://marioosh.net/blog/?cat=134" title="View all posts filed under SSL">SSL</a> (1) </li> 
        <li class="cat-item cat-item-115"><a href="http://marioosh.net/blog/?cat=115" title="View all posts filed under Subversion">Subversion</a> (2) </li> 
        <li class="cat-item cat-item-114"><a href="http://marioosh.net/blog/?cat=114" title="View all posts filed under SVN">SVN</a> (1) </li> 
        <li class="cat-item cat-item-74"><a href="http://marioosh.net/blog/?cat=74" title="View all posts filed under tomcat">tomcat</a> (1) </li> 
        <li class="cat-item cat-item-1"><a href="http://marioosh.net/blog/?cat=1" title="View all posts filed under Uncategorized">Uncategorized</a> (20) </li> 
        <li class="cat-item cat-item-33"><a href="http://marioosh.net/blog/?cat=33" title="View all posts filed under Video">Video</a> (7) </li> 
        <li class="cat-item cat-item-49"><a href="http://marioosh.net/blog/?cat=49" title="View all posts filed under vim">vim</a> (4) </li> 
        <li class="cat-item cat-item-133"><a href="http://marioosh.net/blog/?cat=133" title="View all posts filed under VirtualBox">VirtualBox</a> (1) </li> 
       </ul> </li>
      <li id="linkcat-3" class="widgetcontainer widget_links"><h3 class="widgettitle">Strony</h3> 
       <ul class="xoxo blogroll"> 
        <li><a href="http://23tools.marioosh.net" title="23HQ.com tools">23tools</a></li> 
        <li><a href="http://23viewer.marioosh.net" title="Galeria osobista [powered by 23hq.com / flickrview / simpleviewer]">23viewer</a></li> 
        <li><a href="http://czytnik.org" title="Czytnik kana?ów RSS online">czytnik.org</a></li> 
        <li><a href="http://gallery.marioosh.net" title="Galeria osobista [powered by lightview]">galeria</a></li> 
        <li><a href="https://github.com/marioosh-net">github</a></li> 
        <li><a href="http://marioosh.net" title="Home page">marioosh.net</a></li> 
        <li><a href="http://mini.marioosh.net" title="Galeria inspirowana przez minishowcase [powered by lightview]">mini demo</a></li> 
        <li><a href="http://morelki.pl" title="Osobista baza odno?ników / linków">morelki.pl</a></li> 
        <li><a href="http://supermemo.marioosh.net" title="Narz?dzie do nauki j?zyka angielskiego">supermemo</a></li> 
       </ul> </li> 
      <li id="rss-links-2" class="widgetcontainer widget_rss-links"><h3 class="widgettitle">RSS Links</h3> 
       <ul> 
        <li><a href="http://marioosh.net/blog/?feed=rss2" title="marioosh.net Posts RSS feed" rel="alternate nofollow" type="application/rss+xml">All posts</a></li> 
        <li><a href="http://marioosh.net/blog/?feed=comments-rss2" title="marioosh.net Comments RSS feed" rel="alternate nofollow" type="application/rss+xml">All comments</a></li> 
       </ul> </li>
      <li id="meta-2" class="widgetcontainer widget_meta"><h3 class="widgettitle">Meta</h3> 
       <ul> 
        <li><a href="https://marioosh.net/blog/wp-login.php">Log in</a></li> 
       </ul> </li> 
     </ul> 
    </div>
    <!-- #primary .aside --> 
   </div>
   <!-- #main --> 
   <div id="footer"> 
    <div id="siteinfo"> 
     <!-- Powered by <a class="wp-link" href="http://WordPress.org/" title="WordPress" rel="generator">WordPress</a>. Built on the <a class="theme-link" href="http://themeshaper.com/thematic/" title="Thematic Theme Framework" rel="designer">Thematic Theme Framework</a>. --> MARIOOSH.NET © 
     <span class="the-year">2017</span> 
    </div>
    <!-- #siteinfo --> 
   </div>
   <!-- #footer --> 
  </div>
  <!-- #wrapper .hfeed --> 
  <!--stats_footer_test-->
  <script src="http://stats.wordpress.com/e-201740.js" type="text/javascript"></script> 
  <script type="text/javascript">
st_go({blog:'19282126',v:'ext',post:'1087'});
var load_cmc = function(){linktracker_init(19282126,1087,2);};
if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
else load_cmc();
</script>  
 </body>
</html>