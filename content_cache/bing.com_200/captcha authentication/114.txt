<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
 <head> 
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8"> 
  <meta name="robots" content="index,nofollow"> 
  <title>Kerberos - Community Help Wiki</title> 
  <script type="text/javascript" src="/moin_static193/common/js/common.js"></script> 
  <script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script> 
  <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static193/light/css/common.css"> 
  <link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/moin_static193/light/css/screen.css"> 
  <link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/moin_static193/light/css/print.css"> 
  <link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/moin_static193/light/css/projection.css"> 
  <!-- css only for MS IE6/IE7 browsers --> 
  <!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static193/light/css/msie.css">
<![endif]--> 
  <link rel="Start" href="/community/CommunityHelpWiki"> 
  <link rel="Alternate" title="Wiki Markup" href="/community/Kerberos?action=raw"> 
  <link rel="Alternate" media="print" title="Print View" href="/community/Kerberos?action=print"> 
  <link rel="Search" href="/community/FindPage"> 
  <link rel="Index" href="/community/TitleIndex"> 
  <link rel="Glossary" href="/community/WordIndex"> 
  <link rel="Help" href="/community/HelpOnFormatting"> 
 </head> 
 <body lang="en" dir="ltr"> 
  <div id="leftbanner"> 
  </div> 
  <div id="rightbanner"> 
  </div> 
  <div id="container"> 
   <div id="container-inner"> 
    <div id="mothership"> 
     <ul> 
      <li><a href="http://www.ubuntu.com/partners">Partners</a> </li> 
      <li><a href="http://www.ubuntu.com/support">Support</a></li> 
      <li><a href="http://www.ubuntu.com/community">Community</a></li> 
      <li><a href="http://www.ubuntu.com">Ubuntu.com</a></li> 
     </ul> 
    </div> 
    <div id="header"> 
     <h1 id="ubuntu-header"><a href="https://help.ubuntu.com/">Ubuntu Documentation</a></h1> 
     <ul id="main-menu"> 
      <li><a href="https://help.ubuntu.com/">Official Documentation</a></li> 
      <li><a class="main-menu-item current" href="https://help.ubuntu.com/community/CommunityHelpWiki">Community Help Wiki</a></li> 
      <li><a href="http://community.ubuntu.com/contribute/documentation/">Contribute</a></li> 
     </ul> 
    </div> 
    <div id="menu-search"> 
     <div id="subheader"> 
      <div class="subheader-menu"> 
       <div id="second-nav"> 
        <ul id="username">
         <li><a class="nbinfo" href="/community/Kerberos?action=info" rel="nofollow">Page History</a></li>
         <li><a href="/community/Kerberos?action=login&amp;login=1" id="login" rel="nofollow">Login to edit</a></li>
        </ul> 
       </div> 
       <div id="user-info"> 
       </div> 
      </div> 
     </div> 
     <div id="search-box"> 
      <noscript> 
       <form action="http://www.google.com/cse" id="cse-search-box"> 
        <div> 
         <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq"> 
         <input type="hidden" name="ie" value="UTF-8"> 
         <input type="text" name="q" size="21"> 
         <input type="submit" name="sa" value="Search"> 
        </div> 
       </form> 
      </noscript> 
      <script>
 document.write('<form action="https://help.ubuntu.com/search.html" id="cse-search-box">');
 document.write('  <div>');
 document.write('    <input type="hidden" name="cof" value="FORID:9" />');
 document.write('    <input type="hidden" name="cx" value="003883529982892832976:e2vwumte3fq" />');
 document.write('    <input type="hidden" name="ie" value="UTF-8" />');
 document.write('    <input type="text" name="q" size="21" />');
 document.write('    <input type="submit" name="sa" value="Search" />');
 document.write('  </div>');
 document.write('</form>');
</script> 
     </div> 
    </div> 
    <div id="title">
     <h1> <span id="pagelocation"><a class="backlink" href="/community/Kerberos?action=fullsearch&amp;value=linkto%3A%22Kerberos%22&amp;context=180" rel="nofollow" title="Click to do a full-text search for this title">Kerberos</a></span> </h1> 
    </div> 
    <div id="cwt-nav3"> 
     <hr class="clear"> 
    </div> 
    <div id="cwt-content" class="clearfix content-area"> 
     <div id="page" lang="en" dir="ltr"> 
      <div dir="ltr" id="content" lang="en">
       <span class="anchor" id="top"></span> 
       <span class="anchor" id="line-1"></span>
       <div>
        <table style="float:right;  font-size: 0.9em;  width:40%;  background:#F1F1ED;  margin: 0 0 1em 1em;">
         <tbody>
          <tr> 
           <td style="padding:0.5em;"><p class="line891"></p>
            <div class="table-of-contents">
             <p class="table-of-contents-heading">Contents</p>
             <ol>
              <li> <a href="#Intended_Audience">Intended Audience</a></li>
              <li> <a href="#Pre-installation_Decisions">Pre-installation Decisions</a></li>
              <li> <a href="#Prerequisites">Prerequisites</a>
               <ol>
                <li> <a href="#Host_Names">Host Names</a></li>
                <li> <a href="#Connectivity">Connectivity</a></li>
                <li> <a href="#Time_Synchronization">Time Synchronization</a></li>
                <li> <a href="#Firewalls">Firewalls</a></li>
               </ol></li>
              <li> <a href="#KDC_Setup">KDC Setup</a>
               <ol>
                <li> <a href="#Principals">Principals</a></li>
                <li> <a href="#Realm_Administration:_kadmin">Realm Administration: kadmin</a></li>
                <li> <a href="#Publish_Realm_Info_Via_DNS">Publish Realm Info Via DNS</a></li>
               </ol></li>
              <li> <a href="#Client_Configuration">Client Configuration</a>
               <ol>
                <li> <a href="#Package_Installation">Package Installation</a></li>
                <li> <a href="#Configuration">Configuration</a></li>
               </ol></li>
              <li> <a href="#Testing">Testing</a></li>
              <li> <a href="#Kerberizing_Local_Authentication">Kerberizing Local Authentication</a>
               <ol>
                <li> <a href="#Installation">Installation</a></li>
                <li> <a href="#Configuration-1">Configuration</a></li>
                <li> <a href="#Credential_Caching">Credential Caching</a></li>
               </ol></li>
              <li> <a href="#Configuring_Network_Services">Configuring Network Services</a>
               <ol>
                <li> <a href="#Generating_Keytabs">Generating Keytabs</a></li>
                <li> <a href="#Security">Security</a></li>
                <li> <a href="#Service_Configuration">Service Configuration</a></li>
                <li> <a href="#Remote_Login">Remote Login</a></li>
                <li> <a href="#Apache">Apache</a></li>
                <li> <a href="#Integration_with_SASL">Integration with SASL</a></li>
               </ol></li>
              <li> <a href="#Troubleshooting">Troubleshooting</a></li>
              <li> <a href="#Further_Reading">Further Reading</a></li>
              <li> <a href="#Acknowledgements">Acknowledgements</a></li>
             </ol>
            </div></td> 
          </tr> 
         </tbody>
        </table>
       </div>
       <span class="anchor" id="line-2"></span>
       <span class="anchor" id="line-3"></span>
       <p class="line862">Kerberos is an authentication protocol using a combination of secret-key cryptography and trusted third parties to allow secure authentication to network services over untrusted networks. More information about the Kerberos protocol is available from <a class="http" href="http://web.mit.edu/Kerberos/">MIT's Kerberos site</a>. <a class="http" href="http://web.mit.edu/Kerberos/dialogue.html">Designing an Authentication System</a> is an accessible introduction to the principals of Kerberos' authentication scheme. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span></p>
       <p class="line867"> </p>
       <h1 id="Intended_Audience">Intended Audience</h1> 
       <span class="anchor" id="line-6"></span>
       <span class="anchor" id="line-7"></span>
       <p class="line862">This guide aims to supplement the documentation available in the <a class="https" href="https://help.ubuntu.com/">official Ubuntu documentation</a> by re-iterating certain key concepts in more detail and providing information on network service configuration. It is directed at system administrators that need to supplement their understanding of Kerberos and its advanced configuration. <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span></p>
       <p class="line874">Several Kerberos implementations exist. Two common open-source implementation of the Kerberos protocol are the original MIT implementation, and Heimdal, an implementation that was created to avoid United States export regulations. These regulations are no longer a concern, and for sake of brevity, this guide will provide instructions for the MIT version. The same concepts apply to Heimdal, although the syntax of various commands is different. <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></p>
       <p class="line862">Microsoft's <strong>Active Directory</strong> is a common closed-source implementation of a Kerberos authentication realm. The following guide contains several notes that give specific configuration information for Active Directory. In an Active Directory environment, the KDC is typically one of the services provided by the <strong>Domain Controller (DC)</strong>. Readers wishing to integrate with an Active Directory Domain can skip directly to the Client Configuration section. <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span></p>
       <p class="line867"> </p>
       <h1 id="Pre-installation_Decisions">Pre-installation Decisions</h1> 
       <span class="anchor" id="line-14"></span>
       <p class="line862">A central part of Kerberos' trusted third party authentication scheme is the <strong>Key Distribution Center (KDC)</strong>, which is a centralized repository for users' password information. Before deploying Kerberos, a server must be selected to take on the role of KDC. Physical and network security will be critical for this server, since a compromised KDC compromises the security of the entire realm. <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span></p>
       <p class="line862">Selecting a descriptive name for the Kerberos authentication realm is also important. Conventionally, the realm names is the site's domain name fully capitalized. For instance, the site <tt class="backtick">example.com</tt> would conventionally use <tt class="backtick">EXAMPLE.COM</tt> for its realm name. <span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span></p>
       <p class="line867"> </p>
       <h1 id="Prerequisites">Prerequisites</h1> 
       <span class="anchor" id="line-19"></span>
       <span class="anchor" id="line-20"></span>
       <p class="line874">All servers and clients that participate in a Kerberos realm must be able to communicate with each other and have accurate system clocks. The following section describes how to meet these requirements. <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span></p>
       <p class="line867"> </p>
       <h2 id="Host_Names">Host Names</h2> 
       <span class="anchor" id="line-23"></span>
       <p class="line862">Each server in a Kerberos authentication realm must be assigned a <strong>Fully Qualified Domain Name (FQDN)</strong> that is forward-resolvable. <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span></p>
       <p class="line862">Kerberos also expects the server's FQDN to be reverse-resolvable. If reverse domain name resolution is not available, set the <tt class="backtick">rdns</tt> variable to <tt class="backtick">false&nbsp;in&nbsp;clients'&nbsp;</tt>krb5.conf` <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span></p>
       <p class="line867"><strong>Note:</strong> Active Directory depends heavily on <strong>DNS</strong>, so it is likely that the Active Directory Domain Controller is also running the Microsoft DNS server package. If this is the case, verify that each server has a FQDN assigned to it before performing the tests outlined in this section. <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span></p>
       <p class="line874">If the server already has an FQDN assigned to it, test forward and reverse look-up with the following commands: <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span></p>
       <pre><span class="anchor" id="line-1"></span>$ nslookup server.example.com
<span class="anchor" id="line-2"></span>$ nslookup &lt;server ip address&gt;</pre>
       <span class="anchor" id="line-34"></span>
       <span class="anchor" id="line-35"></span>
       <p class="line874">The output of the first command should contain the IP address of the server. The output of the second command should contain the FQDN of the server. <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span></p>
       <p class="line862">If the server does not already have a FQDN assigned to it and DNS services are not available, name resolution can be implemented by editing the local hosts file (typically this is located in <tt class="backtick">/etc</tt>) on each server and client, adding the following line: <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></p>
       <p class="line867"><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span></p>
       <pre><span class="anchor" id="line-1-1"></span>127.0.0.1 linuxwork.example.com localhost linuxwork</pre>
       <span class="anchor" id="line-42"></span>
       <span class="anchor" id="line-43"></span>
       <p class="line862">Test the local DNS name resolution using the <tt class="backtick">nslookup</tt> technique described at the beginning of the section. <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span></p>
       <p class="line867"> </p>
       <h2 id="Connectivity">Connectivity</h2> 
       <span class="anchor" id="line-46"></span>
       <p class="line874">To verify connectivity between hosts, ping each host's FQDN: <span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span></p>
       <p class="line867"><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span></p>
       <pre><span class="anchor" id="line-1-2"></span>$ ping kerberos.example.com
<span class="anchor" id="line-2-1"></span>
<span class="anchor" id="line-3"></span>PING kerberos.example.com (10.0.0.1) 56(84) bytes of data.
<span class="anchor" id="line-4"></span>64 bytes from kerberos.example.com (10.0.0.1): icmp_seq=1 ttl=128 time=0.176ms</pre>
       <span class="anchor" id="line-54"></span>
       <span class="anchor" id="line-55"></span>
       <p class="line874">The output of the ping command shows successful resolution of the FQDN to an IP Address, and a sample reply from the server. A reply from the server serves as confirmation that the host and the server can communicate. <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></p>
       <p class="line862">Connectivity failures while pinging the KDC's FQDN usually point to DNS server or client configuration errors. See the <a class="https" href="https://help.ubuntu.com/8.04/serverguide/C/network-configuration.html">Network Configuration</a> for information on correct network settings. <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span></p>
       <p class="line867"> </p>
       <h2 id="Time_Synchronization">Time Synchronization</h2> 
       <span class="anchor" id="line-60"></span>
       <p class="line862">The Kerberos protocol requires the time of the client and server to match: if the system clocks of the client does not match that of the server, authentication will fail. The simplest way to synchronize the system clocks is to use a <strong>Network Time Protocol (NTP)</strong> server. See <a href="/community/UbuntuTime">UbuntuTime</a> for details. <span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span></p>
       <p class="line867"><strong>Note:</strong> Active Directory Domain Controllers are typically also NTP servers. <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span></p>
       <p class="line867"> </p>
       <h2 id="Firewalls">Firewalls</h2> 
       <span class="anchor" id="line-65"></span>
       <p class="line862">As with all network services, Kerberos must be allowed to pass through any firewalls between hosts. The <a class="http" href="http://web.mit.edu/Kerberos/krb5-1.8/krb5-1.8.3/doc/krb5-admin.html">Kerberos System Administration Manual</a> has a <a class="http" href="http://web.mit.edu/Kerberos/krb5-1.4/krb5-1.4.2/doc/krb5-admin/Configuring-Your-Firewall-to-Work-With-Kerberos-V5.html">detailed section</a> on this topic. <span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span></p>
       <p class="line867"> </p>
       <h1 id="KDC_Setup">KDC Setup</h1> 
       <span class="anchor" id="line-68"></span>
       <span class="anchor" id="line-69"></span>
       <p class="line867"><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span></p>
       <pre><span class="anchor" id="line-1-3"></span>$ sudo apt-get install krb5-kdc krb5-admin-server
<span class="anchor" id="line-2-2"></span>$ sudo dpkg-reconfigure krb5-kdc</pre>
       <span class="anchor" id="line-73"></span>
       <span class="anchor" id="line-74"></span>
       <p class="line862">These packages are available from the Main repository. See <a href="/community/InstallingSoftware">InstallingSoftware</a> for details on software installation, repositories and package management. <span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span></p>
       <p class="line874">The package installation process will step through defining the basic Kerberos configuration parameters. Recommended settings are: <span class="anchor" id="line-77"></span></p>
       <ul>
        <li>disable Kerberos 4 compatibility mode <span class="anchor" id="line-78"></span></li>
        <li>do not run krb524d (daemon to convert Kerberos tickets between versions) <span class="anchor" id="line-79"></span></li>
        <li>defaults for the other settings are acceptable <span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span></li>
       </ul>
       <p class="line862">The default location of the KDC's configuration file is <tt class="backtick">/etc/krb5kdc/kdc.conf</tt>. Important settings are the locations of the KDC's data files, and the default settings for the durations that tickets are valid. The realm name must be configured; other configuration options should only be changed by knowledgable users. <span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span></p>
       <p class="line874">Here is an example configuration file: <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span></p>
       <pre><span class="anchor" id="line-1-4"></span>[kdcdefaults]
<span class="anchor" id="line-2-3"></span>        kdc_ports = 750,88
<span class="anchor" id="line-3-1"></span>        default_realm = EXAMPLE.COM
<span class="anchor" id="line-4-1"></span>
<span class="anchor" id="line-5"></span>[realms]
<span class="anchor" id="line-6"></span>EXAMPLE.COM = {
<span class="anchor" id="line-7"></span>    database_name = /var/lib/krb5kdc/principal
<span class="anchor" id="line-8"></span>    admin_keytab = FILE:/etc/krb5kdc/kadm5.keytab
<span class="anchor" id="line-9"></span>    acl_file = /etc/krb5kdc/kadm5.acl
<span class="anchor" id="line-10"></span>    key_stash_file = /etc/krb5kdc/stash
<span class="anchor" id="line-11"></span>    kdc_ports = 750,88
<span class="anchor" id="line-12"></span>    max_life = 10h 0m 0s
<span class="anchor" id="line-13"></span>    max_renewable_life = 7d 0h 0m 0s
<span class="anchor" id="line-14"></span>    master_key_type = des3-hmac-sha1
<span class="anchor" id="line-15"></span>    supported_enctypes = des3-hmac-sha1:normal des-cbc-crc:normal des:normal des:v4 des:norealm des:onlyrealm
<span class="anchor" id="line-16"></span>    default_principal_flags = +preauth
<span class="anchor" id="line-17"></span>}</pre>
       <span class="anchor" id="line-103"></span>
       <span class="anchor" id="line-104"></span>
       <p class="line862">Kerberos uses an Access Control List (ACL) to specify the per-principal access rights to the Kerberos admin daemon. This file's default location is <tt class="backtick">/etc/krb5kdc/kadm5.acl</tt>. The default as shown below is sufficient for most realms, but additional ACLs may be necessary depending on the network configuration. <span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span></p>
       <p class="line867"><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span></p>
       <pre><span class="anchor" id="line-1-5"></span># This file is the access control list for krb5 administration.
<span class="anchor" id="line-2-4"></span># When this file is edited run /etc/init.d/krb5-admin-server restart to activate
<span class="anchor" id="line-3-2"></span># One common way to set up Kerberos administration is to allow any principal
<span class="anchor" id="line-4-2"></span># ending in /admin  is given full administrative rights.
<span class="anchor" id="line-5-1"></span># To enable this, uncomment the following line:
<span class="anchor" id="line-6-1"></span>*/admin@EXAMPLE.COM    *</pre>
       <span class="anchor" id="line-114"></span>
       <span class="anchor" id="line-115"></span>
       <p class="line874">Create the Kerberos database with the following command: <span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span></p>
       <pre><span class="anchor" id="line-1-6"></span>$ krb5_newrealm</pre>
       <span class="anchor" id="line-119"></span>
       <span class="anchor" id="line-120"></span>
       <p class="line867"> </p>
       <h2 id="Principals">Principals</h2> 
       <span class="anchor" id="line-121"></span>
       <span class="anchor" id="line-122"></span>
       <p class="line862">Principals are entries in the Kerberos database that represent users or services on the network. Each user or service that is participates in a Kerberos authentication realm <strong>must</strong> have a principal defined in the Kerberos database. <span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span></p>
       <p class="line862">User principals take the form <tt class="backtick">principal@REALM.NAME</tt>. For instance, user <tt class="backtick">tom</tt> on the <tt class="backtick">EXAMPLE.COM</tt> realm should have a principal <tt class="backtick">tom@EXAMPLE.COM</tt> in the Kerberos database. <span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span></p>
       <p class="line862">Service principals take the form <tt class="backtick">service/server.fqdn@REALM.NAME</tt>. For example, the FTP service on <tt class="backtick">lab.example.com</tt> in the <tt class="backtick">EXAMPLE.COM</tt> realm would have the principal <tt class="backtick">ftp/lab.example.com@EXAMPLE.COM</tt> in the Kerberos database. <span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span></p>
       <p class="line874">Principal names are case sensitive. <span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span></p>
       <p class="line867"> </p>
       <h2 id="Realm_Administration:_kadmin">Realm Administration: kadmin</h2> 
       <span class="anchor" id="line-131"></span>
       <span class="anchor" id="line-132"></span>
       <p class="line862">The Kerberos realm is administered using the <tt class="backtick">kadmin</tt> utility. The <tt class="backtick">kadmin</tt> utility is an interactive interface that allows the administrator to create, retrieve, update, and delete realm principals. <tt class="backtick">kadmin</tt> can be run on any computer that is part of the Kerberos realm, provided the user has the proper credentials. However, for security reasons, it is best to run kadmin on a KDC. <span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span></p>
       <p class="line862">An alternative program, <tt class="backtick">kadmin.local</tt>, is available as well. Running <tt class="backtick">kadmin.local</tt> as the root user on the KDC allows the administrator to authenticate without having an existing principal. This is generally not necessary in a properly configured environment. <span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span></p>
       <p class="line862">To start the <tt class="backtick">kadmin</tt> utility, issue the following command: <span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span></p>
       <p class="line867"><span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span></p>
       <pre><span class="anchor" id="line-1-7"></span>$ kadmin -p &lt;principal&gt;</pre>
       <span class="anchor" id="line-141"></span>
       <span class="anchor" id="line-142"></span>
       <p class="line862">Replace &lt;principal&gt; with a valid principal name. By default, the principal <tt class="backtick">admin/admin</tt> has administrative rights to the realm, so to launch kadmin as the realm administrator, use: <span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span></p>
       <p class="line867"><span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span></p>
       <pre><span class="anchor" id="line-1-8"></span>$ kadmin -p admin/admin</pre>
       <span class="anchor" id="line-147"></span>
       <span class="anchor" id="line-148"></span>
       <p class="line862">Type <tt class="backtick">?</tt> and press Enter at the kadmin prompt to see a list of valid commands. <span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span></p>
       <p class="line867"> </p>
       <h3 id="Common_tasks">Common tasks</h3> 
       <span class="anchor" id="line-151"></span>
       <ul>
        <li>Add a user: <span class="anchor" id="line-152"></span></li>
       </ul>
       <p class="line867"><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span></p>
       <pre><span class="anchor" id="line-1-9"></span>kadmin: addprinc user</pre>
       <span class="anchor" id="line-155"></span>
       <p class="line874">The default realm name is appended to the principal's name by default <span class="anchor" id="line-156"></span></p>
       <ul>
        <li>Delete a user: <span class="anchor" id="line-157"></span></li>
       </ul>
       <p class="line867"><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span></p>
       <pre><span class="anchor" id="line-1-10"></span>kadmin: delprinc user</pre>
       <span class="anchor" id="line-160"></span>
       <ul>
        <li>List principals: <span class="anchor" id="line-161"></span></li>
       </ul>
       <p class="line867"><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span></p>
       <pre><span class="anchor" id="line-1-11"></span>kadmin: listprincs</pre>
       <span class="anchor" id="line-164"></span>
       <span class="anchor" id="line-165"></span>
       <ul>
        <li>Add a service: <span class="anchor" id="line-166"></span></li>
       </ul>
       <p class="line867"><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span></p>
       <pre><span class="anchor" id="line-1-12"></span>kadmin: addprinc service/server.fqdn</pre>
       <span class="anchor" id="line-169"></span>
       <p class="line874">The default realm name is appended to the principal's name by default <span class="anchor" id="line-170"></span></p>
       <ul>
        <li>Delete a user: <span class="anchor" id="line-171"></span></li>
       </ul>
       <p class="line867"><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span></p>
       <pre><span class="anchor" id="line-1-13"></span>kadmin: delprinc service/server.fqdn</pre>
       <span class="anchor" id="line-174"></span>
       <span class="anchor" id="line-175"></span>
       <p class="line867"> </p>
       <h2 id="Publish_Realm_Info_Via_DNS">Publish Realm Info Via DNS</h2> 
       <span class="anchor" id="line-176"></span>
       <span class="anchor" id="line-177"></span>
       <p class="line874">Client configuration can be simplified by publishing information about the Kerberos realm via DNS. This is accomplished by adding SRV records that point to the Kerberos KDC. <span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span></p>
       <p class="line862">To do this in a DNS zone controlled by BIND requires entries like the following. Here the DNS domain is <tt class="backtick">example.com</tt>, and the Kerberos realm is <tt class="backtick">EXAMPLE.COM</tt>. <span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span></p>
       <p class="line867"><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span></p>
       <pre><span class="anchor" id="line-1-14"></span>$ORIGIN example.com.
<span class="anchor" id="line-2-5"></span>_kerberos               TXT     "EXAMPLE.COM"
<span class="anchor" id="line-3-3"></span>$ORIGIN _udp.example.com.
<span class="anchor" id="line-4-3"></span>_kerberos               SRV     0 0 88 kdc.example.com.
<span class="anchor" id="line-5-2"></span>_kerberos-adm           SRV     0 0 749 kdc.example.com.</pre>
       <span class="anchor" id="line-188"></span>
       <span class="anchor" id="line-189"></span>
       <p class="line862">See <a href="/community/BIND9ServerHowto">BIND9ServerHowto</a> for information on configuring DNS services with BIND. <span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span></p>
       <p class="line862">With this DNS configuration in place, it should not be necessary to add information to the /etc/krb5.conf on client computers: the Kerberos software should get all necessary realm information from the DNS server. The kadmin utility still seems to require the <tt class="backtick">[domain_realm]</tt> mappings, though. <span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span></p>
       <p class="line867"> </p>
       <h1 id="Client_Configuration">Client Configuration</h1> 
       <span class="anchor" id="line-194"></span>
       <span class="anchor" id="line-195"></span>
       <p class="line867"><strong>Note:</strong> Verify the clients meet the criteria laid out in the Prerequisites section before installing client software. <span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span></p>
       <p class="line867"> </p>
       <h2 id="Package_Installation">Package Installation</h2> 
       <span class="anchor" id="line-198"></span>
       <span class="anchor" id="line-199"></span>
       <p class="line874">Kerberos services and utilities require several separate packages: <span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span></p>
       <ul>
        <li><p class="line891"><strong>krb5-user:</strong> Basic programs to authenticate using MIT Kerberos. <span class="anchor" id="line-202"></span></p></li>
        <li><p class="line891"><strong>krb5-config:</strong> Configuration files for Kerberos Version 5. <span class="anchor" id="line-203"></span></p></li>
        <li><p class="line891"><strong>libkadm55:</strong> MIT Kerberos administration runtime libraries. (No longer available in Karmic) <span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span></p></li>
       </ul>
       <p class="line862">These packages are available from the Main repository. See <a href="/community/InstallingSoftware">InstallingSoftware</a> for details on software installation, repositories and package management. <span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span></p>
       <p class="line867"> </p>
       <h2 id="Configuration">Configuration</h2> 
       <span class="anchor" id="line-208"></span>
       <span class="anchor" id="line-209"></span>
       <p class="line867"> </p>
       <h3 id="krb5-config">krb5-config</h3> 
       <span class="anchor" id="line-210"></span>
       <span class="anchor" id="line-211"></span>
       <p class="line862">The <tt class="backtick">krb5-config</tt> installation process customizes the <tt class="backtick">/etc/krb5.conf</tt> file. Supply your realm name when prompted to enter a default realm. If Kerberos SRV records aren't available via DNS, the installation process will prompt for basic information about the Kerberos realm: <span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span></p>
       <p class="line867"><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span></p>
       <pre><span class="anchor" id="line-1-15"></span>What are the Kerberos servers for your realm?
<span class="anchor" id="line-2-6"></span>kerberos.example.com
<span class="anchor" id="line-3-4"></span>
<span class="anchor" id="line-4-4"></span>What is the administrative server for your Kerberos realm?
<span class="anchor" id="line-5-3"></span>kerberos.example.com</pre>
       <span class="anchor" id="line-220"></span>
       <span class="anchor" id="line-221"></span>
       <p class="line874">Substitute the FQDN of the KDC for the example answers. <span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span></p>
       <p class="line867"> </p>
       <h3 id="Manual_configuration:_.2Fetc.2Fkrb5.conf">Manual configuration: /etc/krb5.conf</h3> 
       <span class="anchor" id="line-224"></span>
       <span class="anchor" id="line-225"></span>
       <p class="line862">It is also possible to configure the Kerberos client manually by editing <tt class="backtick">/etc/krb5.conf</tt>. This approach allows greater customization of the file, but lacks the automation of the <tt class="backtick">krb5-config</tt> package. The end result is the same. The following is a sample configuration. <span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span></p>
       <p class="line867"><span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span></p>
       <pre><span class="anchor" id="line-1-16"></span>[logging]
<span class="anchor" id="line-2-7"></span>    default = FILE:/var/log/krb5.log
<span class="anchor" id="line-3-5"></span>
<span class="anchor" id="line-4-5"></span>[libdefaults]
<span class="anchor" id="line-5-4"></span>    default_realm = EXAMPLE.COM
<span class="anchor" id="line-6-2"></span>    kdc_timesync = 1
<span class="anchor" id="line-7-1"></span>    ccache_type = 4
<span class="anchor" id="line-8-1"></span>    forwardable = true
<span class="anchor" id="line-9-1"></span>    proxiable = true
<span class="anchor" id="line-10-1"></span>
<span class="anchor" id="line-11-1"></span>[realms]
<span class="anchor" id="line-12-1"></span>    EXAMPLE.COM = {
<span class="anchor" id="line-13-1"></span>        kdc = kerberos.example.com
<span class="anchor" id="line-14-1"></span>        admin_server = kerberos.example.com
<span class="anchor" id="line-15-1"></span>        default_domain = EXAMPLE.COM
<span class="anchor" id="line-16-1"></span>    }
<span class="anchor" id="line-17-1"></span>
<span class="anchor" id="line-18"></span>[domain_realm]
<span class="anchor" id="line-19"></span>    .example.com = EXAMPLE.COM
<span class="anchor" id="line-20"></span>    example.com = EXAMPLE.COM</pre>
       <span class="anchor" id="line-249"></span>
       <span class="anchor" id="line-250"></span>
       <p class="line867"> </p>
       <h1 id="Testing">Testing</h1> 
       <span class="anchor" id="line-251"></span>
       <span class="anchor" id="line-252"></span>
       <p class="line862">To test the operation of Kerberos, request a Ticket-Granting Ticket (TGT) with the <tt class="backtick">kinit</tt> command, as shown. Any valid Kerberos principal can be substituted for "Administrator". Omit the realm name from the command if the <tt class="backtick">default_realm</tt> directive is properly specified in the <tt class="backtick">/etc/krb5.conf</tt> file or DNS SRV records. <span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span></p>
       <p class="line867"><strong>Note:</strong> The realm name is <strong>CASE SENSITIVE.</strong> <span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span></p>
       <p class="line867"><span class="anchor" id="line-257"></span><span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span></p>
       <pre><span class="anchor" id="line-1-17"></span>$ kinit -p Administrator@LAB.EXAMPLE.COM
<span class="anchor" id="line-2-8"></span>Password for Administrator@LAB.EXAMPLE.COM: ****</pre>
       <span class="anchor" id="line-260"></span>
       <span class="anchor" id="line-261"></span>
       <span class="anchor" id="line-262"></span>
       <p class="line862">Use the <tt class="backtick">klist</tt> command to verify the TGT is valid: <span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span></p>
       <p class="line867"><span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span></p>
       <pre><span class="anchor" id="line-1-18"></span>$ klist
<span class="anchor" id="line-2-9"></span>Ticket cache: FILE:/tmp/krb5cc_0
<span class="anchor" id="line-3-6"></span>Default principal: Administrator@LAB.EXAMPLE.COM
<span class="anchor" id="line-4-6"></span>
<span class="anchor" id="line-5-5"></span>Valid starting     Expires            Service principal
<span class="anchor" id="line-6-3"></span>01/21/05 10:28:51  01/21/05 20:27:43    krbtgt/LAB.EXAMPLE.COM@LAB.EXAMPLE.COM
<span class="anchor" id="line-7-2"></span>        renew until 01/21/05 20:28:51</pre>
       <span class="anchor" id="line-273"></span>
       <span class="anchor" id="line-274"></span>
       <p class="line874">If the above tests work, congratulations! You have successfully obtained a Kerberos ticket. This ticket can be used to access network services that use Kerberos for authentication. <span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span></p>
       <p class="line862">The kinit program will attempt to obtain a TGT for the principal <tt class="backtick">&lt;username&gt;@REALM.NAME</tt> if run without a '-p' argument where <tt class="backtick">&lt;username&gt;</tt> is the username of the local user, and <tt class="backtick">REALM.NAME</tt> is the name of the default realm as configured in <tt class="backtick">/etc/krb5.conf</tt> <span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span></p>
       <p class="line862">Release the test ticket by issuing the <strong>kdestroy</strong> command. <span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span></p>
       <p class="line867"> </p>
       <h1 id="Kerberizing_Local_Authentication">Kerberizing Local Authentication</h1> 
       <span class="anchor" id="line-281"></span>
       <span class="anchor" id="line-282"></span>
       <p class="line862">Kerberos is frequently used as a source for local authentication through the <a class="http" href="http://www.eyrie.org/~eagle/software/pam-krb5/">pam-krb5 module</a>. Adding this module to a host's PAM stack allows users to authenticate to the local host using their Kerberos password. Given a username and password, pam-krb5 will check the supplied password against the password for principal <tt class="backtick">&lt;username&gt;@REALM.NAME</tt>. The pam-krb5 module will inform the local system that the user authenticated successfully if the supplied password matches the password of the principal. <span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span></p>
       <p class="line874">The module also establishes a credentials cache when a user has authenticated successfully, allowing the user to utilize Kerberized network services without entering their credentials a second time. <span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span></p>
       <p class="line867"> </p>
       <h2 id="Installation">Installation</h2> 
       <span class="anchor" id="line-287"></span>
       <span class="anchor" id="line-288"></span>
       <p class="line867"><strong>Note:</strong> Before deploying Kerberized PAM authentication, make sure that each each user has a valid account, either on the local host (via adduser or similar), or through a shared source such as <a href="/community/OpenLDAPServer">LDAP</a>. <span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span></p>
       <p class="line874">To install the pam-krb5 PAM module, issue the following command from a command prompt: <span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span></p>
       <p class="line867"><span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span></p>
       <pre><span class="anchor" id="line-1-19"></span>$ sudo apt-get install libpam-krb5</pre>
       <span class="anchor" id="line-295"></span>
       <span class="anchor" id="line-296"></span>
       <p class="line867"> </p>
       <h2 id="Configuration-1">Configuration</h2> 
       <span class="anchor" id="line-297"></span>
       <span class="anchor" id="line-298"></span>
       <p class="line862">In Ubuntu release 9.04 (Jaunty Jackalope) and newer, the details of PAM configuration are handled by the pam-auth-update utility. To enable or disable Kerberos authentication, run <tt class="backtick">pam-auth-update</tt> from a command prompt. More information on pam-auth-update is available in <a class="http" href="http://manpages.ubuntu.com/manpages/man8/pam-auth-update.8.html">its documentation</a>. <span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span></p>
       <p class="line862">For releases prior to Jaunty, a basic configuration can be implemented by adding the following line to the top of the stack in <tt class="backtick">/etc/pam.d/common-auth</tt>: <span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span></p>
       <p class="line867"><span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span></p>
       <pre><span class="anchor" id="line-1-20"></span>auth    sufficient      pam_krb5.so minimum_uid=1000
<span class="anchor" id="line-2-10"></span>...</pre>
       <span class="anchor" id="line-306"></span>
       <span class="anchor" id="line-307"></span>
       <p class="line874">PAM is a highly configurable framework; consult the PAM documentation for more information on advanced configuration options, such as falling back on local password services. <span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span></p>
       <p class="line867"> </p>
       <h2 id="Credential_Caching">Credential Caching</h2> 
       <span class="anchor" id="line-310"></span>
       <p class="line874">For roaming hosts such as laptops that may not always have access to the KDC, it is useful to cache credentials using the libpam-ccreds package. Installation is simple: <span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span></p>
       <p class="line867"><span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span></p>
       <pre><span class="anchor" id="line-1-21"></span>$ sudo apt-get install libpam-ccreds</pre>
       <span class="anchor" id="line-315"></span>
       <span class="anchor" id="line-316"></span>
       <p class="line867"> </p>
       <h1 id="Configuring_Network_Services">Configuring Network Services</h1> 
       <span class="anchor" id="line-317"></span>
       <span class="anchor" id="line-318"></span>
       <p class="line874">Once a user has obtained a TGT using kinit, they can use it to prove their identity to a network service such as file sharing or printing. This authentication process is automatic: no password is required to access network services as long as the user's TGT is valid (for security purposes, tickets expire after a period of time, and must be renewed). <span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span></p>
       <p class="line862">Services use files called <strong>keytabs</strong> that contain a secret known only to the service and the KDC. The user authenticates themself to the KDC, and then requests information from the KDC that is encrypted using the service's shared secret. This encrypted message is sent to the client, which sends it to the service. If the service can decrypt and read the message (and the user passes other security checks), the service accepts the user's identity. <span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span></p>
       <p class="line867"> </p>
       <h2 id="Generating_Keytabs">Generating Keytabs</h2> 
       <span class="anchor" id="line-323"></span>
       <span class="anchor" id="line-324"></span>
       <p class="line862">To create a service keytab, first create a service principal of the form <tt class="backtick">service/host.fqdn@REALM.NAME</tt> using <tt class="backtick">kadmin</tt>. For example, an FTP service on <tt class="backtick">lab.example.com</tt> in the <tt class="backtick">EXAMPLE.COM</tt> realm would have a principal named <tt class="backtick">ftp/lab.example.com@EXAMPLE.COM</tt>, and would be added like this: <span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span></p>
       <p class="line867"><span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span></p>
       <pre><span class="anchor" id="line-1-22"></span>kadmin: addprinc -randkey ftp/lab.example.com@EXAMPLE.COM</pre>
       <span class="anchor" id="line-329"></span>
       <span class="anchor" id="line-330"></span>
       <p class="line874">The realm name is optional if the principal is part of the default Kerberos realm as configured in krb5.conf. <span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span></p>
       <p class="line862">Once the principal has been created, create or add to a keytab with the <tt class="backtick">ktadd</tt> command in the <tt class="backtick">kadmin</tt> interface. To create a keytab for the FTP service from the preceeding example, the command would look like this: <span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span></p>
       <p class="line867"><span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span></p>
       <pre><span class="anchor" id="line-1-23"></span>kadmin: ktadd -k /etc/ftp.keytab ftp/lab.example.com@EXAMPLE.COM</pre>
       <span class="anchor" id="line-337"></span>
       <span class="anchor" id="line-338"></span>
       <p class="line867"><strong>Note:</strong> the user running kadmin must have write access to the path specified by the -k argument. <span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span></p>
       <p class="line862">As before, the realm name is optional for principals in the default realm. The keytab's path is also variable, although keytabs typically reside in the host's <tt class="backtick">/etc</tt> directory. <span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span></p>
       <p class="line862">It is not necessary to generate the keytab on host for which the keytab is intended. For example, one could simply generate the keytab as indicated on the KDC, save it in a temporary location, and <strong>securely</strong> transport it (encrypted transport such as scp, or physically via Flash drive) to the intended host. <span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span></p>
       <p class="line867"> </p>
       <h2 id="Security">Security</h2> 
       <span class="anchor" id="line-345"></span>
       <span class="anchor" id="line-346"></span>
       <p class="line867"><img alt="Info <!>" height="16" src="/moin_static193/light/img/icon_cool.png" title="Info <!>" width="16"> <strong>The security of a keytab is vital: malicious users with access to keytabs can impersonate network services.</strong> To avoid this, secure the keytab's file permissions with <tt class="backtick">chmod</tt> (this is a system command, not a kadmin command). Using the FTP example, the command looks like this: <span class="anchor" id="line-347"></span><span class="anchor" id="line-348"></span></p>
       <p class="line867"><span class="anchor" id="line-349"></span><span class="anchor" id="line-350"></span></p>
       <pre><span class="anchor" id="line-1-24"></span>$ chmod 0700 /etc/ftp.keytab</pre>
       <span class="anchor" id="line-351"></span>
       <span class="anchor" id="line-352"></span>
       <p class="line874">The file ownership may also require adjustment to allow access by the FTP daemon. <span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span></p>
       <p class="line867"> </p>
       <h2 id="Service_Configuration">Service Configuration</h2> 
       <span class="anchor" id="line-355"></span>
       <span class="anchor" id="line-356"></span>
       <p class="line874">Once the keytab is generated, the service must be configured to use it. Consult the documentation of the software package for details on this configuration process. <span class="anchor" id="line-357"></span><span class="anchor" id="line-358"></span></p>
       <p class="line867"> </p>
       <h2 id="Remote_Login">Remote Login</h2> 
       <span class="anchor" id="line-359"></span>
       <span class="anchor" id="line-360"></span>
       <p class="line874">The "host" service is the name of the service provided by remote access services such as telnet or SSH. To support Kerberized remote login: <span class="anchor" id="line-361"></span></p>
       <ol type="1">
        <li><p class="line862">Create a service principal with the name <tt class="backtick">host/client.fqdn@REALM.NAME</tt> (e.g. <tt class="backtick">host/lab.example.com@EXAMPLE.COM</tt>. <span class="anchor" id="line-362"></span></p></li>
        <li><p class="line862">Save a keytab for this principal in <tt class="backtick">/etc/krb5.keytab</tt> <span class="anchor" id="line-363"></span></p></li>
        <li>Set the file permissions to 0700 and change the owner to root: <span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span><span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span><pre><span class="anchor" id="line-1-25"></span> $ sudo chown root:root /etc/krb5.keytab
<span class="anchor" id="line-2-11"></span> $ sudo chmod 0700 /etc/krb5.keytab</pre><span class="anchor" id="line-368"></span></li>
        <li>Configure the remote access service to use Kerberos. Refer to the service's documentation for instructions. <span class="anchor" id="line-369"></span><span class="anchor" id="line-370"></span></li>
       </ol>
       <p class="line867"> </p>
       <h2 id="Apache">Apache</h2> 
       <span class="anchor" id="line-371"></span>
       <span class="anchor" id="line-372"></span>
       <p class="line862">Apache supports Kerberized authentication via <a class="http" href="http://modauthkerb.sourceforge.net/">mod_auth_kerb</a>. The basic configuration utilizes Apache's Basic Auth mechanism. Transport layer encryption (i.e. SSL/TLS) should be deployed if the basic configuration is used; the Basic Auth mechanism does not encrypt login credentials during transmission. <sup><a href="#fnref-d1a91bfea0ecb9acea09b5dd7000d705c7f4c482" id="fndef-d1a91bfea0ecb9acea09b5dd7000d705c7f4c482-0">1</a></sup> <span class="anchor" id="line-373"></span><span class="anchor" id="line-374"></span></p>
       <p class="line862">It is also possible to configure web browsers to use an existing credentials cache (instead of requiring a user to re-enter their Kerberos username and password) by enabling GSSAPI <a class="http" href="http://en.wikipedia.org/wiki/SPNEGO">SPNEGO</a>. Transport layer encryption is not necessary if SPNEGO is used, but the client's browser must be properly configured. <span class="anchor" id="line-375"></span><span class="anchor" id="line-376"></span></p>
       <p class="line867"> </p>
       <h3 id="Server">Server</h3> 
       <span class="anchor" id="line-377"></span>
       <span class="anchor" id="line-378"></span>
       <ol type="1">
        <li>Create a principal and keytab for the web server: <span class="anchor" id="line-379"></span><span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span><span class="anchor" id="line-384"></span><pre><span class="anchor" id="line-1-26"></span> $ sudo kadmin.local
<span class="anchor" id="line-2-12"></span> kadmin&gt; addprinc -randkey HTTP/webserver.example.com
<span class="anchor" id="line-3-7"></span> kadmin&gt; ktadd -k /etc/apache2/auth/apache2.keytab HTTP/webserver.example.com
<span class="anchor" id="line-4-7"></span> kadmin&gt; quit</pre><span class="anchor" id="line-385"></span><span class="anchor" id="line-386"></span></li>
        <li class="gap">Set the keytab's permissions and ownership: <span class="anchor" id="line-387"></span><span class="anchor" id="line-388"></span><span class="anchor" id="line-389"></span><span class="anchor" id="line-390"></span><pre><span class="anchor" id="line-1-27"></span> $ sudo chown www-data:www-data /etc/apache2/auth/apache2.keytab
<span class="anchor" id="line-2-13"></span> $ sudo chmod 400 /etc/apache2/auth/apache2.keytab</pre><span class="anchor" id="line-391"></span><span class="anchor" id="line-392"></span></li>
        <li class="gap">Install mod_auth_kerb: <span class="anchor" id="line-393"></span><span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span><pre><span class="anchor" id="line-1-28"></span> # sudo apt-get install libapache2-mod-auth-kerb</pre><span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span></li>
        <li class="gap"><p class="line862">Update the Apache configuration file (generally available in <tt class="backtick">/etc/apache2/sites-enabled/</tt>). Here access is restricted to <tt class="backtick">/var/www</tt>. <span class="anchor" id="line-398"></span><span class="anchor" id="line-399"></span><span class="anchor" id="line-400"></span><span class="anchor" id="line-401"></span><span class="anchor" id="line-402"></span><span class="anchor" id="line-403"></span><span class="anchor" id="line-404"></span><span class="anchor" id="line-405"></span><span class="anchor" id="line-406"></span><span class="anchor" id="line-407"></span><span class="anchor" id="line-408"></span><span class="anchor" id="line-409"></span><span class="anchor" id="line-410"></span><span class="anchor" id="line-411"></span><span class="anchor" id="line-412"></span></p><pre><span class="anchor" id="line-1-29"></span> &lt;Directory /var/www/&gt;
<span class="anchor" id="line-2-14"></span>        Options Indexes FollowSymLinks MultiViews
<span class="anchor" id="line-3-8"></span>        AllowOverride None
<span class="anchor" id="line-4-8"></span>        Order allow,deny
<span class="anchor" id="line-5-6"></span>        allow from all
<span class="anchor" id="line-6-4"></span>
<span class="anchor" id="line-7-3"></span>        AuthType Kerberos
<span class="anchor" id="line-8-2"></span>        AuthName "Kerberos Login"
<span class="anchor" id="line-9-2"></span>        KrbAuthRealm EXAMPLE.COM
<span class="anchor" id="line-10-2"></span>        Krb5Keytab /etc/apache2/auth/apache2.keytab
<span class="anchor" id="line-11-2"></span>        KrbMethodK5Passwd off #optional--makes GSSAPI SPNEGO a requirement
<span class="anchor" id="line-12-2"></span>        Require valid-user
<span class="anchor" id="line-13-2"></span> &lt;/Directory&gt;</pre><span class="anchor" id="line-413"></span><span class="anchor" id="line-414"></span></li>
       </ol>
       <p class="line867"> </p>
       <h3 id="Browser">Browser</h3> 
       <span class="anchor" id="line-415"></span>
       <span class="anchor" id="line-416"></span>
       <p class="line862">To utilize existing an existing credentials cache (generated by <tt class="backtick">kinit</tt> or a <a href="/community/SingleSignOn">SSO</a> login), the client's browser must be configured to use GSSAPI <a class="http" href="http://en.wikipedia.org/wiki/SPNEGO">SPNEGO</a>. The details of browser configuration varies. The following sections list resources for common browsers. <span class="anchor" id="line-417"></span><span class="anchor" id="line-418"></span></p>
       <p class="line867"> </p>
       <h4 id="Firefox">Firefox</h4> 
       <span class="anchor" id="line-419"></span>
       <span class="anchor" id="line-420"></span>
       <ul>
        <li><p class="line891"><a class="http" href="http://www.grolmsnet.de/kerbtut/firefox.html">http://www.grolmsnet.de/kerbtut/firefox.html</a> <span class="anchor" id="line-421"></span></p></li>
        <li><p class="line891"><a class="http" href="http://mbechler.eenterphace.org/blog/index.php?/archives/6-Doing-GSSNegotiate-SSO-using-Mozilla-Firefox,-MIT-Kerberos-and-PHP.html">http://mbechler.eenterphace.org/blog/index.php?/archives/6-Doing-GSSNegotiate-SSO-using-Mozilla-Firefox,-MIT-Kerberos-and-PHP.html</a> <span class="anchor" id="line-422"></span><span class="anchor" id="line-423"></span></p></li>
       </ul>
       <p class="line867"> </p>
       <h4 id="Chrome">Chrome</h4> 
       <span class="anchor" id="line-424"></span>
       <ul>
        <li><p class="line891"><a class="http" href="http://www.chromium.org/developers/design-documents/http-authentication">http://www.chromium.org/developers/design-documents/http-authentication</a> <span class="anchor" id="line-425"></span><span class="anchor" id="line-426"></span></p></li>
       </ul>
       <p class="line867"> </p>
       <h4 id="Internet_Explorer">Internet Explorer</h4> 
       <span class="anchor" id="line-427"></span>
       <ul>
        <li><p class="line891"><a class="http" href="http://publib.boulder.ibm.com/infocenter/wasinfo/v6r1/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/tsec_SPNEGO_config_web.html">http://publib.boulder.ibm.com/infocenter/wasinfo/v6r1/index.jsp?topic=/com.ibm.websphere.express.doc/info/exp/ae/tsec_SPNEGO_config_web.html</a> <span class="anchor" id="line-428"></span><span class="anchor" id="line-429"></span></p></li>
       </ul>
       <p class="line867"> </p>
       <h2 id="Integration_with_SASL">Integration with SASL</h2> 
       <span class="anchor" id="line-430"></span>
       <p class="line862">Several popular open source software packages (most notably <a href="/community/OpenLDAPServer">OpenLDAPServer</a>) use Kerberos as an authentication source via the SASL pluggable authentication framework. The following section describes how to install and configure SASL, and verify it is utilizing Kerberos correctly. The details of configuring a service to utilize SASL depend on the package; refer to the service's documentation for details. <span class="anchor" id="line-431"></span><span class="anchor" id="line-432"></span></p>
       <p class="line867"> </p>
       <h3 id="Package_Installation-1">Package Installation</h3> 
       <span class="anchor" id="line-433"></span>
       <span class="anchor" id="line-434"></span>
       <p class="line874">We will need the SASL pluggable authentication framework, and the GSSAPI module for the Kerberos implementation in use. Here the MIT implementation is used. Run the following command on the server: <span class="anchor" id="line-435"></span><span class="anchor" id="line-436"></span></p>
       <p class="line867"><span class="anchor" id="line-437"></span><span class="anchor" id="line-438"></span></p>
       <pre><span class="anchor" id="line-1-30"></span>$ sudo apt-get install sasl2-bin libsasl2-2 libsasl2-modules libsasl2-modules-gssapi-mit</pre>
       <span class="anchor" id="line-439"></span>
       <span class="anchor" id="line-440"></span>
       <p class="line867"> </p>
       <h3 id="Setup">Setup</h3> 
       <span class="anchor" id="line-441"></span>
       <span class="anchor" id="line-442"></span>
       <ol type="1">
        <li>Create a Kerberos service principal. Follow the naming conventions outlined in the Principals section. <span class="anchor" id="line-443"></span></li>
        <li>Generate a keytab for the service principal and securely transfer it to the server running the service. Restrict the keytab's file permissions as necessary. <span class="anchor" id="line-444"></span></li>
        <li><p class="line862">Configured the service to access the correct keytab. Many services will use the system keytab (<tt class="backtick">/etc/krb5.keytab</tt>) by default. If the keytab for the service principal is not stored in the system keytab, the service must be configured to read the correct keytab. This is generally done by setting the environment variable <tt class="backtick">KRB5_KTNAME</tt>: <span class="anchor" id="line-445"></span><span class="anchor" id="line-446"></span><span class="anchor" id="line-447"></span></p><pre><span class="anchor" id="line-1-31"></span> $ export KRB5_KTNAME=/path/to/keytab</pre><span class="anchor" id="line-448"></span><p class="line862">This command can often be added to the service's startup procedure by adding it to the service's defaults file in <tt class="backtick">/etc/default</tt>. <span class="anchor" id="line-449"></span><span class="anchor" id="line-450"></span></p></li>
       </ol>
       <p class="line867"> </p>
       <h3 id="Test_and_Troubleshoot">Test and Troubleshoot</h3> 
       <span class="anchor" id="line-451"></span>
       <span class="anchor" id="line-452"></span>
       <p class="line874">Configuration issues are common at this stage, so a test is in order, using the SASL sample client and server. <span class="anchor" id="line-453"></span><span class="anchor" id="line-454"></span></p>
       <ol type="1">
        <li>Make sure the user running the sample server has permission to access to the appropriate keytab. If the keytab for the service principal is stored in a file other than the default system principal (/etc/krb5.keytab), you will need to set the environment variable KRB5_KTNAME: <span class="anchor" id="line-455"></span><span class="anchor" id="line-456"></span><span class="anchor" id="line-457"></span><pre><span class="anchor" id="line-1-32"></span> $ export KRB5_KTNAME=/path/to/keytab</pre><span class="anchor" id="line-458"></span><span class="anchor" id="line-459"></span></li>
        <li class="gap">Start the SASL sample server on the server with the GSSAPI mechanism and the specified service: <span class="anchor" id="line-460"></span><span class="anchor" id="line-461"></span><span class="anchor" id="line-462"></span><pre><span class="anchor" id="line-1-33"></span> $ sasl-sample-server -m GSSAPI -s servicename</pre><span class="anchor" id="line-463"></span><span class="anchor" id="line-464"></span></li>
        <li class="gap"><p class="line862">In a separate terminal <strong>on the server</strong>, initialize a credentials cache for a user using kinit: <span class="anchor" id="line-465"></span><span class="anchor" id="line-466"></span><span class="anchor" id="line-467"></span></p><pre><span class="anchor" id="line-1-34"></span> $ kinit</pre><span class="anchor" id="line-468"></span><span class="anchor" id="line-469"></span></li>
        <li class="gap">In the same terminal, start the SASL sample client: <span class="anchor" id="line-470"></span><span class="anchor" id="line-471"></span><span class="anchor" id="line-472"></span><pre><span class="anchor" id="line-1-35"></span> $ sasl-sample-client -s servicename -n server.fqdn -u user</pre><span class="anchor" id="line-473"></span>Replace "servicename" with the name of the service that is being tested. <span class="anchor" id="line-474"></span><span class="anchor" id="line-475"></span></li>
        <li class="gap">Copy the line beginning with "S: " from the server window to the client window and hit Enter. The client will generate a line beginning with "C: " that must be copy/pasted into the server window. This exchange must be repeated several times. The process should completely with no errors. <span class="anchor" id="line-476"></span><span class="anchor" id="line-477"></span>Here is an example of a successful run from the server side (some lengthly strings elided): <span class="anchor" id="line-478"></span><span class="anchor" id="line-479"></span><span class="anchor" id="line-480"></span><span class="anchor" id="line-481"></span><span class="anchor" id="line-482"></span><span class="anchor" id="line-483"></span><span class="anchor" id="line-484"></span><span class="anchor" id="line-485"></span><span class="anchor" id="line-486"></span><span class="anchor" id="line-487"></span><span class="anchor" id="line-488"></span><span class="anchor" id="line-489"></span><span class="anchor" id="line-490"></span><span class="anchor" id="line-491"></span><span class="anchor" id="line-492"></span><span class="anchor" id="line-493"></span><span class="anchor" id="line-494"></span><span class="anchor" id="line-495"></span><span class="anchor" id="line-496"></span><span class="anchor" id="line-497"></span><span class="anchor" id="line-498"></span><span class="anchor" id="line-499"></span><span class="anchor" id="line-500"></span><span class="anchor" id="line-501"></span><span class="anchor" id="line-502"></span><span class="anchor" id="line-503"></span><span class="anchor" id="line-504"></span><span class="anchor" id="line-505"></span><span class="anchor" id="line-506"></span><span class="anchor" id="line-507"></span><pre><span class="anchor" id="line-1-36"></span> admin@server:~$ sasl-sample-server -m GSSAPI -s ldap
<span class="anchor" id="line-2-15"></span> Forcing use of mechanism GSSAPI
<span class="anchor" id="line-3-9"></span> Sending list of 1 mechanism(s)
<span class="anchor" id="line-4-9"></span> S: R1NTQVBJ
<span class="anchor" id="line-5-7"></span> Waiting for client mechanism...
<span class="anchor" id="line-6-5"></span> C: R1N...
<span class="anchor" id="line-7-4"></span> got 'GSSAPI'
<span class="anchor" id="line-8-3"></span> Sending response...
<span class="anchor" id="line-9-3"></span> S: YIG...
<span class="anchor" id="line-10-3"></span> Waiting for client reply...
<span class="anchor" id="line-11-3"></span> C: 
<span class="anchor" id="line-12-3"></span> got ''
<span class="anchor" id="line-13-3"></span> Sending response...
<span class="anchor" id="line-14-2"></span> S: YD8G...
<span class="anchor" id="line-15-2"></span> Waiting for client reply...
<span class="anchor" id="line-16-2"></span> C: YEc...
<span class="anchor" id="line-17-2"></span> got '...'
<span class="anchor" id="line-18-1"></span> Negotiation complete
<span class="anchor" id="line-19-1"></span> Username: user
<span class="anchor" id="line-20-1"></span> Realm: (NULL)
<span class="anchor" id="line-21"></span> SSF: 56
<span class="anchor" id="line-22"></span> sending encrypted message 'srv message 1'
<span class="anchor" id="line-23"></span> S: AAAAS...
<span class="anchor" id="line-24"></span> Waiting for encrypted message...
<span class="anchor" id="line-25"></span> C: AAAAU...
<span class="anchor" id="line-26"></span> got ''
<span class="anchor" id="line-27"></span> recieved decoded message 'client message 1'</pre><span class="anchor" id="line-508"></span><span class="anchor" id="line-509"></span>The same run, from the client's side: <span class="anchor" id="line-510"></span><span class="anchor" id="line-511"></span><span class="anchor" id="line-512"></span><span class="anchor" id="line-513"></span><span class="anchor" id="line-514"></span><span class="anchor" id="line-515"></span><span class="anchor" id="line-516"></span><span class="anchor" id="line-517"></span><span class="anchor" id="line-518"></span><span class="anchor" id="line-519"></span><span class="anchor" id="line-520"></span><span class="anchor" id="line-521"></span><span class="anchor" id="line-522"></span><span class="anchor" id="line-523"></span><span class="anchor" id="line-524"></span><span class="anchor" id="line-525"></span><span class="anchor" id="line-526"></span><span class="anchor" id="line-527"></span><span class="anchor" id="line-528"></span><span class="anchor" id="line-529"></span><span class="anchor" id="line-530"></span><span class="anchor" id="line-531"></span><span class="anchor" id="line-532"></span><span class="anchor" id="line-533"></span><span class="anchor" id="line-534"></span><span class="anchor" id="line-535"></span><span class="anchor" id="line-536"></span><span class="anchor" id="line-537"></span><span class="anchor" id="line-538"></span><span class="anchor" id="line-539"></span><span class="anchor" id="line-540"></span><span class="anchor" id="line-541"></span><pre><span class="anchor" id="line-1-37"></span> user@server:~$ sasl-sample-client -s ldap -n ldap.server.fqdn -u user
<span class="anchor" id="line-2-16"></span> service=ldap
<span class="anchor" id="line-3-10"></span> Waiting for mechanism list from server...
<span class="anchor" id="line-4-10"></span> S: R1NTQVBJ
<span class="anchor" id="line-5-8"></span> recieved 6 byte message
<span class="anchor" id="line-6-6"></span> Choosing best mechanism from: GSSAPI
<span class="anchor" id="line-7-5"></span> returning OK: user
<span class="anchor" id="line-8-4"></span> Using mechanism GSSAPI
<span class="anchor" id="line-9-4"></span> Preparing initial.
<span class="anchor" id="line-10-4"></span> Sending initial response...
<span class="anchor" id="line-11-4"></span> C: R1N...
<span class="anchor" id="line-12-4"></span> Waiting for server reply...
<span class="anchor" id="line-13-4"></span> S: YIG...
<span class="anchor" id="line-14-3"></span> recieved 153 byte message
<span class="anchor" id="line-15-3"></span> C: 
<span class="anchor" id="line-16-3"></span> Waiting for server reply...
<span class="anchor" id="line-17-3"></span> S: YD8...
<span class="anchor" id="line-18-2"></span> recieved 65 byte message
<span class="anchor" id="line-19-2"></span> Sending response...
<span class="anchor" id="line-20-2"></span> C: YEc...
<span class="anchor" id="line-21-1"></span> Negotiation complete
<span class="anchor" id="line-22-1"></span> Username: user
<span class="anchor" id="line-23-1"></span> SSF: 56
<span class="anchor" id="line-24-1"></span> Waiting for encoded message...
<span class="anchor" id="line-25-1"></span> S: AAAAS...
<span class="anchor" id="line-26-1"></span> recieved 77 byte message
<span class="anchor" id="line-27-1"></span> recieved decoded message 'srv message 1'
<span class="anchor" id="line-28"></span> sending encrypted message 'client message 1'
<span class="anchor" id="line-29"></span> C: AAAAU...</pre><span class="anchor" id="line-542"></span><span class="anchor" id="line-543"></span><p class="line862">Address any error messages before continuing. The Troubleshooting section of <a class="http" href="http://mah.everybody.org/docs/sasl-gssapi/">http://mah.everybody.org/docs/sasl-gssapi/</a> contains several common failure modes and their solutions. <span class="anchor" id="line-544"></span><span class="anchor" id="line-545"></span></p></li>
        <li class="gap">Repeat the same process with the sample server running on the server and the sample client running on a host that will need to access the service. <span class="anchor" id="line-546"></span><span class="anchor" id="line-547"></span></li>
       </ol>
       <p class="line867"> </p>
       <h1 id="Troubleshooting">Troubleshooting</h1> 
       <span class="anchor" id="line-548"></span>
       <span class="anchor" id="line-549"></span>
       <p class="line874">Kerberos is fairly fault-tolerant, if the requisite services are in place. If Kerberos authentication fails, check the following: <span class="anchor" id="line-550"></span><span class="anchor" id="line-551"></span></p>
       <ol type="1">
        <li><p class="line862">The user has a valid ticket (use <tt class="backtick">klist</tt>). <span class="anchor" id="line-552"></span></p></li>
        <li><p class="line862">Basic network connectivity is available (use <tt class="backtick">ping</tt>). <span class="anchor" id="line-553"></span></p></li>
        <li>Forward DNS hostname lookup succeeds on both the KDC and the local machine. <span class="anchor" id="line-554"></span></li>
        <li><p class="line862">Reverse DNS lookup succeeds on both the KDC and local machine, or rdns is set to false in <tt class="backtick">krb5.conf</tt> <span class="anchor" id="line-555"></span></p></li>
        <li>The clocks of the KDC and local machine are synchronized. <span class="anchor" id="line-556"></span></li>
        <li><p class="line862">The file permissions for various critical files such as <tt class="backtick">/etc/krb5.keytab</tt> are correct and accessible by the user or service in question. <tt class="backtick">sudo&nbsp;-u&nbsp;&lt;username&gt;</tt> can be helpful for this. <span class="anchor" id="line-557"></span><span class="anchor" id="line-558"></span></p></li>
       </ol>
       <p class="line862">Following the KDC logs while attempting an operation can also be very informative. The following lines in <tt class="backtick">/etc/krb5kdc/kdc.conf</tt> will enable KDC logging: <span class="anchor" id="line-559"></span><span class="anchor" id="line-560"></span><span class="anchor" id="line-561"></span><span class="anchor" id="line-562"></span></p>
       <pre><span class="anchor" id="line-1-38"></span>[logging]
<span class="anchor" id="line-2-17"></span>       kdc = FILE:/var/log/krb5kdc.log</pre>
       <span class="anchor" id="line-563"></span>
       <span class="anchor" id="line-564"></span>
       <p class="line862">If you had to edit <tt class="backtick">kdc.conf</tt> to enable logging, restart the KDC to apply the changes: <span class="anchor" id="line-565"></span><span class="anchor" id="line-566"></span><span class="anchor" id="line-567"></span></p>
       <pre><span class="anchor" id="line-1-39"></span>$ sudo service krb5-kdc restart</pre>
       <span class="anchor" id="line-568"></span>
       <span class="anchor" id="line-569"></span>
       <p class="line874">Once logging is enabled, you can follow the log while attempting an operation: <span class="anchor" id="line-570"></span><span class="anchor" id="line-571"></span><span class="anchor" id="line-572"></span></p>
       <pre><span class="anchor" id="line-1-40"></span>$ sudo tail -f /var/log/krb5kdc.log</pre>
       <span class="anchor" id="line-573"></span>
       <span class="anchor" id="line-574"></span>
       <p class="line867"> </p>
       <h1 id="Further_Reading">Further Reading</h1> 
       <span class="anchor" id="line-575"></span>
       <ul>
        <li><p class="line862">The Ubuntu Server Guides from the <a class="https" href="https://help.ubuntu.com/">official Ubuntu documentation</a> provide a great deal of useful information. <span class="anchor" id="line-576"></span></p></li>
        <li><p class="line891"><a class="http" href="http://www.visolve.com/security/ssh_kerberos.php">OpenSSH &amp; Kerberos</a> A detailed guide to SSH authentication with Kerberos. <span class="anchor" id="line-577"></span></p></li>
        <li><p class="line891"><a class="http" href="http://web.mit.edu/Kerberos/">MIT's Kerberos site</a> <span class="anchor" id="line-578"></span></p></li>
        <li><p class="line891"><a class="http" href="http://web.mit.edu/Kerberos/dialogue.html">Designing an Authentication System</a> <span class="anchor" id="line-579"></span></p></li>
        <li><p class="line891"><a class="http" href="http://www.ncsa.illinois.edu/UserInfo/Resources/Software/kerberos/troubleshooting.html">NCSA Kerberos Troubleshooting for Unix</a> <span class="anchor" id="line-580"></span><span class="anchor" id="line-581"></span></p></li>
       </ul>
       <p class="line867"> </p>
       <h1 id="Acknowledgements">Acknowledgements</h1> 
       <span class="anchor" id="line-582"></span>
       <p class="line862">Parts of this document are derived from the <a href="/community/SingleSignOn">SingleSignOn</a> and Samba/Kerberos documentation. Many thanks to the authors of both documents. <span class="anchor" id="line-583"></span></p>
       <div class="footnotes">
        <ol>
         <li><p><a id="fnref-d1a91bfea0ecb9acea09b5dd7000d705c7f4c482"></a><span class="anchor" id="line-1-1"></span><a class="http" href="http://httpd.apache.org/docs/current/howto/auth.html">http://httpd.apache.org/docs/current/howto/auth.html</a> (<a href="#fndef-d1a91bfea0ecb9acea09b5dd7000d705c7f4c482-0">1</a>)</p></li>
        </ol>
       </div>
       <span class="anchor" id="bottom"></span>
      </div>
      <div id="pagebottom"></div> 
     </div> 
    </div> 
    <p id="pageinfo" class="info" lang="en" dir="ltr">Kerberos (last edited 2014-11-18 22:29:21 by <span title="eztenia @ mail.lupusllc.com[50.243.104.97]"><a class="interwiki" href="https://launchpad.net/~eztenia" title="eztenia @ mail.lupusllc.com[50.243.104.97]">eztenia</a></span>)</p> 
   </div> 
   <div id="footer"> 
    <p> The material on this wiki is available under a free license, see <a href="https://help.ubuntu.com/community/
		License">Copyright / License</a> for details<br><b>You</b> can contribute to this wiki, see <a href="https://help.ubuntu.com/community/WikiGuide">Wiki Guide</a> for details </p> 
   </div> 
  </div>  
 </body>
</html>