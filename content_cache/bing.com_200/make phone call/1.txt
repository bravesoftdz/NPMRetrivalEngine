<!doctype html>
<html class="no-js hasSidebar hasPageActions hasBreadcrumb " lang="en-us" dir="ltr">
 <head> 
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <meta property="og:title" content="How to Make a phone call from Twilio (Java)"> 
  <meta property="og:image" content="https://docs.microsoft.com/_themes/docs.theme/master/en-us/_themes/images/microsoft-header.png"> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:site" content="@docsmsft"> 
  <meta name="twitter:title" content="How to Make a phone call from Twilio (Java)"> 
  <meta name="twitter:description" content="Learn how to make a phone call from a web page using Twilio in a Java application on Azure."> 
  <meta name="twitter:image" content="https://docs.microsoft.com/_themes/docs.theme/master/en-us/_themes/images/microsoft-header.png"> 
  <meta name="twitter:image:alt" content="Microsoft Logo"> 
  <meta name="breadcrumb_path" content="/azure/bread/toc.json"> 
  <meta name="ms.devlang" content="Java"> 
  <meta name="ms.tgt_pltfrm" content="na"> 
  <meta name="ms.assetid" content="0381789e-e775-41a0-a784-294275192b1d"> 
  <meta name="author" content="devinrader"> 
  <meta name="editor" content="mollybos"> 
  <meta name="description" content="Learn how to make a phone call from a web page using Twilio in a Java application on Azure."> 
  <meta name="ms.author" content="microsofthelp@twilio.com"> 
  <meta name="manager" content="twilio"> 
  <meta name="documentationcenter" content="java"> 
  <meta name="ms.topic" content="article"> 
  <meta name="services" content=""> 
  <meta name="ms.service" content="multiple"> 
  <meta name="ms.date" content="11/25/2014"> 
  <meta name="ms.workload" content="na"> 
  <meta name="search.ms_sitename" content="Docs"> 
  <meta name="search.ms_docsetname" content="azure-documents"> 
  <meta name="version" content="0"> 
  <meta name="locale" content="en-us"> 
  <meta name="site_name" content="Docs"> 
  <meta name="search.ms_product" content="Azure"> 
  <meta name="depot_name" content="Azure.azure-documents"> 
  <meta name="updated_at" content="2017-06-27 02:38 AM"> 
  <meta name="gitcommit" content="https://github.com/MicrosoftDocs/azure-docs-pr/blob/2ea002938d69ad34aff421fa0eb753e449724a8f/articles/partner-twilio-java-phone-call-example.md"> 
  <meta name="original_content_git_url" content="https://github.com/MicrosoftDocs/azure-docs-pr/blob/live/articles/partner-twilio-java-phone-call-example.md"> 
  <meta name="document_id" content="9f237163-1a67-db55-65e3-ecce276ec6eb"> 
  <meta name="pagetype" content="Conceptual"> 
  <meta name="pdf_url_template" content="https://docs.microsoft.com/pdfstore/en-us/Azure.azure-documents/{branchName}{pdfName}"> 
  <meta name="word_count" content="1223"> 
  <meta name="scope" content="Azure"> 
  <link href="https://docs.microsoft.com/en-us/azure/partner-twilio-java-phone-call-example" rel="canonical"> 
  <title>How to Make a phone call from Twilio (Java) | Microsoft Docs</title> 
  <link rel="stylesheet" href="/_themes/docs.theme/master/en-us/_themes/css/870b0825531b1b071dff.site.css "> 
  <link rel="stylesheet" href="/_themes/docs.theme/master/en-us/_themes/css/870b0825531b1b071dff.conceptual.css "> 
  <link rel="stylesheet" href="/_themes/docs.theme/master/en-us/_themes/global/css/azureHeader.css?v=4"> 
  <link rel="stylesheet" href="https://azure.microsoft.com/en-us/asset/menucss/"> 
  <script>
	var msDocs = {
		data:{
			contentLocale: 'en-us',
			contentDir: 'ltr',
			userLocale: 'en-us',
			userDir: 'ltr',
			pathToTheme: '/_themes/docs.theme/master/en-us/_themes/',
			pageTemplate: 'Conceptual',
			brand: 'azure',
			forceVersionPicker:false		},
		functions:{},
		settings:{
			extendBreadcrumb: false
		}
	};
	if (!('Promise' in window && 'resolve' in window.Promise && 'reject' in window.Promise && 'all' in window.Promise && 'race' in window.Promise)) {
		document.write('<script src="/_themes/docs.theme/master/en-us/_themes/global/js/bluebird.min.js"><\/script>');
	}
	</script> 
  <!--[if lt IE 9]>
		<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.4.min.js"></script>
		<script src="/_themes/docs.theme/master/en-us/_themes/global/js/polyfills/all.js"></script>
<script src="/_themes/docs.theme/master/en-us/_themes/global/js/azureHeader/respond_and_ie8Setup_combine.js"></script>	<![endif]--> 
  <!--[if gte IE 9]><!--> 
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.min.js"></script> 
  <!--<![endif]--> 
  <script>window.jQuery || document.write('<script src="/_themes/docs.theme/master/en-us/_themes/global/js/jquery/jquery-1.12.4.min.js"><\/script>')</script> 
  <script src="/_themes/docs.theme/master/en-us/_themes/global/js/global.min.js?v=263"></script> 
  <script src="/_themes/docs.theme/master/en-us/_themes/global/js/azureHeader/loader.js?v=4"></script> 
 </head> 
 <body> 
  <div id="lca-cookie-notification" class="cookieContainer"> 
  </div> 
  <div id="headerAreaHolder" class="az_h default" ms.pgarea="header" data-bi-name="header"> 
   <div class="azure-header_holder"> 
    <div class="azure-header"> 
     <header class="azure-header_temp"> 
      <div class="row column"> 
       <a href="https://azure.microsoft.com/en-us/" class="logo" title="Microsoft Azure"> 
        <svg x="0px" y="0px" width="165px" height="20px" viewbox="0 0 165 20"> 
         <path fill="#29A5DE" d="M18,19H16V7.1C16,6.2,16,5,16.1,3.7h0c-0.2,0.8-0.4,1.4-0.5,1.7L9.5,19h-1l-6-13.5c-0.2-0.4-0.3-1-0.5-1.8
							h0C2,4.4,2,5.5,2,7.1V19H0V1.3h2.7l5.4,12.3c0.4,0.9,0.7,1.7,0.8,2.1H9c0.4-1,0.6-1.7,0.9-2.2l5.5-12.3H18V19z" /> 
         <path fill="#29A5DE" d="M22.8,3.1c-0.4,0-0.7-0.1-0.9-0.4s-0.4-0.6-0.4-0.9s0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4
							c0.4,0,0.7,0.1,0.9,0.4c0.3,0.3,0.4,0.6,0.4,0.9c0,0.4-0.1,0.7-0.4,0.9C23.5,3,23.2,3.1,22.8,3.1z M23.8,19h-2V6.3h2V19z" /> 
         <path fill="#29A5DE" d="M35.8,18.4c-1,0.6-2.1,0.9-3.5,0.9c-1.8,0-3.3-0.6-4.4-1.8c-1.1-1.2-1.7-2.7-1.7-4.6c0-2.1,0.6-3.7,1.8-5
							C29.4,6.7,30.9,6,32.9,6C34,6,35,6.2,35.9,6.7v2.1c-0.9-0.7-1.9-1-3-1c-1.3,0-2.3,0.5-3.2,1.4c-0.8,0.9-1.2,2.1-1.2,3.6
							c0,1.5,0.4,2.6,1.2,3.5c0.8,0.9,1.8,1.3,3.1,1.3c1.1,0,2.1-0.4,3.1-1.1V18.4z" /> 
         <path fill="#29A5DE" d="M44.9,8.4C44.5,8.1,44,8,43.3,8c-0.9,0-1.6,0.4-2.2,1.2c-0.6,0.8-0.9,1.9-0.9,3.3V19h-2V6.3h2v2.6h0
							c0.3-0.9,0.7-1.6,1.3-2.1c0.6-0.5,1.3-0.7,2-0.7c0.5,0,0.9,0.1,1.2,0.2V8.4z" /> 
         <path fill="#29A5DE" d="M51.4,19.3c-1.9,0-3.4-0.6-4.5-1.8c-1.1-1.2-1.7-2.7-1.7-4.7c0-2.1,0.6-3.8,1.7-5S49.7,6,51.7,6
							c1.9,0,3.4,0.6,4.4,1.7c1.1,1.2,1.6,2.8,1.6,4.8c0,2-0.6,3.6-1.7,4.8C54.8,18.6,53.3,19.3,51.4,19.3z M51.5,7.7
							c-1.3,0-2.3,0.4-3.1,1.3c-0.8,0.9-1.1,2.1-1.1,3.7c0,1.5,0.4,2.7,1.1,3.5c0.8,0.9,1.8,1.3,3.1,1.3c1.3,0,2.3-0.4,3-1.3
							c0.7-0.8,1.1-2,1.1-3.6c0-1.6-0.4-2.8-1.1-3.6C53.8,8.2,52.8,7.7,51.5,7.7z" /> 
         <path fill="#29A5DE" d="M59.5,18.5v-2.2c1.1,0.8,2.3,1.2,3.6,1.2c1.8,0,2.7-0.6,2.7-1.8c0-0.3-0.1-0.6-0.2-0.9
							c-0.2-0.2-0.4-0.4-0.6-0.6c-0.3-0.2-0.6-0.3-0.9-0.5c-0.3-0.1-0.7-0.3-1.1-0.4c-0.6-0.2-1-0.4-1.5-0.7c-0.4-0.2-0.8-0.5-1.1-0.8
							c-0.3-0.3-0.5-0.6-0.6-1c-0.1-0.4-0.2-0.8-0.2-1.3c0-0.6,0.1-1.1,0.4-1.6C60.2,7.7,60.5,7.3,61,7c0.5-0.3,1-0.5,1.5-0.7
							C63.1,6.1,63.7,6,64.3,6c1.1,0,2.1,0.2,2.9,0.6v2c-0.9-0.6-2-0.9-3.2-0.9c-0.4,0-0.7,0-1,0.1c-0.3,0.1-0.6,0.2-0.8,0.4
							c-0.2,0.2-0.4,0.3-0.5,0.6c-0.1,0.2-0.2,0.5-0.2,0.7c0,0.3,0.1,0.6,0.2,0.8c0.1,0.2,0.3,0.4,0.5,0.6c0.2,0.2,0.5,0.3,0.8,0.5
							c0.3,0.1,0.7,0.3,1.1,0.5c0.6,0.2,1.1,0.4,1.5,0.7c0.4,0.2,0.8,0.5,1.1,0.8c0.3,0.3,0.6,0.6,0.7,1c0.2,0.4,0.3,0.8,0.3,1.3
							c0,0.6-0.1,1.2-0.4,1.6c-0.3,0.5-0.6,0.8-1.1,1.1c-0.5,0.3-1,0.5-1.6,0.7c-0.6,0.1-1.2,0.2-1.9,0.2C61.6,19.3,60.4,19,59.5,18.5z" /> 
         <path fill="#29A5DE" d="M75.6,19.3c-1.9,0-3.4-0.6-4.5-1.8c-1.1-1.2-1.7-2.7-1.7-4.7c0-2.1,0.6-3.8,1.7-5C72.4,6.6,73.9,6,75.9,6
							c1.9,0,3.4,0.6,4.4,1.7c1.1,1.2,1.6,2.8,1.6,4.8c0,2-0.6,3.6-1.7,4.8C79,18.6,77.5,19.3,75.6,19.3z M75.7,7.7
							c-1.3,0-2.3,0.4-3.1,1.3c-0.8,0.9-1.1,2.1-1.1,3.7c0,1.5,0.4,2.7,1.1,3.5c0.8,0.9,1.8,1.3,3.1,1.3c1.3,0,2.3-0.4,3-1.3
							c0.7-0.8,1.1-2,1.1-3.6c0-1.6-0.4-2.8-1.1-3.6C78.1,8.2,77,7.7,75.7,7.7z" /> 
         <path fill="#29A5DE" d="M97.6,8.1V6.3h-3.2V2.6l-2,0.7v3.1h-2.6h-1.5h-1.4V4.4c0-1.8,0.7-2.7,2.1-2.7c0.5,0,0.9,0.1,1.3,0.3V0.2
							C89.9,0.1,89.4,0,88.8,0c-1.1,0-2.1,0.4-2.9,1.2c-0.8,0.8-1.1,1.8-1.1,3.1v2h-2.2v1.7h2.2V19h2V8.1h1.4h1.5h2.6v7.5
							c0,2.5,1.1,3.7,3.3,3.7c0.8,0,1.4-0.1,1.9-0.4v-1.7c-0.4,0.3-0.8,0.4-1.3,0.4c-0.7,0-1.1-0.2-1.4-0.5c-0.3-0.4-0.4-1-0.4-1.8V8.1
							H97.6z" /> 
         <path fill="#29A5DE" d="M119.9,19h-2.3l-1.9-5h-7.5l-1.8,5h-2.3L111,1.3h2.1L119.9,19z M115.1,12.1l-2.8-7.5
							c-0.1-0.2-0.2-0.6-0.3-1.2h0c-0.1,0.5-0.2,0.9-0.3,1.2l-2.7,7.5H115.1z" /> 
         <path fill="#29A5DE" d="M130.4,6.9l-7.5,10.3h7.4V19H120v-0.6l7.5-10.3h-6.8V6.3h9.7V6.9z" /> 
         <path fill="#29A5DE" d="M142.6,19h-2v-2h0c-0.8,1.5-2.1,2.3-3.9,2.3c-3,0-4.5-1.8-4.5-5.4V6.3h2v7.2c0,2.7,1,4,3.1,4
							c1,0,1.8-0.4,2.4-1.1c0.6-0.7,1-1.7,1-2.9V6.3h2V19z" /> 
         <path fill="#29A5DE" d="M152.6,8.4c-0.4-0.3-0.9-0.4-1.5-0.4c-0.9,0-1.6,0.4-2.2,1.2c-0.6,0.8-0.9,1.9-0.9,3.3V19h-2V6.3h2v2.6h0
							c0.3-0.9,0.7-1.6,1.3-2.1c0.6-0.5,1.3-0.7,2-0.7c0.5,0,0.9,0.1,1.2,0.2V8.4z" /> 
         <path fill="#29A5DE" d="M164,13.1h-8.9c0,1.4,0.4,2.5,1.1,3.3c0.7,0.8,1.7,1.1,3,1.1c1.4,0,2.7-0.5,3.9-1.4V18
							c-1.1,0.8-2.6,1.2-4.4,1.2c-1.8,0-3.2-0.6-4.2-1.7c-1-1.1-1.5-2.8-1.5-4.8c0-2,0.6-3.6,1.7-4.8c1.1-1.2,2.5-1.9,4.1-1.9
							s2.9,0.5,3.8,1.6s1.4,2.6,1.4,4.4V13.1z M161.9,11.4c0-1.2-0.3-2.1-0.8-2.7c-0.6-0.6-1.3-1-2.3-1c-1,0-1.8,0.3-2.4,1
							c-0.7,0.7-1.1,1.6-1.2,2.7H161.9z" /> 
        </svg> </a> 
       <a href="#" class="small-search" onclick="return false"><span class="icon icon-search"></span></a> 
      </div> 
     </header> 
    </div> 
   </div> 
  </div> 
  <div class="container mainContainer" lang="en-us" dir="ltr" ms.pgarea="body" data-bi-name="body"> 
   <main role="main" ms.cmpgrp="content" data-bi-name="content"> 
    <div id="main"> 
     <h1 id="how-to-make-a-phone-call-using-twilio-in-a-java-application-on-azure" sourcefile="articles/partner-twilio-java-phone-call-example.md" sourcestartlinenumber="20" sourceendlinenumber="20">How to Make a Phone Call Using Twilio in a Java Application on Azure</h1> 
     <div class="metadata loading" ms.cmpgrp="page info" data-bi-name="page info"> 
      <div> 
       <time class="date" datetime="11/25/2014 12:00:00 AM">2014-11-25</time> 
       <span class="reading-time">6 minutes to read</span> 
       <span class="contributors-text">Contributors</span> 
       <ul class="contributors" ms.cmpgrp="contributors" data-bi-name="contributors"> 
        <li><a href="https://github.com/devinrader" title="Devin Rader" ms.cmpnm="contributorprofile" data-bi-name="contributorprofile"><img src="https://github.com/devinrader.png?size=16" alt="Devin Rader"></a></li> 
        <li><a href="https://github.com/rmcmurray" title="rmcmurray" ms.cmpnm="contributorprofile" data-bi-name="contributorprofile"><img src="https://github.com/rmcmurray.png?size=16" alt="rmcmurray"></a></li> 
        <li><a href="https://github.com/SunnyDeng" title="Sunny Deng" ms.cmpnm="contributorprofile" data-bi-name="contributorprofile"><img src="https://github.com/SunnyDeng.png?size=16" alt="Sunny Deng"></a></li> 
        <li><a href="https://github.com/mollybostic" title="Molly Bostic" ms.cmpnm="contributorprofile" data-bi-name="contributorprofile"><img src="https://github.com/mollybostic.png?size=16" alt="Molly Bostic"></a></li> 
        <li><a href="https://github.com/v-aljenk" title="Alma Jenks" ms.cmpnm="contributorprofile" data-bi-name="contributorprofile"><img src="https://github.com/v-aljenk.png?size=16" alt="Alma Jenks"></a></li> 
       </ul> 
      </div> 
      <nav id="center-doc-outline" class="doc-outline" ms.cmpgrp="intopic toc" data-bi-name="intopic toc" role="navigation" aria-label="On page navigation"> 
       <h3>In this article</h3> 
      </nav> 
     </div> 
     <div>
      <div class="content"> 
       <p>The following example shows you how you can use Twilio to make a call from a web page hosted in Azure. The resulting application will prompt the user for phone call values, as shown in the following screen shot.</p> 
       <p><img src="media/partner-twilio-java-phone-call-example/wa_twiliojavacallform.jpg" alt="Azure Call Form Using Twilio and Java" data-linktype="relative-path"></p> 
       <p>You'll need to do the following to use the code in this topic:</p> 
       <ol> 
        <li>Acquire a Twilio account and authentication token. To get started with Twilio, evaluate pricing at <a href="http://www.twilio.com/pricing" data-linktype="external">http://www.twilio.com/pricing</a>. You can sign up at <a href="http://www.twilio.com/try-twilio" data-linktype="external">https://www.twilio.com/try-twilio</a>. For information about the API provided by Twilio, see <a href="http://www.twilio.com/api" data-linktype="external">http://www.twilio.com/api</a>.</li> 
        <li>Obtain the Twilio JAR. At <a href="http://github.com/twilio/twilio-java" data-linktype="external">https://github.com/twilio/twilio-java</a>, you can download the GitHub sources and create your own JAR, or download a pre-built JAR (with or without dependencies). The code in this topic was written using the pre-built TwilioJava-3.3.8-with-dependencies JAR.</li> 
        <li>Add the JAR to your Java build path.</li> 
        <li>If you are using Eclipse to create this Java application, include the Twilio JAR in your application deployment file (WAR) using Eclipse's deployment assembly feature. If you are not using Eclipse to create this Java application, ensure the Twilio JAR is included within the same Azure role as your Java application, and added to the class path of your application.</li> 
        <li>Ensure your cacerts keystore contains the Equifax Secure Certificate Authority certificate with MD5 fingerprint 67:CB:9D:C0:13:24:8A:82:9B:B2:17:1E:D1:1B:EC:D4 (the serial number is 35:DE:F4:CF and the SHA1 fingerprint is D2:32:09:AD:23:D3:14:23:21:74:E4:0D:7F:9D:62:13:97:86:63:3A). This is the certificate authority (CA) certificate for the <a href="http://api.twilio.com" data-linktype="external">https://api.twilio.com</a> service, which is called when you use Twilio APIs. For information about adding this CA certificate to your JDK's cacert store, see <a href="java-add-certificate-ca-store" data-linktype="relative-path">Adding a Certificate to the Java CA Certificate Store</a>.</li> 
       </ol> 
       <p>Additionally, familiarity with the information at <a href="http://msdn.microsoft.com/library/windowsazure/hh690944.aspx" data-linktype="external">Creating a Hello World Application Using the Azure Toolkit for Eclipse</a>, or with other techniques for hosting Java applications in Azure if you are not using Eclipse, is highly recommended.</p> 
       <h2 id="create-a-web-form-for-making-a-call">Create a web form for making a call</h2> 
       <p>The following code shows how to create a web form to retrieve user data for making a call. For purposes of this example, a new dynamic web project, named <strong>TwilioCloud</strong>, was created, and <strong>callform.jsp</strong> was added as a JSP file.</p> 
       <pre><code>&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1" %&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;Automated call form&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
 &lt;p&gt;Fill in all fields and click &lt;b&gt;Make this call&lt;/b&gt;.&lt;/p&gt;
 &lt;br/&gt;
  &lt;form action="makecall.jsp" method="post"&gt;
   &lt;table&gt;
     &lt;tr&gt;
       &lt;td&gt;To:&lt;/td&gt;
       &lt;td&gt;&lt;input type="text" size=50 name="callTo" value="" /&gt;
       &lt;/td&gt;
     &lt;/tr&gt;
     &lt;tr&gt;
       &lt;td&gt;From:&lt;/td&gt;
       &lt;td&gt;&lt;input type="text" size=50 name="callFrom" value="" /&gt;
       &lt;/td&gt;
     &lt;/tr&gt;
     &lt;tr&gt;
       &lt;td&gt;Call message:&lt;/td&gt;
       &lt;td&gt;&lt;input type="text" size=400 name="callText" value="Hello. This is the call text. Good bye." /&gt;
       &lt;/td&gt;
     &lt;/tr&gt;
     &lt;tr&gt;
       &lt;td colspan=2&gt;&lt;input type="submit" value="Make this call" /&gt;
       &lt;/td&gt;
     &lt;/tr&gt;
   &lt;/table&gt;
 &lt;/form&gt;
 &lt;br/&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
       <h2 id="create-the-code-to-make-the-call">Create the code to make the call</h2> 
       <p>The following code, which is called when the user completes the form displayed by callform.jsp, creates the call message and generates the call. For purposes of this example, the JSP file is named <strong>makecall.jsp</strong> and was added to the <strong>TwilioCloud</strong> project. (Use your Twilio account and authentication token instead of the placeholder values assigned to <strong>accountSID</strong> and <strong>authToken</strong> in the code below.)</p> 
       <pre><code>&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
import="java.util.*"
import="com.twilio.*"
import="com.twilio.sdk.*"
import="com.twilio.sdk.resource.factory.*"
import="com.twilio.sdk.resource.instance.*"
pageEncoding="ISO-8859-1" %&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;Call processing happens here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;b&gt;This is my make call page.&lt;/b&gt;&lt;p/&gt;
 &lt;%
try 
{
     // Use your account SID and authentication token instead
     // of the placeholders shown here.
     String accountSID = "your_twilio_account";
     String authToken = "your_twilio_authentication_token";

     // Instantiate an instance of the Twilio client.     
     TwilioRestClient client;
     client = new TwilioRestClient(accountSID, authToken);

     // Retrieve the account, used later to retrieve the CallFactory.
     Account account = client.getAccount();

     // Display the client endpoint. 
     out.println("&lt;p&gt;Using Twilio endpoint " + client.getEndpoint() + ".&lt;/p&gt;");

     // Display the API version.
     String APIVERSION = TwilioRestClient.DEFAULT_VERSION;
     out.println("&lt;p&gt;Twilio client API version is " + APIVERSION + ".&lt;/p&gt;");

     // Retrieve the values entered by the user.
     String callTo = request.getParameter("callTo");  
     // The Outgoing Caller ID, used for the From parameter,
     // must have previously been verified with Twilio.
     String callFrom = request.getParameter("callFrom");
     String userText = request.getParameter("callText");

     // Replace spaces in the user's text with '%20', 
     // to make the text suitable for a URL.
     userText = userText.replace(" ", "%20");

     // Create a URL using the Twilio message and the user-entered text.
     String Url="http://twimlets.com/message";
     Url = Url + "?Message%5B0%5D=" + userText;

     // Display the message URL.
     out.println("&lt;p&gt;");
     out.println("The URL is " + Url);
     out.println("&lt;/p&gt;");

     // Place the call From, To and URL values into a hash map. 
     HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();
     params.put("From", callFrom);
     params.put("To", callTo);
     params.put("Url", Url);

     CallFactory callFactory = account.getCallFactory();
     Call call = callFactory.create(params);
     out.println("&lt;p&gt;Call status: " + call.getStatus()  + "&lt;/p&gt;"); 
} 
catch (TwilioRestException e) 
{
    out.println("&lt;p&gt;TwilioRestException encountered: " + e.getMessage() + "&lt;/p&gt;");
    out.println("&lt;p&gt;StackTrace: " + e.getStackTrace().toString() + "&lt;/p&gt;");
}
catch (Exception e) 
{
    out.println("&lt;p&gt;Exception encountered: " + e.getMessage() + "");
    out.println("&lt;p&gt;StackTrace: " + e.getStackTrace().toString() + "&lt;/p&gt;");
}
%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
       <p>In addition to making the call, makecall.jsp displays the Twilio endpoint, API version, and the call status. An example is the following screen shot:</p> 
       <p><img src="media/partner-twilio-java-phone-call-example/wa_twiliojavamakecall.jpg" alt="Azure Call Response Using Twilio and Java" data-linktype="relative-path"></p> 
       <h2 id="run-the-application">Run the application</h2> 
       <p>Following are the high-level steps to run your application; details for these steps can be found at <a href="http://msdn.microsoft.com/library/windowsazure/hh690944.aspx" data-linktype="external">Creating a Hello World Application Using the Azure Toolkit for Eclipse</a>.</p> 
       <ol> 
        <li>Export your TwilioCloud WAR to the Azure <strong>approot</strong> folder. </li> 
        <li>Modify <strong>startup.cmd</strong> to unzip your TwilioCloud WAR.</li> 
        <li>Compile your application for the compute emulator.</li> 
        <li>Start your deployment in the compute emulator.</li> 
        <li>Open a browser, and run <strong><a href="http://localhost:8080/TwilioCloud/callform.jsp" data-linktype="external">http://localhost:8080/TwilioCloud/callform.jsp</a></strong>.</li> 
        <li>Enter values in the form, click <strong>Make this call</strong>, and then see the results in makecall.jsp.</li> 
       </ol> 
       <p>When you are ready to deploy to Azure, recompile for deployment to the cloud, deploy to Azure, and run http://<em>your_hosted_name</em>.cloudapp.net/TwilioCloud/callform.jsp in the browser (substitute your value for <em>your_hosted_name</em>).</p> 
       <h2 id="next-steps">Next steps</h2> 
       <p>This code was provided to show you basic functionality using Twilio in Java on Azure. Before deploying to Azure in production, you may want to add more error handling or other features. For example:</p> 
       <ul> 
        <li>Instead of using a web form, you could use Azure storage blobs or SQL Database to store phone numbers and call text. For information about using Azure storage blobs in Java, see <a href="http://www.windowsazure.com/develop/java/how-to-guides/blob-storage/" data-linktype="external">How to Use the Blob Storage Service from Java</a>. For information about using SQL Database in Java, see <a href="http://msdn.microsoft.com/library/windowsazure/hh749029.aspx" data-linktype="external">Using SQL Database in Java</a>.</li> 
        <li>You could use <strong>RoleEnvironment.getConfigurationSettings</strong> to retrieve the Twilio account ID and authentication token from your deployment's configuration settings, instead of hard-coding the values in makecall.jsp. For information about the <strong>RoleEnvironment</strong> class, see <a href="http://msdn.microsoft.com/library/windowsazure/hh690948.aspx" data-linktype="external">Using the Azure Service Runtime Library in JSP</a> and the Azure Service Runtime package documentation at <a href="http://dl.windowsazure.com/javadoc" data-linktype="external">http://dl.windowsazure.com/javadoc</a>.</li> 
        <li>The makecall.jsp code assigns a Twilio-provided URL, <a href="http://twimlets.com/message" data-linktype="external">http://twimlets.com/message</a>, to the <strong>Url</strong> variable. This URL provides a Twilio Markup Language (TwiML) response that informs Twilio how to proceed with the call. For example, the TwiML that is returned can contain a <strong>&lt;Say&gt;</strong> verb that results in text being spoken to the call recipient. Instead of using the Twilio-provided URL, you could build your own service to respond to Twilio's request; for more information, see <a href="partner-twilio-java-how-to-use-voice-sms" data-linktype="relative-path">How to Use Twilio for Voice and SMS Capabilities in Java</a>. More information about TwiML can be found at <a href="http://www.twilio.com/docs/api/twiml" data-linktype="external">http://www.twilio.com/docs/api/twiml</a>, and more information about <strong>&lt;Say&gt;</strong> and other Twilio verbs can be found at <a href="http://www.twilio.com/docs/api/twiml/say" data-linktype="external">http://www.twilio.com/docs/api/twiml/say</a>.</li> 
        <li>Read the Twilio security guidelines at <a href="http://www.twilio.com/docs/security" data-linktype="external">https://www.twilio.com/docs/security</a>.</li> 
       </ul> 
       <p>For additional information about Twilio, see <a href="http://www.twilio.com/docs" data-linktype="external">https://www.twilio.com/docs</a>.</p> 
       <h2 id="see-also">See Also</h2> 
       <ul> 
        <li><a href="partner-twilio-java-how-to-use-voice-sms" data-linktype="relative-path">How to Use Twilio for Voice and SMS Capabilities in Java</a></li> 
        <li><a href="java-add-certificate-ca-store" data-linktype="relative-path">Adding a Certificate to the Java CA Certificate Store</a></li> 
       </ul> 
      </div>
     </div> 
     <div id="comments-container" ms.cmpgrp="comments" data-bi-name="comments" role="form"></div> 
    </div> 
   </main> 
   <div class="pageActions"> 
    <div id="page-actions" ms.cmpgrp="pageactions" data-bi-name="pageactions" role="complementary"> 
     <div id="page-actions-content"> 
      <ul class="action-list"> 
       <li> <a href="#comments-container" id="comments-link" ms.cmpnm="comments" data-bi-name="comments"> <i class="icon icon-comments"></i>Comments </a> </li> 
       <li id="contenteditbtn"> <a href="https://github.com/Microsoft/azure-docs/blob/master/articles/partner-twilio-java-phone-call-example.md" title="Edit This Document" ms.cmpnm="edit" data-bi-name="edit"> <i class="icon icon-editor"></i>Edit </a> </li> 
       <li> <a href="#" class="sharebutton" title="Share This Document" ms.cmpnm="share" data-bi-name="share"><i class="icon icon-share"></i>Share</a> 
        <div class="share-container"> 
         <div>
          <a href="" class="share-twitter" ms.cmpnm="twitter" data-bi-name="twitter"><i class="icon icon-twitter"></i>Twitter</a>
         </div> 
         <div>
          <a href="" class="share-linkedin" ms.cmpnm="share-linkedin" data-bi-name="linkedin"><i class="icon icon-linkedin"></i>LinkedIn</a>
         </div> 
         <div>
          <a href="" class="share-facebook" ms.cmpnm="facebook" data-bi-name="facebook"><i class="icon icon-facebook"></i>Facebook</a>
         </div> 
         <div>
          <a href="" class="share-email" ms.cmpnm="email" data-bi-name="email"><i class="icon icon-email"></i>Email</a>
         </div> 
        </div> </li> 
       <li class="typeSep">|</li> 
       <li> <label for="theme-selector">Theme</label> <select id="theme-selector" data-bi-name="select-theme"> <option value="" class="removedOnload"></option> <option value="">Light</option> <option value="theme_night">Dark</option> </select> </li> 
      </ul> 
      <nav id="side-doc-outline" class="doc-outline" ms.cmpnm="intopic toc" data-bi-name="intopic toc" role="navigation" aria-label="On page navigation"> 
       <h3>In this article</h3> 
      </nav> 
     </div> 
    </div> 
   </div> 
   <ul class="breadcrumbs" ms.cmpgrp="breadcrumb" data-bi-name="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList" role="navigation" aria-label="Breadcrumb">
    <li></li>
   </ul> 
   <div class="sidebar" id="sidebar" ms.cmpgrp="left toc" data-bi-name="left toc" role="navigation" aria-label="Main Navigation" lang="en-us" dir="ltr"> 
    <div id="sidebarContent"> 
     <div class="filterHolder"> 
     </div> 
     <nav class="toc"></nav> 
     <div class="pdfDownloadHolder"></div> 
    </div> 
    <div class="tocSpace"></div> 
   </div> 
   <div id="menu-nav" class="dropdown-container" lang="en-us" dir="ltr"> 
    <div class="dropdown dropdown-full mobilenavi"> 
     <select> </select> 
    </div> 
   </div> 
  </div> 
  <div id="openFeedbackContainer" class="openfeedback-container footer-layout"></div> 
  <div class="container footerContainer"> 
   <footer id="footer" ms.pgarea="footer" data-bi-name="footer" class="footer-layout"> 
    <div class="container" role="contentinfo"> 
     <a data-mscc-ic="false" id="locale-selector-link" href="#" data-bi-name="select-locale" ms.cmpnm="select-locale"></a> 
     <ul class="links" ms.cmpgrp="footerlinks" data-bi-name="footerlinks"> 
      <li><a data-mscc-ic="false" href="https://docs.microsoft.com/teamblog" ms.cmpnm="bloglink" data-bi-name="bloglink">Blog</a></li> 
      <li><a data-mscc-ic="false" href="//privacy.microsoft.com/en-us/" ms.cmpnm="privacy" data-bi-name="privacy">Privacy &amp; Cookies</a></li> 
      <li><a data-mscc-ic="false" href="/en-us/legal/termsofuse" ms.cmpnm="termsofuse" data-bi-name="termsofuse">Terms of Use</a></li> 
      <li><a data-mscc-ic="false" href="//aka.ms/sitefeedback" ms.cmpnm="feedback" data-bi-name="feedback">Feedback</a></li> 
      <li id="impressum-section" hidden><a data-mscc-ic="false" id="impressum-link" href="#" ms.cmpnm="impressum" data-bi-name="impressum">Impressum</a></li> 
      <li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" ms.cmpnm="trademarks" data-bi-name="trademarks">Trademarks</a></li> 
     </ul> 
    </div> 
   </footer> 
  </div> 
  <script src="/_themes/docs.theme/master/en-us/_themes/javascript/870b0825531b1b071dff.conceptual.js"></script>  
 </body>
</html>