<!doctype html>
<!--html5-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
 <!--<![endif]-->
 <head> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta charset="utf-8"> 
  <title>Arduino - GSMExamplesSendSMS </title> 
  <link rel="shortcut icon" type="image/x-icon" href="//www.arduino.cc/en/favicon.png"> 
  <script src="//code.jquery.com/jquery-1.10.2.min.js"></script> 
  <link rel="stylesheet" href="//content.arduino.cc/legacy/fonts/fonts.css" type="text/css"> 
  <link rel="stylesheet" href="//content.arduino.cc/legacy/css/arduino-icons.css"> 
  <link rel="stylesheet" href="//content.arduino.cc/legacy/css/animation.css">
  <!--[if IE 7]>
	<link rel="stylesheet" href="//content.arduino.cc/legacy/css/arduino-icons-ie7.css"><![endif]--> 
  <!--[if gte IE 9]><!--> 
  <link rel="stylesheet" href="//content.arduino.cc/legacy/css/foundation2.css" type="text/css"> 
  <!--<![endif]--> 
  <!--[if IE 8]>
		<link rel='stylesheet' href='//content.arduino.cc/legacy/css/foundation_ie8.css' type='text/css' />
	<![endif]--> 
  <link rel="stylesheet" href="//content.arduino.cc/legacy/css/arduino_code_highlight.css" type="text/css"> 
  <link rel="stylesheet" type="text/css" media="screen" href="//content.arduino.cc/legacy/css/typeplate.css"> 
  <link rel="stylesheet" href="//www.arduino.cc/en/pub/skins/arduinoWide_SSO/css/arduinoWide_SSO.css" type="text/css"> 
  <link rel="stylesheet" href="//content.arduino.cc/legacy/css/common.css" type="text/css"> 
  <link rel="stylesheet" href="//content.arduino.cc/legacy/css/download_page.css"> 
  <link href="https://plus.google.com/114839908922424087554" rel="publisher"> 
  <!-- embedded JS and CSS from PmWiki plugins --> 
  <!--HeaderText-->
  <style type="text/css"><!--
  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }
  code { white-space: nowrap; }
  .vspace { margin-top:1.33em; }
  .indent { margin-left:40px; }
  .outdent { margin-left:40px; text-indent:-40px; }
  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }
  a.createlink { text-decoration:none; position:relative; top:-0.5em;
    font-weight:bold; font-size:smaller; border-bottom:none; }
  img { border:0px; }
  
span.anchor {
	float: left;
	font-size: 10px;
	margin-left: -10px;
	width: 10px;
    position:relative; top:-0.1em;
	text-align: center;
}
span.anchor a { text-decoration: none; }
span.anchor a:hover { text-decoration: underline; }
ol.toc { text-indent:-20px; list-style: none; }
ol.toc ol.toc { text-indent:-40px; }
div.tocfloat { font-size: smaller; margin-bottom: 10px;
    border-top: 1px dotted #555555; border-bottom: 1px dotted #555555;
    padding-top: 5px; padding-bottom: 5px; 
    width: 38%; float: right; margin-left: 10px; clear: right;
    margin-right:-13px; padding-right: 13px; padding-left: 13px;
    background-color: #eeeeee; }
div.toc { font-size: smaller; 
    padding: 5px; border: 1px dotted #cccccc;
    background: #f7f7f7;
    margin-bottom: 10px; }
div.toc p { background-color: #f9f6d6;
    margin-top:-5px;   padding-top: 5px;
    margin-left:-5px;  padding-left: 5px;
    margin-right:-5px; padding-right: 5px;
    padding-bottom: 3px;
    border-bottom:  1px dotted #cccccc; }.editconflict { color:green; 
  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }

  table.markup { border: 2px dotted #ccf; width:90%; }
  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }
  td.markup1 { border-bottom: 1px solid #ccf; }
  div.faq { margin-left:2em; }
  div.faq p.question { margin: 1em 0 0.75em -2em; font-weight:bold; }
  div.faq hr { margin-left: -2em; }
   
    .frame 
      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }
    .lfloat { float:left; margin-right:0.5em; }
    .rfloat { float:right; margin-left:0.5em; }
a.varlink { text-decoration:none; }
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.arduino  {font-family:monospace;}
.arduino .imp {font-weight: bold; color: red;}
.arduino .kw1 {color: #CC6600;}
.arduino .kw2 {color: #006699;}
.arduino .kw3 {color: #CC6600; font-weight: bold;}
.arduino .co1 {color: #7E7E7E; font-style: italic;}
.arduino .co2 {color: #7E7E7E;}
.arduino .coMULTI {color: #7E7E7E; font-style: italic;}
.arduino .es0 {color: #000099; font-weight: bold;}
.arduino .es1 {color: #000099; font-weight: bold;}
.arduino .es2 {color: #660099; font-weight: bold;}
.arduino .es3 {color: #660099; font-weight: bold;}
.arduino .es4 {color: #660099; font-weight: bold;}
.arduino .es5 {color: #006699; font-weight: bold;}
.arduino .br0 {color: #000000;}
.arduino .sy0 {color: #000000;}
.arduino .st0 {color: #0066CC;}
.arduino .nu0 {color: #000000;}
.arduino .nu6 {color: #208080;}
.arduino .nu8 {color: #208080;}
.arduino .nu12 {color: #208080;}
.arduino .nu16 {color:#800080;}
.arduino .nu17 {color:#800080;}
.arduino .nu18 {color:#800080;}
.arduino .nu19 {color:#800080;}
.arduino .me1 {color: #ff1493;}
.arduino .me2 {color: #ff1493;}
.arduino span.xtra { display:block; }

.sourceblocklink {
  text-align: right;
  font-size: smaller;
}
.sourceblocktext {
  padding: 0.5em;
  color: #000000;
  background-color: #ECF1F1;
}
.sourceblock .sourceblocktext .arduino {
  font-family: 'TyponineSans Monospace Regular 4';
  font-size: 14px;
  line-height: 18px;
}
code {
  background-color: #ECF1F1;
  font-size: 15px;
  line-height: 19px;
  padding: 2px 10px 5px 10px;
}
.sourceblocktext div {
  font-family: monospace;
  font-size: small;
  line-height: 1;
  height: 1%;
}
.sourceblocktext div.head,
.sourceblocktext div.foot {
  font: italic medium serif;
  padding: 0.5em;
}

--></style>
  <script type="text/javascript">
function toggle(obj) {
    var elstyle = document.getElementById(obj).style;
    var text    = document.getElementById(obj + "tog");
    if (elstyle.display == 'none') {
        elstyle.display = 'block';
        text.innerHTML = "hide";
    } else {
        elstyle.display = 'none';
        text.innerHTML = "show";
    }
}
</script>
  <script src="//www.arduino.cc/en/pub/galleria/galleria-1.2.6.min.js"></script>
  <script type="text/javascript">Galleria.loadTheme("//www.arduino.cc/en/pub/galleria/themes/classic/galleria.classic.min.js");</script> 
  <meta name="robots" content="index,follow"> 
  <script src="//content.arduino.cc/legacy/js/vendor/custom.modernizr.js"></script> 
  <!-- do not remove none of those lines, comments embedding in pages will break! --> 
  <script src="//code.jquery.com/ui/1.10.3/jquery-ui.min.js" type="text/javascript"></script> 
  <script src="https://checkout.stripe.com/checkout.js" type="text/javascript"></script> 
  <script src="https://www.arduino.cc/en/pub/js/software_download.js" type="text/javascript"></script>
  <!-- keep https! --> 
  <link rel="stylesheet" href="//code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.min.css" type="text/css"> 
  <style>
      .temporary {
        height: 120px;
        background-color: #00979d;
      }

      @media screen and (max-width: 1024px) {
        .temporary {
          height: 54px;
        }   
      }
    </style> 
 </head> 
 <body style="background:none"> 
  <div id="header" class="temporary"></div> 
  <div id="page"> 
   <br class="clear"> 
   <div id="pagetext"> 
    <!--PageText--> 
    <div id="wikitext"> 
     <p class="vspace"></p>
     <p> </p>
     <div class="subHeader row"> 
      <div class="breadcrumb columns large-10 medium-10"> 
       <p> <a class="wikilink" href="/en/Tutorial/HomePage">Tutorials </a> &gt; <a class="wikilink" href="/en/Tutorial/LibraryExamples"> Examples from Libraries </a> &gt; GSM &gt; SendSMS </p> 
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <h2>Send SMS</h2> 
     <p>This sketch send a SMS message from an Arduino or Genuino board equipped with a GSM shield. Using the serial monitor of the Arduino Software (IDE), you'll enter the number to connect with, and the text message to send. </p> 
     <p class="vspace"></p>
     <div class="BOM"> 
      <h3>Hardware Required</h3> 
      <ul>
       <li>Arduino or Genuino Board </li>
       <li> <a class="wikilink" href="//www.arduino.cc/en/Main/ArduinoGSMShield">Arduino + Telefonica GSM/GPRS Shield</a> </li>
       <li>SIM card </li>
      </ul>
     </div> 
     <p class="vspace"></p>
     <h3>Circuit</h3> 
     <div class="circuit"> 
      <p class="vspace"></p>
      <div>
       <a class="urllink" href="//www.arduino.cc/en/uploads/Tutorial/GSMShield_ArduinoUno.jpg" rel="nofollow"><img height="300px" src="//www.arduino.cc/en/uploads/Tutorial/GSMShield_ArduinoUno.jpg" alt="" title=""></a>
      </div> 
      <p class="vspace"></p>
      <p><span style="font-size:83%">image of the Arduino GSM Shield on top of an Arduino or Genuino board </span> </p> 
      <p class="vspace"></p>
     </div> 
     <p class="vspace"></p>
     <h3>Code</h3> 
     <p>First, import the GSM library </p> 
     <p class="vspace"></p>
     <p><code>#include &lt;GSM.h&gt;</code> </p> 
     <p class="vspace"></p>
     <p>SIM cards may have a PIN number that enables their functionality. Define the PIN for your SIM. If your SIM has no PIN, you can leave it blank : </p> 
     <p class="vspace"></p>
     <p><code>#define PINNUMBER ""</code> </p> 
     <p class="vspace"></p>
     <p>Initialize instances of the classes you're going to use. You're going to need both the GSM and GSM_SMS class. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock2"> 
      <div class="sourceblocktext">
       <div class="arduino">
        GSM gsmAccess
        <span class="sy0">;</span> 
        <br> GSM_SMS sms
        <span class="sy0">;</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=2" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>In <code>setup</code>, open a serial connection to the computer. After opening the connection, send a message indicating the sketch has started. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock3"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">void</span> 
        <span class="kw3">setup</span>
        <span class="br0">(</span>
        <span class="br0">)</span>
        <span class="br0">{</span>
        <br> &nbsp; 
        <span class="kw1">Serial</span>.
        <span class="kw1">begin</span>
        <span class="br0">(</span>
        <span class="nu0">9600</span>
        <span class="br0">)</span>
        <span class="sy0">;</span> 
        <br> &nbsp; 
        <span class="kw1">Serial</span>.
        <span class="kw1">println</span>
        <span class="br0">(</span>
        <span class="st0">"SMS Messages Sender"</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=3" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>Create a local variable to track the connection status. You'll use this to keep the sketch from starting until the SIM is connected to the network : </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock4"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">boolean</span> notConnected 
        <span class="sy0">=</span> 
        <span class="kw1">true</span>
        <span class="sy0">;</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=4" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>Connect to the network by calling <code>gsmAccess.begin()</code>. It takes the SIM card's PIN as an argument. By placing this inside a <code>while()</code> loop, you can continually check the status of the connection. When the modem does connect, <code>gsmAccess()</code> will return <code>GSM_READY</code>. Use this as a flag to set the <code>notConnected</code> variable to <code>true</code> or <code>false</code>. Once connected, the remainder of <code>setup</code> will run. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock5"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">while</span>
        <span class="br0">(</span>notConnected
        <span class="br0">)</span>
        <br> &nbsp; 
        <span class="br0">{</span>
        <br> &nbsp; &nbsp; 
        <span class="kw1">if</span>
        <span class="br0">(</span>gsmAccess.
        <span class="kw1">begin</span>
        <span class="br0">(</span>PINNUMBER
        <span class="br0">)</span>
        <span class="sy0">==</span>GSM_READY
        <span class="br0">)</span>
        <br> &nbsp; &nbsp; &nbsp; notConnected 
        <span class="sy0">=</span> 
        <span class="kw1">false</span>
        <span class="sy0">;</span>
        <br> &nbsp; &nbsp; 
        <span class="kw1">else</span>
        <br> &nbsp; &nbsp; 
        <span class="br0">{</span>
        <br> &nbsp; &nbsp; &nbsp; 
        <span class="kw1">Serial</span>.
        <span class="kw1">println</span>
        <span class="br0">(</span>
        <span class="st0">"Not connected"</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; &nbsp; &nbsp; 
        <span class="kw1">delay</span>
        <span class="br0">(</span>
        <span class="nu0">1000</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; &nbsp; 
        <span class="br0">}</span>
        <br> &nbsp; 
        <span class="br0">}</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=5" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>Finish <code>setup</code> with some information to the serial monitor. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock6"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">Serial</span>.
        <span class="kw1">println</span>
        <span class="br0">(</span>
        <span class="st0">"GSM initialized."</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> 
        <span class="br0">}</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=6" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>Create a function named <code>readSerial</code> of type <code>int</code>. You'll use this to iterate through input from the serial monitor, storing the number you wish to send an SMS to, and the message you'll be sending. It should accept a <code>char</code> array as an argument. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock7"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">int</span> readSerial
        <span class="br0">(</span>
        <span class="kw1">char</span> result
        <span class="br0">[</span>
        <span class="br0">]</span>
        <span class="br0">)</span>
        <br> 
        <span class="br0">{</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=7" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>Create a variable to count through the items in the serial buffer, and start a <code>while</code> loop that will continually execute. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock8"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">int</span> i 
        <span class="sy0">=</span> 
        <span class="nu0">0</span>
        <span class="sy0">;</span>
        <br> &nbsp; 
        <span class="kw1">while</span>
        <span class="br0">(</span>
        <span class="nu0">1</span>
        <span class="br0">)</span>
        <br> &nbsp; 
        <span class="br0">{</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=8" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>As long as there is serial information available, read the data into a variable named <code>inChar</code>. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock9"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">while</span> 
        <span class="br0">(</span>
        <span class="kw1">Serial</span>.
        <span class="kw1">available</span>
        <span class="br0">(</span>
        <span class="br0">)</span> 
        <span class="sy0">&gt;</span> 
        <span class="nu0">0</span>
        <span class="br0">)</span>
        <br> &nbsp; &nbsp; 
        <span class="br0">{</span>
        <br> &nbsp; &nbsp; &nbsp; 
        <span class="kw1">char</span> inChar 
        <span class="sy0">=</span> 
        <span class="kw1">Serial</span>.
        <span class="kw1">read</span>
        <span class="br0">(</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=9" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>If the character being read is a newline, terminate the array, clear the serial buffer and exit the function. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock10"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">if</span> 
        <span class="br0">(</span>inChar 
        <span class="sy0">==</span> 
        <span class="st0">'<span class="es1">\n</span>'</span>
        <span class="br0">)</span>
        <br> &nbsp; &nbsp; &nbsp; 
        <span class="br0">{</span>
        <br> &nbsp; &nbsp; &nbsp; &nbsp; result
        <span class="br0">[</span>i
        <span class="br0">]</span> 
        <span class="sy0">=</span> 
        <span class="st0">'<span class="es5">\0</span>'</span>
        <span class="sy0">;</span>
        <br> &nbsp; &nbsp; &nbsp; &nbsp; 
        <span class="kw1">Serial</span>.
        <span class="kw1">flush</span>
        <span class="br0">(</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; &nbsp; &nbsp; &nbsp; 
        <span class="kw1">return</span> 
        <span class="nu0">0</span>
        <span class="sy0">;</span>
        <br> &nbsp; &nbsp; &nbsp; 
        <span class="br0">}</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=10" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>If the incoming character is an ASCII character other than a newline or carriage return, add it to the array and increment the index. Close up the <code>while</code> loops and the function. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock11"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">if</span>
        <span class="br0">(</span>inChar
        <span class="sy0">!=</span>
        <span class="st0">'<span class="es1">\r</span>'</span>
        <span class="br0">)</span>
        <br> &nbsp; &nbsp; &nbsp; 
        <span class="br0">{</span>
        <br> &nbsp; &nbsp; &nbsp; &nbsp; result
        <span class="br0">[</span>i
        <span class="br0">]</span> 
        <span class="sy0">=</span> inChar
        <span class="sy0">;</span>
        <br> &nbsp; &nbsp; &nbsp; &nbsp; i
        <span class="sy0">++;</span>
        <br> &nbsp; &nbsp; &nbsp; 
        <span class="br0">}</span>
        <br> &nbsp; &nbsp; 
        <span class="br0">}</span>
        <br> &nbsp; 
        <span class="br0">}</span>
        <br> 
        <span class="br0">}</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=11" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>In <code>loop</code>, create a <code>char</code> array named <code>remoteNumber</code> to hold the number you wish to send an SMS to. Invoke the <code>readSerial</code> function you just created, and pass <code>remoteNumber</code> as the argument. When <code>readSerial</code> executes, it will populate <code>remoteNumber</code> with the number you wish to send the message to. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock12"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">Serial</span>.
        <span class="kw1">print</span>
        <span class="br0">(</span>
        <span class="st0">"Enter a mobile number: "</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; 
        <span class="kw1">char</span> remoteNumber
        <span class="br0">[</span>
        <span class="nu0">20</span>
        <span class="br0">]</span>
        <span class="sy0">;</span>
        <br> &nbsp; readSerial
        <span class="br0">(</span>remoteNumber
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; 
        <span class="kw1">Serial</span>.
        <span class="kw1">println</span>
        <span class="br0">(</span>remoteNumber
        <span class="br0">)</span>
        <span class="sy0">;</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=12" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>Create a new <code>char</code> array named <code>txtMsg</code>. This will hold the content of your SMS. Pass <code>txtMsg</code> to <code>readSerial</code> to populate the array. </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock13"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">Serial</span>.
        <span class="kw1">print</span>
        <span class="br0">(</span>
        <span class="st0">"Now, enter SMS content: "</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; 
        <span class="kw1">char</span> txtMsg
        <span class="br0">[</span>
        <span class="nu0">200</span>
        <span class="br0">]</span>
        <span class="sy0">;</span>
        <br> &nbsp; readSerial
        <span class="br0">(</span>txtMsg
        <span class="br0">)</span>
        <span class="sy0">;</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=13" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>Call <code>sms.beginSMS()</code> and pass it <code>remoteNumber</code> to start sending the message, <code>sms.print()</code> to send the message, and <code>sms.endSMS()</code> to complete the process. Print out some diagnostic information and close the <code>loop</code>. Your message is on its way! </p> 
     <p class="vspace"></p>
     <p> </p>
     <div class="sourceblock " id="sourceblock14"> 
      <div class="sourceblocktext">
       <div class="arduino">
        <span class="kw1">Serial</span>.
        <span class="kw1">println</span>
        <span class="br0">(</span>
        <span class="st0">"SENDING"</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; 
        <span class="kw1">Serial</span>.
        <span class="kw1">println</span>
        <span class="br0">(</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; 
        <span class="kw1">Serial</span>.
        <span class="kw1">println</span>
        <span class="br0">(</span>
        <span class="st0">"Message:"</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; 
        <span class="kw1">Serial</span>.
        <span class="kw1">println</span>
        <span class="br0">(</span>txtMsg
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> 
        <br> &nbsp; sms.
        <span class="me1">beginSMS</span>
        <span class="br0">(</span>remoteNumber
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; sms.
        <span class="kw1">print</span>
        <span class="br0">(</span>txtMsg
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> &nbsp; sms.
        <span class="me1">endSMS</span>
        <span class="br0">(</span>
        <span class="br0">)</span>
        <span class="sy0">;</span> 
        <br> &nbsp; 
        <span class="kw1">Serial</span>.
        <span class="kw1">println</span>
        <span class="br0">(</span>
        <span class="st0">"<span class="es1">\n</span>COMPLETE!<span class="es1">\n</span>"</span>
        <span class="br0">)</span>
        <span class="sy0">;</span>
        <br> 
        <span class="br0">}</span>
       </div>
      </div> 
      <div class="sourceblocklink">
       <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=14" type="text/plain">[Get Code]</a>
      </div> 
     </div> 
     <p></p> 
     <p class="vspace"></p>
     <p>Once your code is uploaded, open the serial monitor. Make sure the serial monitor is set to only send a newline character on return. When prompted to enter the number you wish to call, enter the digits and press return. You'll then be asked to enter your message. Once you've typed that, press return again to send it. </p> 
     <p class="vspace"></p>
     <p>The complete sketch is below. </p>
     <div class="code"> 
      <p> </p>
      <div class="sourceblock " id="sourceblock1"> 
       <div class="sourceblocktext">
        <div class="arduino">
         <span class="coMULTI">/*<br> &nbsp;SMS sender<br> <br> &nbsp;This sketch, for the Arduino GSM shield,sends an SMS message<br> &nbsp;you enter in the serial monitor. Connect your Arduino with the<br> &nbsp;GSM shield and SIM card, open the serial monitor, and wait for<br> &nbsp;the "READY" message to appear in the monitor. Next, type a<br> &nbsp;message to send and press "return". Make sure the serial<br> &nbsp;monitor is set to send a newline when you press return.<br> <br> &nbsp;Circuit:<br> &nbsp;* GSM shield<br> &nbsp;* SIM card that can send SMS<br> <br> &nbsp;created 25 Feb 2012<br> &nbsp;by Tom Igoe<br> <br> &nbsp;This example is in the public domain.<br> <br> &nbsp;http://www.arduino.cc/en/Tutorial/GSMExamplesSendSMS<br> <br> &nbsp;*/</span>
         <br> 
         <br> 
         <span class="co1">// Include the GSM library</span>
         <br> 
         <span class="co2">#include &lt;GSM.h&gt;</span>
         <br> 
         <br> 
         <span class="co2">#define PINNUMBER ""</span>
         <br> 
         <br> 
         <span class="co1">// initialize the library instance</span>
         <br> GSM gsmAccess
         <span class="sy0">;</span>
         <br> GSM_SMS sms
         <span class="sy0">;</span>
         <br> 
         <br> 
         <span class="kw1">void</span> 
         <span class="kw3">setup</span>
         <span class="br0">(</span>
         <span class="br0">)</span> 
         <span class="br0">{</span>
         <br> &nbsp; 
         <span class="co1">// initialize serial communications and wait for port to open:</span>
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">begin</span>
         <span class="br0">(</span>
         <span class="nu0">9600</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; 
         <span class="kw1">while</span> 
         <span class="br0">(</span>
         <span class="sy0">!</span>
         <span class="kw1">Serial</span>
         <span class="br0">)</span> 
         <span class="br0">{</span>
         <br> &nbsp; &nbsp; 
         <span class="sy0">;</span> 
         <span class="co1">// wait for serial port to connect. Needed for native USB port only</span>
         <br> &nbsp; 
         <span class="br0">}</span>
         <br> 
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">println</span>
         <span class="br0">(</span>
         <span class="st0">"SMS Messages Sender"</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> 
         <br> &nbsp; 
         <span class="co1">// connection state</span>
         <br> &nbsp; 
         <span class="kw1">boolean</span> notConnected 
         <span class="sy0">=</span> 
         <span class="kw1">true</span>
         <span class="sy0">;</span>
         <br> 
         <br> &nbsp; 
         <span class="co1">// Start GSM shield</span>
         <br> &nbsp; 
         <span class="co1">// If your SIM has PIN, pass it as a parameter of begin() in quotes</span>
         <br> &nbsp; 
         <span class="kw1">while</span> 
         <span class="br0">(</span>notConnected
         <span class="br0">)</span> 
         <span class="br0">{</span>
         <br> &nbsp; &nbsp; 
         <span class="kw1">if</span> 
         <span class="br0">(</span>gsmAccess.
         <span class="kw1">begin</span>
         <span class="br0">(</span>PINNUMBER
         <span class="br0">)</span> 
         <span class="sy0">==</span> GSM_READY
         <span class="br0">)</span> 
         <span class="br0">{</span>
         <br> &nbsp; &nbsp; &nbsp; notConnected 
         <span class="sy0">=</span> 
         <span class="kw1">false</span>
         <span class="sy0">;</span>
         <br> &nbsp; &nbsp; 
         <span class="br0">}</span> 
         <span class="kw1">else</span> 
         <span class="br0">{</span>
         <br> &nbsp; &nbsp; &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">println</span>
         <span class="br0">(</span>
         <span class="st0">"Not connected"</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; &nbsp; &nbsp; 
         <span class="kw1">delay</span>
         <span class="br0">(</span>
         <span class="nu0">1000</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; &nbsp; 
         <span class="br0">}</span>
         <br> &nbsp; 
         <span class="br0">}</span>
         <br> 
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">println</span>
         <span class="br0">(</span>
         <span class="st0">"GSM initialized"</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> 
         <span class="br0">}</span>
         <br> 
         <br> 
         <span class="kw1">void</span> 
         <span class="kw3">loop</span>
         <span class="br0">(</span>
         <span class="br0">)</span> 
         <span class="br0">{</span>
         <br> 
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">print</span>
         <span class="br0">(</span>
         <span class="st0">"Enter a mobile number: "</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; 
         <span class="kw1">char</span> remoteNum
         <span class="br0">[</span>
         <span class="nu0">20</span>
         <span class="br0">]</span>
         <span class="sy0">;</span> &nbsp;
         <span class="co1">// telephone number to send sms</span>
         <br> &nbsp; readSerial
         <span class="br0">(</span>remoteNum
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">println</span>
         <span class="br0">(</span>remoteNum
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> 
         <br> &nbsp; 
         <span class="co1">// sms text</span>
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">print</span>
         <span class="br0">(</span>
         <span class="st0">"Now, enter SMS content: "</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; 
         <span class="kw1">char</span> txtMsg
         <span class="br0">[</span>
         <span class="nu0">200</span>
         <span class="br0">]</span>
         <span class="sy0">;</span>
         <br> &nbsp; readSerial
         <span class="br0">(</span>txtMsg
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">println</span>
         <span class="br0">(</span>
         <span class="st0">"SENDING"</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">println</span>
         <span class="br0">(</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">println</span>
         <span class="br0">(</span>
         <span class="st0">"Message:"</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">println</span>
         <span class="br0">(</span>txtMsg
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> 
         <br> &nbsp; 
         <span class="co1">// send the message</span>
         <br> &nbsp; sms.
         <span class="me1">beginSMS</span>
         <span class="br0">(</span>remoteNum
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; sms.
         <span class="kw1">print</span>
         <span class="br0">(</span>txtMsg
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; sms.
         <span class="me1">endSMS</span>
         <span class="br0">(</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">println</span>
         <span class="br0">(</span>
         <span class="st0">"<span class="es1">\n</span>COMPLETE!<span class="es1">\n</span>"</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> 
         <span class="br0">}</span>
         <br> 
         <br> 
         <span class="coMULTI">/*<br> &nbsp; Read input serial<br> &nbsp;*/</span>
         <br> 
         <span class="kw1">int</span> readSerial
         <span class="br0">(</span>
         <span class="kw1">char</span> result
         <span class="br0">[</span>
         <span class="br0">]</span>
         <span class="br0">)</span> 
         <span class="br0">{</span>
         <br> &nbsp; 
         <span class="kw1">int</span> i 
         <span class="sy0">=</span> 
         <span class="nu0">0</span>
         <span class="sy0">;</span>
         <br> &nbsp; 
         <span class="kw1">while</span> 
         <span class="br0">(</span>
         <span class="nu0">1</span>
         <span class="br0">)</span> 
         <span class="br0">{</span>
         <br> &nbsp; &nbsp; 
         <span class="kw1">while</span> 
         <span class="br0">(</span>
         <span class="kw1">Serial</span>.
         <span class="kw1">available</span>
         <span class="br0">(</span>
         <span class="br0">)</span> 
         <span class="sy0">&gt;</span> 
         <span class="nu0">0</span>
         <span class="br0">)</span> 
         <span class="br0">{</span>
         <br> &nbsp; &nbsp; &nbsp; 
         <span class="kw1">char</span> inChar 
         <span class="sy0">=</span> 
         <span class="kw1">Serial</span>.
         <span class="kw1">read</span>
         <span class="br0">(</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; &nbsp; &nbsp; 
         <span class="kw1">if</span> 
         <span class="br0">(</span>inChar 
         <span class="sy0">==</span> 
         <span class="st0">'<span class="es1">\n</span>'</span>
         <span class="br0">)</span> 
         <span class="br0">{</span>
         <br> &nbsp; &nbsp; &nbsp; &nbsp; result
         <span class="br0">[</span>i
         <span class="br0">]</span> 
         <span class="sy0">=</span> 
         <span class="st0">'<span class="es5">\0</span>'</span>
         <span class="sy0">;</span>
         <br> &nbsp; &nbsp; &nbsp; &nbsp; 
         <span class="kw1">Serial</span>.
         <span class="kw1">flush</span>
         <span class="br0">(</span>
         <span class="br0">)</span>
         <span class="sy0">;</span>
         <br> &nbsp; &nbsp; &nbsp; &nbsp; 
         <span class="kw1">return</span> 
         <span class="nu0">0</span>
         <span class="sy0">;</span>
         <br> &nbsp; &nbsp; &nbsp; 
         <span class="br0">}</span>
         <br> &nbsp; &nbsp; &nbsp; 
         <span class="kw1">if</span> 
         <span class="br0">(</span>inChar 
         <span class="sy0">!=</span> 
         <span class="st0">'<span class="es1">\r</span>'</span>
         <span class="br0">)</span> 
         <span class="br0">{</span>
         <br> &nbsp; &nbsp; &nbsp; &nbsp; result
         <span class="br0">[</span>i
         <span class="br0">]</span> 
         <span class="sy0">=</span> inChar
         <span class="sy0">;</span>
         <br> &nbsp; &nbsp; &nbsp; &nbsp; i
         <span class="sy0">++;</span>
         <br> &nbsp; &nbsp; &nbsp; 
         <span class="br0">}</span>
         <br> &nbsp; &nbsp; 
         <span class="br0">}</span>
         <br> &nbsp; 
         <span class="br0">}</span>
         <br> 
         <span class="br0">}</span>
        </div>
       </div> 
       <div class="sourceblocklink">
        <a href="//www.arduino.cc/en/Tutorial/GSMExamplesSendSMS?action=sourceblock&amp;num=1" type="text/plain">[Get Code]</a>
       </div> 
      </div> 
      <p></p>
     </div> 
     <p class="vspace"></p>
     <h3>See Also:</h3> 
     <ul>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMConstructor">GSM</a> Constructor </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMBegin">GSM.begin</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMShutdown">GSM.shutdown</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSConstructor">GSM_SMS</a> Constructor </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSBeginSMS">beginSMS</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSReady">ready</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSEndSMS">endSMS</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSAvailable">available</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSRemoteNumber">remoteNumber</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSRead">read</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSWrite">write</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSPrint">print</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSPeek">peek</a>() </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSMSMSFlush">flush</a>() </li>
     </ul>
     <p><br> </p>
     <ul>
      <li><a class="wikilink" href="//www.arduino.cc/en/Main/ArduinoGSMShield">Arduino GSM Shield</a> – Complete product description. </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Guide/ArduinoGSMShield">Getting started with the GSM Shield</a> – Get everything set up in minutes. </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Reference/GSM">GSM library</a> – Your reference for the GSM Library. </li>
     </ul>
     <p><br> </p>
     <ul>
      <li><a class="wikilink" href="//www.arduino.cc/en/Tutorial/GSMExamplesMakeVoiceCall">GSMExamplesMakeVoiceCall</a> - How to make a voice call with mic and speaker. </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Tutorial/GSMExamplesReceiveVoiceCall">GSMExamplesReceiveVoiceCall</a> - The call is received and connected, the number that is calling is shown on serial monitor and then the call is hung up. </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Tutorial/GSMExamplesReceiveSMS">GSMExamplesReceiveSMS</a> - How to receive an SMS message. </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Tutorial/GSMExamplesWebServer">GSMExamplesWebServer</a> - A web server that when gets a request from a client sends back the value read on Analog inputs. </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Tutorial/GSMExamplesWebClient">GSMExamplesWebClient</a> - Connect to the Arduino.cc home and print the contents on the serial monitor window. </li>
      <li><a class="wikilink" href="//www.arduino.cc/en/Tutorial/GSMToolsTestGPRS">GSMToolsTestGPRS</a> – Tries to access the internet over GPRS with supplied APN and credentials. </li>
     </ul>
     <p><br> <em>Last revision 2015/08/13 by SM</em> </p> 
     <p class="vspace"></p> 
    </div> 
    <!-- AddThis Button Style BEGIN --> 
    <style>
  .addthis_toolbox {
    margin: 2em 0 1em;
  }
  .addthis_toolbox img {
    float: left;
    height: 25px;
    margin-right: 10px;
    width: auto;
  }
  .addthis_toolbox .social-container {
    float: left;
    height: 27px; 
    width: auto; 
  }
  .addthis_toolbox .social-container .social-content {
    float: left;
    margin-top: 2px;
    max-width: 0;
    overflow: hidden;
    -moz-transition: max-width .3s ease-out;
    -webkit-transition: max-width .3s ease-out;
    -o-transition: max-width .3s ease-out;
    transition: max-width .3s ease-out;
  }
  .addthis_toolbox .social-container:hover .social-content {
    max-width: 100px;
    -moz-transition: max-width .2s ease-in;
    -webkit-transition: max-width .2s ease-in;
    -o-transition: max-width .2s ease-in;
    transition: max-width .2s ease-in;
  }
  .addthis_toolbox .social-container .social-content a {
    float: left;
    margin-right: 5px;
  }

  .addthis_toolbox h3 {
    font-size: 24px;
    text-align: left;
  }
</style> 
    <!-- AddThis Button Style END --> 
    <!-- AddThis Button BEGIN --> 
    <div class="addthis_toolbox addthis_default_style"> 
     <h3>Share</h3> 
     <!-- FACEBOOK --> 
     <div class="social-container"> 
      <img src="/en/pub/skins/arduinoWide_SSO/img/facebook.png"> 
      <div class="social-content"> 
       <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a> 
      </div> 
     </div> 
     <!-- TWITTER --> 
     <div class="social-container"> 
      <img src="/en/pub/skins/arduinoWide_SSO/img/twitter.png"> 
      <div class="social-content"> 
       <a class="addthis_button_tweet"></a> 
      </div> 
     </div> 
     <!-- PINTEREST --> 
     <div class="social-container"> 
      <img src="/en/pub/skins/arduinoWide_SSO/img/pinterest.png"> 
      <div class="social-content"> 
       <a class="addthis_button_pinterest_pinit" pi:pinit:url="//www.addthis.com/features/pinterest" pi:pinit:media="//www.addthis.com/cms-content/images/features/pinterest-lg.png"></a> 
      </div> 
     </div> 
     <!-- G+ --> 
     <div class="social-container"> 
      <img src="/en/pub/skins/arduinoWide_SSO/img/gplus.png"> 
      <div class="social-content"> 
       <a class="addthis_button_google_plusone" g:plusone:size="medium"></a> 
      </div> 
     </div> 
     <script type="text/javascript">var addthis_config = {"data_track_addressbar":false};</script> 
     <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50573fab238b0d34"></script> 
    </div> 
    <!-- AddThis Button END --> 
   </div> 
   <!-- eof pagetext --> 
  </div> 
  <!-- eof page --> 
  <div id="pagefooter"> 
   <div id="newsletter-modal"></div> 
   <div id="footer"></div> 
  </div> 
  <!-- Common Header and Footer Resources --> 
  <script src="https://cdn.arduino.cc/header-footer/loader.js" type="text/javascript"></script> 
  <!--[if gte IE 9]><!--> 
  <script src="//content.arduino.cc/legacy/js/foundation.min.js"></script> 
  <!--<![endif]--> 
  <!--[if IE 8]>
	<script src="//content.arduino.cc/legacy/js/foundation_ie8.min.js"></script>
	<script src="//content.arduino.cc/legacy/js/ie8/jquery.foundation.orbit.js"></script>
	<script src="//content.arduino.cc/legacy/js/ie8/jquery.foundation.alerts.js"></script>
	<script src="//content.arduino.cc/legacy/js/app.js"></script>

	<script>
	$(window).load(function(){
	  $("#featured").orbit();
	});
	</script>
	<![endif]--> 
  <script type="text/javascript">
		$(function() {
			$(document).foundation();

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-22581631-3', 'auto');
ga('send', 'pageview');

			$('a').each (function () {
			  href = $(this).attr ('href');
			  if (href !== undefined && href.substring (0, 4) == 'http' && href.indexOf ('arduino.cc') == -1)
			    $(this).attr ('target', '_blank');
			});

			// js for language dropdown
			$('.language-dropdown .current').on('click', function(e){
			  e.stopPropagation();
			  $('.language-dropdown ul').toggle();
			});

			$('.language-dropdown .selector').on('click', function(e){
			  e.stopPropagation();
			  $('.language-dropdown ul').toggle();
			});

			$(document).on('click', function(){
			  $('.language-dropdown ul:visible').hide();
			});

			$('.language-dropdown li a').on('click', function(e){
				$('.language-dropdown .current').text($(this).text());
			});

			//js for product pages navbar
			var menu = $(".product-page-nav");
			var menuItems = menu.find("a");
			var timeoutId = null;
			var limitTop = 600;

			var menuOffset = $('.product-page-nav li').first().offset();
			if(menuOffset) {
				limitTop = menuOffset.top;
			}
			var limitBottom = $('.addthis_toolbox').offset().top;

			var activateSection = function($sectionToActivate) {
			  var label=$sectionToActivate.attr('label');

			  $(".product-page-nav").find('li').removeClass('active');
			  $sectionToActivate.addClass('active');
			};

			menuItems.click(function(e){

			 e.preventDefault();
			  var href = $(this).attr("href"),
			      offsetTop = href === "#" ? 0 : $(href).offset().top,
			      adjust = 0;
			  if($(this).parent('li').hasClass('active') === false) {

			      adjust = 80;

			      $('html, body').animate({
			            scrollTop: offsetTop - adjust
			        }, 1500, 'easeOutExpo');

			  }
			});

			$(window).scroll(function () {

			  var windscroll = $(window).scrollTop();

			  if(windscroll < limitTop) {
			    $('.menu').removeClass('sticky');
			    $('.menu').removeClass('fixed');
			  }  else {
			    $('.menu').addClass('sticky');
			  }

			  var menuEdgeBottomOffset = $('.menu.columns').offset();
			  var menuEdgeBottom = 0;
			  if(menuEdgeBottomOffset) {
			  	menuEdgeBottom = menuEdgeBottomOffset.top + $('.menu.columns').height();
			  }
			  if(menuEdgeBottom > limitBottom) {
			    $('.menu').fadeOut();
			  } else {
			    $('.menu').fadeIn();
			  }
			  menuItems.each(function(i) {
			    var href = $(this).attr("href");
			    if ($(href).offset().top <= windscroll + 150) {
			      if(timeoutId) {
			        clearTimeout(timeoutId);
			      }
			      timeoutId = setTimeout(activateSection, 60, $(".product-page-nav").find('li').eq(i));
			    }
			  });

			});


			// COMMON HEADER and FOOTER Loading
			var authOptions = {
				authURI: "https://auth.arduino.cc/login",
				redirectURI: "https://www.arduino.cc",
				clientID: "arduinocc",
				scopes: ["profile:core", "profile:public"]
			};
	        ArduinoHeaderAndFooter({auth: 'default', authOptions: authOptions});


			//Facebook Pixel Code
			!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
			n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
			n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
			t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
			document,'script','https://connect.facebook.net/en_US/fbevents.js');

			fbq('init', '1205220922863531');
			fbq('track', "PageView");

		});
	</script> 
  <noscript>
   <img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1205220922863531&amp;ev=PageView&amp;noscript=1">
  </noscript> 
  <!-- End Facebook Pixel Code -->   
 </body>
</html>