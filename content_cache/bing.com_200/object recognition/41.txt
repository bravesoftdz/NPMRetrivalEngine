<!doctype html>
<!--[if lt IE 10]><html class="no-js ie8 oldie" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

  
    itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage" data-offline-url="/"
data-url="/library/view/java-data-objects/0596002769/ch04s02.html"
data-archive="0596002769"
data-publishers="O&#39;Reilly Media, Inc."


  data-htmlfile-name="ch04s02.html"
  data-epub-title="Java Data Objects"
  


data-debug="0" ><![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#" itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage" data-offline-url="/" data-url="/library/view/java-data-objects/0596002769/ch04s02.html" data-archive="0596002769" data-publishers="O'Reilly Media, Inc." data-htmlfile-name="ch04s02.html" data-epub-title="Java Data Objects" data-debug="0">
 <!--<![endif]-->
 <head> 
  <meta charset="UTF-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <title>Java Classes and Metadata - Java Data Objects [Book]</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <link rel="stylesheet" href="/library/view/static/CACHE/css/263a54664f8a.css" type="text/css"> 
  <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css"> 
  <meta property="og:title" content="Java Classes and Metadata [Book]"> 
  <meta itemprop="isPartOf" content="/library/view/java-data-objects/0596002769/"> 
  <meta itemprop="name" content="Java Classes and Metadata"> 
  <meta property="og:url" itemprop="url" content="https://www.safaribooksonline.com/library/view/java-data-objects/0596002769/ch04s02.html"> 
  <meta property="og:site_name" content="Safari"> 
  <meta property="og:image" itemprop="thumbnailUrl" content="https://www.safaribooksonline.com/library/cover/0596002769/"> 
  <meta property="og:description" itemprop="description" name="description" content="Java Classes and Metadata You can make most of your classes persistent in a JDO environment. JDO has the ability to make plain ordinary Java objects (POJOs) persistent. This includes ...  - Selection from Java Data Objects [Book]"> 
  <meta itemprop="inLanguage" content="en"> 
  <meta itemprop="publisher" content="O'Reilly Media, Inc."> 
  <meta property="og:type" content="book"> 
  <meta property="og:book:isbn" itemprop="isbn" content="9780596002763"> 
  <meta property="og:book:author" itemprop="author" content="Craig Russell"> 
  <meta property="og:book:author" itemprop="author" content="David Jordan"> 
  <meta property="og:book:tag" itemprop="about" content="Certification"> 
  <meta property="og:book:tag" itemprop="about" content="Java"> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:site" content="@safari"> 
  <!-- Start Visual Website Optimizer Asynchronous Code --> 
  <script type="text/javascript">
var _vwo_code=(function(){
var account_id=291788,
settings_tolerance=2000,
library_tolerance=2500,
use_existing_jquery=false,
/* DO NOT EDIT BELOW THIS LINE */
f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
</script> 
  <!-- End Visual Website Optimizer Asynchronous Code --> 
  <link rel="shortcut icon" href="//www.safaribooksonline.com/favicon.ico" type="image/vnd.microsoft.icon"> 
  <link rel="apple-touch-icon" href="//www.safaribooksonline.com/static/corp/img/apple-touch-icon.png"> 
  <style type="text/css" title="ibis-book">
    @charset "utf-8";#sbo-rt-content html,#sbo-rt-content div,#sbo-rt-content div,#sbo-rt-content span,#sbo-rt-content applet,#sbo-rt-content object,#sbo-rt-content iframe,#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5,#sbo-rt-content h6,#sbo-rt-content p,#sbo-rt-content blockquote,#sbo-rt-content pre,#sbo-rt-content a,#sbo-rt-content abbr,#sbo-rt-content acronym,#sbo-rt-content address,#sbo-rt-content big,#sbo-rt-content cite,#sbo-rt-content code,#sbo-rt-content del,#sbo-rt-content dfn,#sbo-rt-content em,#sbo-rt-content font,#sbo-rt-content img,#sbo-rt-content ins,#sbo-rt-content kbd,#sbo-rt-content q,#sbo-rt-content s,#sbo-rt-content samp,#sbo-rt-content small,#sbo-rt-content strike,#sbo-rt-content strong,#sbo-rt-content sub,#sbo-rt-content sup,#sbo-rt-content tt,#sbo-rt-content var,#sbo-rt-content b,#sbo-rt-content u,#sbo-rt-content i,#sbo-rt-content center,#sbo-rt-content dl,#sbo-rt-content dt,#sbo-rt-content dd,#sbo-rt-content ol,#sbo-rt-content ul,#sbo-rt-content li,#sbo-rt-content fieldset,#sbo-rt-content form,#sbo-rt-content label,#sbo-rt-content legend,#sbo-rt-content table,#sbo-rt-content caption,#sbo-rt-content tdiv,#sbo-rt-content tfoot,#sbo-rt-content thead,#sbo-rt-content tr,#sbo-rt-content th,#sbo-rt-content td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}@page{margin:5px !important}#sbo-rt-content p{margin:8px 0 0}#sbo-rt-content span.bolditalic{font-weight:bold;font-style:italic}#sbo-rt-content strong,#sbo-rt-content span.bold{font-weight:bold}#sbo-rt-content a.ulink,#sbo-rt-content a.xref,#sbo-rt-content a.email,#sbo-rt-content a.link{text-decoration:none;color:#8e0012}#sbo-rt-content sup{font-size:x-small;vertical-align:super}#sbo-rt-content sub{font-size:smaller;vertical-align:sub}#sbo-rt-content span.lineannotation{font-style:italic;color:red;font-family:serif}#sbo-rt-content span.underline{text-decoration:underline}#sbo-rt-content span.strikethrough{text-decoration:line-through}#sbo-rt-content span.smallcaps{font-variant:small-caps}#sbo-rt-content span.cursor{background:#000;color:#FFF}#sbo-rt-content span.smaller{font-size:75%}#sbo-rt-content .boxedtext,#sbo-rt-content .keycap{border-style:solid;border-width:1px;border-color:#000;padding:1px}#sbo-rt-content span.gray50{color:#7F7F7F;}#sbo-rt-content .gray-background,#sbo-rt-content .reverse-video{background:#2E2E2E;color:#FFF}#sbo-rt-content .light-gray-background{background:#A0A0A0}#sbo-rt-content .preserve-whitespace{white-space:pre-wrap}#sbo-rt-content h1{font-size:1.5em;font-weight:bold;font-family:sans-serif,"DejaVuSans";margin-top:20px !important}#sbo-rt-content h2{font-size:1.3em;font-weight:bold;font-family:sans-serif,"DejaVuSans";color:#8e0012;margin:15px 0 8px 0 !important}#sbo-rt-content h3{font-size:1.1em;font-weight:bold;font-family:sans-serif,"DejaVuSans";margin:10px 0 8px 0 !important}#sbo-rt-content h4{font-size:bold;font-weight:1em;font-family:sans-serif,"DejaVuSans";color:#555;margin:9px 0 !important}#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4{-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;page-break-after:avoid}#sbo-rt-content div.titlepage{page-break-inside:avoid}#sbo-rt-content div.chapter>div.titlepage:first-child h1.title,#sbo-rt-content div.preface>div.titlepage:first-child h1.title,#sbo-rt-content div.appendix>div.titlepage:first-child h1.title{font-size:2em;line-height:1;margin-bottom:15px}#sbo-rt-content img{max-width:95%;margin:0 auto;padding:0}#sbo-rt-content div.figure{margin:10px 0 !important;text-align:center;-webkit-border-radius:5px;border-radius:5px;border:1px solid #000;background-color:transparent;padding:5px !important;page-break-inside:avoid}#sbo-rt-content div.figure p.title,#sbo-rt-content div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.informalfigure{text-align:center;padding:5px 0 !important}#sbo-rt-content div.sidebar{margin:10px 0 !important;-webkit-border-radius:5px;border-radius:5px;border:1px solid #000;background-color:transparent;font-size:90%;padding:10px 8px !important;page-break-inside:avoid}#sbo-rt-content div.sidebar p.title{font-weight:bold;font-size:1em;font-family:sans-serif,"DejaVuSans";text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar div.figure p.title,#sbo-rt-content div.sidebar div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.sidebar ol{margin-left:15px}#sbo-rt-content div.sidebar div.tip,#sbo-rt-content div.sidebar div.note,#sbo-rt-content div.sidebar div.warning,#sbo-rt-content div.sidebar div.caution,#sbo-rt-content div.sidebar div.important{margin:10px 12.5% !important;font-size:90%;padding:10px 5px !important;width:75%}#sbo-rt-content div.sidebar div.tip,#sbo-rt-content div.sidebar div.note{background-color:#f1f6fc;border:none}#sbo-rt-content div.sidebar div.warning,#sbo-rt-content div.sidebar div.caution{background-color:#fce5e8}#sbo-rt-content div.sidebar div.important{background-color:#FBEC5D}#sbo-rt-content div.sidebar div.figure{border:none}#sbo-rt-content pre{white-space:pre-wrap;font-family:"Ubuntu Mono",monospace;margin:10px 0 10px 20px;font-size:85%;display:block;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none}#sbo-rt-content code{font-family:"Ubuntu Mono",monospace}#sbo-rt-content code strong em,#sbo-rt-content code em strong,#sbo-rt-content pre em strong,#sbo-rt-content pre strong em,#sbo-rt-content strong code em code,#sbo-rt-content em code strong code,#sbo-rt-content span.bolditalic code{font-weight:bold;font-style:italic;font-family:"Ubuntu Mono BoldItal",monospace}#sbo-rt-content code em,#sbo-rt-content em code,#sbo-rt-content pre em,#sbo-rt-content em.replaceable{font-family:"Ubuntu Mono Ital",monospace;font-style:italic}#sbo-rt-content code strong,#sbo-rt-content strong code,#sbo-rt-content pre strong,#sbo-rt-content strong.userinput{font-family:"Ubuntu Mono Bold",monospace;font-weight:bold}#sbo-rt-content div.example{margin:10px 0 15px 0 !important}#sbo-rt-content div.example p.title{font-style:italic;font-weight:normal;font-family:serif,"DejaVuSerif";margin:10px 0 5px 0 !important}#sbo-rt-content li pre.example{padding:10px 0 !important}#sbo-rt-content div.example-contents pre.programlisting,#sbo-rt-content div.example-contents pre.screen{margin:0}#sbo-rt-content span.gray{color:#4C4C4C}#sbo-rt-content div.book div.titlepage h1.title{font-size:3em;font-family:sans-serif,"DejaVuSans";font-weight:bold;margin:50px 0 10px 0 !important;line-height:1;text-align:center}#sbo-rt-content div.book div.titlepage h2.subtitle{text-align:center;color:#000;margin:0 !important;font-style:italic;font-family:serif;font-size:1.5em}#sbo-rt-content div.book div.titlepage div.author h3{font-size:2em;font-family:sans-serif,"DejaVuSans";font-weight:bold;color:#8e0012;margin:50px 0 !important;text-align:center}#sbo-rt-content div.book div.titlepage div.publishername{margin-top:60%;margin-bottom:20px;text-align:center;font-size:1.25em}#sbo-rt-content div.book div.titlepage div.locations p{margin:0;text-align:center}#sbo-rt-content div.book div.titlepage div.locations p.cities{font-size:80%;text-align:center;margin-top:5px}#sbo-rt-content div.preface[title="Dedication"]>div.titlepage h1.title{text-align:center;text-transform:uppercase;font-size:1.5em;margin-top:50px;margin-bottom:50px}#sbo-rt-content div.preface[title="Dedication"] p{font-style:italic;text-align:center}#sbo-rt-content div.colophon h1.title{font-size:1.3em;margin:0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon h2.subtitle{margin:0 !important;color:#000;font-family:serif,"DejaVuSerif";font-size:1em;font-weight:normal}#sbo-rt-content div.colophon div.author h3.author{font-size:1.1em;font-family:serif,"DejaVuSerif";margin:10px 0 0 !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h4,#sbo-rt-content div.colophon div.editor h3.editor{color:#000;font-size:.8em;margin:15px 0 0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon div.editor h3.editor{font-size:.8em;margin:0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon div.publisher{margin-top:10px}#sbo-rt-content div.colophon div.publisher p,#sbo-rt-content div.colophon div.publisher span.publishername{margin:0;font-size:.8em}#sbo-rt-content div.legalnotice p,#sbo-rt-content div.timestamp p{font-size:.8em}#sbo-rt-content div.timestamp p{margin-top:10pt}#sbo-rt-content div.colophon[title="About the Author"] h1.title,#sbo-rt-content div.colophon[title="Colophon"] h1.title{font-size:1.5em;margin:0 !important;font-family:sans-serif,"DejaVuSans";font-weight:bold}#sbo-rt-content section.chapter div.titlepage div.author{margin-bottom:40px}#sbo-rt-content section.chapter div.titlepage div.author div.affiliation{font-style:italic}#sbo-rt-content div.attribution{margin:5px 0 0 50px !important}#sbo-rt-content h3.author span.orgname{display:none}#sbo-rt-content div.epigraph{margin:10px 0 10px 20px !important;page-break-inside:avoid;font-size:90%}#sbo-rt-content blockquote,#sbo-rt-content div.blockquote{margin:10px !important;page-break-inside:avoid;font-size:95%}#sbo-rt-content blockquote p,#sbo-rt-content div.blockquote p{font-style:italic;font-family:serif,"DejaVuSerif"}#sbo-rt-content blockquote div.attribution{margin:5px 0 0 30px !important;text-align:right;width:80%}#sbo-rt-content blockquote div.attribution p{font-style:normal}#sbo-rt-content p.right{text-align:right;margin:0}#sbo-rt-content div.footnote{font-size:90%}#sbo-rt-content div.refnamediv h2,#sbo-rt-content div.refnamediv h3,#sbo-rt-content div.refsynopsisdiv h2{font-size:1.1em;color:#000;margin-top:15px !important;margin-bottom:0 !important}#sbo-rt-content div.refentry div.refsect1 h2{font-size:1.1em;color:#000;margin-top:15px !important;margin-bottom:0 !important}#sbo-rt-content div.refsect2 h3{font-size:1em;color:#000;margin-top:10px !important;margin-bottom:0 !important}#sbo-rt-content div.refnamediv p{margin-left:15px !important}#sbo-rt-content dt{padding-top:10px !important;padding-bottom:0 !important}#sbo-rt-content dd{margin-left:1.5em !important}#sbo-rt-content ol{list-style-type:decimal;margin-top:8px !important;margin-bottom:8px !important;margin-left:20px !important;padding-left:25px !important}#sbo-rt-content ol ol{list-style-type:lower-alpha}#sbo-rt-content ol ol ol{list-style-type:lower-roman}#sbo-rt-content ul{list-style-type:square;margin-top:8px !important;margin-bottom:8px !important;margin-left:5px !important;padding-left:20px !important}#sbo-rt-content ul ul{list-style-type:none;padding-left:0 !important;margin-left:0 !important}#sbo-rt-content ul ul li p:before{content:"— "}#sbo-rt-content ul ul ul li p:before{content:""}#sbo-rt-content ul ul ul{list-style-type:square;margin-left:20px !important;padding-left:30px !important}#sbo-rt-content div.orderedlistalpha{list-style-type:upper-alpha}#sbo-rt-content table.simplelist{margin-left:20px !important;margin-bottom:10px}#sbo-rt-content table.simplelist td{border:none;font-size:90%}#sbo-rt-content table.simplelist tr{border-bottom:none}#sbo-rt-content table.simplelist tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.calloutlist p:first-child{margin-top:-25px !important}#sbo-rt-content div.calloutlist dd{padding-left:40px !important}#sbo-rt-content div.calloutlist img{padding:0}#sbo-rt-content a.co img{padding:0}#sbo-rt-content div.tip,#sbo-rt-content div.note,#sbo-rt-content div.warning,#sbo-rt-content div.caution,#sbo-rt-content div.important{margin:10px 0 !important;-webkit-border-radius:5px;border-radius:5px;font-size:90%;padding:10px 8px 20px 8px !important;page-break-inside:avoid}#sbo-rt-content div.tip,#sbo-rt-content div.note{border:1px solid #6cafd0;background-color:transparent}#sbo-rt-content div.warning,#sbo-rt-content div.caution{border:1px solid #8e0012;background-color:#fce5e8}#sbo-rt-content div.important{background-color:#FFF68F;border:1px solid #615E3F}#sbo-rt-content div.tip h3,#sbo-rt-content div.note h3,#sbo-rt-content div.warning h3,#sbo-rt-content div.caution h3,#sbo-rt-content div.important h3{font:bold 90%;font-family:sans-serif,"DejaVuSans";text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px !important;color:#000}#sbo-rt-content div.table,#sbo-rt-content table{margin:10px auto !important;max-width:95%;border-collapse:collapse;border-spacing:0}#sbo-rt-content div.table,#sbo-rt-content div.informaltable{page-break-inside:avoid}#sbo-rt-content tr{border-bottom:1px solid #c3c3c3}#sbo-rt-content tr th{border-bottom:#9d9d9d 2px solid !important;border-top:#9d9d9d 2px solid !important}#sbo-rt-content tr:nth-of-type(even){background-color:#f1f6fc}#sbo-rt-content th{font-family:sans-serif,"DejaVuSans";color:#000;font-weight:bold}#sbo-rt-content td,#sbo-rt-content th{padding:.3em;text-align:left;vertical-align:baseline;font-size:80%}#sbo-rt-content div.informaltable table{margin:10px auto !important}#sbo-rt-content div.informaltable table tr{border-bottom:none}#sbo-rt-content div.informaltable table tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.informaltable td,#sbo-rt-content div.informaltable th{border:#9d9d9d 1px solid}#sbo-rt-content div.table p.title{font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";margin:20px 0 0 0 !important;text-align:center;padding:0}#sbo-rt-content table code{font-size:smaller}#sbo-rt-content div.equation p.title{font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";margin:20px 0 10px 0 !important;page-break-after:avoid}#sbo-rt-content div.equation-contents{margin-left:20px}#sbo-rt-content span.inlinemediaobject{height:.85em;display:inline-block;margin-bottom:.2em}#sbo-rt-content span.inlinemediaobject img{margin:0;height:.85em}#sbo-rt-content div.informalequation{margin:20px 0 20px 20px;width:75%}#sbo-rt-content div.informalequation img{width:75%}#sbo-rt-content div.index{font-weight:bold}#sbo-rt-content div.index dt{line-height:140%}#sbo-rt-content div.index a.indexterm{color:#8e0012}#sbo-rt-content code.boolean,#sbo-rt-content .navy{color:rgb(0,0,128);}#sbo-rt-content code.character,#sbo-rt-content .olive{color:rgb(128,128,0);}#sbo-rt-content code.comment,#sbo-rt-content .blue{color:rgb(0,0,255);}#sbo-rt-content code.conditional,#sbo-rt-content .limegreen{color:rgb(50,205,50);}#sbo-rt-content code.constant,#sbo-rt-content .darkorange{color:rgb(255,140,0);}#sbo-rt-content code.debug,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.define,#sbo-rt-content .darkgoldenrod,#sbo-rt-content .gold{color:rgb(184,134,11);}#sbo-rt-content code.delimiter,#sbo-rt-content .dimgray{color:rgb(105,105,105);}#sbo-rt-content code.error,#sbo-rt-content .red{color:rgb(255,0,0);}#sbo-rt-content code.exception,#sbo-rt-content .salmon{color:rgb(250,128,11);}#sbo-rt-content code.float,#sbo-rt-content .steelblue{color:rgb(70,130,180);}#sbo-rt-content pre code.function,#sbo-rt-content .green{color:rgb(0,128,0);}#sbo-rt-content code.identifier,#sbo-rt-content .royalblue{color:rgb(65,105,225);}#sbo-rt-content code.ignore,#sbo-rt-content .gray{color:rgb(128,128,128);}#sbo-rt-content code.include,#sbo-rt-content .purple{color:rgb(128,0,128);}#sbo-rt-content code.keyword,#sbo-rt-content .sienna{color:rgb(160,82,45);}#sbo-rt-content code.label,#sbo-rt-content .deeppink{color:rgb(255,20,147);}#sbo-rt-content code.macro,#sbo-rt-content .orangered{color:rgb(255,69,0);}#sbo-rt-content code.number,#sbo-rt-content .brown{color:rgb(165,42,42);}#sbo-rt-content code.operator,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.preCondit,#sbo-rt-content .teal{color:rgb(0,128,128);}#sbo-rt-content code.preProc,#sbo-rt-content .fuschia{color:rgb(255,0,255);}#sbo-rt-content code.repeat,#sbo-rt-content .indigo{color:rgb(75,0,130);}#sbo-rt-content code.special,#sbo-rt-content .saddlebrown{color:rgb(139,69,19);}#sbo-rt-content code.specialchar,#sbo-rt-content .magenta{color:rgb(255,0,255);}#sbo-rt-content code.specialcomment,#sbo-rt-content .seagreen{color:rgb(46,139,87);}#sbo-rt-content code.statement,#sbo-rt-content .forestgreen{color:rgb(34,139,34);}#sbo-rt-content code.storageclass,#sbo-rt-content .plum{color:rgb(221,160,221);}#sbo-rt-content code.string,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.structure,#sbo-rt-content .chocolate{color:rgb(210,106,30);}#sbo-rt-content code.tag,#sbo-rt-content .darkcyan{color:rgb(0,139,139);}#sbo-rt-content code.todo,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.type,#sbo-rt-content .mediumslateblue{color:rgb(123,104,238);}#sbo-rt-content code.typedef,#sbo-rt-content .darkgreen{color:rgb(0,100,0);}#sbo-rt-content code.underlined{text-decoration:underline;}#sbo-rt-content pre code.hll{background-color:#ffc}#sbo-rt-content pre code.c{color:#09F;font-style:italic}#sbo-rt-content pre code.err{color:#A00}#sbo-rt-content pre code.k{color:#069;font-weight:bold}#sbo-rt-content pre code.o{color:#555}#sbo-rt-content pre code.cm{color:#35586C;font-style:italic}#sbo-rt-content pre code.cp{color:#099}#sbo-rt-content pre code.c1{color:#35586C;font-style:italic}#sbo-rt-content pre code.cs{color:#35586C;font-weight:bold;font-style:italic}#sbo-rt-content pre code.gd{background-color:#FCC}#sbo-rt-content pre code.ge{font-style:italic}#sbo-rt-content pre code.gr{color:#F00}#sbo-rt-content pre code.gh{color:#030;font-weight:bold}#sbo-rt-content pre code.gi{background-color:#CFC}#sbo-rt-content pre code.go{color:#000}#sbo-rt-content pre code.gp{color:#009;font-weight:bold}#sbo-rt-content pre code.gs{font-weight:bold}#sbo-rt-content pre code.gu{color:#030;font-weight:bold}#sbo-rt-content pre code.gt{color:#9C6}#sbo-rt-content pre code.kc{color:#069;font-weight:bold}#sbo-rt-content pre code.kd{color:#069;font-weight:bold}#sbo-rt-content pre code.kn{color:#069;font-weight:bold}#sbo-rt-content pre code.kp{color:#069}#sbo-rt-content pre code.kr{color:#069;font-weight:bold}#sbo-rt-content pre code.kt{color:#078;font-weight:bold}#sbo-rt-content pre code.m{color:#F60}#sbo-rt-content pre code.s{color:#C30}#sbo-rt-content pre code.na{color:#309}#sbo-rt-content pre code.nb{color:#366}#sbo-rt-content pre code.nc{color:#0A8;font-weight:bold}#sbo-rt-content pre code.no{color:#360}#sbo-rt-content pre code.nd{color:#99F}#sbo-rt-content pre code.ni{color:#999;font-weight:bold}#sbo-rt-content pre code.ne{color:#C00;font-weight:bold}#sbo-rt-content pre code.nf{color:#C0F}#sbo-rt-content pre code.nl{color:#99F}#sbo-rt-content pre code.nn{color:#0CF;font-weight:bold}#sbo-rt-content pre code.nt{color:#309;font-weight:bold}#sbo-rt-content pre code.nv{color:#033}#sbo-rt-content pre code.ow{color:#000;font-weight:bold}#sbo-rt-content pre code.w{color:#bbb}#sbo-rt-content pre code.mf{color:#F60}#sbo-rt-content pre code.mh{color:#F60}#sbo-rt-content pre code.mi{color:#F60}#sbo-rt-content pre code.mo{color:#F60}#sbo-rt-content pre code.sb{color:#C30}#sbo-rt-content pre code.sc{color:#C30}#sbo-rt-content pre code.sd{color:#C30;font-style:italic}#sbo-rt-content pre code.s2{color:#C30}#sbo-rt-content pre code.se{color:#C30;font-weight:bold}#sbo-rt-content pre code.sh{color:#C30}#sbo-rt-content pre code.si{color:#A00}#sbo-rt-content pre code.sx{color:#C30}#sbo-rt-content pre code.sr{color:#3AA}#sbo-rt-content pre code.s1{color:#C30}#sbo-rt-content pre code.ss{color:#A60}#sbo-rt-content pre code.bp{color:#366}#sbo-rt-content pre code.vc{color:#033}#sbo-rt-content pre code.vg{color:#033}#sbo-rt-content pre code.vi{color:#033}#sbo-rt-content pre code.il{color:#F60}#sbo-rt-content pre code.g{color:#050}#sbo-rt-content pre code.l{color:#C60}#sbo-rt-content pre code.l{color:#F90}#sbo-rt-content pre code.n{color:#008}#sbo-rt-content pre code.nx{color:#008}#sbo-rt-content pre code.py{color:#96F}#sbo-rt-content pre code.p{color:#000}#sbo-rt-content pre code.x{color:#F06}#sbo-rt-content div.blockquote_sampler_toc{width:95%;margin:5px 5px 5px 10px !important}#sbo-rt-content div{font-family:serif,"DejaVuSerif"}
    </style> 
  <style>
    header.global {
      top:26px;
    }
    .orm-topbar {
      width: 100%;
      height: 26px;
      padding: 0 17px;
      line-height: 26px;
      background: #d3002d;
      color: #fff;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 9;
      font-size: 13px;
    }
    .orm-topbar svg {
      width: 78px;
      height: 13px;
      fill: #fff;
      vertical-align: middle;
    }
    .orm-topbar span {
      vertical-align: middle;
      float: right;
      color: #fff;
      font-weight: bold;
    }
    .orm-topbar:hover span {
      text-decoration: underline;
    }
    </style> 
  <script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"VQQDUVVVGwIAUFFQBQMP"};window.NREUM||(NREUM={}),__nr_require=function(t,n,e){function r(e){if(!n[e]){var o=n[e]={exports:{}};t[e][0].call(o.exports,function(n){var o=t[e][1][n];return r(o||n)},o,o.exports)}return n[e].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<e.length;o++)r(e[o]);return r}({1:[function(t,n,e){function r(t){try{s.console&&console.log(t)}catch(n){}}var o,i=t("ee"),a=t(15),s={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,o.indexOf("dev")!==-1&&(s.dev=!0),o.indexOf("nr_dev")!==-1&&(s.nrDev=!0))}catch(c){}s.nrDev&&i.on("internal-error",function(t){r(t.stack)}),s.dev&&i.on("fn-err",function(t,n,e){r(e.stack)}),s.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(s,function(t,n){return t}).join(", ")))},{}],2:[function(t,n,e){function r(t,n,e,r,o){try{d?d-=1:i("err",[o||new UncaughtException(t,n,e)])}catch(s){try{i("ierr",[s,c.now(),!0])}catch(u){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,n,e){this.message=t||"Uncaught error with no additional information",this.sourceURL=n,this.line=e}function o(t){i("err",[t,c.now()])}var i=t("handle"),a=t(16),s=t("ee"),c=t("loader"),f=window.onerror,u=!1,d=0;c.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(8),t(7),"addEventListener"in window&&t(5),c.xhrWrappable&&t(9),u=!0)}s.on("fn-start",function(t,n,e){u&&(d+=1)}),s.on("fn-err",function(t,n,e){u&&(this.thrown=!0,o(e))}),s.on("fn-end",function(){u&&!this.thrown&&d>0&&(d-=1)}),s.on("internal-error",function(t){i("ierr",[t,c.now(),!0])})},{}],3:[function(t,n,e){t("loader").features.ins=!0},{}],4:[function(t,n,e){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(8),s=t(7),c="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",l="resource",p="-start",h="-end",m="fn"+p,w="fn"+h,v="bstTimer",y="pushState",g=t("loader");g.features.stn=!0,t(6);var b=NREUM.o.EV;o.on(m,function(t,n){var e=t[0];e instanceof b&&(this.bstStart=g.now())}),o.on(w,function(t,n){var e=t[0];e instanceof b&&i("bst",[e,n,this.bstStart,g.now()])}),a.on(m,function(t,n,e){this.bstStart=g.now(),this.bstType=e}),a.on(w,function(t,n){i(v,[n,this.bstStart,g.now(),this.bstType])}),s.on(m,function(){this.bstStart=g.now()}),s.on(w,function(t,n){i(v,[n,this.bstStart,g.now(),"requestAnimationFrame"])}),o.on(y+p,function(t){this.time=g.now(),this.startPath=location.pathname+location.hash}),o.on(y+h,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+c]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["c"+c]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["webkitC"+c]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],5:[function(t,n,e){function r(t){for(var n=t;n&&!n.hasOwnProperty(u);)n=Object.getPrototypeOf(n);n&&o(n)}function o(t){s.inPlace(t,[u,d],"-",i)}function i(t,n){return t[1]}var a=t("ee").get("events"),s=t(18)(a,!0),c=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";n.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,n){var e=t[1],r=c(e,"nr@wrapped",function(){function t(){if("function"==typeof e.handleEvent)return e.handleEvent.apply(e,arguments)}var n={object:t,"function":e}[typeof e];return n?s(n,"fn-",null,n.name||"anonymous"):e});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],6:[function(t,n,e){var r=t("ee").get("history"),o=t(18)(r);n.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],7:[function(t,n,e){var r=t("ee").get("raf"),o=t(18)(r),i="equestAnimationFrame";n.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],8:[function(t,n,e){function r(t,n,e){t[0]=a(t[0],"fn-",null,e)}function o(t,n,e){this.method=e,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,e)}var i=t("ee").get("timer"),a=t(18)(i),s="setTimeout",c="setInterval",f="clearTimeout",u="-start",d="-";n.exports=i,a.inPlace(window,[s,"setImmediate"],s+d),a.inPlace(window,[c],c+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(c+u,r),i.on(s+u,o)},{}],9:[function(t,n,e){function r(t,n){d.inPlace(n,["onreadystatechange"],"fn-",s)}function o(){var t=this,n=u.context(t);t.readyState>3&&!n.resolved&&(n.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",s)}function i(t){g.push(t),h&&(x?x.then(a):w?w(a):(E=-E,O.data=E))}function a(){for(var t=0;t<g.length;t++)r([],g[t]);g.length&&(g=[])}function s(t,n){return n}function c(t,n){for(var e in t)n[e]=t[e];return n}t(5);var f=t("ee"),u=f.get("xhr"),d=t(18)(u),l=NREUM.o,p=l.XHR,h=l.MO,m=l.PR,w=l.SI,v="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],g=[];n.exports=u;var b=window.XMLHttpRequest=function(t){var n=new p(t);try{u.emit("new-xhr",[n],n),n.addEventListener(v,o,!1)}catch(e){try{u.emit("internal-error",[e])}catch(r){}}return n};if(c(p,b),b.prototype=p.prototype,d.inPlace(b.prototype,["open","send"],"-xhr-",s),u.on("send-xhr-start",function(t,n){r(t,n),i(n)}),u.on("open-xhr-start",r),h){var x=m&&m.resolve();if(!w&&!m){var E=1,O=document.createTextNode(E);new h(a).observe(O,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===v||a()})},{}],10:[function(t,n,e){function r(t){var n=this.params,e=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!n.aborted){if(e.duration=a.now()-this.startTime,4===t.readyState){n.status=t.status;var i=o(t,this.lastSize);if(i&&(e.rxSize=i),this.sameOrigin){var c=t.getResponseHeader("X-NewRelic-App-Data");c&&(n.cat=c.split(", ").pop())}}else n.status=0;e.cbTime=this.cbTime,f.emit("xhr-done",[t],t),s("xhr",[n,e,this.startTime])}}}function o(t,n){var e=t.responseType;if("json"===e&&null!==n)return n;var r="arraybuffer"===e||"blob"===e||"json"===e?t.response:t.responseText;return h(r)}function i(t,n){var e=c(n),r=t.params;r.host=e.hostname+":"+e.port,r.pathname=e.pathname,t.sameOrigin=e.sameOrigin}var a=t("loader");if(a.xhrWrappable){var s=t("handle"),c=t(11),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(14),h=t(13),m=window.XMLHttpRequest;a.features.xhr=!0,t(9),f.on("new-xhr",function(t){var n=this;n.totalCbs=0,n.called=0,n.cbTime=0,n.end=r,n.ended=!1,n.xhrGuids={},n.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){n.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,n){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&n.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,n){var e=this.metrics,r=t[0],o=this;if(e&&r){var i=h(r);i&&(e.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof n.onload))&&o.end(n)}catch(e){try{f.emit("internal-error",[e])}catch(r){}}};for(var s=0;s<d;s++)n.addEventListener(u[s],this.listener,!1)}),f.on("xhr-cb-time",function(t,n,e){this.cbTime+=t,n?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof e.onload||this.end(e)}),f.on("xhr-load-added",function(t,n){var e=""+l(t)+!!n;this.xhrGuids&&!this.xhrGuids[e]&&(this.xhrGuids[e]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,n){var e=""+l(t)+!!n;this.xhrGuids&&this.xhrGuids[e]&&(delete this.xhrGuids[e],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,n){n instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],n)}),f.on("removeEventListener-end",function(t,n){n instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],n)}),f.on("fn-start",function(t,n,e){n instanceof m&&("onload"===e&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,n){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,n],n)})}},{}],11:[function(t,n,e){n.exports=function(t){var n=document.createElement("a"),e=window.location,r={};n.href=t,r.port=n.port;var o=n.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=n.hostname||e.hostname,r.pathname=n.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!n.protocol||":"===n.protocol||n.protocol===e.protocol,a=n.hostname===document.domain&&n.port===e.port;return r.sameOrigin=i&&(!n.hostname||a),r}},{}],12:[function(t,n,e){function r(){}function o(t,n,e){return function(){return i(t,[f.now()].concat(s(arguments)),n?null:this,e),n?void 0:this}}var i=t("handle"),a=t(15),s=t(16),c=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",p=l+"ixn-";a(d,function(t,n){u[n]=o(l+n,!0,"api")}),u.addPageAction=o(l+"addPageAction",!0),u.setCurrentRouteName=o(l+"routeName",!0),n.exports=newrelic,u.interaction=function(){return(new r).get()};var h=r.prototype={createTracer:function(t,n){var e={},r=this,o="function"==typeof n;return i(p+"tracer",[f.now(),t,e],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],e),o)try{return n.apply(this,arguments)}finally{c.emit("fn-end",[f.now()],e)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,n){h[n]=o(p+n)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],13:[function(t,n,e){n.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(n){return}}}},{}],14:[function(t,n,e){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),n.exports=r},{}],15:[function(t,n,e){function r(t,n){var e=[],r="",i=0;for(r in t)o.call(t,r)&&(e[i]=n(r,t[r]),i+=1);return e}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],16:[function(t,n,e){function r(t,n,e){n||(n=0),"undefined"==typeof e&&(e=t?t.length:0);for(var r=-1,o=e-n||0,i=Array(o<0?0:o);++r<o;)i[r]=t[n+r];return i}n.exports=r},{}],17:[function(t,n,e){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],18:[function(t,n,e){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(16),a="nr@original",s=Object.prototype.hasOwnProperty,c=!1;n.exports=function(t,n){function e(t,n,e,o){function nrWrapper(){var r,a,s,c;try{a=this,r=i(arguments),s="function"==typeof e?e(r,a):e||{}}catch(f){l([f,"",[r,a,o],s])}u(n+"start",[r,a,o],s);try{return c=t.apply(a,r)}catch(d){throw u(n+"err",[r,a,d],s),d}finally{u(n+"end",[r,a,c],s)}}return r(t)?t:(n||(n=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,n,o,i){o||(o="");var a,s,c,f="-"===o.charAt(0);for(c=0;c<n.length;c++)s=n[c],a=t[s],r(a)||(t[s]=e(a,f?s+o:o,i,s))}function u(e,r,o){if(!c||n){var i=c;c=!0;try{t.emit(e,r,o,n)}catch(a){l([a,e,r,o])}c=i}}function d(t,n){if(Object.defineProperty&&Object.keys)try{var e=Object.keys(t);return e.forEach(function(e){Object.defineProperty(n,e,{get:function(){return t[e]},set:function(n){return t[e]=n,n}})}),n}catch(r){l([r])}for(var o in t)s.call(t,o)&&(n[o]=t[o]);return n}function l(n){try{t.emit("internal-error",n)}catch(e){}}return t||(t=o),e.inPlace=f,e.flag=a,e}},{}],ee:[function(t,n,e){function r(){}function o(t){function n(t){return t&&t instanceof r?t:t?c(t,s,i):i()}function e(e,r,o,i){if(!l.aborted||i){t&&t(e,r,o);for(var a=n(o),s=h(e),c=s.length,f=0;f<c;f++)s[f].apply(a,r);var d=u[y[e]];return d&&d.push([g,e,r,a]),a}}function p(t,n){v[t]=h(t).concat(n)}function h(t){return v[t]||[]}function m(t){return d[t]=d[t]||o(e)}function w(t,n){f(t,function(t,e){n=n||"feature",y[e]=n,n in u||(u[n]=[])})}var v={},y={},g={on:p,emit:e,get:m,listeners:h,context:n,buffer:w,abort:a,aborted:!1};return g}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var s="nr@context",c=t("gos"),f=t(15),u={},d={},l=n.exports=o();l.backlog=u},{}],gos:[function(t,n,e){function r(t,n,e){if(o.call(t,n))return t[n];var r=e();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(t,n,e){function r(t,n,e,r){o.buffer([t],r),o.emit(t,n,e)}var o=t("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(t,n,e){function r(t){var n=typeof t;return!t||"object"!==n&&"function"!==n?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");n.exports=r},{}],loader:[function(t,n,e){function r(){if(!x++){var t=b.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&n))return u.abort();f(y,function(n,e){t[n]||(t[n]=e)}),c("mark",["onload",a()+b.offset],null,"api");var e=l.createElement("script");e.src="https://"+t.agent,n.parentNode.insertBefore(e,n)}}function o(){"complete"===l.readyState&&i()}function i(){c("mark",["domContent",a()+b.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(s=Math.max((new Date).getTime(),s))-b.offset}var s=(new Date).getTime(),c=t("handle"),f=t(15),u=t("ee"),d=window,l=d.document,p="addEventListener",h="attachEvent",m=d.XMLHttpRequest,w=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1044.min.js"},g=m&&w&&w[p]&&!/CriOS/.test(navigator.userAgent),b=n.exports={offset:s,now:a,origin:v,features:{},xhrWrappable:g};t(12),l[p]?(l[p]("DOMContentLoaded",i,!1),d[p]("load",r,!1)):(l[h]("onreadystatechange",o),d[h]("onload",r)),c("mark",["firstbyte",s],null,"api");var x=0,E=t(17)},{}]},{},["loader",2,10,4,3]);</script> 
 </head> 
 <body class="js-preview-content  "> 
  <header class="global"> 
   <a href="//www.oreilly.com/go/oreilly" class="orm-topbar">
    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 59.13 9.88">
     <desc>
      O'Reilly logo
     </desc>
     <polygon points="28.09 1.96 28.09 0.42 21.68 0.42 21.68 9.64 28.09 9.64 28.09 8.11 23.22 8.11 23.22 5.8 27.86 5.8 27.86 4.27 23.22 4.27 23.22 1.96 28.09 1.96" />
     <polygon points="32.85 9.64 32.85 0.42 34.39 0.42 34.39 8.11 38.82 8.11 38.82 9.64 32.85 9.64" />
     <polygon points="40.07 9.64 40.07 0.42 41.61 0.42 41.61 8.11 46.04 8.11 46.04 9.64 40.07 9.64" />
     <rect x="29.71" y="0.42" width="1.54" height="9.22" />
     <path d="M1.59,6.28a4.8,4.8,0,1,1,4.8,4.8,4.8,4.8,0,0,1-4.8-4.8M4.09,4A3.27,3.27,0,1,0,6.4,3,3.27,3.27,0,0,0,4.09,4" transform="translate(-1.59 -1.2)" />
     <path d="M19.82,6.89A2.69,2.69,0,0,0,19,1.62H14.41v9.22h1.54V7h2.14l2.32,3.84H22.2ZM15.95,5.47V3.16H19a1.15,1.15,0,0,1,0,2.31h-3.1Z" transform="translate(-1.59 -1.2)" />
     <path d="M13.32,2.61a1.13,1.13,0,1,1-1.13-1.13,1.13,1.13,0,0,1,1.13,1.13" transform="translate(-1.59 -1.2)" />
     <polygon points="52.9 0.42 51.03 0.42 48.66 3.85 46.3 0.42 44.43 0.42 47.89 5.44 47.89 9.64 49.43 9.64 49.43 5.44 52.9 0.42" />
     <path d="M58.31,1.2a2.41,2.41,0,1,0,2.41,2.42A2.42,2.42,0,0,0,58.31,1.2m0,4.44a2,2,0,1,1,2-2,2,2,0,0,1-2,2" transform="translate(-1.59 -1.2)" />
     <path d="M59.4,3.09a0.72,0.72,0,0,0-.72-0.72H57.32V4.83h0.41v-1h0.69l0.49,1h0.46l-0.51-1a0.71,0.71,0,0,0,.54-0.69m-1.67-.31h0.95a0.31,0.31,0,0,1,.31.31,0.31,0.31,0,0,1-.31.3H57.73V2.78Z" transform="translate(-1.59 -1.2)" />
    </svg></a> 
   <div class="header-top"> 
    <nav class="main-nav"> 
     <a href="/" class="logo">
      <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 125.46 36" class="home-logo">
       <desc>
        Safari Logo
       </desc>
       <path d="M27.85,7.25a1.4,1.4,0,1,1,2.75,0V15.6a1.44,1.44,0,0,1-1.4,1.71A1.49,1.49,0,0,1,28,16.64,13.56,13.56,0,0,1,27.54,14c-0.62-3.89-4.15-6.54-8.66-6.54S11,10.16,11,14c0,3,1.66,4.56,6.8,6.28l5.29,1.82c5.86,2,8.14,4.46,8.14,9,0,5.76-4.36,9.6-10.84,9.6-5,0-8.3-1.87-9.91-5.6v3.42a1.4,1.4,0,1,1-2.75,0V29.71A1.44,1.44,0,0,1,9.18,28c1,0,1.35.52,1.45,2A10.59,10.59,0,0,0,13,35.63a9.05,9.05,0,0,0,6.8,2.7c5,0,8.3-2.8,8.3-7a5.45,5.45,0,0,0-2.54-4.82,18.52,18.52,0,0,0-3.89-1.71l-4.51-1.56c-3.58-1.24-5.24-2-6.54-3a7.46,7.46,0,0,1-2.75-6c0-5.45,4.36-9.13,10.69-9.13,4.46,0,7.63,1.71,9.29,5.08V7.25Z" transform="translate(-7.78 -4.92)" />
       <path d="M51.81,35.11c-1.82,4.1-4.51,5.81-9.28,5.81-5.39,0-8.71-2.75-8.71-7.31A6.88,6.88,0,0,1,38.11,27c1.87-.83,4.62-1.19,8.92-1.19,0.93,0,2,0,2.8.05a7,7,0,0,0,.93.05,0.89,0.89,0,0,0,1-.88V24.84c0-3.37-.31-4.46-1.71-5.71-1.19-1.09-2.8-1.56-5.24-1.56-4.15,0-6.64,1.71-7.11,4.88a1.45,1.45,0,0,1-2.9-.16c0-2.13,1.82-4.67,4.15-5.81a13.94,13.94,0,0,1,6-1.09c3.63,0,6.22.88,7.83,2.75,1.4,1.56,1.82,3.16,1.82,6.64V37a0.89,0.89,0,0,0,1,1h1.76a1.08,1.08,0,1,1,0,2.13H53.05a1.06,1.06,0,0,1-1.24-1.24V35.11Zm-15-1.61c0,3.32,2.33,5.24,6.33,5.24,3.27,0,5.76-1.24,7.16-3.58a16.08,16.08,0,0,0,1.45-6.38A0.8,0.8,0,0,0,51.24,28a34,34,0,0,0-4.62-.21C39.93,27.79,36.76,29.66,36.76,33.5Z" transform="translate(-7.78 -4.92)" />
       <path d="M67.91,37a0.89,0.89,0,0,0,1,1H71.8a1.08,1.08,0,1,1,0,2.13H62a1.09,1.09,0,1,1,0-2.13h2.07a0.89,0.89,0,0,0,1-1V19.29a0.89,0.89,0,0,0-1-1H61.63a1.08,1.08,0,1,1,0-2.13h2.44a0.89,0.89,0,0,0,1-1V13.48c0-3.16.78-5.39,2.39-6.8a8.56,8.56,0,0,1,5.19-1.76,10.85,10.85,0,0,1,3.58.62,1.83,1.83,0,0,1,.52,1,1.23,1.23,0,0,1-.88,1,2.74,2.74,0,0,1-.67-0.1,12.61,12.61,0,0,0-2.28-.31,5.41,5.41,0,0,0-4,2c-0.73,1-1,2.18-1,4.56v1.35a0.89,0.89,0,0,0,1,1h3.58a1.09,1.09,0,1,1,0,2.13H68.95a0.89,0.89,0,0,0-1,1V37Z" transform="translate(-7.78 -4.92)" />
       <path d="M93.68,35.11c-1.82,4.1-4.51,5.81-9.28,5.81-5.39,0-8.71-2.75-8.71-7.31A6.88,6.88,0,0,1,80,27c1.87-.83,4.62-1.19,8.92-1.19,0.93,0,2,0,2.8.05a7,7,0,0,0,.93.05,0.89,0.89,0,0,0,1-.88V24.84c0-3.37-.31-4.46-1.71-5.71-1.19-1.09-2.8-1.56-5.24-1.56-4.15,0-6.64,1.71-7.11,4.88a1.45,1.45,0,0,1-2.9-.16c0-2.13,1.82-4.67,4.15-5.81a13.94,13.94,0,0,1,6-1.09c3.63,0,6.22.88,7.83,2.75,1.4,1.56,1.82,3.16,1.82,6.64V37a0.89,0.89,0,0,0,1,1h1.76a1.08,1.08,0,1,1,0,2.13H94.92a1.06,1.06,0,0,1-1.24-1.24V35.11Zm-15-1.61c0,3.32,2.33,5.24,6.33,5.24,3.27,0,5.76-1.24,7.16-3.58a16.07,16.07,0,0,0,1.45-6.38A0.8,0.8,0,0,0,93.11,28a34,34,0,0,0-4.62-.21C81.8,27.79,78.64,29.66,78.64,33.5Z" transform="translate(-7.78 -4.92)" />
       <path d="M109.44,21.05a6.5,6.5,0,0,1,2-3.53,8.68,8.68,0,0,1,5.71-2.13c1.35,0,2.13.52,2.13,1.35a0.83,0.83,0,0,1-.78,1,3.75,3.75,0,0,1-.67-0.05,2.45,2.45,0,0,0-.78-0.1,11.52,11.52,0,0,0-3.63.88c-2.59,1.19-4,4-4,8.2V37a0.89,0.89,0,0,0,1,1h3a1.08,1.08,0,1,1,0,2.13h-10a1.09,1.09,0,1,1,0-2.13h2.13a0.89,0.89,0,0,0,1-1V19.29a0.89,0.89,0,0,0-1-1h-2.13a1.09,1.09,0,1,1,0-2.13h4.72a1.06,1.06,0,0,1,1.24,1.24v3.68Z" transform="translate(-7.78 -4.92)" />
       <path d="M129.09,37a0.89,0.89,0,0,0,1,1h1.82a1.08,1.08,0,1,1,0,2.13h-8.82a1.09,1.09,0,1,1,0-2.13h2.13a0.89,0.89,0,0,0,1-1V19.29a0.89,0.89,0,0,0-1-1h-2.13a1.09,1.09,0,1,1,0-2.13h4.72a1.06,1.06,0,0,1,1.24,1.24V37ZM129.55,8.5a2.08,2.08,0,0,1-2.07,2.07,2.17,2.17,0,0,1-2.13-2.13,2.08,2.08,0,0,1,2.07-2.08A2.1,2.1,0,0,1,129.55,8.5Z" transform="translate(-7.78 -4.92)" />
      </svg></a> 
    </nav> 
    <nav class="right-nav"> 
     <ul> 
      <li class="callout mobile-link"> <a class="t-register cta-link" data-ga-label="Nav Bar" href="/public/free-trial/?fa=True&amp;cl=/library/view/java-data-objects/0596002769/ch04s02.html">Start Free Trial</a> </li> 
      <li class="mobile-link"><a class="t-sign-in" href="/accounts/login/?next=/library/view/java-data-objects/0596002769/ch04s02.html">Sign In</a></li> 
      <li><a href="/pricing/">Pricing</a></li> 
      <li><a href="/enterprise/">Enterprise</a></li> 
      <li class="search-field"> 
       <form id="js-search-form" action="/search/"> 
        <script type="application/ld+json">
                {
                  "@context": "http://schema.org",
                  "@type": "WebSite",
                  "url": "https://www.safaribooksonline.com/",
                  "potentialAction": {
                    "@type": "SearchAction",
                    "target": "https://www.safaribooksonline.com/search/?q={search_term_string}",
                    "query-input": "required name=search_term_string"
                  }
                }
                </script> 
        <input data-search-text-focus="Search books and videos..." data-search-text-idle="Search..." id="search" type="search" name="q" placeholder="Search..." autocomplete="off" required> 
        <input type="submit" value="search" class="search-submit"> 
       </form> </li> 
     </ul> 
    </nav> 
   </div> 
   <div class="sbo-menu-top"> 
    <section class="sbo-toc-container"> 
     <a href="/library/view/java-data-objects/0596002769/" class="sbo-toc-thumb"> <span class="sbo-title ss-list"> <h1 class="t-title">Java Data Objects by Craig Russell, David Jordan</h1> </span> </a> 
    </section> 
   </div> 
  </header> 
  <section id="trial-overlay"> 
   <div class="trial-overlay-content"> 
    <h2 class="trial-modal-title"> Stay ahead with the world's most comprehensive technology and business learning platform. </h2> 
    <h2> With Safari, you learn the way you learn best. Get unlimited access to videos, live online training, learning paths, books, tutorials, and more. </h2> 
    <div class="controls"> 
     <a href="/public/free-trial/?fa=True&amp;cl=/library/view/java-data-objects/0596002769/ch04s02.html" class="button" data-ga-label="Modal">Start Free Trial</a> 
     <p>No credit card required</p> 
    </div> 
    <a class="modal-dismiss" aria-label="modal dismiss"></a> 
   </div> 
  </section> 
  <section role="document"> 
   <section id="sbo-reader"> 
    <div class="sbo-reader-content sbo-sample-reader "> 
     <div id="sbo-rt-content"> 
      <div id="test-content-id">
       <div class="sect1" title="Java Classes and Metadata">
        <div class="titlepage">
         <div>
          <div>
           <h1 class="title"><a id="jvadtaobj-CHP-4-SECT-2"></a>Java Classes and Metadata</h1>
          </div>
         </div>
        </div>
        <p>You can make most of your classes persistent in a JDO environment. JDO has the ability to make <span class="emphasis"><em>plain ordinary Java objects</em></span> (POJOs) persistent. This includes classes that represent the entities in your application domain, utility classes that model other data, and abstractions you need to support your application’s functionality. Your classes can also use all of Java’s class and field modifiers, including: <code class="literal">private</code> <a id="jvadtaobj-CHP-4-ITERM-1459" class="indexterm"></a>, <code class="literal">public</code> <a id="jvadtaobj-CHP-4-ITERM-1460" class="indexterm"></a>, <code class="literal">protected</code> <a id="jvadtaobj-CHP-4-ITERM-1461" class="indexterm"></a>, <code class="literal">static</code> <a id="jvadtaobj-CHP-4-ITERM-1462" class="indexterm"></a>, <code class="literal">transient</code> <a id="jvadtaobj-CHP-4-ITERM-1463" class="indexterm"></a>, <code class="literal">abstract</code> <a id="jvadtaobj-CHP-4-ITERM-1464" class="indexterm"></a>, <code class="literal">final</code> <a id="jvadtaobj-CHP-4-ITERM-1465" class="indexterm"></a>, <code class="literal">synchronized</code> <a id="jvadtaobj-CHP-4-ITERM-1466" class="indexterm"></a>, and <code class="literal">volatile</code> <a id="jvadtaobj-CHP-4-ITERM-1467" class="indexterm"></a>. In some cases, as we will explore later in this chapter, some of these modifiers cannot be used with persistent fields.</p>
        <p>The persistent state of a persistent class is represented entirely by the values of its Java fields. If you have a class that has some state that needs to be preserved and it depends on inaccessible or remote objects (e.g., it extends <code class="literal">java.net.SocketImpl</code> or uses <a id="jvadtaobj-CHP-4-ITERM-1468" class="indexterm"></a>Java Native Interface (JNI)), you cannot make the class persistent. You also cannot have a persistent <a id="jvadtaobj-CHP-4-ITERM-1469" class="indexterm"></a>nonstatic inner class, because the state of the inner class instance depends on the state of its enclosing instance.</p>
        <p>With a few exceptions, system-defined classes (those defined in <code class="literal">java.lang</code>, <code class="literal">java.io</code>, <code class="literal">java.net</code>, etc.) cannot be persistent. They are also not allowed to be the type of a persistent field. This includes classes such as <code class="literal">System</code> <a id="jvadtaobj-CHP-4-ITERM-1470" class="indexterm"></a>, <code class="literal">Thread</code> <a id="jvadtaobj-CHP-4-ITERM-1471" class="indexterm"></a>, <code class="literal">Socket</code> <a id="jvadtaobj-CHP-4-ITERM-1472" class="indexterm"></a>, and <code class="literal">File</code> <a id="jvadtaobj-CHP-4-ITERM-1473" class="indexterm"></a>. We list the system classes that are supported in <a class="link" href="ch04s03.html#jvadtaobj-CHP-4-TABLE-2" title="Table&nbsp;4-2.&nbsp;Supported field types">Table 4-2</a> later in this chapter. You may be using an implementation that supports additional system-defined classes, especially those for modeling state information. Relying on support for these additional types will make your software dependent on that implementation.</p>
        <p>As discussed in <a class="link" href="ch01.html" title="Chapter&nbsp;1.&nbsp;An Initial Tour">Chapter 1</a>, each persistent class needs to have a <a id="jvadtaobj-CHP-4-ITERM-1474" class="indexterm"></a>no-arg constructor. If your class does not define any constructors, the Java compiler generates a no-arg constructor automatically (called the <span class="emphasis"><em>default constructor</em></span>). But if you do define one or more constructors with arguments in a persistent class, then you must also define a no-arg constructor manually.</p>
        <p>When your application first accesses a persistent instance, the JDO implementation needs to construct an instance, so it calls the no-arg constructor. The availability of a no-arg constructor is the only requirement JDO imposes on your persistent classes. Some JDO enhancers can generate this <a id="jvadtaobj-CHP-4-ITERM-1475" class="indexterm"></a>no-arg constructor for you if it does not already exist, but they are not required to do so.</p>
        <p>You may not want other classes in your application calling the no-arg constructor. If this is the case, you can declare it to be <code class="literal">private</code>. Or, if the class will have subclasses, declare it to be <code class="literal">protected</code> so that the subclass constructors can call it.</p>
        <div class="sect2" title="JDO Metadata">
         <div class="titlepage">
          <div>
           <div>
            <h2 class="title"><a id="jvadtaobj-CHP-4-SECT-2.1"></a>JDO Metadata</h2>
           </div>
          </div>
         </div>
         <a id="jvadtaobj-CHP-4-ITERM-1476" class="indexterm"></a>
         <p>Every class that you want to be persistent must be declared in a JDO metadata file. This file cannot include any system classes. Any class that is not declared in a metadata file is a transient class, except for the system classes that all implementations support. You typically place additional persistence-related information that is not expressable in Java in the metadata file. This metadata is used when a class is enhanced and also at runtime.</p>
         <p>JDO metadata is stored in <a id="jvadtaobj-CHP-4-ITERM-1477" class="indexterm"></a>XML format. An XML Document Type Definition (DTD) defines the elements in a JDO metadata file. The JDO DTD is provided in <a class="link" href="apb.html" title="Appendix&nbsp;B.&nbsp;JDO Metadata DTD">Appendix B</a>. It should be identical across all implementations.</p>
         <div class="sect3" title="Metadata filenames">
          <div class="titlepage">
           <div>
            <div>
             <h3 class="title"><a id="jvadtaobj-CHP-4-SECT-2.1.1"></a>Metadata filenames</h3>
            </div>
           </div>
          </div>
          <a id="jvadtaobj-CHP-4-ITERM-1478" class="indexterm"></a>
          <p>You can place the metadata for your application’s classes in one or more XML files. A few rules exist for the naming and directory placement of metadata files to assure portability among implementations. For portability, metadata files should be available via resources loaded by the same class loader as the persistent classes.</p>
          <p>If you have a metadata file that contains information for a package or multiple packages, then the name of the XML file should be <em class="filename">package.jdo</em>. (Here we literally mean the word “package,” not the name of an actual Java package.) The <em class="filename">package.jdo</em> file can be placed in one of the following directories:</p>
          <div class="variablelist">
           <dl>
            <dt>
             <span class="term">META-INF</span>
            </dt>
            <dd>
             <p>In this case, <em class="filename">package.jdo</em> can contain metadata for any class in your application.</p>
            </dd>
            <dt>
             <span class="term">WEB-INF</span>
            </dt>
            <dd>
             <p>Files like <em class="filename">package.jdo</em> should be placed in this directory when deploying a JDO application in a web container.</p>
            </dd>
            <dt>
             <span class="term">(no directory)</span>
            </dt>
            <dd>
             <p>The <em class="filename">package.jdo</em> file is not in any subdirectory of the classpath.</p>
            </dd>
            <dt>
             <span class="term">&lt;package&gt;</span>
            </dt>
            <dd>
             <p>The <em class="filename">package.jdo</em> file is placed in the subdirectory that corresponds to the package defined in the metadata. Thus, if <em class="filename">package.jdo</em> contains the metadata for the <code class="literal">com.mediamania.content</code> package, it would placed in the <em class="filename">com/mediamania/content</em> directory.</p>
            </dd>
           </dl>
          </div>
          <p>If you have a metadata file that only contains information for a single class named <span class="emphasis"><em>classname</em></span>, then its filename should be <em class="filename">classname.jdo</em> and it should reside in the same directory as the class file, based on the package of the class.</p>
          <p>When the JDO implementation needs metadata for a class and the metadata has not been loaded yet, the metadata is searched in the following order:</p>
          <div class="orderedlist">
           <ol class="orderedlist">
            <li class="listitem"><p><em class="filename">META-INF/package.jdo</em></p></li>
            <li class="listitem"><p><em class="filename">WEB-INF/package.jdo</em></p></li>
            <li class="listitem"><p><em class="filename">package.jdo</em></p></li>
            <li class="listitem"><p><em class="filename">&lt;package&gt;/package.jdo</em></p></li>
            <li class="listitem"><p><em class="filename">&lt;package&gt;/&lt;class&gt;.jdo</em></p></li>
           </ol>
          </div>
          <p>where <span class="emphasis"><em>&lt;package&gt;</em></span> represents the directory corresponding to the package of the class and <span class="emphasis"><em>&lt;class&gt;</em></span> represents the name of the class.</p>
          <p>A search for the metadata for the <code class="literal">Customer</code> class in the <code class="literal">com.mediamania.store</code> package is performed in the following order:</p>
          <div class="orderedlist">
           <ol class="orderedlist">
            <li class="listitem"><p><em class="filename">META-INF/package.jdo</em></p></li>
            <li class="listitem"><p><em class="filename">WEB-INF/package.jdo</em></p></li>
            <li class="listitem"><p><em class="filename">package.jdo</em></p></li>
            <li class="listitem"><p><em class="filename">com/package.jdo</em></p></li>
            <li class="listitem"><p><em class="filename">com/mediamania/package.jdo</em></p></li>
            <li class="listitem"><p><em class="filename">com/mediamania/store/package.jdo</em></p></li>
            <li class="listitem"><p><em class="filename">com/mediamania/store/Customer.jdo</em></p></li>
           </ol>
          </div>
          <p>If no metadata is found for the <code class="literal">Customer</code> class in any of these locations, it is considered a transient class.</p>
          <p>Once the metadata for a class has been loaded, it is not replaced. Metadata contained in a file higher in the search order is used instead of metadata lower in the search order. This search order is optimized so that implementations can cache metadata as soon as it is encountered, reducing the number of file accesses that are needed to load the metadata.</p>
          <p>Metadata that is not in its natural location may override metadata that is in its natural location. For example, when the JDO implementation searches for the metadata for <code class="literal">com.mediamania.content.Movie</code>, it may find the metadata for the <code class="literal">com.mediamania.store.Rental</code> class in the <em class="filename">com/mediamania/package.jdo</em> file. In this case, a subsequent search for the metadata for <code class="literal">com.mediamania.store.Rental</code> will use the metadata that has already been cached, instead of looking in <em class="filename">com/mediamania/store/package.jdo</em> or <em class="filename">com/mediamania/store/Rental.jdo</em>.</p>
          <p>These rules for the name and location of the metadata files apply both during enhancement and at runtime. From now on, the term “metadata” refers to the aggregate of all the JDO metadata for all packages and classes, regardless of their physical packaging in multiple files and directory placement.</p>
         </div>
         <div class="sect3" title="jdo, package, and class metadata elements">
          <div class="titlepage">
           <div>
            <div>
             <h3 class="title"><a id="jvadtaobj-CHP-4-SECT-2.1.2"></a>jdo, package, and class metadata elements</h3>
            </div>
           </div>
          </div>
          <p>The <a id="jvadtaobj-CHP-4-ITERM-1479" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1480" class="indexterm"></a> <code class="literal">jdo</code> element is the highest-level XML element in the metadata hierarchy. It does not have any attributes of its own. It contains one or more nested <code class="literal">package</code> elements. A <a id="jvadtaobj-CHP-4-ITERM-1481" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1482" class="indexterm"></a> <code class="literal">package</code> element is used to represent a specific Java package. It has a single required attribute, called <a id="jvadtaobj-CHP-4-ITERM-1483" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1484" class="indexterm"></a> <code class="literal">name</code>, that contains the completely qualified name of the Java package.</p>
          <p>Within a <code class="literal">package</code> element, you can nest one or more <a id="jvadtaobj-CHP-4-ITERM-1485" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1486" class="indexterm"></a> <code class="literal">class</code> elements. A <code class="literal">class</code> element identifies a specific Java class in the enclosing package as persistent. The <code class="literal">class</code> element’s only required attribute is <a id="jvadtaobj-CHP-4-ITERM-1487" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1488" class="indexterm"></a> <code class="literal">name</code>, which is given the name of the class. You should only list classes in the metadata that you want to be persistent.</p>
          <p>The <code class="literal">class</code> element has the following additional optional attributes:</p>
          <div class="itemizedlist">
           <ul class="itemizedlist">
            <li class="listitem"><p><code class="literal">identity-type</code> <a id="jvadtaobj-CHP-4-ITERM-1489" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1490" class="indexterm"></a></p></li>
            <li class="listitem"><p><code class="literal">objectid-class</code> <a id="jvadtaobj-CHP-4-ITERM-1491" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1492" class="indexterm"></a></p></li>
            <li class="listitem"><p><code class="literal">requires-extent</code> <a id="jvadtaobj-CHP-4-ITERM-1493" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1494" class="indexterm"></a></p></li>
            <li class="listitem"><p><code class="literal">persistence-capable-superclass</code> <a id="jvadtaobj-CHP-4-ITERM-1495" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1496" class="indexterm"></a></p></li>
           </ul>
          </div>
          <p>The <a id="jvadtaobj-CHP-4-ITERM-1497" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1498" class="indexterm"></a> <code class="literal">identity-type</code> attribute indicates which type of identity should be used with the class. It defaults to datastore identity, which does not require any additional effort from you. The <a id="jvadtaobj-CHP-4-ITERM-1499" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1500" class="indexterm"></a> <code class="literal">objectid-class</code> attribute identifies a class defined by the application to serve as the application identity of the class. <a class="link" href="ch10.html" title="Chapter&nbsp;10.&nbsp;Identity">Chapter 10</a> covers the various forms of identity in detail; until then, we will use datastore identity in all of our examples. The <code class="literal">requires-extent</code> attribute indicates whether an extent is maintained for the class. Extents are covered in <a class="link" href="ch08.html" title="Chapter&nbsp;8.&nbsp;Instance Management">Chapter 8</a>. The <a id="jvadtaobj-CHP-4-ITERM-1501" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1502" class="indexterm"></a> <code class="literal">persistence-capable-superclass</code> attribute identifies the closest superclass in the inheritance hierarchy that is persistent, if there is one.</p>
         </div>
         <div class="sect3" title="Vendor extensions">
          <div class="titlepage">
           <div>
            <div>
             <h3 class="title"><a id="jvadtaobj-CHP-4-SECT-2.1.3"></a>Vendor extensions</h3>
            </div>
           </div>
          </div>
          <p>The <a id="jvadtaobj-CHP-4-ITERM-1503" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1504" class="indexterm"></a> <code class="literal">extension</code> element specifies vendor-specific metadata extensions in a uniform manner. All JDO metadata elements can have nested <code class="literal">extension</code> elements. The required <a id="jvadtaobj-CHP-4-ITERM-1505" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1506" class="indexterm"></a> <code class="literal">vendor-name</code> attribute associates the extension with a specific vendor. Each vendor uses a unique name to identify metadata extensions for their implementation. The vendor name "<code class="literal">JDORI</code>" is reserved for use with the JDO reference implementation. A JDO implementation ignores any <code class="literal">extension</code> elements that have a <code class="literal">vendor-name</code> value that does not correspond to their implementation. The <code class="literal">extension</code> element also has optional <a id="jvadtaobj-CHP-4-ITERM-1507" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1508" class="indexterm"></a> <code class="literal">key</code> and <a id="jvadtaobj-CHP-4-ITERM-1509" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1510" class="indexterm"></a> <code class="literal">value</code> attributes. A <code class="literal">key</code> may or may not have an associated <code class="literal">value</code>. The vendor chooses values for these attributes that they recognize and interpret. Consult your documentation to see what metadata extensions are provided.</p>
         </div>
         <div class="sect3" title="Nesting of metadata elements">
          <div class="titlepage">
           <div>
            <div>
             <h3 class="title"><a id="jvadtaobj-CHP-4-SECT-2.1.4"></a>Nesting of metadata elements</h3>
            </div>
           </div>
          </div>
          <p>The following illustrates the hierarchical nesting of metadata elements:</p>
          <a id="I_4_tt23"></a>
          <pre class="programlisting">jdo
    package
        class
            field
                collection
                    extension
                extension
            field
                map
                    extension
            field
                array
                    extension
            extension
        extension
    extension
        extension</pre>
          <p>One or more <code class="literal">extension</code> elements can be nested within each of these elements (including <code class="literal">extension</code> itself) to provide vendor-specific information. The field metadata elements (<code class="literal">field</code>, <code class="literal">collection</code>, <code class="literal">map</code>, and <code class="literal">array</code>) are covered later in this chapter.</p>
         </div>
        </div>
        <div class="sect2" title="Inheritance">
         <div class="titlepage">
          <div>
           <div>
            <h2 class="title"><a id="jvadtaobj-CHP-4-SECT-2.2"></a>Inheritance</h2>
           </div>
          </div>
         </div>
         <p>Each class in an <a id="jvadtaobj-CHP-4-ITERM-1511" class="indexterm"></a>inheritance hierarchy can be transient or persistent, independent of the persistence of other classes in the hierarchy. Thus, a class can be persistent, even if its superclass is not. This allows you have a persistent class that extends a transient class that was not designed to be persistent. Likewise, a subclass of a persistent class may be transient or persistent.</p>
         <p>If a persistent class has one or more persistent superclasses, the <code class="literal">class</code> element’s <a id="jvadtaobj-CHP-4-ITERM-1512" class="indexterm"></a> <a id="jvadtaobj-CHP-4-ITERM-1513" class="indexterm"></a> <code class="literal">persistence-capable-superclass</code> attribute must identify the most immediate persistent superclass. If the superclass is in a different package, it must be specified with its fully qualified name. If the superclass is in the same package, you can omit the package qualifier. You may wonder why you need to specify this in the metadata. After all, the Java class declarations specify the branch of superclasses from a class up to <code class="literal">Object</code> in an inheritance hierarchy, and your metadata identifies which of these classes are persistent. But the metadata for a superclass may be specified in a different metadata file. JDO is designed such that the enhancer can enhance a class in a stateless fashion, independent from other classes. The order in which classes are enhanced is irrelevant, and a class can be enhanced without the presence of any other classes. This greatly supports the simplicity of enhancer design, ease of use, integration with classloaders, and—last, but not least—easy reproducability of errors.</p>
         <p>To illustrate these concepts, the UML diagram in <a class="link" href="ch04s02.html#jvadtaobj-CHP-4-FIG-1" title="Figure&nbsp;4-1.&nbsp;Persistence within an inheritance hierarchy">Figure 4-1</a> describes two inheritance hierarchies. We use the stereotyping facility in UML to indicate whether a class is persistent or transient. In practice, you are not likely to have an inheritance hierarchy with such a complicated mix of persistent and transient classes. In many cases, the classes in an inheritance hierarchy are either all transient or all persistent. But JDO provides you with the flexibility to choose whether each class in an inheritance hierarchy is transient or persistent, as we have demonstrated here.</p>
         <div class="figure">
          <a id="jvadtaobj-CHP-4-FIG-1"></a>
          <div class="figure-contents">
           <div class="mediaobject">
            <a id="I_4_tt24"></a>
            <img src="/library/view/java-data-objects/0596002769/httpatomoreillycomsourceoreillyimages1807437.png" alt="Persistence within an inheritance hierarchy" width="271" height="318">
           </div>
          </div>
          <p class="title">Figure&nbsp;4-1.&nbsp;Persistence within an inheritance hierarchy</p>
         </div>
         <p>The following metadata identifies the persistent superclass for each persistent class shown in <a class="link" href="ch04s02.html#jvadtaobj-CHP-4-FIG-1" title="Figure&nbsp;4-1.&nbsp;Persistence within an inheritance hierarchy">Figure 4-1</a>. This metadata is placed in the <em class="filename">com/mediamania/inheritexample/package.jdo</em> file.</p>
         <a id="I_4_tt25"></a>
         <pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE jdo PUBLIC
    "-//Sun Microsystems, Inc.//DTD Java Data Objects Metadata 1.0//EN"
    "http://java.sun.com/dtd/jdo_1_0.dtd"&gt;
&lt;jdo&gt;
    &lt;package name="com.mediamania.inheritexample" &gt;
        &lt;class name="A" /&gt;
        &lt;class name="C"
               persistence-capable-superclass="A"/&gt;
        &lt;class name="E"
               persistence-capable-superclass="A"/&gt;
        &lt;class name="G"
               persistence-capable-superclass="C"/&gt;
        &lt;class name="H"
               persistence-capable-superclass="A"/&gt;
        &lt;class name="K" /&gt;
        &lt;class name="M" /&gt;
        &lt;class name="O"
               persistence-capable-superclass="K"/&gt;
    &lt;/package&gt;
&lt;/jdo&gt;</pre>
        </div>
        <div class="sect2" title="The Media Mania Object Model">
         <div class="titlepage">
          <div>
           <div>
            <h2 class="title"><a id="jvadtaobj-CHP-4-SECT-2.3"></a>The Media Mania Object Model</h2>
           </div>
          </div>
         </div>
         <p>Let’s examine the object model we use in most of the examples throughout this book. Media Mania, Inc. provides a system in their stores that contains information about the various forms of media that customers can rent or purchase. In <a class="link" href="ch01.html" title="Chapter&nbsp;1.&nbsp;An Initial Tour">Chapter 1</a> we created a prototype application contained in <code class="literal">com.mediamania.prototype</code>. Now, we replace this prototype with two new packages: <code class="literal">com.mediamania.content</code> and <code class="literal">com.mediamania.store</code>.</p>
         <p>The <code class="literal">com.mediamania.content</code> Java package contains classes that represent generic media content information. The content handled by the stores includes movies and games. The <code class="literal">Movie</code> and <code class="literal">Game</code> classes extend an abstract base class called <code class="literal">MediaContent</code>. The <code class="literal">Studio</code> class contains information about the studio that produced the game or movie. <a class="link" href="ch04s02.html#jvadtaobj-CHP-4-FIG-2" title="Figure&nbsp;4-2.&nbsp;Studio and MediaContent classes in com.mediamania.content package">Figure 4-2</a> illustrates the relationships among these classes.</p>
         <div class="figure">
          <a id="jvadtaobj-CHP-4-FIG-2"></a>
          <div class="figure-contents">
           <div class="mediaobject">
            <a id="I_4_tt26"></a>
            <img src="/library/view/java-data-objects/0596002769/httpatomoreillycomsourceoreillyimages1807439.png" alt="Studio and MediaContent classes in com.mediamania.content package" width="252" height="86">
           </div>
          </div>
          <p class="title">Figure&nbsp;4-2.&nbsp;Studio and MediaContent classes in com.mediamania.content package</p>
         </div>
         <p>Each person involved in a movie, as either the director or an actor, is represented by an instance of <code class="literal">MediaPerson</code>. <a class="link" href="ch04s02.html#jvadtaobj-CHP-4-FIG-3" title="Figure&nbsp;4-3.&nbsp;Movie, Role, and MediaPerson classes in com.mediamania.content package">Figure 4-3</a> illustrates the relationships among <code class="literal">Movie</code> and <code class="literal">MediaPerson</code> instances.</p>
         <div class="figure">
          <a id="jvadtaobj-CHP-4-FIG-3"></a>
          <div class="figure-contents">
           <div class="mediaobject">
            <a id="I_4_tt27"></a>
            <img src="/library/view/java-data-objects/0596002769/httpatomoreillycomsourceoreillyimages1807441.png" alt="Movie, Role, and MediaPerson classes in com.mediamania.content package" width="278" height="141">
           </div>
          </div>
          <p class="title">Figure&nbsp;4-3.&nbsp;Movie, Role, and MediaPerson classes in com.mediamania.content package</p>
         </div>
         <p>A <code class="literal">Movie</code> instance has one or more <code class="literal">Role</code> instances representing the cast of the movie. It also has a reference to the <code class="literal">MediaPerson</code> for the director of the movie. We assume a movie has a single director (though in real life this is not always the case). The <code class="literal">Role</code> class references its <code class="literal">Movie</code> and a <code class="literal">MediaPerson</code> who served as the actor for the particular role. Given a specific <code class="literal">MediaPerson</code> instance, it is possible to access all the movies they directed and all the roles they have played in movies. This model also allows for an actor who has played multiple roles in the same movie.</p>
         <p>In addition to the media content information, each store tracks the rental and purchase activities of its customers. The <code class="literal">com.mediamania.store</code> package contains the classes representing store-specific information. <a class="link" href="ch04s02.html#jvadtaobj-CHP-4-FIG-4" title="Figure&nbsp;4-4.&nbsp;Classes in the com.mediamania.store package (except MediaContent in the content package)">Figure 4-4</a> illustrates the relationships among these classes.</p>
         <div class="figure">
          <a id="jvadtaobj-CHP-4-FIG-4"></a>
          <div class="figure-contents">
           <div class="mediaobject">
            <a id="I_4_tt28"></a>
            <img src="/library/view/java-data-objects/0596002769/httpatomoreillycomsourceoreillyimages1807443.png" alt="Classes in the com.mediamania.store package (except MediaContent in the content package)" width="467" height="193">
           </div>
          </div>
          <p class="title">Figure&nbsp;4-4.&nbsp;Classes in the com.mediamania.store package (except MediaContent in the content package)</p>
         </div>
         <p>Each customer that has rented or purchased some media content at the store is represented by an instance of the <code class="literal">Customer</code> class. An <code class="literal">Address</code> instance contains address information for the customer. The store tracks two kinds of transactions: rentals and purchases. These are represented by <code class="literal">Rental</code> and <code class="literal">Purchase</code> classes that extend a <code class="literal">Transaction</code> base class. The store tracks the current items the customer has out for rent and also keeps a history of all the customer’s transactions.</p>
         <p>A <code class="literal">MediaItem</code> instance represents a particular format of a given <code class="literal">MediaContent</code> item. For example, a <code class="literal">Movie</code> can exist in VHS and DVD formats and a <code class="literal">Game</code> may be supported in formats for the Playstation, Playstation 2, Xbox, and Nintendo GameCube. The stock of media items is designated as items to be sold or rented. A <code class="literal">RentalItem</code> instance exists for each individual item that can be rented to a customer. The items in stock that are currently available for rent are represented by <code class="literal">RentalItem</code> instances that have a <code class="literal">null</code> value for their <code class="literal">currentRental</code> field. The model does not track the individual items that are sold, but the <code class="literal">MediaItem</code> class tracks how many items for purchase are in stock and how many have been sold year-to-date. Each <code class="literal">Purchase</code> instance contains a reference to the specific <code class="literal">MediaItem</code> that the customer bought.</p>
         <p>The store has different rental policies and prices, based on the popularity of an item and how recently it became available. A <code class="literal">RentalCode</code> instance maintains information about a particular rental policy. Each <code class="literal">MediaItem</code> instance is associated with a particular <code class="literal">RentalCode</code>, which may change over time.</p>
         <p>A <code class="literal">Rental</code> instance represents a customer’s rental of a particular media item; it references the specific <code class="literal">RentalItem</code> rented. This is necessary so the store can track which item has been rented and update the customer account when it is returned, taking into account any late fees that may be due. The <code class="literal">RentalCode</code> associated with the <code class="literal">MediaItem</code> at the time of rental is associated with the <code class="literal">Rental</code> instance. This is necessary because the <code class="literal">RentalCode</code> for a <code class="literal">MediaItem</code> will change occasionally.</p>
         <p><a class="link" href="ape.html" title="Appendix&nbsp;E.&nbsp;Source Code for Examples">Appendix E</a> provides all the classes for the model. The following metadata specifies the packages and persistent classes for the object model. Since it contains metadata information for the <code class="literal">com.mediamania.content</code> and <code class="literal">com.mediamania.store</code> packages, we place the metadata in a file named <em class="filename">com/mediamania/package.jdo</em>, based on their common base package name.</p>
         <a id="I_4_tt29"></a>
         <pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE jdo PUBLIC
    "-//Sun Microsystems, Inc.//DTD Java Data Objects Metadata 1.0//EN"
    "http://java.sun.com/dtd/jdo_1_0.dtd"&gt;
&lt;jdo&gt;
    &lt;package name="com.mediamania.content" &gt;
        &lt;class name="Studio" &gt;
        &lt;/class&gt;
        &lt;class name="MediaContent" /&gt;
        &lt;class name="Movie"
          persistence-capable-superclass="MediaContent"&gt;
        &lt;/class&gt;
        &lt;class name="MediaPerson" &gt;
        &lt;/class&gt;
        &lt;class name="Game"
            persistence-capable-superclass="MediaContent"&gt;
        &lt;/class&gt;
        &lt;class name="Role" /&gt;
    &lt;/package&gt;
    &lt;package name="com.mediamania.store" &gt;
        &lt;class name="MediaItem" &gt;
        &lt;/class&gt;
        &lt;class name="RentalItem"/&gt;
        &lt;class name="Customer" &gt;
        &lt;/class&gt;
        &lt;class name="Address" /&gt;
        &lt;class name="Transaction" /&gt;
        &lt;class name="Purchase"
          persistence-capable-superclass="Transaction"/&gt;
        &lt;class name="Rental"
          persistence-capable-superclass="Transaction"/&gt;
        &lt;class name="RentalCode" /&gt;
    &lt;/package&gt;
&lt;/jdo&gt;</pre>
         <p>The metadata lists each persistent class in the <code class="literal">content</code> and <code class="literal">store</code> packages. If an inheritance relationship exists, the metadata specifies the persistent superclass. Later in this chapter, we will add more information that provides information about the fields and relationships.</p>
        </div>
       </div>
      </div> 
     </div> 
     <section class="t-bottom-cta bottom-cta bottom-cta-book free-chapter"> 
      <h2> With Safari, you learn the way you learn best. Get unlimited access to videos, live online training, learning paths, books, interactive tutorials, and more. </h2> 
      <div class="controls"> 
       <a href="/public/free-trial/?fa=True&amp;cl=/library/view/java-data-objects/0596002769/ch04s02.html" class="button" data-ga-label="Bottom CTA">Start Free Trial</a> 
       <p>No credit card required</p> 
      </div> 
     </section> 
    </div> 
   </section> 
  </section> 
  <footer class="anybird-footer"> 
   <nav class="grid"> 
    <ul class="footer-nav col"> 
     <li><a href="/explore/"><span>Explore</span></a></li> 
     <li><a href="/our-library/"><span>Tour</span></a></li> 
     <li><a href="/pricing/"><span>Pricing</span></a></li> 
     <li><a href="/enterprise/"><span>Enterprise</span></a></li> 
     <li><a href="/government/"><span>Government</span></a></li> 
     <li><a href="/academic-public-library/"><span>Education</span></a></li> 
     <li><a href="/your-experience/#queue"><span>Queue App</span></a></li> 
    </ul> 
    <ul class="footer-contact col"> 
     <li><a href="/learn/"><span>Learn</span></a></li> 
     <li><a href="/blog/"><span>Blog</span></a></li> 
     <li><a href="/contact/"><span>Contact</span></a></li> 
     <li><a href="/careers/"><span>Careers</span></a></li> 
     <li><a href="/press-resources/"><span>Press Resources</span></a></li> 
     <li><a href="/public/support/"><span>Support</span></a></li> 
    </ul> 
    <ul class="footer-social col"> 
     <li id="footer-twitter"><a href="https://twitter.com/safari"><span>Twitter</span></a></li> 
     <li id="footer-github"><a href="http://github.com/safarijv"><span>GitHub</span></a></li> 
     <li id="footer-facebook"><a href="http://www.facebook.com/safaribooksonline"><span>Facebook</span></a></li> 
     <li id="footer-linkedin"><a href="https://www.linkedin.com/company/safari-books-online"><span>LinkedIn</span></a></li> 
    </ul> 
    <ul class="footer-legal col"> 
     <li><a href="/terms/"><span>Terms of Service</span></a></li> 
     <li><a href="/membership-agreement/"><span>Membership Agreement</span></a></li> 
     <li><a href="/privacy/"><span>Privacy Policy</span></a></li> 
    </ul> 
   </nav> 
   <div class="footer-copyright">
     Copyright © 2017 Safari Books Online. 
   </div> 
  </footer> 
  <script>
  var g = {
    
    position_cache: {},
    title: "Java Data Objects",
    author_list: "Craig Russell, David Jordan",
    format: "book",
    source: "application/epub+zip",
    is_system_book: true,
    is_public: true,
    loaded_from_server: true,
    allow_scripts: false,
    has_mathml: false
    
  };
</script> 
  <script type="text/javascript" src="/library/view/static/CACHE/js/e5475d26c7d7.js"></script> 
  <noscript> 
   <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z" height="0" width="0" style="display:none;visibility:hidden"> </iframe> 
  </noscript> 
  <script async defer src="/library/view/pageview.js"></script> 
  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","queueTime":0,"licenseKey":"510f1a6865","agent":"","transactionName":"YgdaZ0NSW0cEB0RdWltNfkZfUEFdCgofVVtMAFFBVR1DXQATQw5GVA9IX1RsQ10AEw==","applicationID":"10402228","errorBeacon":"bam.nr-data.net","applicationTime":135}</script>   
 </body>
</html>