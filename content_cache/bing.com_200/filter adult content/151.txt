<!doctype html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2016-12-05 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <meta name="author" content="Franz Allan See"> 
  <meta name="Date-Creation-yyyymmdd" content="20080905"> 
  <meta name="Date-Revision-yyyymmdd" content="20161205"> 
  <meta http-equiv="Content-Language" content="en"> 
  <title>Apache Maven Resources Plugin – Filtering</title> 
  <link rel="stylesheet" href="../css/apache-maven-fluido-1.5.min.css"> 
  <link rel="stylesheet" href="../css/site.css"> 
  <link rel="stylesheet" href="../css/print.css" media="print"> 
  <script type="text/javascript" src="../js/apache-maven-fluido-1.5.min.js"></script> 
  <!-- Google Analytics --> 
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-140879-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script> 
 </head> 
 <body class="topBarDisabled"> 
  <div class="container-fluid"> 
   <div id="banner"> 
    <div class="pull-left"> 
     <a href="https://www.apache.org/" id="bannerLeft"> <img src="../../../images/apache-maven-project.png" alt="Apache Maven Resources Plugin"> </a> 
    </div> 
    <div class="pull-right"> 
     <a href="../../../" id="bannerRight"> <img src="../../../images/maven-logo-black-on-white.png"> </a> 
    </div> 
    <div class="clear">
     <hr>
    </div> 
   </div> 
   <div id="breadcrumbs"> 
    <ul class="breadcrumb"> 
     <li class=""> <a href="https://www.apache.org/" class="externalLink" title="Apache"> Apache</a> <span class="divider">/</span> </li> 
     <li class=""> <a href="../../../index.html" title="Maven"> Maven</a> <span class="divider">/</span> </li> 
     <li class=""> <a href="../../index.html" title="Plugins"> Plugins</a> <span class="divider">/</span> </li> 
     <li class=""> <a href="../index.html" title="Apache Maven Resources Plugin"> Apache Maven Resources Plugin</a> <span class="divider">/</span> </li> 
     <li class="active ">Filtering</li> 
     <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2016-12-05</li> 
     <li id="projectVersion" class="pull-right"> Version: 3.0.2 </li> 
    </ul> 
   </div> 
   <div class="row-fluid"> 
    <div id="leftColumn" class="span2"> 
     <div class="well sidebar-nav"> 
      <ul class="nav nav-list"> 
       <li class="nav-header">Overview</li> 
       <li> <a href="../index.html" title="Introduction"> <span class="none"></span> Introduction</a> </li> 
       <li> <a href="../plugin-info.html" title="Goals"> <span class="none"></span> Goals</a> </li> 
       <li> <a href="../usage.html" title="Usage"> <span class="none"></span> Usage</a> </li> 
       <li> <a href="../faq.html" title="FAQ"> <span class="none"></span> FAQ</a> </li> 
       <li> <a href="http://www.apache.org/licenses/" class="externalLink" title="License"> <span class="none"></span> License</a> </li> 
       <li> <a href="../download.html" title="Download"> <span class="none"></span> Download</a> </li> 
       <li class="nav-header">Examples</li> 
       <li> <a href="../examples/encoding.html" title="Specifying a character encoding scheme"> <span class="none"></span> Specifying a character encoding scheme</a> </li> 
       <li> <a href="../examples/resource-directory.html" title="Specifying resource directories"> <span class="none"></span> Specifying resource directories</a> </li> 
       <li class="active"> <a href="#"><span class="none"></span>Filtering</a> </li> 
       <li> <a href="../examples/include-exclude.html" title="Including and excluding files and directories"> <span class="none"></span> Including and excluding files and directories</a> </li> 
       <li> <a href="../examples/escape-filtering.html" title="Escape Filtering"> <span class="none"></span> Escape Filtering</a> </li> 
       <li> <a href="../examples/copy-resources.html" title="Copy Resources"> <span class="none"></span> Copy Resources</a> </li> 
       <li> <a href="../examples/binaries-filtering.html" title="Binaries Filtering"> <span class="none"></span> Binaries Filtering</a> </li> 
       <li> <a href="../examples/custom-resource-filters.html" title="Custom Resources Filters"> <span class="none"></span> Custom Resources Filters</a> </li> 
       <li class="nav-header">Project Documentation</li> 
       <li> <a href="../project-info.html" title="Project Information"> <span class="icon-chevron-right"></span> Project Information</a> </li> 
       <li> <a href="../project-reports.html" title="Project Reports"> <span class="icon-chevron-right"></span> Project Reports</a> </li> 
       <li class="nav-header">Maven Projects</li> 
       <li> <a href="../../../archetype/index.html" title="Archetype"> <span class="none"></span> Archetype</a> </li> 
       <li> <a href="../../../doxia/index.html" title="Doxia"> <span class="none"></span> Doxia</a> </li> 
       <li> <a href="../../../jxr/index.html" title="JXR"> <span class="none"></span> JXR</a> </li> 
       <li> <a href="../../../ref/current" title="Maven"> <span class="none"></span> Maven</a> </li> 
       <li> <a href="../../../pom/index.html" title="Parent POMs"> <span class="none"></span> Parent POMs</a> </li> 
       <li> <a href="../../index.html" title="Plugins"> <span class="none"></span> Plugins</a> </li> 
       <li> <a href="../../../plugin-testing/index.html" title="Plugin Testing"> <span class="none"></span> Plugin Testing</a> </li> 
       <li> <a href="../../../plugin-tools/index.html" title="Plugin Tools"> <span class="none"></span> Plugin Tools</a> </li> 
       <li> <a href="../../../apache-resource-bundles/index.html" title="Resource Bundles"> <span class="none"></span> Resource Bundles</a> </li> 
       <li> <a href="../../../scm/index.html" title="SCM"> <span class="none"></span> SCM</a> </li> 
       <li> <a href="../../../shared/index.html" title="Shared Components"> <span class="none"></span> Shared Components</a> </li> 
       <li> <a href="../../../skins/index.html" title="Skins"> <span class="none"></span> Skins</a> </li> 
       <li> <a href="../../../surefire/index.html" title="Surefire"> <span class="none"></span> Surefire</a> </li> 
       <li> <a href="../../../wagon/index.html" title="Wagon"> <span class="none"></span> Wagon</a> </li> 
       <li class="nav-header">ASF</li> 
       <li> <a href="https://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How Apache Works"> <span class="none"></span> How Apache Works</a> </li> 
       <li> <a href="https://www.apache.org/foundation/" class="externalLink" title="Foundation"> <span class="none"></span> Foundation</a> </li> 
       <li> <a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsoring Apache"> <span class="none"></span> Sponsoring Apache</a> </li> 
       <li> <a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks"> <span class="none"></span> Thanks</a> </li> 
      </ul> 
      <form id="search-form" action="https://www.google.com/search" method="get"> 
       <input value="$sitesearchValue" name="sitesearch" type="hidden"> 
       <input class="search-query" name="q" id="query" type="text"> 
      </form> 
      <script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script> 
      <hr> 
      <div id="poweredBy"> 
       <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script> 
       <div class="g-plusone" data-href="https://maven.apache.org/plugins/maven-resources-plugin/" data-size="tall"></div> 
       <div class="clear"></div> 
       <div class="clear"></div> 
       <div class="clear"></div> 
       <div class="clear"></div> 
       <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"> <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png"> </a> 
      </div> 
     </div> 
    </div> 
    <div id="bodyColumn" class="span10"> 
     <div class="section"> 
      <h2><a name="Filtering"></a>Filtering</h2> 
      <p>Variables can be included in your resources. These variables, denoted by the <tt>${...}</tt> delimiters, can come from the system properties, your project properties, from your filter resources and from the command line.</p> 
      <p>For example, if we have a resource <tt>src/main/resources/hello.txt</tt> containing</p> 
      <div class="source">
       <pre class="prettyprint linenums">Hello ${name}
</pre>
      </div> 
      <p>And a POM like this</p> 
      <div class="source">
       <pre class="prettyprint linenums">&lt;project&gt;
  ...
  &lt;name&gt;My Resources Plugin Practice Project&lt;/name&gt;
  ...
  &lt;build&gt;
    ...
    &lt;resources&gt;
      &lt;resource&gt;
        &lt;directory&gt;src/main/resources&lt;/directory&gt;
      &lt;/resource&gt;
      ...
    &lt;/resources&gt;
    ...
  &lt;/build&gt;
  ...
&lt;/project&gt;
</pre>
      </div> 
      <p>Upon calling</p> 
      <div class="source">
       <pre class="prettyprint linenums">mvn resources:resources
</pre>
      </div> 
      <p>This will create a resource output in <tt>target/classes/hello.txt</tt> which contains exactly the same text.</p> 
      <div class="source">
       <pre class="prettyprint linenums">Hello ${name}
</pre>
      </div> 
      <p>However, if we add a <tt>&lt;filtering&gt;</tt> tag to our POM and set it to <tt>true</tt> like this:</p> 
      <div class="source">
       <pre class="prettyprint linenums">      ...
      &lt;resource&gt;
        &lt;directory&gt;src/main/resources&lt;/directory&gt;
        &lt;filtering&gt;true&lt;/filtering&gt;
      &lt;/resource&gt;
      ...
</pre>
      </div> 
      <p>Our <tt>target/classes/hello.txt</tt> after calling</p> 
      <div class="source">
       <pre class="prettyprint linenums">mvn resources:resources
</pre>
      </div> 
      <p>would be</p> 
      <div class="source">
       <pre class="prettyprint linenums">Hello My Resources Plugin Practice Project
</pre>
      </div> 
      <p>That's because the name variable was replaced by the value of the project's name (which was specified in the POM).</p> 
      <p>Moreover, we can also assign values through the command line using the "-D" option. For example, to change the value for the variable <tt>name</tt> to "world", we can simply invoke this command:</p> 
      <div class="source">
       <pre class="prettyprint linenums">mvn resources:resources -Dname="world"
</pre>
      </div> 
      <p>And the output in <tt>target/classes/hello.txt</tt> would be</p> 
      <div class="source">
       <pre class="prettyprint linenums">Hello world
</pre>
      </div> 
      <p>Furthermore, we are not limited to use pre-defined project variables. We can specify our own variables and their values in the <tt>&lt;properties&gt;</tt> element. For example, if we want to change the variable from "name" to "your.name", we can do so by adding a <tt>&lt;your.name&gt;</tt> element within the <tt>&lt;properties&gt;</tt> element.</p> 
      <div class="source">
       <pre class="prettyprint linenums">&lt;project&gt;
  ...
  &lt;properties&gt;
    &lt;your.name&gt;world&lt;/your.name&gt;
  &lt;/properties&gt;
  ...
&lt;/project&gt;
</pre>
      </div> 
      <p>But to organize your project, you may want to put all your variables and their values in a separate file so that you will not have to rewrite your POM, or set their values all the time with every build. This can be done by adding a filter.</p> 
      <div class="source">
       <pre class="prettyprint linenums">&lt;project&gt;
  ...
  &lt;name&gt;My Resources Plugin Practice Project&lt;/name&gt;
  ...
  &lt;build&gt;
    ...
    &lt;filters&gt;
      &lt;filter&gt;[a filter property]&lt;/filter&gt;
    &lt;/filters&gt;
    ...
  &lt;/build&gt;
  ...
&lt;/project&gt;
</pre>
      </div> 
      <p>For example, we can separate "your.name" from the POM by specifying a filter file <tt>my-filter-values.properties</tt> containing:</p> 
      <div class="source">
       <pre class="prettyprint linenums">your.name = world
</pre>
      </div> 
      <p>and adding that to our POM</p> 
      <div class="source">
       <pre class="prettyprint linenums">    ...
    &lt;filters&gt;
      &lt;filter&gt;my-filter-values.properties&lt;/filter&gt;
    &lt;/filters&gt;
    ...
</pre>
      </div> 
      <p><b>Warning:</b> Do not filter files with binary content like images! This will most likely result in corrupt output. </p> 
      <p>If you have both text files and binary files as resources it is recommended to have two separated folders. One folder <tt>src/main/resources</tt> (default) for the resources which are not filtered and another folder <tt>src/main/resources-filtered</tt> for the resources which are filtered.</p> 
      <div class="source">
       <pre class="prettyprint linenums">&lt;project&gt;
  ...
  &lt;build&gt;
    ...
    &lt;resources&gt;
      &lt;resource&gt;
        &lt;directory&gt;src/main/resources-filtered&lt;/directory&gt;
        &lt;filtering&gt;true&lt;/filtering&gt;
      &lt;/resource&gt;
      ...
    &lt;/resources&gt;
    ...
  &lt;/build&gt;
  ...
&lt;/project&gt;
</pre>
      </div> 
      <p>Now you can put those files into <tt>src/main/resources</tt> which should not filtered and the other files into <tt>src/main/resources-filtered</tt>.</p> 
      <p>As already mentioned filtering binary files like images,pdf`s etc. could result in corrupted output. To prevent such problems you can <a href="./binaries-filtering.html">configure file extensions</a> which will not being filtered. </p>
     </div> 
    </div> 
   </div> 
  </div> 
  <hr> 
  <footer> 
   <div class="container-fluid"> 
    <div class="row-fluid"> 
     <p>Copyright © 2001–2016 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved. </p> 
    </div> 
   </div> 
  </footer>  
 </body>
</html>