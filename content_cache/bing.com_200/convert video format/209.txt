<!doctype html>
<!--[if IE 6]>
<html id="ie6" lang="en">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)]><!-->
<html lang="en">
 <!--<![endif]-->
 <head> 
  <meta charset="UTF-8"> 
  <title>Convert xml datetime (xs:dateTime) to SQL datetime | Peter's blog</title> 
  <link rel="profile" href="http://gmpg.org/xfn/11"> 
  <link rel="stylesheet" type="text/css" media="all" href="https://s0.wp.com/wp-content/themes/pub/twentyten/style.css"> 
  <link rel="pingback" href="https://phe1129.wordpress.com/xmlrpc.php"> 
  <link rel="dns-prefetch" href="//s2.wp.com"> 
  <link rel="dns-prefetch" href="//s1.wp.com"> 
  <link rel="dns-prefetch" href="//s0.wp.com"> 
  <link rel="dns-prefetch" href="//s.pubmine.com"> 
  <link rel="dns-prefetch" href="//x.bidswitch.net"> 
  <link rel="dns-prefetch" href="//static.criteo.net"> 
  <link rel="dns-prefetch" href="//ib.adnxs.com"> 
  <link rel="dns-prefetch" href="//aax.amazon-adsystem.com"> 
  <link rel="dns-prefetch" href="//bidder.criteo.com"> 
  <link rel="dns-prefetch" href="//cas.criteo.com"> 
  <link rel="dns-prefetch" href="//gum.criteo.com"> 
  <link rel="dns-prefetch" href="//ads.pubmatic.com"> 
  <link rel="dns-prefetch" href="//gads.pubmatic.com"> 
  <link rel="dns-prefetch" href="//tpc.googlesyndication.com"> 
  <link rel="dns-prefetch" href="//ad.doubleclick.net"> 
  <link rel="dns-prefetch" href="//googleads.g.doubleclick.net"> 
  <link rel="dns-prefetch" href="//www.googletagservices.com"> 
  <link rel="dns-prefetch" href="//cdn.switchadhub.com"> 
  <link rel="dns-prefetch" href="//delivery.g.switchadhub.com"> 
  <link rel="dns-prefetch" href="//delivery.swid.switchadhub.com"> 
  <link rel="alternate" type="application/rss+xml" title="Peter's blog » Feed" href="https://phe1129.wordpress.com/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Peter's blog » Comments Feed" href="https://phe1129.wordpress.com/comments/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Peter's blog » Convert xml datetime (xs:dateTime) to SQL&nbsp;datetime Comments Feed" href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/feed/"> 
  <script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script> 
  <script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s0.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1505864856h&ver=4.8.2"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script> 
  <style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style> 
  <link rel="stylesheet" id="all-css-0-1" href="https://s1.wp.com/_static/??-eJyNUttuwyAM/aF57BJV3cO0b+HiEVoTIyCN8vdzGlXpZUN7QT72OT5go6YEloeKQ1VxhESjD0NRU7IcocRAON+hZ1vKk/pdRuGIRR2wJm2PcEYPdEPsNx/OTruiPLHR9D9unaQ0Sx1Ob63LZCRd0UHiUu9QS2Y5o+Rj0nVhRHRBI2EUWksW0+6iWsJeBtC0WWdqTMpYCsgZwxih9mL0qFvTKo1me70qdSaEc5+mUXAeZQCFbdAEQSi3YBUHNXBdi5eg1dUjA7HVNfBwA+CbdMjtvSxrldArYV3BlkjbpbnReYv+mlLfXX2nr/j52n3sdy9dt38//ADnchqU" type="text/css" media="all"> 
  <script type="text/javascript">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script> 
  <script type="text/javascript" src="https://s1.wp.com/_static/??-eJyFj90KwjAMhV/IrAw6xQvxWWoXS2r/bNoNfXo70At1KARCTr4cTsScgIJ2dUQWttW1Yr49W2d5I34B4MlkVbDzFF6wjqFgKAvr44kcQmXMyjStGZ3jCpciF4/MDVrZvkeiMBHOfzGLJSl9gYxM9y9XXyG5aiiwyOjaAyMsGT6mdnX0h17uh36Qcre1DyuucHk="></script> 
  <link rel="stylesheet" id="all-css-0-2" href="https://s1.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1377793621h" type="text/css" media="all"> 
  <!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='https://s1.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563h&#038;ver=20110606' type='text/css' media='all' />
<![endif]--> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://phe1129.wordpress.com/xmlrpc.php?rsd"> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml"> 
  <link rel="prev" title="Debug Distributed Transactions Error in SQL&nbsp;Server" href="https://phe1129.wordpress.com/2007/02/27/debug-distributed-transactions-error-in-sql-server/"> 
  <link rel="next" title="Shred complex XML by XQuery node() and value()&nbsp;methods" href="https://phe1129.wordpress.com/2007/03/26/shred-complex-xml-by-xquery-node-and-value-methods/"> 
  <meta name="generator" content="WordPress.com"> 
  <link rel="canonical" href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/"> 
  <link rel="shortlink" href="http://wp.me/p1eGkt-t"> 
  <link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fphe1129.wordpress.com%2F2007%2F03%2F16%2Fconvert-xml-datetime-xsdatetime-to-sql-datetime%2F&amp;for=wpcom-auto-discovery">
  <link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fphe1129.wordpress.com%2F2007%2F03%2F16%2Fconvert-xml-datetime-xsdatetime-to-sql-datetime%2F&amp;for=wpcom-auto-discovery"> 
  <!-- Jetpack Open Graph Tags --> 
  <meta property="og:type" content="article"> 
  <meta property="og:title" content="Convert xml datetime (xs:dateTime) to SQL datetime"> 
  <meta property="og:url" content="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/"> 
  <meta property="og:description" content="/* SQL Server 2005 supports xquery as the DML on xml data. The value() method is used to retrieve the value of attributes and element of xml in SQL Server 2005. However, the datetime data type in x…"> 
  <meta property="article:published_time" content="2007-03-16T14:45:23+00:00"> 
  <meta property="article:modified_time" content="2010-04-27T15:55:50+00:00"> 
  <meta property="og:site_name" content="Peter's blog"> 
  <meta property="og:image" content="https://s0.wp.com/i/blank.jpg"> 
  <meta property="og:locale" content="en_US"> 
  <meta name="twitter:site" content="@wordpressdotcom"> 
  <meta name="twitter:text:title" content="Convert xml datetime (xs:dateTime) to SQL&nbsp;datetime"> 
  <meta name="twitter:card" content="summary"> 
  <meta property="fb:app_id" content="249643311490"> 
  <meta property="article:publisher" content="https://www.facebook.com/WordPresscom"> 
  <link rel="shortcut icon" type="image/x-icon" href="https://s2.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48"> 
  <link rel="icon" type="image/x-icon" href="https://s2.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48"> 
  <link rel="apple-touch-icon-precomposed" href="https://s0.wp.com/i/webclip.png"> 
  <link rel="openid.server" href="https://phe1129.wordpress.com/?openidserver=1"> 
  <link rel="openid.delegate" href="https://phe1129.wordpress.com/"> 
  <link rel="search" type="application/opensearchdescription+xml" href="https://phe1129.wordpress.com/osd.xml" title="Peter's blog"> 
  <link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com"> 
  <style type="text/css">
			.recentcomments a {
				display: inline !important;
				padding: 0 !important;
				margin: 0 !important;
			}

			table.recentcommentsavatartop img.avatar, table.recentcommentsavatarend img.avatar {
				border: 0px;
				margin: 0;
			}

			table.recentcommentsavatartop a, table.recentcommentsavatarend a {
				border: 0px !important;
				background-color: transparent !important;
			}

			td.recentcommentsavatarend, td.recentcommentsavatartop {
				padding: 0px 0px 1px 0px;
				margin: 0px;
			}

			td.recentcommentstextend {
				border: none !important;
				padding: 0px 0px 2px 10px;
			}

			.rtl td.recentcommentstextend {
				padding: 0px 10px 2px 0px;
			}

			td.recentcommentstexttop {
				border: none;
				padding: 0px 0px 0px 10px;
			}

			.rtl td.recentcommentstexttop {
				padding: 0px 10px 0px 0px;
			}
		</style> 
  <meta name="application-name" content="Peter's blog">
  <meta name="msapplication-window" content="width=device-width;height=device-height">
  <meta name="msapplication-tooltip" content="Just another WordPress.com site">
  <meta name="msapplication-task" content="name=Subscribe;action-uri=https://phe1129.wordpress.com/feed/;icon-uri=https://s2.wp.com/i/favicon.ico">
  <meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s2.wp.com/i/favicon.ico">
  <meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s2.wp.com/i/favicon.ico">
  <meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s2.wp.com/i/favicon.ico">
  <meta name="title" content="Convert xml datetime (xs:dateTime) to SQL&nbsp;datetime | Peter's blog on WordPress.com"> 
  <meta name="description" content="/* SQL Server 2005 supports xquery as the DML on xml data. The value() method is used to retrieve the value of attributes and element of xml in SQL Server 2005. However, the datetime data type in xml xs:dateTime is different than in SQL server and SQL server CONVERT command does not support the conversion…"> 
  <script type="text/javascript">
		var __ATA_PP = { pt: 1, ht: 0, tn: 'twentyten', amp: false };
		</script> 
  <script type="text/javascript" src="//s.pubmine.com/head.js"></script> 
  <script type="text/javascript" src="https://static.criteo.net/js/ld/publishertag.js"></script>
  <link rel="amphtml" href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/amp/">
  <style type="text/css" id="syntaxhighlighteranchor"></style> 
  <script type="text/javascript">
	window.google_analytics_uacct = "UA-52447-2";
</script> 
  <script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-52447-2']);
	_gaq.push(['_setDomainName', 'wordpress.com']);
	_gaq.push(['_initData']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</script> 
 </head> 
 <body class="post-template-default single single-post postid-29 single-format-standard mp6 customizer-styles-applied single-author highlander-enabled highlander-light"> 
  <div id="wrapper" class="hfeed"> 
   <div id="header"> 
    <div id="masthead"> 
     <div id="branding" role="banner"> 
      <div id="site-title"> 
       <span> <a href="https://phe1129.wordpress.com/" title="Peter's blog" rel="home">Peter's blog</a> </span> 
      </div> 
      <div id="site-description">
       Just another WordPress.com site
      </div> 
      <a class="home-link" href="https://phe1129.wordpress.com/" title="Peter's blog" rel="home"> <img src="https://s0.wp.com/wp-content/themes/pub/twentyten/images/headers/inkwell.jpg" width="940" height="198" alt=""> </a> 
     </div>
     <!-- #branding --> 
     <div id="access" role="navigation"> 
      <div class="skip-link screen-reader-text">
       <a href="#content" title="Skip to content">Skip to content</a>
      </div> 
      <div class="menu">
       <ul> 
        <li><a href="https://phe1129.wordpress.com/">Home</a></li>
        <li class="page_item page-item-2"><a href="https://phe1129.wordpress.com/about/">About</a></li> 
       </ul>
      </div> 
     </div>
     <!-- #access --> 
    </div>
    <!-- #masthead --> 
   </div>
   <!-- #header --> 
   <div id="main"> 
    <div id="container"> 
     <div id="content" role="main"> 
      <div id="nav-above" class="navigation"> 
       <div class="nav-previous">
        <a href="https://phe1129.wordpress.com/2007/02/27/debug-distributed-transactions-error-in-sql-server/" rel="prev"><span class="meta-nav">?</span> Debug Distributed Transactions Error in SQL&nbsp;Server</a>
       </div> 
       <div class="nav-next">
        <a href="https://phe1129.wordpress.com/2007/03/26/shred-complex-xml-by-xquery-node-and-value-methods/" rel="next">Shred complex XML by XQuery node() and value()&nbsp;methods <span class="meta-nav">?</span></a>
       </div> 
      </div>
      <!-- #nav-above --> 
      <div id="post-29" class="post-29 post type-post status-publish format-standard hentry category-sql-server-2005"> 
       <h2 class="entry-title"><a href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/" rel="bookmark">Convert xml datetime (xs:dateTime) to SQL&nbsp;datetime</a></h2> 
       <div class="entry-meta"> 
        <span class="meta-prep meta-prep-author">Posted on</span> 
        <a href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/" title="10:45 am" rel="bookmark"><span class="entry-date">March 16, 2007</span></a> 
        <span class="by-author"><span class="sep">by</span> <span class="author vcard"><a class="url fn n" href="https://phe1129.wordpress.com/author/phe1129/" title="View all posts by phe1129" rel="author">phe1129</a></span> </span> 
       </div>
       <!-- .entry-meta --> 
       <div class="entry-content"> 
        <div id="msgcns!CADFA1CB6D2C0E32!193" class="bvMsg">
         <font color="#008000" size="2"><p></p> <p>/*</p> <p>SQL Server 2005 supports xquery as the DML on xml data. The value() method is used to retrieve the value of attributes and element of xml in SQL Server 2005. However, the datetime data type in xml xs:dateTime is different than in SQL server and SQL server CONVERT command does not support the conversion from xml datetime to SQL datetime data type.</p> <p>In xml, date time data type is defined as:</p> <p>1) YYYY-MM-DDTHH:MI:SS.MMMZ, MMM is millisecond and Z is for zulu time zone. e.g. 2007-01-01T10:10:10Z.</p> <p>2) YYYY-MM-DDTHH:MI:SS.MMMTZ, TZ is the time zone and the time part is UTC time. e.g.: 2007-01-01T10:10:10-5:00 or 2007-01-01T10:10:10+3:00</p> <p>For a time of UTC -5:00 time zone, if the local time is 10:00:00 of 2007-01-01, you can use "2007-01-01T10:00:00Z" or </p> <p>"2007-01-01T15:00:00.000-5:00" to represent it in xml.</p> <p>Now let’s talk about the conversion of xml datetime to SQL datetime.</p> </font>
         <p><font color="#008000" size="2">*/</font><font color="#0000ff" size="2"></font></p>
         <font color="#0000ff" size="2"> </font>
         <p><font color="#0000ff" size="2">declare</font><font color="#000000" size="2"> @xml </font><font color="#0000ff" size="2">xml</font><font color="#808080" size="2">,</font><font color="#000000" size="2">@xml2 </font><font color="#0000ff" size="2">xml</font><font color="#808080" size="2">;</font><font color="#0000ff" size="2"></font></p>
         <font color="#0000ff" size="2"> </font>
         <p><font color="#0000ff" size="2">set</font><font color="#000000" size="2"> @xml</font><font color="#808080" size="2">=</font><font color="#ff0000" size="2">‘&lt;Root&gt;&lt;SaleDate&gt;2007-01-01T10:00:00.24-05:00&lt;/SaleDate&gt;&lt;/Root&gt;’</font><font color="#0000ff" size="2"></font></p>
         <font color="#0000ff" size="2"> <p>set</p> </font>
         <p><font color="#0000ff" size="2"></font><font color="#000000" size="2"> @xml2</font><font color="#808080" size="2">=</font><font color="#ff0000" size="2">‘&lt;Root&gt;&lt;SaleDate&gt;2007-01-01T10:00:00.24Z&lt;/SaleDate&gt;&lt;/Root&gt;’</font><font color="#008000" size="2"></font></p>
         <font color="#008000" size="2"> <p>— We can get the Sale Date as string: </p> </font>
         <p><font color="#008000" size="2"></font><font color="#0000ff" size="2"></font></p>
         <font color="#0000ff" size="2"> <p>select</p> </font>
         <p><font color="#0000ff" size="2"></font><font color="#000000" size="2"> @xml</font><font color="#808080" size="2">.</font><font color="#000000" size="2">value</font><font color="#808080" size="2">(</font><font color="#ff0000" size="2">‘/Root[1]/SaleDate[1]’</font><font color="#808080" size="2">,</font><font color="#ff0000" size="2">‘nvarchar(100)’</font><font color="#808080" size="2">)</font><font color="#000000" size="2"> </font><font color="#0000ff" size="2">AS</font><font size="2"><font color="#000000"> strDateTime</font></font><font color="#0000ff" size="2"></font></p>
         <font color="#0000ff" size="2"> </font>
         <p><font color="#0000ff" size="2">select</font><font color="#000000" size="2"> @xml2</font><font color="#808080" size="2">.</font><font color="#000000" size="2">value</font><font color="#808080" size="2">(</font><font color="#ff0000" size="2">‘/Root[1]/SaleDate[1]’</font><font color="#808080" size="2">,</font><font color="#ff0000" size="2">‘nvarchar(100)’</font><font color="#808080" size="2">)</font><font color="#000000" size="2"> </font><font color="#0000ff" size="2">AS</font><font size="2"><font color="#000000"> strDateTime2</font></font><font color="#008000" size="2"></font></p>
         <font color="#008000" size="2"> <p>— But if we try to get the Sale date as datetime, the first one fails and the second one succeeded. </p> <p>— This is becuase SQL server does not support date time with time zone definition.</p> <p>/*</p> <p>Fail:</p> <p>Msg 241, Level 16, State 1, Line 10</p> <p>Conversion failed when converting datetime from character string.</p> <p>select @xml.value(‘/Root[1]/SaleDate[1]’,’datetime’)</p> <p>*/</p> <p>— Works: </p> <p></p> <p></p> <p></p> <p></p> </font>
         <p><font color="#008000" size="2"></font><font color="#0000ff" size="2"></font></p>
         <font color="#0000ff" size="2"> </font>
         <p><font color="#0000ff" size="2">select</font><font color="#000000" size="2"> @xml2</font><font color="#808080" size="2">.</font><font color="#000000" size="2">value</font><font color="#808080" size="2">(</font><font color="#ff0000" size="2">‘/Root[1]/SaleDate[1]’</font><font color="#808080" size="2">,</font><font color="#ff0000" size="2">‘datetime’</font><font color="#808080" size="2">)</font><font color="#000000" size="2"> </font><font color="#0000ff" size="2">AS</font><font size="2"><font color="#000000"> dtDateTime2</font></font><font color="#008000" size="2"></font></p>
         <font color="#008000" size="2"> <p>/* </p> <p>SQL server CONVERT command has 126 and 127 format, which supports yyyy-mm-ddThh:ms:ss.mmm and yyyy-mm-ddThh:ms:ssZ format respectively. Now let’s try to use these two format:</p> <p>*/</p> <p>/*</p> <p>— 126, yyyy-mm-ddThh:mi:ss.mmm, fails on both xml because the format does not match.</p> <p>select convert(datetime,@xml.value(‘/Root[1]/SaleDate[1]’,’nvarchar(100)’), 126)</p> <p>select convert(datetime,@xml2.value(‘/Root[1]/SaleDate[1]’,’nvarchar(100)’), 126)</p> <p>— 127, yyyy-mm-ddThh:mi:ss.mmmZ, fails on the first one because the format does not match. </p> <p>select convert(datetime,@xml.value(‘/Root[1]/SaleDate[1]’,’nvarchar(100)’), 127)</p> <p>*/</p> <p>–Format 127 works on the second xml:</p> <p></p> </font>
         <p><font color="#008000" size="2"></font><font color="#0000ff" size="2"></font></p>
         <font color="#0000ff" size="2"> </font>
         <p><font color="#0000ff" size="2">select</font><font color="#000000" size="2"> </font><font color="#ff00ff" size="2">convert</font><font color="#808080" size="2">(</font><font color="#0000ff" size="2">datetime</font><font color="#808080" size="2">,</font><font color="#000000" size="2">@xml2</font><font color="#808080" size="2">.</font><font color="#000000" size="2">value</font><font color="#808080" size="2">(</font><font color="#ff0000" size="2">‘/Root[1]/SaleDate[1]’</font><font color="#808080" size="2">,</font><font color="#ff0000" size="2">‘nvarchar(100)’</font><font color="#808080" size="2">),</font><font color="#000000" size="2"> 127</font><font color="#808080" size="2">)</font><font color="#000000" size="2"> </font><font color="#0000ff" size="2">AS</font><font size="2"><font color="#000000"> dtDateTime2</font></font><font color="#008000" size="2"></font></p>
         <font color="#008000" size="2"> <p>— To correctly convert xml datetime regardless its format to SQL data time, we need to use xquery function </p> <p>— xs:dateTime: </p> <p></p> </font>
         <p><font color="#008000" size="2"></font><font color="#0000ff" size="2"></font></p>
         <font color="#0000ff" size="2"> <p>select</p> </font>
         <p><font color="#0000ff" size="2"></font><font color="#000000" size="2"> @xml</font><font color="#808080" size="2">.</font><font color="#000000" size="2">value</font><font color="#808080" size="2">(</font><font color="#ff0000" size="2">‘<strong>xs:dateTime</strong>(/Root[1]/SaleDate[1])’</font><font color="#808080" size="2">,</font><font color="#ff0000" size="2">‘datetime’</font><font color="#808080" size="2">)</font><font color="#000000" size="2"> </font><font color="#0000ff" size="2">AS</font><font size="2"><font color="#000000"> dtDateTime</font></font><font color="#0000ff" size="2"></font></p>
         <font color="#0000ff" size="2"> <p>select</p> </font>
         <p><font color="#0000ff" size="2"></font><font color="#000000" size="2"> @xml2</font><font color="#808080" size="2">.</font><font color="#000000" size="2">value</font><font color="#808080" size="2">(</font><font color="#ff0000" size="2">‘<strong>xs:dateTime</strong>(/Root[1]/SaleDate[1])’</font><font color="#808080" size="2">,</font><font color="#ff0000" size="2">‘datetime’</font><font color="#808080" size="2">)</font><font color="#000000" size="2"> </font><font color="#0000ff" size="2">AS</font><font size="2"><font color="#000000"> dtDateTime2</font></font><font color="#008000" size="2"></font></p>
         <font color="#008000" size="2"> <p>— Both works fine, and the xs:dateTime function converts the time to local time based on the time zone. </p> <p>— The first xml returns 2007-01-01 15:00:00.240 and the second returns 2007-01-01 10:00:00.240.</p> <p>&nbsp;</p> <p></p> </font>
         <p><font color="#008000" size="2"></font></p>
        </div> 
        <style type="text/css">
			div.wpmrec2x{max-width:610px;}
			div.wpmrec2x div.u > div{float:left;margin-right:10px;}
			div.wpmrec2x div.u > div:nth-child(3n){margin-right:0px;}
			</style> 
        <div class="wpcnt"> 
         <div class="wpa wpmrec wpmrec2x"> 
          <span class="wpa-about">Advertisements</span> 
          <div class="u"> 
           <script type="text/javascript" id="s26942">
						(function(g,$){if("undefined"!=typeof g.__ATA){
							g.__ATA.initAd({collapseEmpty:'after', sectionId:26942, width:300, height:250});
							g.__ATA.initAd({collapseEmpty:'after', sectionId:114160, width:300, height:250});
						}})(window,jQuery);
					</script> 
          </div> 
          <div id="crt-931995711" style="width:300px;height:250px;"></div> 
          <script type="text/javascript">
		var o = document.getElementById('crt-931995711');
		if ("undefined"!=typeof Criteo) {
			var p = o.parentNode;
			p.style.setProperty('display', 'inline-block', 'important');
			o.style.setProperty('display', 'block', 'important');
			Criteo.DisplayAcceptableAdIfAdblocked({zoneid:388248,containerid:"crt-931995711",collapseContainerIfNotAdblocked:true,"callifnotadblocked": function () {var o = document.getElementById('crt-931995711'); o.style.setProperty('display','none','important');o.style.setProperty('visbility','hidden','important'); } });
		} else {
			o.style.setProperty('display', 'none', 'important');
			o.style.setProperty('visibility', 'hidden', 'important');
		}
		</script> 
          <div id="crt-628783294" style="width:300px;height:250px;"></div> 
          <script type="text/javascript">
		var o = document.getElementById('crt-628783294');
		if ("undefined"!=typeof Criteo) {
			var p = o.parentNode;
			p.style.setProperty('display', 'inline-block', 'important');
			o.style.setProperty('display', 'block', 'important');
			Criteo.DisplayAcceptableAdIfAdblocked({zoneid:837497,containerid:"crt-628783294",collapseContainerIfNotAdblocked:true,"callifnotadblocked": function () {var o = document.getElementById('crt-628783294'); o.style.setProperty('display','none','important');o.style.setProperty('visbility','hidden','important'); } });
		} else {
			o.style.setProperty('display', 'none', 'important');
			o.style.setProperty('visibility', 'hidden', 'important');
		}
		</script> 
         </div> 
        </div>
        <div id="jp-post-flair" class="sharedaddy sd-like-enabled">
         <div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-18275645-29-59d3d431c0faf" data-src="//widgets.wp.com/likes/#blog_id=18275645&amp;post_id=29&amp;origin=phe1129.wordpress.com&amp;obj_id=18275645-29-59d3d431c0faf" data-name="like-post-frame-18275645-29-59d3d431c0faf">
          <h3 class="sd-title">Like this:</h3>
          <div class="likes-widget-placeholder post-likes-widget-placeholder" style="height: 55px;">
           <span class="button"><span>Like</span></span> 
           <span class="loading">Loading...</span>
          </div>
          <span class="sd-text-color"></span>
          <a class="sd-link-color"></a>
         </div> 
         <div id="jp-relatedposts" class="jp-relatedposts"> 
          <h3 class="jp-relatedposts-headline"><em>Related</em></h3> 
         </div>
        </div> 
       </div>
       <!-- .entry-content --> 
       <div class="entry-utility">
         This entry was posted in 
        <a href="https://phe1129.wordpress.com/category/sql-server-2005/" rel="category tag">SQL server 2005</a>. Bookmark the 
        <a href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/" title="Permalink to Convert xml datetime (xs:dateTime) to SQL&nbsp;datetime" rel="bookmark">permalink</a>. 
       </div>
       <!-- .entry-utility --> 
      </div>
      <!-- #post-## --> 
      <div id="nav-below" class="navigation"> 
       <div class="nav-previous">
        <a href="https://phe1129.wordpress.com/2007/02/27/debug-distributed-transactions-error-in-sql-server/" rel="prev"><span class="meta-nav">?</span> Debug Distributed Transactions Error in SQL&nbsp;Server</a>
       </div> 
       <div class="nav-next">
        <a href="https://phe1129.wordpress.com/2007/03/26/shred-complex-xml-by-xquery-node-and-value-methods/" rel="next">Shred complex XML by XQuery node() and value()&nbsp;methods <span class="meta-nav">?</span></a>
       </div> 
      </div>
      <!-- #nav-below --> 
      <div id="comments"> 
       <h3 id="comments-title">3 Responses to <em>Convert xml datetime (xs:dateTime) to SQL&nbsp;datetime</em></h3> 
       <ol class="commentlist"> 
        <li class="comment even thread-even depth-1 highlander-comment" id="li-comment-26"> 
         <div id="comment-26"> 
          <div class="comment-author vcard"> 
           <img alt="" src="https://0.gravatar.com/avatar/?s=40&amp;d=identicon&amp;r=G" class="avatar avatar-40" height="40" width="40"> 
           <cite class="fn">Joel</cite> 
           <span class="says">says:</span> 
          </div>
          <!-- .comment-author .vcard --> 
          <div class="comment-meta commentmetadata">
           <a href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/#comment-26"> May 30, 2007 at 1:00 pm</a> 
          </div>
          <!-- .comment-meta .commentmetadata --> 
          <div class="comment-body">
           <p>Now if you could just get Microsoft to document Format 127 in BOL half as well as you\’ve explained it here!<br> &nbsp;<br> Thanks, you sure saved me a huge headache here!</p> 
          </div> 
          <div class="reply"> 
           <a rel="nofollow" class="comment-reply-link" href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/?replytocom=26#respond" onclick="return addComment.moveForm( &quot;comment-26&quot;, &quot;26&quot;, &quot;respond&quot;, &quot;29&quot; )" aria-label="Reply to Joel">Reply</a> 
          </div>
          <!-- .reply --> 
         </div>
         <!-- #comment-##  --> </li>
        <!-- #comment-## --> 
        <li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-25"> 
         <div id="comment-25"> 
          <div class="comment-author vcard"> 
           <img alt="" src="https://0.gravatar.com/avatar/?s=40&amp;d=identicon&amp;r=G" class="avatar avatar-40" height="40" width="40"> 
           <cite class="fn">Ant</cite> 
           <span class="says">says:</span> 
          </div>
          <!-- .comment-author .vcard --> 
          <div class="comment-meta commentmetadata">
           <a href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/#comment-25"> April 27, 2010 at 11:55 am</a> 
          </div>
          <!-- .comment-meta .commentmetadata --> 
          <div class="comment-body">
           <p>Very useful – thanks.One annoying thing is that the value() function comes back with NULL if no time zone is specified. This is not very good for dealing with unpredictable data. The custom function below works with time zone and no time zone.Any suggestions for making this more efficient?&lt;Aside&gt;&lt;Rant&gt;XML has solved the age-old problems of date representation in documents, but nobody seems to have ever implemented the XML date formats correctly&lt;/Rant&gt;&lt;/Aside&gt;CREATE FUNCTION [XmlDateTimeToSqlDateTime] ( @xmlDateTime nvarchar(50))RETURNS datetimeASBEGIN — Declare the return variable here DECLARE @dateConvert xml DECLARE @ret datetime SET @dateConvert = @xmlDateTime SET @ret = ( SELECT isnull(@dateConvert.value(\’xs:dateTime(.)\’, \’datetime\’), convert(datetime, @xmlDateTime, 127)) ) RETURN @retEND</p> 
          </div> 
          <div class="reply"> 
           <a rel="nofollow" class="comment-reply-link" href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/?replytocom=25#respond" onclick="return addComment.moveForm( &quot;comment-25&quot;, &quot;25&quot;, &quot;respond&quot;, &quot;29&quot; )" aria-label="Reply to Ant">Reply</a> 
          </div>
          <!-- .reply --> 
         </div>
         <!-- #comment-##  --> </li>
        <!-- #comment-## --> 
        <li class="comment even thread-even depth-1 highlander-comment" id="li-comment-104"> 
         <div id="comment-104"> 
          <div class="comment-author vcard"> 
           <img alt="" src="https://1.gravatar.com/avatar/db07d70c97dc4c21f49817e53bde3e81?s=40&amp;d=identicon&amp;r=G" class="avatar avatar-40" height="40" width="40"> 
           <cite class="fn">awhite</cite> 
           <span class="says">says:</span> 
          </div>
          <!-- .comment-author .vcard --> 
          <div class="comment-meta commentmetadata">
           <a href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/#comment-104"> August 20, 2013 at 1:03 pm</a> 
          </div>
          <!-- .comment-meta .commentmetadata --> 
          <div class="comment-body">
           <p>Very useful, indeed. Thank you for taking the time to post.</p> 
          </div> 
          <div class="reply"> 
           <a rel="nofollow" class="comment-reply-link" href="https://phe1129.wordpress.com/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/?replytocom=104#respond" onclick="return addComment.moveForm( &quot;comment-104&quot;, &quot;104&quot;, &quot;respond&quot;, &quot;29&quot; )" aria-label="Reply to awhite">Reply</a> 
          </div>
          <!-- .reply --> 
         </div>
         <!-- #comment-##  --> </li>
        <!-- #comment-## --> 
       </ol> 
       <div id="respond" class="comment-respond"> 
        <h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/#respond" style="display:none;">Cancel reply</a></small></h3> 
        <form action="https://phe1129.wordpress.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"> 
         <input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="1108b94dbf">
         <input type="hidden" name="_wp_http_referer" value="/2007/03/16/convert-xml-datetime-xsdatetime-to-sql-datetime/"> 
         <input type="hidden" name="hc_post_as" id="hc_post_as" value="guest"> 
         <div class="comment-form-field comment-textarea"> 
          <label for="comment">Enter your comment here...</label> 
          <div id="comment-form-comment">
           <textarea id="comment" name="comment" title="Enter your comment here..."></textarea>
          </div> 
         </div> 
         <div id="comment-form-identity"> 
          <div id="comment-form-nascar"> 
           <p>Fill in your details below or click an icon to log in:</p> 
           <ul> 
            <li class="selected" style="display:none;"> <a href="#comment-form-guest" id="postas-guest" title="Guest"> <span></span> </a> </li> 
            <li> <a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" title="WordPress.com"> <span></span> </a> </li> 
            <li> <a href="#comment-form-load-service:Twitter" id="postas-twitter" title="Twitter"> <span></span> </a> </li> 
            <li> <a href="#comment-form-load-service:Facebook" id="postas-facebook" title="Facebook"> <span></span> </a> </li> 
            <li> <iframe id="googleplus-sign-in" name="googleplus-sign-in" src="https://public-api.wordpress.com/connect/?googleplus-sign-in=https%3A%2F%2Fphe1129.wordpress.com" width="24" height="24" scrolling="no" allowtransparency="true" seamless frameborder="0"></iframe> </li> 
           </ul> 
          </div> 
          <div id="comment-form-guest" class="comment-form-service selected"> 
           <div class="comment-form-padder"> 
            <div class="comment-form-avatar"> 
             <a href="https://gravatar.com/site/signup/" target="_blank"> <img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Gravatar" width="25" class="no-grav"> </a> 
            </div> 
            <div class="comment-form-fields"> 
             <div class="comment-form-field comment-form-email"> 
              <label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label> 
              <div class="comment-form-input">
               <input id="email" name="email" type="email" value="">
              </div> 
             </div> 
             <div class="comment-form-field comment-form-author"> 
              <label for="author">Name <span class="required">(required)</span></label> 
              <div class="comment-form-input">
               <input id="author" name="author" type="text" value="">
              </div> 
             </div> 
             <div class="comment-form-field comment-form-url"> 
              <label for="url">Website</label> 
              <div class="comment-form-input">
               <input id="url" name="url" type="url" value="">
              </div> 
             </div> 
            </div> 
           </div> 
          </div> 
          <div id="comment-form-wordpress" class="comment-form-service"> 
           <div class="comment-form-padder"> 
            <div class="comment-form-avatar"> 
             <img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="WordPress.com Logo" width="25" class="no-grav"> 
            </div> 
            <div class="comment-form-fields"> 
             <input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value=""> 
             <input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value=""> 
             <input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value=""> 
             <p class="comment-form-posting-as pa-wordpress"><strong></strong> You are commenting using your WordPress.com account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p> 
            </div> 
           </div> 
          </div> 
          <div id="comment-form-twitter" class="comment-form-service"> 
           <div class="comment-form-padder"> 
            <div class="comment-form-avatar"> 
             <img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Twitter picture" width="25" class="no-grav"> 
            </div> 
            <div class="comment-form-fields"> 
             <input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value=""> 
             <input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value=""> 
             <input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value=""> 
             <p class="comment-form-posting-as pa-twitter"><strong></strong> You are commenting using your Twitter account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p> 
            </div> 
           </div> 
          </div> 
          <div id="comment-form-facebook" class="comment-form-service"> 
           <div class="comment-form-padder"> 
            <div class="comment-form-avatar"> 
             <img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Facebook photo" width="25" class="no-grav"> 
            </div> 
            <div class="comment-form-fields"> 
             <input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value=""> 
             <input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value=""> 
             <input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value=""> 
             <p class="comment-form-posting-as pa-facebook"><strong></strong> You are commenting using your Facebook account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p> 
            </div> 
           </div> 
          </div> 
          <div id="comment-form-googleplus" class="comment-form-service"> 
           <div class="comment-form-padder"> 
            <div class="comment-form-avatar"> 
             <img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Google+ photo" width="25" class="no-grav"> 
            </div> 
            <div class="comment-form-fields"> 
             <input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value=""> 
             <input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value=""> 
             <input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value=""> 
             <p class="comment-form-posting-as pa-googleplus"><strong></strong> You are commenting using your Google+ account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p> 
            </div> 
           </div> 
          </div> 
          <div id="comment-form-load-service" class="comment-form-service"> 
           <div class="comment-form-posting-as-cancel">
            <a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a>
           </div> 
           <p>Connecting to %s</p> 
          </div> 
         </div> 
         <script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script> 
         <div id="comment-form-subscribe"> 
          <p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;"> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of new comments via email.</label></p>
         </div> 
         <p class="form-submit"><input name="submit" type="submit" id="comment-submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="29" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"> </p>
         <p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="10892a25e1"></p> 
         <input type="hidden" name="genseq" value="1507054641"> 
         <p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="85"></p> 
        </form> 
       </div>
       <!-- #respond --> 
       <div style="clear: both"></div> 
      </div>
      <!-- #comments --> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #container --> 
    <div id="primary" class="widget-area" role="complementary"> 
     <ul class="xoxo"> 
      <li id="search-2" class="widget-container widget_search">
       <form role="search" method="get" id="searchform" class="searchform" action="https://phe1129.wordpress.com/"> 
        <div> 
         <label class="screen-reader-text" for="s">Search for:</label> 
         <input type="text" value="" name="s" id="s"> 
         <input type="submit" id="searchsubmit" value="Search"> 
        </div> 
       </form></li> 
      <li id="recent-posts-2" class="widget-container widget_recent_entries"> <h3 class="widget-title">Recent Posts</h3> 
       <ul> 
        <li> <a href="https://phe1129.wordpress.com/2013/08/10/split-string-in-mysql/">Split String in&nbsp;MySQL</a> </li> 
        <li> <a href="https://phe1129.wordpress.com/2013/08/10/string-concatenation-gotcha/">String concatenation gotcha</a> </li> 
        <li> <a href="https://phe1129.wordpress.com/2012/09/26/t-sql-suggestion-support-group_concat/">T-SQL Suggestion: Support&nbsp;GROUP_CONCAT</a> </li> 
        <li> <a href="https://phe1129.wordpress.com/2012/04/02/change-mysql-data-folder-on-selinux/">Change MySQL data folder on&nbsp;SELinux</a> </li> 
        <li> <a href="https://phe1129.wordpress.com/2011/04/29/backup-related-files-with-databases-by-zrm-for-mysql/">Backup related files with Databases by ZRM for&nbsp;MySQL</a> </li> 
       </ul> </li> 
      <li id="recent-comments-2" class="widget-container widget_recent_comments"><h3 class="widget-title">Recent Comments</h3> 
       <table class="recentcommentsavatar" cellspacing="0" cellpadding="0" border="0"> 
        <tbody>
         <tr>
          <td title="EOnegin" class="recentcommentsavatartop" style="height:48px; width:48px;"><img alt="" src="https://1.gravatar.com/avatar/774d83382892aea7494c060a96d22a91?s=48&amp;d=identicon&amp;r=G" class="avatar avatar-48" height="48" width="48"></td>
          <td class="recentcommentstexttop" style="">EOnegin on <a href="https://phe1129.wordpress.com/2012/04/02/change-mysql-data-folder-on-selinux/#comment-344">Change MySQL data folder on…</a></td>
         </tr>
         <tr>
          <td title="Vanessa" class="recentcommentsavatarend" style="height:48px; width:48px;"><a href="http://Krista.tumblr.com" rel="nofollow"><img alt="" src="https://0.gravatar.com/avatar/f2e636f12176d45f2ee346d8fa0c5387?s=48&amp;d=identicon&amp;r=G" class="avatar avatar-48" height="48" width="48"></a></td>
          <td class="recentcommentstextend" style=""><a href="http://Krista.tumblr.com" rel="nofollow">Vanessa</a> on <a href="https://phe1129.wordpress.com/2007/07/10/sqlcmd-and-output-to-an-xml-file-issue/#comment-260">SQLCMD and Output to an XML fi…</a></td>
         </tr>
         <tr>
          <td title="Ryan" class="recentcommentsavatarend" style="height:48px; width:48px;"><img alt="" src="https://0.gravatar.com/avatar/09b2b9791743cd13d82a29ee59ee1419?s=48&amp;d=identicon&amp;r=G" class="avatar avatar-48" height="48" width="48"></td>
          <td class="recentcommentstextend" style="">Ryan on <a href="https://phe1129.wordpress.com/2012/04/02/change-mysql-data-folder-on-selinux/#comment-155">Change MySQL data folder on…</a></td>
         </tr>
         <tr>
          <td title="Gary Pullis" class="recentcommentsavatarend" style="height:48px; width:48px;"><a href="https://plus.google.com/115514304077999415155" rel="nofollow"><img alt="" src="https://i2.wp.com/lh4.googleusercontent.com/-YzPsd9Y_oE4/AAAAAAAAAAI/AAAAAAAAAQw/EHnm5b49B_U/photo.jpg?resize=48%2C48&amp;ssl=1" class="avatar avatar-48" height="48" width="48"></a></td>
          <td class="recentcommentstextend" style=""><a href="https://plus.google.com/115514304077999415155" rel="nofollow">Gary Pullis</a> on <a href="https://phe1129.wordpress.com/2012/04/02/change-mysql-data-folder-on-selinux/#comment-146">Change MySQL data folder on…</a></td>
         </tr>
         <tr>
          <td title="hansbaer" class="recentcommentsavatarend" style="height:48px; width:48px;"><img alt="" src="https://2.gravatar.com/avatar/5e6e93bc2d5fbf6cad45d9326ef8e09e?s=48&amp;d=identicon&amp;r=G" class="avatar avatar-48" height="48" width="48"></td>
          <td class="recentcommentstextend" style="">hansbaer on <a href="https://phe1129.wordpress.com/2012/04/02/change-mysql-data-folder-on-selinux/#comment-110">Change MySQL data folder on…</a></td>
         </tr> 
        </tbody>
       </table> </li>
      <li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3> 
       <ul> 
        <li><a href="https://phe1129.wordpress.com/2013/08/">August 2013</a></li> 
        <li><a href="https://phe1129.wordpress.com/2012/09/">September 2012</a></li> 
        <li><a href="https://phe1129.wordpress.com/2012/04/">April 2012</a></li> 
        <li><a href="https://phe1129.wordpress.com/2011/04/">April 2011</a></li> 
        <li><a href="https://phe1129.wordpress.com/2011/01/">January 2011</a></li> 
        <li><a href="https://phe1129.wordpress.com/2010/07/">July 2010</a></li> 
        <li><a href="https://phe1129.wordpress.com/2010/04/">April 2010</a></li> 
        <li><a href="https://phe1129.wordpress.com/2009/12/">December 2009</a></li> 
        <li><a href="https://phe1129.wordpress.com/2009/11/">November 2009</a></li> 
        <li><a href="https://phe1129.wordpress.com/2009/10/">October 2009</a></li> 
        <li><a href="https://phe1129.wordpress.com/2009/06/">June 2009</a></li> 
        <li><a href="https://phe1129.wordpress.com/2009/05/">May 2009</a></li> 
        <li><a href="https://phe1129.wordpress.com/2008/12/">December 2008</a></li> 
        <li><a href="https://phe1129.wordpress.com/2008/08/">August 2008</a></li> 
        <li><a href="https://phe1129.wordpress.com/2008/07/">July 2008</a></li> 
        <li><a href="https://phe1129.wordpress.com/2008/06/">June 2008</a></li> 
        <li><a href="https://phe1129.wordpress.com/2008/05/">May 2008</a></li> 
        <li><a href="https://phe1129.wordpress.com/2008/04/">April 2008</a></li> 
        <li><a href="https://phe1129.wordpress.com/2008/03/">March 2008</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/12/">December 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/11/">November 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/10/">October 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/09/">September 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/08/">August 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/07/">July 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/06/">June 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/05/">May 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/04/">April 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/03/">March 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/02/">February 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2007/01/">January 2007</a></li> 
        <li><a href="https://phe1129.wordpress.com/2006/12/">December 2006</a></li> 
        <li><a href="https://phe1129.wordpress.com/2006/11/">November 2006</a></li> 
        <li><a href="https://phe1129.wordpress.com/2006/10/">October 2006</a></li> 
        <li><a href="https://phe1129.wordpress.com/2006/09/">September 2006</a></li> 
        <li><a href="https://phe1129.wordpress.com/2006/06/">June 2006</a></li> 
        <li><a href="https://phe1129.wordpress.com/2006/05/">May 2006</a></li> 
        <li><a href="https://phe1129.wordpress.com/2006/04/">April 2006</a></li> 
        <li><a href="https://phe1129.wordpress.com/2006/03/">March 2006</a></li> 
        <li><a href="https://phe1129.wordpress.com/2006/02/">February 2006</a></li> 
        <li><a href="https://phe1129.wordpress.com/2006/01/">January 2006</a></li> 
        <li><a href="https://phe1129.wordpress.com/2005/12/">December 2005</a></li> 
        <li><a href="https://phe1129.wordpress.com/2005/11/">November 2005</a></li> 
        <li><a href="https://phe1129.wordpress.com/2005/10/">October 2005</a></li> 
        <li><a href="https://phe1129.wordpress.com/2005/09/">September 2005</a></li> 
        <li><a href="https://phe1129.wordpress.com/2005/08/">August 2005</a></li> 
        <li><a href="https://phe1129.wordpress.com/2005/06/">June 2005</a></li> 
        <li><a href="https://phe1129.wordpress.com/2005/05/">May 2005</a></li> 
       </ul> </li>
      <li id="categories-2" class="widget-container widget_categories"><h3 class="widget-title">Categories</h3> 
       <ul> 
        <li class="cat-item cat-item-45302818"><a href="https://phe1129.wordpress.com/category/biztalk-edi/">BizTalk–EDI</a> </li> 
        <li class="cat-item cat-item-610"><a href="https://phe1129.wordpress.com/category/linux/">Linux</a> </li> 
        <li class="cat-item cat-item-4419"><a href="https://phe1129.wordpress.com/category/mysql/">MySQL</a> </li> 
        <li class="cat-item cat-item-598501"><a href="https://phe1129.wordpress.com/category/other-programming/">Other Programming</a> </li> 
        <li class="cat-item cat-item-6407"><a href="https://phe1129.wordpress.com/category/sql-server/">SQL server</a> </li> 
        <li class="cat-item cat-item-20059"><a href="https://phe1129.wordpress.com/category/sql-server-2005/">SQL server 2005</a> </li> 
        <li class="cat-item cat-item-47413526"><a href="https://phe1129.wordpress.com/category/sql-server-2005-smo/">SQL Server 2005 SMO</a> </li> 
        <li class="cat-item cat-item-14591984"><a href="https://phe1129.wordpress.com/category/sql-server-ssis/">SQL Server SSIS</a> </li> 
        <li class="cat-item cat-item-47413537"><a href="https://phe1129.wordpress.com/category/xml-xquery-and-xpath/">XML, XQuery and XPath</a> </li> 
       </ul> </li>
      <li id="meta-2" class="widget-container widget_meta"><h3 class="widget-title">Meta</h3> 
       <ul> 
        <li><a href="https://wordpress.com/start?ref=wplogin">Register</a></li> 
        <li><a href="https://phe1129.wordpress.com/wp-login.php">Log in</a></li> 
        <li><a href="https://phe1129.wordpress.com/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li> 
        <li><a href="https://phe1129.wordpress.com/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li> 
        <li><a href="https://wordpress.com/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.com</a></li> 
       </ul> </li> 
     </ul> 
    </div>
    <!-- #primary .widget-area --> 
   </div>
   <!-- #main --> 
   <div id="footer" role="contentinfo"> 
    <div id="colophon"> 
     <div id="site-info"> 
      <a href="https://phe1129.wordpress.com/" title="Peter's blog" rel="home"> Peter's blog </a> 
     </div>
     <!-- #site-info --> 
     <div id="site-generator"> 
      <a href="https://wordpress.com/?ref=footer_blog">Blog at WordPress.com.</a> 
     </div>
     <!-- #site-generator --> 
    </div>
    <!-- #colophon --> 
   </div>
   <!-- #footer --> 
  </div>
  <!-- #wrapper --> 
  <!--  --> 
  <script type="text/javascript" src="//0.gravatar.com/js/gprofiles.js?ver=201740y"></script> 
  <script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script> 
  <script type="text/javascript" src="https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h"></script> 
  <script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script> 
  <div style="display:none"> 
   <div class="grofile-hash-map-d41d8cd98f00b204e9800998ecf8427e"> 
   </div> 
   <div class="grofile-hash-map-db07d70c97dc4c21f49817e53bde3e81"> 
   </div> 
   <div class="grofile-hash-map-774d83382892aea7494c060a96d22a91"> 
   </div> 
   <div class="grofile-hash-map-f2e636f12176d45f2ee346d8fa0c5387"> 
   </div> 
   <div class="grofile-hash-map-09b2b9791743cd13d82a29ee59ee1419"> 
   </div> 
   <div class="grofile-hash-map-87f9a339dbe02c149b8e302545072db1"> 
   </div> 
   <div class="grofile-hash-map-5e6e93bc2d5fbf6cad45d9326ef8e09e"> 
   </div> 
  </div> 
  <script type="text/javascript">
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"https:\/\/phe1129.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"https:\/\/phe1129.wordpress.com\/wp-login.php?action=logout&_wpnonce=49b7d1126c","homeURL":"https:\/\/phe1129.wordpress.com\/","postID":"29","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"0","userIsLoggedIn":"","isJetpack":"0","text_direction":"ltr"};
/* ]]> */
</script> 
  <script type="text/javascript" src="https://s2.wp.com/_static/??/wp-content/js/jquery/jquery.autoresize.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1479964158j"></script> 
  <script type="text/javascript">
/* <![CDATA[ */
var actionbardata = {"siteID":"18275645","siteName":"Peter's blog","siteURL":"http:\/\/phe1129.wordpress.com","icon":"<img alt='' src='https:\/\/s1.wp.com\/i\/logo\/wpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/twentyten","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/phe1129.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fphe1129.wordpress.com%2F2007%2F03%2F16%2Fconvert-xml-datetime-xsdatetime-to-sql-datetime%2F","themeURL":"https:\/\/wordpress.com\/theme\/twentyten\/","xhrURL":"https:\/\/phe1129.wordpress.com\/wp-admin\/admin-ajax.php","nonce":"c71ad1571e","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"3aa46b5c33\" \/>","referer":"https:\/\/phe1129.wordpress.com\/2007\/03\/16\/convert-xml-datetime-xsdatetime-to-sql-datetime\/","canFollow":"1","feedID":"25032099","statusMessage":"","customizeLink":"https:\/\/phe1129.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fphe1129.wordpress.com%2F2007%2F03%2F16%2Fconvert-xml-datetime-xsdatetime-to-sql-datetime%2F","postID":"29","shortlink":"http:\/\/wp.me\/p1eGkt-t","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/phe1129.wordpress.com\/29","statsLink":"https:\/\/wordpress.com\/stats\/post\/29\/phe1129.wordpress.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Twenty Ten","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/phe1129.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fphe1129.wordpress.com%2F2007%2F03%2F16%2Fconvert-xml-datetime-xsdatetime-to-sql-datetime%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script> 
  <script type="text/javascript" src="https://s0.wp.com/_static/??-eJx9jksOwjAMRC9E6raIzwZxFBQSA27jJDhJgduTLqhYdTfyvHkyvKIywWf0GYYEFicyGN/NkDbwV3FR0ZU7+QSORkzwLFjwob11KD+YvHHF1rKKTGCuQyUY3adh8itGbWuvrlqAdcooNakwoQjNsuW2ZjCZgp8NS1qjR0qMWW2bFi71abgF4cqf+dTt2n5/7A59O3wBx0JoCw=="></script> 
  <script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script> 
  <script type="text/javascript">
	var skimlinks_pub_id = "725X584219"
	var skimlinks_sitename = "phe1129.wordpress.com";
	</script> 
  <script type="text/javascript" defer src="https://s.skimresources.com/js/725X1342.skimlinks.js"></script> 
  <iframe src="https://widgets.wp.com/likes/master.html?ver=20170206#ver=20170206" scrolling="no" id="likes-master" name="likes-master" style="display:none;"></iframe> 
  <div id="likes-other-gravatars">
   <div class="likes-text">
    <span>%d</span> bloggers like this:
   </div>
   <ul class="wpl-avatars sd-like-gravatars"></ul>
  </div> 
  <script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script> 
  <script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'18275645','blog_tz':'-4','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'18275645','v':'wpcom','tz':'-4','user_id':'0','post':'29','subd':'phe1129'}]);
_stq.push(['extra', {'crypt':'UE5XaGUuOTlwaD85flAmcm1mcmZsaDhkV11YdWFnNncxc1tjZG9XVXhRVnolXz01bj9hWHMrMU02dn58Y3FWRk4vfnhoT3ZsUFphMHVafEtIU1Mxa0gtN1JnX3E4V1FvY3xpJkZMZGR1SEEwMzlxazJPb2MteFpuP2YzQi4yZF96NzhaVC1Ya20wZTBXOS4sbS55ZUFWaXJkVFRJakFkVEVyQjJYakFbZ1hxNndGNmtXLCVpXWxrJkxUXzV6eEhJcUJ0ZCZSKz94WWRPaHY3UklDMjVrRWRLej9JYVNMRXdRLG1yPWgldUNvME0vflhOY2w3TmhqWklVXVBNcS5vcHElV1JnSWNQdCVzXzc='}]);
_stq.push([ 'clickTrackerInit', '18275645', '29' ]);
	</script> 
  <noscript>
   <img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="">
  </noscript> 
  <script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>  
 </body>
</html>