<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <!-- InstanceBegin template="/Templates/newtemplate_20060511.dwt" codeOutsideHTMLIsLocked="false" -->
 <head> 
  <link href="/shared/images/favicon.ico" rel="shortcut icon"> 
  <link rel="stylesheet" type="text/css" href="../../../../shared/newnavstyles_20060510.css"> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
  <!-- InstanceBeginEditable name="doctitle" --> 
  <title>Java Tutorial: Loading and Playing Audio Clips</title> 
  <!-- InstanceEndEditable --> 
  <!-- InstanceBeginEditable name="head" --> 
  <link rel="stylesheet" type="text/css" href="../Articles4ContentLibrary.css"> 
  <!-- InstanceEndEditable --> 
  <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script> 
  <script type="text/javascript">
_uacct = "UA-185808-1";
urchinTracker();
</script> 
 </head> 
 <body> 
  <table class="header"> 
   <tbody>
    <tr>
     <td colspan="3" align="center"> <script type="text/javascript">
   e9 = new Object();
   e9.size = "728x90,468x60";
   e9.noAd = 1;
</script> <script type="text/javascript" src="http://tags.expo9.exponential.com/tags/Deitelcom/ROS/tags.js"></script> </td>
    </tr> 
    <tr> 
     <td style="text-align:center;vertical-align: middle;margin:0px;padding:0px;"><br> <a href="http://www.deitel.com/"><img border="0" src="http://www.deitel.com/Portals/0/deitel_transparent_smaller.png" alt="Deitel &amp; Associates, Inc. Logo"><br><br> Back to www.deitel.com</a> </td> 
    </tr> 
   </tbody>
  </table> 
  <!-- END HEADER --> 
  <div style="width:850px"></div> 
  <div class="leaderboard"> 
   <script type="text/javascript"><!--
google_ad_client = "pub-3900943659998054";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel ="0981315073";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "000000";
google_color_text = "000000";
//--></script> 
   <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script> 
  </div> 
  <!-- LEFT NAVIGATION --> 
  <!-- SOCIAL NETWORK BUTTONS --> 
  <div class="contentwide"> 
   <div style="text-align:right;margin:0px 0px 5px 0px"> 
    <a href="javascript:location.href='http://digg.com/submit?phase=2&amp;url='+encodeURIComponent(document.location.href)+' '"><img alt="digg.png" src="http://www.deitel.com/shared/images/socialnet/digg.png" border="0" height="15" width="80"></a> 
    <a href="javascript:location.href='http://del.icio.us/post?v=2&amp;url='+encodeURIComponent(document.location.href)+'&amp;title='+encodeURIComponent(document.title)+' '"><img alt="delicious.png" src="http://www.deitel.com/shared/images/socialnet/delicious.png" border="0" height="15" width="80"></a> 
    <a href="javascript:location.href='http://www.blinklist.com/?Action=Blink/addblink.php&amp;Description='+encodeURIComponent(document.selection.createRange().text)+'&amp;Url='+encodeURIComponent(location.href)+'&amp;Title='+encodeURIComponent(document.title)+' '"><img alt="blinkit.png" src="http://www.deitel.com/shared/images/socialnet/blinkit.png" border="0" height="15" width="80"></a> 
    <a href="javascript:location.href='http://www.furl.net/storeIt.jsp?u='+encodeURIComponent(document.location.href)+'&amp;t='+encodeURIComponent(document.title)+' '"><img alt="furl.png" src="http://www.deitel.com/shared/images/socialnet/furl.png" border="0" height="15" width="80"></a> 
   </div> 
   <!-- SOCIAL NETWORK BUTTONS --> 
   <!-- InstanceBeginEditable name="content" --> 
   <div class="productbox"> 
    <table width="243" border="0"> 
     <caption align="top">
       Java How to Program, 6/e 
     </caption> 
     <tbody>
      <tr> 
       <td width="134"><img src="../../../shared/images/JHTP6E_small.png" name="productimage" width="122" height="159" id="productimage"></td> 
       <td width="99"><p>ISBN: <br> 0-13-148398-6<br> © 2005<br> pages: 1576</p> <p><span class="emphasize"><strong>Buy the Book!</strong></span> <br> <a href="http://www.amazon.com/exec/obidos/ASIN/0131483986/deitelassociatin" title="Buy Java How to Program, Sixth Edition at Amazon"> <img class="productorderimage" src="../../../shared/images/amazonw.gif" alt="Amazon logo" width="90" height="29"></a><br> <a href="http://www.informit.com/title/0131483986%20?aid=548c5149-507f-4cb4-b186-c6c7500def22" title="Buy Java How to Program, Sixth Edition at InformIT"> <img class="productorderimage" src="/shared/images/informit.png" alt="InformIT logo"></a><br> <a href="http://www.amazon.com/exec/obidos/ASIN/0131869000/deitelassociatin" title="Buy Java How to Program, Sixth Edition at Amazon"></a><br> <a href="http://www.informit.com/title/0131483986%20?aid=548c5149-507f-4cb4-b186-c6c7500def22" title="Buy Java How to Program, Sixth Edition at InformIT"></a></p></td> 
      </tr> 
     </tbody>
    </table> 
   </div>
   <!--end div productbox--> 
   <p class="T1">Java, through its class libraries, provides extensive multimedia facilities that enable you to develop powerful multimedia applications. In this tutorial, we introduce basic audio playback capabilities. In our subsequent tutorial, we show how to <a href="http://www.deitel.com/articles/java_tutorials/20060422/PlayingVideowithJMF/">play video and other media with the Java Media Framework</a>. These tutorials are intended for students and developers who are familiar with Java GUIs and event handling.</p> 
   <p class="T1"><a href="fig21_05.zip">Download the code examples for this tutorial.</a> <br> <br> [Note: This tutorial is an excerpt (Section 21.5) of Chapter 21, Multimedia, from our textbook <a href="http://www.deitel.com/books/jHTP6/">Java How to Program, 6/e</a>. This tutorial may refer to other chapters or sections of the book that are not included here. Permission Information: Deitel, Harvey M. and Paul J., JAVA HOW TO PROGRAM, ©2005, pp.987-992. Electronically reproduced by permission of Pearson Education, Inc., Upper Saddle River, New Jersey.] </p> 
   <div>
    <h1 class="H1">21.5 Loading and Playing Audio Clips</h1> 
    <p class="T1">Java provides several mechanisms for playing sounds in an applet. The two simplest are the <span class="CDT">Applet</span>'s <span class="CDT"><span class="KEY-TERM">play</span></span> method and the <span class="CDT"><span class="KEY-TERM">play</span></span> method of the <span class="CDT"><span class="KEY-TERM">AudioClip</span></span><span class="Italic"> </span><span class="ROM">interface</span>. Additional audio capabilities are available in the Java Media Framework and Java Sound APIs. If you would like to play a sound once in a program, the <span class="CDT">Applet</span> method <span class="CDT">play</span> loads the sound and plays it once?the sound is marked for garbage collection after it plays. The <span class="CDT">Applet</span> method <span class="CDT">play</span> has two versions:</p> 
    <p class="CDTS"><span class="HTMLTag">public void</span> play( URL location, String soundFileName );</p> 
    <p class="CDTS"><span class="HTMLTag">public void</span> play( URL soundURL );</p> 
    <p class="T1">The first version loads the audio clip stored in file <span class="CDT">soundFileName</span> from <span class="CDT">location</span> and plays the sound. The first argument is normally a call to the applet's <span class="CDT">getDocumentBase</span> or <span class="CDT"><span class="KEY-TERM">getCodeBase</span></span> method. Method <span class="CDT">getDocumentBase</span> returns the location of the HTML file that loaded the applet. (If the applet is in a package, the method returns the location of the package or the JAR file containing the package.) Method <span class="CDT">getCodeBase</span> indicates the location of the applet's <span class="CDT">.class</span> file. The second version of method <span class="CDT">play</span> takes a <span class="CDT">URL</span> that contains the location and the file name of the audio clip. The statement </p> 
    <p class="CDTS">play( getDocumentBase(), <span class="HTMLValue">"hi.au"</span> );</p> 
    <p class="T1">loads the audio clip in file <span class="CDT">hi.au</span> and plays the clip once.</p> 
    <p class="T">The <span class="KEY-TERM">sound engine</span> that plays the audio clips supports several audio file formats, including <span class="KEY-TERM">Sun Audio file format</span><span class="Italic"> </span><span class="ROM">(</span><span class="KEY-TERM">.au</span> extension<span class="ROM">)</span>, <span class="KEY-TERM">Windows Wave file format</span><span class="Italic"> </span><span class="ROM">(</span><span class="CDT"><span class="KEY-TERM">.wav</span></span> extension<span class="ROM">)</span>, <span class="KEY-TERM">Macintosh AIFF file format</span><span class="Italic"> </span><span class="ROM">(</span><span class="CDT"><span class="KEY-TERM">.aif or .aiff</span></span> extensions<span class="ROM">)</span> and <span class="KEY-TERM">Musical Instrument Digital Interface</span><span class="Italic"> </span><span class="ROM">(</span><span class="KEY-TERM">MIDI</span><span class="ROM">)</span><span class="Italic"> </span><span class="KEY-TERM">file format</span><span class="Italic"> </span><span class="ROM">(</span><span class="CDT"><span class="KEY-TERM">.mid or .rmi</span></span> extensions<span class="ROM">)</span>. The Java Media Framework (JMF) and Java Sound APIs support additional formats.</p> 
    <p class="T">The program of Fig. 21.5 demonstrates loading and playing an <span class="CDT">AudioClip</span> (package <span class="CDT">java.applet</span>). This technique is more flexible than <span class="CDT">Applet</span> method <span class="CDT">play</span>. An applet can use an <span class="CDT">AudioClip</span> to store audio for repeated use throughout a program's execution. <span class="CDT">Applet</span> method <span class="CDT"><span class="KEY-TERM">getAudioClip</span></span> has two forms that take the same arguments as method <span class="CDT">play</span> described previously. Method <span class="CDT">getAudioClip</span> returns a reference to an <span class="CDT">AudioClip</span>. An <span class="CDT">AudioClip</span> has three methods?<span class="CDT">play</span>, <span class="CDT">loop</span> and <span class="CDT">stop</span>. As mentioned earlier, method <span class="CDT">play</span> plays the audio clip once. Method <span class="CDT"><span class="KEY-TERM">loop</span></span> continuously loops through the audio clip in the background. Method <span class="CDT"><span class="KEY-TERM">stop</span></span> terminates an audio clip that is currently playing. In the program, each of these methods is associated with a button on the applet. </p>
    <table style="background-color:#eeeeff" align="center">
     <tbody>
      <tr>
       <td></td>
      </tr>
     </tbody>
     <caption>
      <span class="FGC">Fig. 21.5 | </span>
      <span class="FGC2">Loading and playing an <span class="CDTFIG">AudioClip</span>.</span>
     </caption> 
     <tbody>
      <tr>
       <td></td>
      </tr> 
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          1&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment"> // Fig. 21.5: LoadAudioAndPlay.java</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          2&nbsp;&nbsp;&nbsp;&nbsp; 
         <span class="HTMLComment">// Load an audio clip and play it.</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          3&nbsp;&nbsp;&nbsp;&nbsp; 
         <span class="HTMLTag">import</span> java.applet.AudioClip;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          4&nbsp;&nbsp;&nbsp;&nbsp; 
         <span class="HTMLTag">import</span> java.awt.event.ItemListener;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          5&nbsp;&nbsp;&nbsp;&nbsp; 
         <span class="HTMLTag"> import</span> java.awt.event.ItemEvent;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          6&nbsp;&nbsp;&nbsp;&nbsp; 
         <span class="HTMLTag">import</span> java.awt.event.ActionListener;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          7&nbsp;&nbsp;&nbsp;&nbsp; 
         <span class="HTMLTag">import</span> java.awt.event.ActionEvent;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          8&nbsp;&nbsp;&nbsp;&nbsp; 
         <span class="HTMLTag">import</span> java.awt.FlowLayout;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          9&nbsp;&nbsp;&nbsp;&nbsp; 
         <span class="HTMLTag">import</span> javax.swing.JApplet;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          10&nbsp;&nbsp;&nbsp; 
         <span class="HTMLTag">import</span> javax.swing.JButton;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          11&nbsp;&nbsp;&nbsp; 
         <span class="HTMLTag">import</span> javax.swing.JComboBox;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          12&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          13&nbsp;&nbsp;&nbsp; 
         <span class="HTMLTag">public</span> 
         <span class="HTMLTag">class</span> LoadAudioAndPlay 
         <span class="HTMLTag">extends</span> JApplet
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          14&nbsp;&nbsp;&nbsp; {
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">private</span> AudioClip sound1, sound2, currentSound;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">private</span> JButton playJButton, loopJButton, stopJButton;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          17&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">private</span> JComboBox soundJComboBox;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          18&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          19&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment"> // load the image when the applet begins executing</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          20&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">public</span> 
         <span class="HTMLTag">void</span> init()
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          21&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          22&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setLayout( 
         <span class="HTMLTag">new</span> FlowLayout() );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          23&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          24&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String choices[] = { 
         <span class="HTMLValue">"Welcome"</span>, 
         <span class="HTMLValue">"Hi"</span> };
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          25&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;soundJComboBox = 
         <span class="HTMLTag">new</span> JComboBox( choices ); 
         <span class="HTMLComment">// create JComboBox</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          26&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          27&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;soundJComboBox.addItemListener(
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          28&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          29&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">new</span> ItemListener() 
         <span class="HTMLComment">// anonymous inner class</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          30&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          31&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment"> // stop sound and change to sound to user's selection</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">public</span> 
         <span class="HTMLTag">void</span> itemStateChanged( ItemEvent e )
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          33&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          34&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currentSound.stop();
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          35&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currentSound = soundJComboBox.getSelectedIndex() == 
         <span class="HTMLValue">0</span> ?
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          36&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sound1 : sound2;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          37&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} 
         <span class="HTMLComment">// end method itemStateChanged</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          38&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} 
         <span class="HTMLComment">// end anonymous inner class</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          39&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;); 
         <span class="HTMLComment">// end addItemListener method call</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          40&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          41&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add( soundJComboBox ); 
         <span class="HTMLComment">// add JComboBox to applet</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          42&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          43&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment"> // set up button event handler and buttons</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          44&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ButtonHandler handler = 
         <span class="HTMLTag">new</span> ButtonHandler();
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          45&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          46&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment">// create Play JButton</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          47&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;playJButton = 
         <span class="HTMLTag">new</span> JButton( 
         <span class="HTMLValue">"Play"</span> );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          48&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;playJButton.addActionListener( handler );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          49&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add( playJButton );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          50&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          51&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment">// create Loop JButton</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          52&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loopJButton = 
         <span class="HTMLTag">new</span> JButton( 
         <span class="HTMLValue">"Loop"</span> );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          53&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loopJButton.addActionListener( handler );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          54&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add( loopJButton );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          55&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          56&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment">// create Stop JButton</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          57&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stopJButton = 
         <span class="HTMLTag">new</span> JButton( 
         <span class="HTMLValue">"Stop"</span> );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          58&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stopJButton.addActionListener( handler );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          59&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add( stopJButton );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          60&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          61&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment"> // load sounds and set currentSound</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          62&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sound1 = getAudioClip( getDocumentBase(), 
         <span class="HTMLValue">"welcome.wav"</span> );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          63&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sound2 = getAudioClip( getDocumentBase(), 
         <span class="HTMLValue">"hi.au"</span> );
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          64&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currentSound = sound1;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          65&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} 
         <span class="HTMLComment">// end method init</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          66&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          67&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment"> // stop the sound when the user switches Web pages</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          68&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">public</span> 
         <span class="HTMLTag">void</span> stop()
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          69&nbsp;&nbsp;&nbsp; {
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          70&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currentSound.stop(); 
         <span class="HTMLComment">// stop AudioClip</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          71&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} 
         <span class="HTMLComment">// end method stop</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          72&nbsp;&nbsp;&nbsp;
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          73&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment"> // private inner class to handle button events</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          74&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">private</span> 
         <span class="HTMLTag">class</span> ButtonHandler 
         <span class="HTMLTag">implements</span> ActionListener
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          75&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          76&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLComment"> // process play, loop and stop button events</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          77&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">public</span> 
         <span class="HTMLTag">void</span> actionPerformed( ActionEvent actionEvent )
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          78&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          79&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">if</span> ( actionEvent.getSource() == playJButton )
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          80&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currentSound.play(); 
         <span class="HTMLComment">// play AudioClip once</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          81&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">else</span> 
         <span class="HTMLTag">if</span> ( actionEvent.getSource() == loopJButton )
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          82&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currentSound.loop(); 
         <span class="HTMLComment">// play AudioClip continuously</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          83&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
         <span class="HTMLTag">else</span> 
         <span class="HTMLTag">if</span> ( actionEvent.getSource() == stopJButton )
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          84&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currentSound.stop(); 
         <span class="HTMLComment">// stop AudioClip</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          85&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} 
         <span class="HTMLComment">// end method actionPerformed</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          86&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} 
         <span class="HTMLComment">// end class ButtonHandler</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1"> 
        <div>
          87&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} 
         <span class="HTMLComment">// end class LoadAudioAndPlay</span>
        </div></td>
      </tr>
      <tr>
       <td rowspan="1" colspan="1">
        <div align="center">
         <a href="21_05.jpg"><img src="21_05.jpg" border="0" width="358" height="127"></a>
        </div></td>
      </tr>
     </tbody>
    </table> 
    <p class="T">Lines 62?63 in the applet's <span class="CDT">init</span> method use <span class="CDT">getAudioClip</span> to load two audio files?a Windows Wave file (<span class="CDT">welcome.wav</span>) and a Sun Audio file (<span class="CDT">hi.au</span>). The user can select which audio clip to play from the <span class="CDT">JComboBox</span> <span class="CDT">soundJComboBox</span>. Note that the applet's <span class="CDT">stop</span> method is overridden at lines 68?71. When the user switches Web pages, the applet container calls the applet's <span class="CDT">stop</span> method. This enables the applet to stop playing the audio clip. Otherwise, it continues to play in the background?even if the applet is not displayed in the browser. This is not necessarily a problem, but it can be annoying to the user if the audio clip is looping. The <span class="CDT">stop</span> method is provided here as a convenience to the user.</p> 
    <p class="HI-GUI-N">Look-and-Feel Observation 21.5</p> 
    <p class="HI-GUI">When playing audio clips in an applet or application, provide a mechanism for the user to disable the audio.</p>
   </div> 
   <div>
    &nbsp;
   </div> 
   <div> 
    <a href="http://www.deitel.com/articles/">Return to Tutorial Index</a>
   </div> 
   <!-- InstanceEndEditable -->
  </div> 
  <div class="footer"> 
   <div class="leaderboard"> 
    <script type="text/javascript"><!--
google_ad_client = "pub-3900943659998054";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel ="0981315073";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "000000";
google_color_text = "000000";
//--></script> 
    <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script> 
   </div> 
   <p>© Copyright 1992-2006 by Deitel &amp; Associates, Inc. All rights reserved. </p> 
  </div> 
  <!-- InstanceBeginEditable name="footer" --> 
  <!-- InstanceEndEditable --> 
  <!-- Kontera ContentLink(TM);--> 
  <!-- <SCRIPT type=text/javascript>
var dc_AdLinkColor = '#660099' ;
var dc_UnitID = 14 ;
var dc_PublisherID = 7757 ;
var dc_adprod = 'ADL' ;
</SCRIPT>

<SCRIPT src="http://kona.kontera.com/javascript/lib/KonaLibInline.js" type=text/javascript>
</SCRIPT> --> 
  <!-- Kontera ContentLink(TM) --> 
  <!-- start Vibrant Media IntelliTXT script section --> 
  <script type="text/javascript" src="http://deitel.us.intellitxt.com/intellitxt/front.asp?ipid=7812"></script> 
  <!-- end Vibrant Media IntelliTXT script section -->  
  <!-- InstanceEnd --> 
 </body>
</html>