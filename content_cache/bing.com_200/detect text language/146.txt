<!doctype html>
<!--[if IE 7]><html class="layout-wrapper ie ie7 lte9 lte8 lte7"><![endif]-->
<!--[if IE 8]><html class="layout-wrapper ie ie8 lte9 lte8"><![endif]-->
<!--[if IE 9]><html class="layout-wrapper ie ie9 lte9"><![endif]-->
<!--[if (gte IE 9)|!(IE)]<!-->
<html class="layout-wrapper">
 <head>
  <title>How to Detect Java Memory Leaks | Toptal</title> 
  <meta name="description" content="While Java’s garbage collector does its best, even the most experienced programmers fall prey to memory leaks. Learn why they occur—and how to fix them."> 
  <link rel="alternate" href="https://www.toptal.com/java/hunting-memory-leaks-in-java" hreflang="en"> 
  <link rel="canonical" href="https://www.toptal.com/java/hunting-memory-leaks-in-java"> 
  <link rel="author" href="https://plus.google.com/u/0/100859269700990329776/"> 
  <meta property="og:image" content="https://uploads.toptal.io/blog/post_image/14/toptal-blog-1_D.png"> 
  <meta property="og:title" content="Hunting Memory Leaks in Java"> 
  <meta property="og:description" content="While Java’s garbage collector does its best, even the most experienced programmers fall prey to memory leaks. Learn why they occur—and how to fix them."> 
  <meta property="og:site_name" content="Toptal Engineering Blog"> 
  <meta name="twitter:card" content="summary_large_image">
  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"> 
  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"e3359cee6b","applicationID":"30100511","transactionName":"JV0NEUYJCQkARxgVEwReCgYbFgoWEUYYFg4JRQ==","queueTime":0,"applicationTime":25,"agent":""}</script> 
  <script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"VgcEVlJaGwAAVVFSAgAG"};window.NREUM||(NREUM={}),__nr_require=function(t,n,e){function r(e){if(!n[e]){var o=n[e]={exports:{}};t[e][0].call(o.exports,function(n){var o=t[e][1][n];return r(o||n)},o,o.exports)}return n[e].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<e.length;o++)r(e[o]);return r}({1:[function(t,n,e){function r(t){try{s.console&&console.log(t)}catch(n){}}var o,i=t("ee"),a=t(15),s={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,o.indexOf("dev")!==-1&&(s.dev=!0),o.indexOf("nr_dev")!==-1&&(s.nrDev=!0))}catch(c){}s.nrDev&&i.on("internal-error",function(t){r(t.stack)}),s.dev&&i.on("fn-err",function(t,n,e){r(e.stack)}),s.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(s,function(t,n){return t}).join(", ")))},{}],2:[function(t,n,e){function r(t,n,e,r,o){try{d?d-=1:i("err",[o||new UncaughtException(t,n,e)])}catch(s){try{i("ierr",[s,c.now(),!0])}catch(u){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,n,e){this.message=t||"Uncaught error with no additional information",this.sourceURL=n,this.line=e}function o(t){i("err",[t,c.now()])}var i=t("handle"),a=t(16),s=t("ee"),c=t("loader"),f=window.onerror,u=!1,d=0;c.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(8),t(7),"addEventListener"in window&&t(5),c.xhrWrappable&&t(9),u=!0)}s.on("fn-start",function(t,n,e){u&&(d+=1)}),s.on("fn-err",function(t,n,e){u&&(this.thrown=!0,o(e))}),s.on("fn-end",function(){u&&!this.thrown&&d>0&&(d-=1)}),s.on("internal-error",function(t){i("ierr",[t,c.now(),!0])})},{}],3:[function(t,n,e){t("loader").features.ins=!0},{}],4:[function(t,n,e){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(8),s=t(7),c="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",l="resource",p="-start",h="-end",m="fn"+p,w="fn"+h,v="bstTimer",y="pushState",g=t("loader");g.features.stn=!0,t(6);var b=NREUM.o.EV;o.on(m,function(t,n){var e=t[0];e instanceof b&&(this.bstStart=g.now())}),o.on(w,function(t,n){var e=t[0];e instanceof b&&i("bst",[e,n,this.bstStart,g.now()])}),a.on(m,function(t,n,e){this.bstStart=g.now(),this.bstType=e}),a.on(w,function(t,n){i(v,[n,this.bstStart,g.now(),this.bstType])}),s.on(m,function(){this.bstStart=g.now()}),s.on(w,function(t,n){i(v,[n,this.bstStart,g.now(),"requestAnimationFrame"])}),o.on(y+p,function(t){this.time=g.now(),this.startPath=location.pathname+location.hash}),o.on(y+h,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+c]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["c"+c]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["webkitC"+c]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],5:[function(t,n,e){function r(t){for(var n=t;n&&!n.hasOwnProperty(u);)n=Object.getPrototypeOf(n);n&&o(n)}function o(t){s.inPlace(t,[u,d],"-",i)}function i(t,n){return t[1]}var a=t("ee").get("events"),s=t(18)(a,!0),c=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";n.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,n){var e=t[1],r=c(e,"nr@wrapped",function(){function t(){if("function"==typeof e.handleEvent)return e.handleEvent.apply(e,arguments)}var n={object:t,"function":e}[typeof e];return n?s(n,"fn-",null,n.name||"anonymous"):e});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],6:[function(t,n,e){var r=t("ee").get("history"),o=t(18)(r);n.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],7:[function(t,n,e){var r=t("ee").get("raf"),o=t(18)(r),i="equestAnimationFrame";n.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],8:[function(t,n,e){function r(t,n,e){t[0]=a(t[0],"fn-",null,e)}function o(t,n,e){this.method=e,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,e)}var i=t("ee").get("timer"),a=t(18)(i),s="setTimeout",c="setInterval",f="clearTimeout",u="-start",d="-";n.exports=i,a.inPlace(window,[s,"setImmediate"],s+d),a.inPlace(window,[c],c+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(c+u,r),i.on(s+u,o)},{}],9:[function(t,n,e){function r(t,n){d.inPlace(n,["onreadystatechange"],"fn-",s)}function o(){var t=this,n=u.context(t);t.readyState>3&&!n.resolved&&(n.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",s)}function i(t){g.push(t),h&&(x?x.then(a):w?w(a):(E=-E,O.data=E))}function a(){for(var t=0;t<g.length;t++)r([],g[t]);g.length&&(g=[])}function s(t,n){return n}function c(t,n){for(var e in t)n[e]=t[e];return n}t(5);var f=t("ee"),u=f.get("xhr"),d=t(18)(u),l=NREUM.o,p=l.XHR,h=l.MO,m=l.PR,w=l.SI,v="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],g=[];n.exports=u;var b=window.XMLHttpRequest=function(t){var n=new p(t);try{u.emit("new-xhr",[n],n),n.addEventListener(v,o,!1)}catch(e){try{u.emit("internal-error",[e])}catch(r){}}return n};if(c(p,b),b.prototype=p.prototype,d.inPlace(b.prototype,["open","send"],"-xhr-",s),u.on("send-xhr-start",function(t,n){r(t,n),i(n)}),u.on("open-xhr-start",r),h){var x=m&&m.resolve();if(!w&&!m){var E=1,O=document.createTextNode(E);new h(a).observe(O,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===v||a()})},{}],10:[function(t,n,e){function r(t){var n=this.params,e=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!n.aborted){if(e.duration=a.now()-this.startTime,4===t.readyState){n.status=t.status;var i=o(t,this.lastSize);if(i&&(e.rxSize=i),this.sameOrigin){var c=t.getResponseHeader("X-NewRelic-App-Data");c&&(n.cat=c.split(", ").pop())}}else n.status=0;e.cbTime=this.cbTime,f.emit("xhr-done",[t],t),s("xhr",[n,e,this.startTime])}}}function o(t,n){var e=t.responseType;if("json"===e&&null!==n)return n;var r="arraybuffer"===e||"blob"===e||"json"===e?t.response:t.responseText;return h(r)}function i(t,n){var e=c(n),r=t.params;r.host=e.hostname+":"+e.port,r.pathname=e.pathname,t.sameOrigin=e.sameOrigin}var a=t("loader");if(a.xhrWrappable){var s=t("handle"),c=t(11),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(14),h=t(13),m=window.XMLHttpRequest;a.features.xhr=!0,t(9),f.on("new-xhr",function(t){var n=this;n.totalCbs=0,n.called=0,n.cbTime=0,n.end=r,n.ended=!1,n.xhrGuids={},n.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){n.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,n){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&n.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,n){var e=this.metrics,r=t[0],o=this;if(e&&r){var i=h(r);i&&(e.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof n.onload))&&o.end(n)}catch(e){try{f.emit("internal-error",[e])}catch(r){}}};for(var s=0;s<d;s++)n.addEventListener(u[s],this.listener,!1)}),f.on("xhr-cb-time",function(t,n,e){this.cbTime+=t,n?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof e.onload||this.end(e)}),f.on("xhr-load-added",function(t,n){var e=""+l(t)+!!n;this.xhrGuids&&!this.xhrGuids[e]&&(this.xhrGuids[e]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,n){var e=""+l(t)+!!n;this.xhrGuids&&this.xhrGuids[e]&&(delete this.xhrGuids[e],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,n){n instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],n)}),f.on("removeEventListener-end",function(t,n){n instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],n)}),f.on("fn-start",function(t,n,e){n instanceof m&&("onload"===e&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,n){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,n],n)})}},{}],11:[function(t,n,e){n.exports=function(t){var n=document.createElement("a"),e=window.location,r={};n.href=t,r.port=n.port;var o=n.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=n.hostname||e.hostname,r.pathname=n.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!n.protocol||":"===n.protocol||n.protocol===e.protocol,a=n.hostname===document.domain&&n.port===e.port;return r.sameOrigin=i&&(!n.hostname||a),r}},{}],12:[function(t,n,e){function r(){}function o(t,n,e){return function(){return i(t,[f.now()].concat(s(arguments)),n?null:this,e),n?void 0:this}}var i=t("handle"),a=t(15),s=t(16),c=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],l="api-",p=l+"ixn-";a(d,function(t,n){u[n]=o(l+n,!0,"api")}),u.addPageAction=o(l+"addPageAction",!0),u.setCurrentRouteName=o(l+"routeName",!0),n.exports=newrelic,u.interaction=function(){return(new r).get()};var h=r.prototype={createTracer:function(t,n){var e={},r=this,o="function"==typeof n;return i(p+"tracer",[f.now(),t,e],r),function(){if(c.emit((o?"":"no-")+"fn-start",[f.now(),r,o],e),o)try{return n.apply(this,arguments)}finally{c.emit("fn-end",[f.now()],e)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,n){h[n]=o(p+n)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],13:[function(t,n,e){n.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(n){return}}}},{}],14:[function(t,n,e){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),n.exports=r},{}],15:[function(t,n,e){function r(t,n){var e=[],r="",i=0;for(r in t)o.call(t,r)&&(e[i]=n(r,t[r]),i+=1);return e}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],16:[function(t,n,e){function r(t,n,e){n||(n=0),"undefined"==typeof e&&(e=t?t.length:0);for(var r=-1,o=e-n||0,i=Array(o<0?0:o);++r<o;)i[r]=t[n+r];return i}n.exports=r},{}],17:[function(t,n,e){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],18:[function(t,n,e){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(16),a="nr@original",s=Object.prototype.hasOwnProperty,c=!1;n.exports=function(t,n){function e(t,n,e,o){function nrWrapper(){var r,a,s,c;try{a=this,r=i(arguments),s="function"==typeof e?e(r,a):e||{}}catch(f){l([f,"",[r,a,o],s])}u(n+"start",[r,a,o],s);try{return c=t.apply(a,r)}catch(d){throw u(n+"err",[r,a,d],s),d}finally{u(n+"end",[r,a,c],s)}}return r(t)?t:(n||(n=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,n,o,i){o||(o="");var a,s,c,f="-"===o.charAt(0);for(c=0;c<n.length;c++)s=n[c],a=t[s],r(a)||(t[s]=e(a,f?s+o:o,i,s))}function u(e,r,o){if(!c||n){var i=c;c=!0;try{t.emit(e,r,o,n)}catch(a){l([a,e,r,o])}c=i}}function d(t,n){if(Object.defineProperty&&Object.keys)try{var e=Object.keys(t);return e.forEach(function(e){Object.defineProperty(n,e,{get:function(){return t[e]},set:function(n){return t[e]=n,n}})}),n}catch(r){l([r])}for(var o in t)s.call(t,o)&&(n[o]=t[o]);return n}function l(n){try{t.emit("internal-error",n)}catch(e){}}return t||(t=o),e.inPlace=f,e.flag=a,e}},{}],ee:[function(t,n,e){function r(){}function o(t){function n(t){return t&&t instanceof r?t:t?c(t,s,i):i()}function e(e,r,o,i){if(!l.aborted||i){t&&t(e,r,o);for(var a=n(o),s=h(e),c=s.length,f=0;f<c;f++)s[f].apply(a,r);var d=u[y[e]];return d&&d.push([g,e,r,a]),a}}function p(t,n){v[t]=h(t).concat(n)}function h(t){return v[t]||[]}function m(t){return d[t]=d[t]||o(e)}function w(t,n){f(t,function(t,e){n=n||"feature",y[e]=n,n in u||(u[n]=[])})}var v={},y={},g={on:p,emit:e,get:m,listeners:h,context:n,buffer:w,abort:a,aborted:!1};return g}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var s="nr@context",c=t("gos"),f=t(15),u={},d={},l=n.exports=o();l.backlog=u},{}],gos:[function(t,n,e){function r(t,n,e){if(o.call(t,n))return t[n];var r=e();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(t,n,e){function r(t,n,e,r){o.buffer([t],r),o.emit(t,n,e)}var o=t("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(t,n,e){function r(t){var n=typeof t;return!t||"object"!==n&&"function"!==n?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");n.exports=r},{}],loader:[function(t,n,e){function r(){if(!x++){var t=b.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&n))return u.abort();f(y,function(n,e){t[n]||(t[n]=e)}),c("mark",["onload",a()+b.offset],null,"api");var e=l.createElement("script");e.src="https://"+t.agent,n.parentNode.insertBefore(e,n)}}function o(){"complete"===l.readyState&&i()}function i(){c("mark",["domContent",a()+b.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(s=Math.max((new Date).getTime(),s))-b.offset}var s=(new Date).getTime(),c=t("handle"),f=t(15),u=t("ee"),d=window,l=d.document,p="addEventListener",h="attachEvent",m=d.XMLHttpRequest,w=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1044.min.js"},g=m&&w&&w[p]&&!/CriOS/.test(navigator.userAgent),b=n.exports={offset:s,now:a,origin:v,features:{},xhrWrappable:g};t(12),l[p]?(l[p]("DOMContentLoaded",i,!1),d[p]("load",r,!1)):(l[h]("onreadystatechange",o),d[h]("onload",r)),c("mark",["firstbyte",s],null,"api");var x=0,E=t(17)},{}]},{},["loader",2,10,4,3]);</script>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
  <script>
  var _rollbarConfig = {
    accessToken: "cc4cbdcfde904714a4fb77535e3229ae",
    captureUncaught: true,
    async: true,
    captureUnhandledRejections: true,
    payload: {
      environment: "production",
      client: {
        javascript: {
          code_version: "40ab276ad70c17dcefe8fa9bbf6185b8a0d56c91",
          source_map_enabled: true,
        }
      },
      server: {
        root: "webpack:///./"
      }
    }
  };
  !function(r){function o(n){if(e[n])return e[n].exports;var t=e[n]={exports:{},id:n,loaded:!1};return r[n].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}var e={};return o.m=r,o.c=e,o.p="",o(0)}([function(r,o,e){"use strict";var n=e(1),t=e(4);_rollbarConfig=_rollbarConfig||{},_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||"https://cdnjs.cloudflare.com/ajax/libs/rollbar.js/2.2.3/rollbar.min.js",_rollbarConfig.async=void 0===_rollbarConfig.async||_rollbarConfig.async;var a=n.setupShim(window,_rollbarConfig),l=t(_rollbarConfig);window.rollbar=n.Rollbar,a.loadFull(window,document,!_rollbarConfig.async,_rollbarConfig,l)},function(r,o,e){"use strict";function n(r){return function(){try{return r.apply(this,arguments)}catch(r){try{console.error("[Rollbar]: Internal error",r)}catch(r){}}}}function t(r,o){this.options=r,this._rollbarOldOnError=null;var e=s++;this.shimId=function(){return e},window&&window._rollbarShims&&(window._rollbarShims[e]={handler:o,messages:[]})}function a(r,o){var e=o.globalAlias||"Rollbar";if("object"==typeof r[e])return r[e];r._rollbarShims={},r._rollbarWrappedError=null;var t=new p(o);return n(function(){o.captureUncaught&&(t._rollbarOldOnError=r.onerror,i.captureUncaughtExceptions(r,t,!0),i.wrapGlobals(r,t,!0)),o.captureUnhandledRejections&&i.captureUnhandledRejections(r,t,!0);var n=o.autoInstrument;return(void 0===n||n===!0||"object"==typeof n&&n.network)&&r.addEventListener&&(r.addEventListener("load",t.captureLoad.bind(t)),r.addEventListener("DOMContentLoaded",t.captureDomContentLoaded.bind(t))),r[e]=t,t})()}function l(r){return n(function(){var o=this,e=Array.prototype.slice.call(arguments,0),n={shim:o,method:r,args:e,ts:new Date};window._rollbarShims[this.shimId()].messages.push(n)})}var i=e(2),s=0,d=e(3),c=function(r,o){return new t(r,o)},p=d.bind(null,c);t.prototype.loadFull=function(r,o,e,t,a){var l=function(){var o;if(void 0===r._rollbarDidLoad){o=new Error("rollbar.js did not load");for(var e,n,t,l,i=0;e=r._rollbarShims[i++];)for(e=e.messages||[];n=e.shift();)for(t=n.args||[],i=0;i<t.length;++i)if(l=t[i],"function"==typeof l){l(o);break}}"function"==typeof a&&a(o)},i=!1,s=o.createElement("script"),d=o.getElementsByTagName("script")[0],c=d.parentNode;s.crossOrigin="",s.src=t.rollbarJsUrl,e||(s.async=!0),s.onload=s.onreadystatechange=n(function(){if(!(i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){s.onload=s.onreadystatechange=null;try{c.removeChild(s)}catch(r){}i=!0,l()}}),c.insertBefore(s,d)},t.prototype.wrap=function(r,o,e){try{var n;if(n="function"==typeof o?o:function(){return o||{}},"function"!=typeof r)return r;if(r._isWrap)return r;if(!r._rollbar_wrapped&&(r._rollbar_wrapped=function(){e&&"function"==typeof e&&e.apply(this,arguments);try{return r.apply(this,arguments)}catch(e){var o=e;throw"string"==typeof o&&(o=new String(o)),o._rollbarContext=n()||{},o._rollbarContext._wrappedSource=r.toString(),window._rollbarWrappedError=o,o}},r._rollbar_wrapped._isWrap=!0,r.hasOwnProperty))for(var t in r)r.hasOwnProperty(t)&&(r._rollbar_wrapped[t]=r[t]);return r._rollbar_wrapped}catch(o){return r}};for(var u="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleUnhandledRejection,captureDomContentLoaded,captureLoad".split(","),f=0;f<u.length;++f)t.prototype[u[f]]=l(u[f]);r.exports={setupShim:a,Rollbar:p}},function(r,o){"use strict";function e(r,o,e){if(r){var t;"function"==typeof o._rollbarOldOnError?t=o._rollbarOldOnError:r.onerror&&!r.onerror.belongsToShim&&(t=r.onerror,o._rollbarOldOnError=t);var a=function(){var e=Array.prototype.slice.call(arguments,0);n(r,o,t,e)};a.belongsToShim=e,r.onerror=a}}function n(r,o,e,n){r._rollbarWrappedError&&(n[4]||(n[4]=r._rollbarWrappedError),n[5]||(n[5]=r._rollbarWrappedError._rollbarContext),r._rollbarWrappedError=null),o.handleUncaughtException.apply(o,n),e&&e.apply(r,n)}function t(r,o,e){if(r){"function"==typeof r._rollbarURH&&r._rollbarURH.belongsToShim&&r.removeEventListener("unhandledrejection",r._rollbarURH);var n=function(r){var e=r.reason,n=r.promise,t=r.detail;!e&&t&&(e=t.reason,n=t.promise),o&&o.handleUnhandledRejection&&o.handleUnhandledRejection(e,n)};n.belongsToShim=e,r._rollbarURH=n,r.addEventListener("unhandledrejection",n)}}function a(r,o,e){if(r){var n,t,a="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(n=0;n<a.length;++n)t=a[n],r[t]&&r[t].prototype&&l(o,r[t].prototype,e)}}function l(r,o,e){if(o.hasOwnProperty&&o.hasOwnProperty("addEventListener")){for(var n=o.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var t=function(o,e,t){n.call(this,o,r.wrap(e),t)};t._rollbarOldAdd=n,t.belongsToShim=e,o.addEventListener=t;for(var a=o.removeEventListener;a._rollbarOldRemove&&a.belongsToShim;)a=a._rollbarOldRemove;var l=function(r,o,e){a.call(this,r,o&&o._rollbar_wrapped||o,e)};l._rollbarOldRemove=a,l.belongsToShim=e,o.removeEventListener=l}}r.exports={captureUncaughtExceptions:e,captureUnhandledRejections:t,wrapGlobals:a}},function(r,o){"use strict";function e(r,o){this.impl=r(o,this),this.options=o,n(e.prototype)}function n(r){for(var o=function(r){return function(){var o=Array.prototype.slice.call(arguments,0);if(this.impl[r])return this.impl[r].apply(this.impl,o)}},e="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleUnhandledRejection,_createItem,wrap,loadFull,shimId,captureDomContentLoaded,captureLoad".split(","),n=0;n<e.length;n++)r[e[n]]=o(e[n])}e.prototype._swapAndProcessMessages=function(r,o){this.impl=r(this.options);for(var e,n,t;e=o.shift();)n=e.method,t=e.args,this[n]&&"function"==typeof this[n]&&("captureDomContentLoaded"===n||"captureLoad"===n?this[n].apply(this,[t[0],e.ts]):this[n].apply(this,t));return this},r.exports=e},function(r,o){"use strict";r.exports=function(r){return function(o){if(!o&&!window._rollbarInitialized){r=r||{};for(var e,n,t=r.globalAlias||"Rollbar",a=window.rollbar,l=function(r){return new a(r)},i=0;e=window._rollbarShims[i++];)n||(n=e.handler),e.handler._swapAndProcessMessages(l,e.messages);window[t]=n,window._rollbarInitialized=!0}}}}]);
</script> 
  <link href="https://assets.toptal.io/assets/front/static/favicons/favicon_ca7136.png" rel="icon">
  <!--[if IE]><link href="https://assets.toptal.io/assets/front/static/favicons/favicon_68b340.ico" rel="shortcut icon" /><![endif]-->
  <link href="https://assets.toptal.io/assets/front/static/favicons/touch_x57_f72647.png" rel="apple-touch-icon-precomposed" sizes="57x57">
  <link href="https://assets.toptal.io/assets/front/static/favicons/touch_x72_516451.png" rel="apple-touch-icon-precomposed" sizes="72x72">
  <link href="https://assets.toptal.io/assets/front/static/favicons/touch_x114_1798a8.png" rel="apple-touch-icon-precomposed" sizes="114x114">
  <link href="https://assets.toptal.io/assets/front/static/favicons/touch_x57_f72647.png" rel="apple-touch-icon-precomposed">
  <script src="https://assets.toptal.io/assets/jquery_and_modernizr-76173393869f33cd8504.js"></script>
  <script>// TODO: Figure out how to override Modernizr test
(function () {
  var isIE, isIE11, noFlexboxClassName;
  isIE = /MSIE/.test(navigator.userAgent) && !/Opera/.test(navigator.userAgent);
  isIE11 = window.MSInputMethodContext && !/\bEdge\/[0-9.]+$/.test(navigator.userAgent);
  if (window.Modernizr && window.Modernizr.flexbox && (isIE || isIE11)) {
    noFlexboxClassName = document.documentElement.className.replace(/\bflexbox\b/, 'no-flexbox ie-flexbox');
    document.documentElement.className = noFlexboxClassName;
  }
})();</script>
  <script>
//<![CDATA[
window.gon={};gon.flash={};gon.env="production";gon.signedin=false;gon.check_session_url="https:\/\/www.toptal.com\/signed_in";gon.shorten_url="https:\/\/www.toptal.com\/shorten_url";gon.geo_target_url="https:\/\/www.toptal.com\/api\/geo_target";gon.google_api_browser_key="AIzaSyDED9v55b-c1opDYMEDYBkOgDFGlBMICGY";gon.google_js_maps_key="AIzaSyDspLQumHNqilmD5UHddqqpSjwY1AJpVd0";gon.google_places_api_key="AIzaSyBcP-ExZ1pLLRX2Adlc-faZpjwC3raVQI4";gon.ga_settings={"group":"Blog posts"};gon.current_vertical="developers";gon.url_share_counter=1256;gon.bounce_modal_settings={"show":true,"type":"fullscreen","current_vertical_role_type":"Developer","template_options":{"tshirt":{"tshirt_image":"tshirt_developers","current_blog":"the Toptal Engineering Blog","submit_path":"https:\/\/www.toptal.com\/blog\/subscription"},"fullscreen":{"subtitle":"engineers","bounce_modal_header_skill":"Java developers","verticals":["developers","designers","finance_experts"],"for_projects":false,"email_validation_api_path":"https:\/\/www.toptal.com\/api\/company_email_validations","submit_path":"https:\/\/www.toptal.com\/api\/leads","default_vertical":"developers"}},"skill":"Java","role":"developers"};gon.current_skill_name="Java";gon.current_skill_name_overriden_singular="";gon.current_skill_name_overriden_plural="";
//]]>
</script>
  <link rel="stylesheet" media="screen" href="https://assets.toptal.io/assets/public_styles-ccd4ba83b9779c290297ed4f25d2f7c4.css">
  <link rel="stylesheet" media="screen" href="https://assets.toptal.io/assets/portal_styles-677efbc91127da41b9fbd65d45fcea14.css">
  <link rel="stylesheet" media="screen" href="https://assets.toptal.io/assets/blog_styles-6d7ee6da3f4b376b42dad9670f60e5f3.css">
  <script>if(!window.appinfo) {
  window.onAppInfoLoaded = $.Deferred();
  document.cookie = 'appinfo_id_status=loading_script;'

  window.onAppinfoLoad = function() {
    document.cookie = 'appinfo_id_status=doing_request;'

    window.appinfo.grab('https://appinfo.toptal.com', {
      data: gon['application_info_data'] || {},
      callback: function(response, error) {
        if (!error) {
          document.cookie = 'appinfo_id_status=request_completed;'
          window.onAppInfoLoaded.resolve({
            applicationInfo: response.data
          });
        } else {
          document.cookie = 'appinfo_id_status=request_failed;'
        }
      }
    });
  };

  (function() {
    $.getScript('https://appinfo.toptal.com/script.js').fail(function() {
      document.cookie = 'appinfo_id_status=script_load_failed;'
      window.onAppInfoLoaded.reject();
    });
  })();
}</script>
 </head>
 <body class="layout" data-view="layout#body" id="top">
  <div class="layout_layer" data-view="layout#layout">
   <header class="page_header hide_in_webview" data-role="fixed-header">
    <div class="page_header_line"></div>
    <div class="page_header" data-view="layout#menu">
     <div class="blog-simple-header grid-row is-light_gray" data-role="main_menu_wrapper">
      <div class="grid-row-inner is-wide has-padding page_header_top">
       <div class="page_header_top-logotype_wrapper">
        <div class="page_header_top-logotype">
         <a class="logo is-big is-link for-developers has-no_text_indent" href="https://www.toptal.com/developers"></a>
        </div>
        <div class="page_header_top-main_title">
         <b>Hiring?</b> Toptal handpicks 
         <b><a href="https://www.toptal.com/java" onclick="window.googleAnalytics.trackEvent(event, &quot;BlogCTAs&quot;, &quot;ClickedOnHeaderHeadline&quot;, &quot;ClickedOnHeaderHeadline&quot;)">top Java engineers</a></b> to suit your needs.
        </div>
       </div>
       <a class="page_header_top-expand" data-role="expand_menu" href="#"><span class="page_header_top-expand_icon"></span></a>
       <nav class="page_header_top-nav_wrapper">
        <ul class="page_header_top-nav">
         <li class="page_header_top-nav_item"><a class="button is-green_candy is-small page_header_top-nav_link is-button" data-role="companies_apply_button" href="https://www.toptal.com/java" onclick="window.googleAnalytics.trackEvent(event, &quot;BlogCTAs&quot;, &quot;ClickedOnHeaderCTA&quot;, &quot;ClickedOnHeaderCTA&quot;);">Start hiring</a></li>
         <li class="page_header_top-nav_item"><a class="button is-small is-light page_header_top-nav_link is-button" href="https://www.toptal.com/users/login">Login</a></li>
        </ul>
       </nav>
      </div>
     </div>
     <nav class="grid-row has-top_border is-light_gray page_header_menu-wrapper" data-role="main_menu_wrapper">
      <div class="grid-row-inner is-wide has-small_padding page_header_menu">
       <div class="page_header_menu-items-wrapper">
        <ul class="page_header_menu-items" data-role="menu">
         <li class="page_header_menu-item is-home"><a class="page_header_menu-link" href="https://www.toptal.com/developers"></a></li>
         <li class="page_header_menu-item is-top-3-percent"><a class="page_header_menu-link" href="https://www.toptal.com/top-3-percent">Top 3%</a></li>
         <li class="page_header_menu-item is-why"><a class="page_header_menu-link" href="https://www.toptal.com/why">Why</a></li>
         <li class="page_header_menu-item is-clients"><a class="page_header_menu-link" href="https://www.toptal.com/clients">Clients</a></li>
         <li class="page_header_menu-item is-partners"><a class="page_header_menu-link" href="https://www.toptal.com/partners">Partners</a></li>
         <li class="page_header_menu-item is-community"><a class="page_header_menu-link" href="https://www.toptal.com/community">Community</a></li>
         <li class="page_header_menu-item is-blog"><a class="page_header_menu-link" href="https://www.toptal.com/developers/blog">Blog</a></li>
         <li class="page_header_menu-item is-about"><a class="page_header_menu-link" href="https://www.toptal.com/about">About Us</a></li>
         <li class="page_header_menu-item is-join"><a class="button is-green_candy is-small page_hader_menu-button" data-role="companies_apply_button" href="https://www.toptal.com/java" onclick="window.googleAnalytics.trackEvent(event, &quot;BlogCTAs&quot;, &quot;ClickedOnHeaderCTA&quot;, &quot;ClickedOnHeaderCTA&quot;);">Start hiring</a></li>
         <li class="page_header_menu-item is-join"><a class="button is-green_candy is-small page_hader_menu-button" href="https://www.toptal.com/developers/join">Apply as a Developer</a></li>
         <li class="page_header_menu-item is-login"><a class="button is-light is-small page_hader_menu-button is-login" href="https://www.toptal.com/users/login">Login</a></li>
         <li class="page_header_menu-item is-contacts">
          <ul class="page_header_menu-contact-items is-replaceable">
           <li class="page_header_menu-contact-item is-contact">Questions?</li>
           <li class="page_header_menu-contact-item is-contact"><a class="link is-dotted page_header_menu-contact-link" href="https://www.toptal.com/contact">Contact Us</a></li>
           <li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-facebook" href="https://www.facebook.com/toptal" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li>
           <li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-twitter" href="https://twitter.com/toptal" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li>
           <li class="page_header_menu-contact-item"><a class="page_header_menu-contact-link is-social is-google_plus" href="https://plus.google.com/+Toptalllc/" target="_blank"><span class="page_header_menu-contact-link-icon"></span></a></li>
          </ul></li>
        </ul>
       </div>
       <div class="blog_search" data-view="quick_search#search_field" data-vertical="Developer">
        <form class="blog_search-form" data-role="form">
         <input autocomplete="off" class="blog_search-field" data-role="field" name="text" placeholder="Search Topics" type="text">
         <button class="button is-tiny blog_search-submit"><span class="blog_search-submit_icon"></span></button>
        </form>
        <div class="blog_search-suggestions" data-role="suggestions_wrapper"></div>
        <div class="blog_search_results" data-role="results" style="display: none;"></div>
       </div>
       <a class="button is-green_candy is-tiny for-page_header_menu page_header_menu-hire" data-role="companies_apply_button" href="https://www.toptal.com/companies/apply?interested_in=developers&amp;skill=java">Hire a developer</a>
      </div>
     </nav>
     <nav class="blog-simple-header grid-row page_header_menu-wrapper is-fixed" data-role="sticky_menu_wrapper">
      <div class="grid-row-inner is-wide page_header_menu has-padding">
       <div class="page_header_top-logotype_wrapper">
        <div class="page_header_top-logotype">
         <a class="logo is-big is-link for-developers has-no_text_indent" href="https://www.toptal.com/developers"></a>
        </div>
        <div class="page_header_top-main_title">
         <b>Hiring?</b> Toptal handpicks 
         <b><a href="https://www.toptal.com/java" onclick="window.googleAnalytics.trackEvent(event, &quot;BlogCTAs&quot;, &quot;ClickedOnHeaderHeadline&quot;, &quot;ClickedOnHeaderHeadline&quot;)">top Java engineers</a></b> to suit your needs.
        </div>
       </div>
       <nav class="page_header_top-nav_wrapper">
        <ul class="page_header_top-nav" data-role="menu">
         <li class="page_header_top-nav_item"><a class="button is-green_candy is-small page_header_top-nav_link is-button" data-role="companies_apply_button" href="https://www.toptal.com/java" onclick="window.googleAnalytics.trackEvent(event, &quot;BlogCTAs&quot;, &quot;ClickedOnHeaderCTA&quot;, &quot;ClickedOnHeaderCTA&quot;);">Start hiring</a></li>
         <li class="page_header_top-nav_item"><a class="button is-small is-light page_header_top-nav_link is-button" href="https://www.toptal.com/users/login">Login</a></li>
        </ul>
       </nav>
      </div>
     </nav>
    </div>
   </header>
   <main class="layout-main">
    <header class="grid-row has-top_border has-bottom_border post_cover is-post">
     <div class="grid-row-inner is-wide has-big_padding blog_title for-show"></div>
    </header>
    <article class="grid-row is-transparent">
     <div class="grid-row-inner is-wide">
      <div class="post_title">
       <h1 class="post_title-text">Hunting Memory Leaks in Java</h1>
       <a class="post_title-back" href="https://www.toptal.com/developers/blog">View all articles</a>
      </div>
     </div>
    </article>
    <section class="grid-row has-top_border is-transparent has-no_border" data-view="" id="main_content">
     <div class="grid-row-inner has-medium_padding two_columns_layout is-wide">
      <div class="two_columns_layout-content">
       <div class="post is-full">
        <div class="post_meta-wrapper post_header">
         <div class="post_header-triangle"></div>
         <div class="post_avatar post_meta-avatar">
          <img width="50" class="post_avatar-image" src="https://uploads.toptal.io/user/photo/2932/small_2012-11-07_14.51.17.jpg" alt="Small 2012 11 07 14.51.17">
         </div>
         <div class="post_meta is-full">
          <div class="post_meta-author">
           <p>by <strong><a class="link is-blue" target="_blank" href="https://www.toptal.com/resume/jose-ferreira-de-souza-filho">Jose Ferreirade Souza Filho</a></strong> - Java Engineer @ <a class="link is-blue" target="_blank" href="https://www.toptal.com/">Toptal</a> </p> 
          </div>
          <div class="post_meta-tags">
           <a rel="nofollow" href="https://www.toptal.com/developers/blog/tags/java">#Java</a> 
           <a rel="nofollow" href="https://www.toptal.com/developers/blog/tags/jvm">#JVM</a> 
           <a rel="nofollow" href="https://www.toptal.com/developers/blog/tags/memorymanagement">#MemoryManagement</a> 
           <a rel="nofollow" href="https://www.toptal.com/developers/blog/tags/visualvm">#VisualVM</a>
          </div>
         </div>
         <ul class="social_share is-horizontal is-small is-centered_on_mobile for-blog_post_heading" data-hashtags="Java,JVM,VisualVM,MemoryManagement" data-rss-url="https://www.toptal.com/developers/blog.rss" data-url="https://www.toptal.com/java/hunting-memory-leaks-in-java" data-view="layout#social_share" data-youtube-channel-url="https://www.youtube.com/channel/UCNqm_euTHZz3o5OnKhUS-oA">
          <li class="social_share-item is-counter" title="Total number of shares"><span class="social_share-item_num" data-role="counter_num">0</span><span class="social_share-item_text" data-role="counter_text">shares</span></li>
          <li class="social_share-item"><a class="social_share-item_link" data-role="link" data-track-click="SocialShareButtonClicked" data-track-default-data="{&quot;network&quot;:&quot;twitter&quot;}" data-type="twitter" title="Share on Twitter"><img class="social_share-item_image" height="50" src="https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/twitter_83c6d4.png" width="50"></a></li>
          <li class="social_share-item"><a class="social_share-item_link" data-role="link" data-track-click="SocialShareButtonClicked" data-track-default-data="{&quot;network&quot;:&quot;facebook&quot;}" data-type="facebook" title="Share on Facebook"><img class="social_share-item_image" height="50" src="https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/facebook_dc66c9.png" width="50"></a></li>
          <li class="social_share-item"><a class="social_share-item_link" data-role="link" data-track-click="SocialShareButtonClicked" data-track-default-data="{&quot;network&quot;:&quot;linkedin&quot;}" data-type="linkedin" title="Share on LinkedIn"><img class="social_share-item_image" height="50" src="https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/linkedin_b923c3.png" width="50"></a></li>
          <li class="social_share-item"><a class="social_share-item_link" data-role="link" data-track-click="SocialShareButtonClicked" data-track-default-data="{&quot;network&quot;:&quot;google_plus&quot;}" data-type="google_plus" title="Share on Google Plus"><img class="social_share-item_image" height="50" src="https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/google_plus_355fb0.png" width="50"></a></li>
          <li class="social_share-item"><a class="social_share-item_link" data-role="link" data-track-click="SocialShareButtonClicked" data-track-default-data="{&quot;network&quot;:&quot;stumbleupon&quot;}" data-type="stumbleupon" title="Share on StumbleUpon"><img class="social_share-item_image" height="50" src="https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/stumbleupon_fc7c35.png" width="50"></a></li>
          <li class="social_share-item"><a class="social_share-item_link" data-role="link" data-track-click="SocialShareButtonClicked" data-track-default-data="{&quot;network&quot;:&quot;pocket&quot;}" data-type="pocket" title="Save to Pocket"><img class="social_share-item_image" height="50" src="https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/pocket_e4260c.png" width="50"></a></li>
         </ul>
         <div class="post_meta-extra"></div>
        </div>
        <div class="content_body" data-subscribe="true" data-view="content#body">
         <p>Inexperienced programmers often think that Java’s automatic garbage collection completely frees them from worrying about memory management. This is a common misperception: while the garbage collector does its best, it’s entirely possible for even <a href="https://www.toptal.com/java/job-description">the best programmer</a> to fall prey to crippling memory leaks. Let me explain.</p> 
         <p>A memory leak occurs when object references that are no longer needed are unnecessarily maintained. These leaks are <a href="http://msdn.microsoft.com/en-us/library/ms859408.aspx">bad</a>. For one, they put unnecessary pressure on your machine as your programs consume more and more resources. To make things worse, detecting these leaks can be difficult: static analysis often struggles to precisely identify these redundant references, and existing leak detection tools track and report fine-grained information about individual objects, producing results that are hard to interpret and lack precision.</p> 
         <p>In other words, leaks are either too hard to identify, or identified in terms that are too specific to be useful.</p> 
         <p>There actually four categories of memory issues with similar and overlapping symptoms, but varied causes and solutions:</p> 
         <ul> 
          <li><strong>Performance</strong>: usually associated with excessive object creation and deletion, long delays in garbage collection, excessive operating system page swapping, and more.</li> 
          <li><strong>Resource constraints</strong>: occurs when there’s either to little memory available or your memory is too <a href="https://en.wikipedia.org/wiki/Fragmentation_(computing)">fragmented</a> to allocate a large object—this can be native or, more commonly, Java heap-related.</li> 
          <li><strong>Java heap leaks</strong>: the classic memory leak, in which Java objects are continuously created without being released. This is usually caused by latent object references.</li> 
          <li><strong>Native memory leaks</strong>: associated with any continuously growing memory utilization that is outside the Java heap, such as allocations made by JNI code, drivers or even JVM allocations.</li> 
         </ul> 
         <p>In this post, I’ll focus on Java heaps leaks and outline an approach to detect such leaks based on <strong>Java VisualVM</strong> reports and utilizing a visual interface for analyzing <a href="https://www.toptal.com/java">Java</a> technology-based applications while they’re running.</p> 
         <p>But before you can prevent and hunt down memory leaks, you should understand how and why they occur. (<em>Note: If you have a good handle on the intricacies of memory leaks, you can <a href="#detecting-a-memory-leak">skip ahead</a>.</em>)</p> 
         <h2 id="memory-leaks-a-primer">Memory Leaks: A Primer</h2> 
         <p>For starters, think of memory leakage as a disease and Java’s <code>OutOfMemoryError</code> (<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html">OOM</a>, for brevity) as a symptom. But as with any disease, <strong>not all OOMs necessarily imply memory leaks</strong>: an OOM can occur due to the generation of a large number of local variables or other such events. On the other hand, <strong>not all memory leaks necessarily manifest themselves as OOMs</strong>, especially in the case of desktop applications or client applications (which aren’t run for very long without restarts).</p> 
         <div class="pop_out_box is-full_width is-big">
           Think of memory leakage as a disease and the OutOfMemoryError as a symptom. But not all OutOfMemoryErrors imply memory leaks, and not all memory leaks manifest themselves as OutOfMemoryErrors. 
         </div> 
         <p>Why are these leaks so bad? Among other things, leaking blocks of memory during program execution often degrades system performance over time, as allocated but unused blocks of memory will have to be swapped out once the system runs out of free physical memory. Eventually, a program may even exhaust its available virtual address space, leading to the OOM.</p> 
         <h2 id="deciphering-the-outofmemoryerror">Deciphering the <code>OutOfMemoryError</code></h2> 
         <p>As mentioned above, the OOM is a common indication of a memory leak. Essentially, the error is thrown when there’s insufficient space to allocate a new object. Try as it might, the garbage collector can’t find the necessary space, and the heap can’t be expanded any further. Thus, an error emerges, along with a <a href="http://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors#answer-3988794">stack trace</a>.</p> 
         <p>The first step in diagnosing your OOM is to determine what the error actually means. This sounds obvious, but the answer isn’t always so clear. For example: Is the OOM appearing because the Java heap is full, or because the native heap is full? To help you answer this question, lets analyze a few of the the possible error messages:</p> 
         <ul> 
          <li><code>java.lang.OutOfMemoryError: Java heap space</code></li> 
          <li><code>java.lang.OutOfMemoryError: PermGen space</code></li> 
          <li><code>java.lang.OutOfMemoryError: Requested array size exceeds VM limit</code></li> 
          <li><code>java.lang.OutOfMemoryError: request &lt;size&gt; bytes for &lt;reason&gt;. Out of swap space?</code></li> 
          <li><code>java.lang.OutOfMemoryError: &lt;reason&gt; &lt;stack trace&gt; (Native method)</code></li> 
         </ul> 
         <h2 id="java-heap-space">“Java heap space”</h2> 
         <p>This error message doesn’t necessarily imply a memory leak. In fact, the problem can be as simple as a configuration issue.</p> 
         <p>For example, I was responsible for analyzing an application which was consistently producing this type of <code>OutOfMemoryError</code>. After some investigation, I figured out that the culprit was an array instantiation that was demanding too much memory; in this case, it wasn’t the application’s fault, but rather, the application server was relying on the default heap size, which was too small. I solved the problem by adjusting the <a href="http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html">JVM’s memory parameters</a>.</p> 
         <p>In other cases, and for long-lived applications in particular, the message might be an indication that we’re unintentionally <em>holding references to objects</em>, preventing the garbage collector from cleaning them up. <strong>This is the Java language equivalent of a memory leak</strong>. (<em>Note: APIs called by an application could also be unintentionally holding object references.</em>)</p> 
         <p>Another potential source of these “Java heap space” OOMs arises with the use of <strong>finalizers</strong>. If a class has a <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#finalize()">finalize</a> method, then objects of that type do not have their space reclaimed at garbage collection time. Instead, after garbage collection, the objects are queued for finalization, which occurs later. In the Sun implementation, finalizers are executed by a <a href="http://stackoverflow.com/questions/2213340/what-is-daemon-thread-in-java">daemon thread</a>. If the finalizer thread cannot keep up with the finalization queue, then the Java heap could fill up and an OOM could be thrown.</p> 
         <h3 id="permgen-space">“PermGen space”</h3> 
         <p>This error message indicates that the <a href="https://blogs.oracle.com/jonthecollector/entry/presenting_the_permanent_generation">permanent generation</a> is full. The permanent generation is the area of the heap that stores class and method objects. If an application loads a large number of classes, then the size of the permanent generation might need to be increased using the <code>-XX:MaxPermSize</code> option.</p> 
         <p><a href="https://en.wikipedia.org/wiki/String_interning">Interned</a> <code>java.lang.String</code> objects are also stored in the permanent generation. The <code>java.lang.String</code> class maintains a pool of strings. When the intern method is invoked, the method checks the pool to see if an equivalent string is present. If so, it’s returned by the intern method; if not, the string is added to the pool. In more precise terms, the <code>java.lang.String.intern</code> method returns a string’s <a href="http://www.tutorialspoint.com/java/java_string_intern.htm">canonical representation</a>; the result is a reference to the same class instance that would be returned if that string appeared as a literal. If an application interns a large number of strings, you might need to increase the size of the permanent generation.</p> 
         <p><em>Note: you can use the <code>jmap -permgen</code> command to print statistics related to the permanent generation, including information about internalized String instances.</em></p> 
         <h3 id="requested-array-size-exceeds-vm-limit">“Requested array size exceeds VM limit”</h3> 
         <p>This error indicates that the application (or APIs used by that application) attempted to allocate an array that is larger than the heap size. For example, if an application attempts to allocate an array of 512MB but the maximum heap size is 256MB, then an OOM will be thrown with this error message. In most cases, the problem is either a configuration issue or a bug that results when an application attempts to allocate a massive array.</p> 
         <h3 id="request-size-bytes-for-reason-out-of-swap-space">“Request &lt;size&gt; bytes for &lt;reason&gt;. Out of swap space?”</h3> 
         <p>This message appears to be an OOM. However, the HotSpot VM throws this apparent exception when an allocation from the native heap failed and the native heap might be close to exhaustion. Included in the message are the size (in bytes) of the request that failed and the reason for the memory request. In most cases, the &lt;reason&gt; is the name of the source module that’s reporting an allocation failure.</p> 
         <p>If this type of OOM is thrown, you might need to use troubleshooting utilities on your operating system to diagnose the issue further. In some cases, the problem might not even be related to the application. For example, you might see this error if:</p> 
         <ul> 
          <li>The operating system is configured with insufficient swap space.</li> 
          <li>Another process on the system is consuming all available memory resources.</li> 
         </ul> 
         <p>It’s also is possible that the application failed due to a native leak (for example, if some bit of application or library code is continuously allocating memory but fails to releasing it to the operating system).</p> 
         <h3 id="reason-stack-trace-native-method">&lt;reason&gt; &lt;stack trace&gt; (Native method)</h3> 
         <p>If you see this error message and the top frame of your stack trace is a native method, then that native method has encountered an allocation failure. The difference between this message and the previous is that the allocation failure was detected in a JNI or native method rather than in Java VM code.</p> 
         <p>If this type of OOM is thrown, you might need to use utilities on the operating system to further diagnose the issue.</p> 
         <h2 id="application-crash-without-oom">Application Crash Without OOM</h2> 
         <p>Occasionally, an application might crash soon after an allocation failure from the native heap. This occurs if you’re running native code that doesn’t check for errors returned by memory allocation functions.</p> 
         <p>For example, the <code>malloc</code> system call returns <code>NULL</code> if there is no memory available. If the return from <code>malloc</code> is not checked, then the application might crash when it attempts to access an invalid memory location. Depending on the circumstances, this type of issue can be difficult to locate.</p> 
         <p>In some cases, the information from the fatal error log or the crash dump will be sufficient. If the cause of a crash is determined to be a lack of error-handling in some memory allocations, then you must hunt down the reason for said allocation failure. As with any other native heap issue, the system might be configured with insufficient swap space, another process might be consuming all available memory resources, etc.</p> 
         <h2 id="diagnosing-leaks">Diagnosing Leaks</h2> 
         <p>In most cases, diagnosing memory leaks requires very detailed knowledge of the application in question. Warning: the process can be lengthy and iterative.</p> 
         <p>Our strategy for hunting down memory leaks will be relatively straightforward:</p> 
         <ol> 
          <li>Identify symptoms</li> 
          <li>Enable verbose garbage collection</li> 
          <li>Enable profiling</li> 
          <li>Analyze the trace</li> 
         </ol> 
         <h3 id="identify-symptoms">1. Identify Symptoms</h3> 
         <p>As discussed, in many cases, the Java process will eventually throw an OOM runtime exception, a clear indicator that your memory resources have been exhausted. In this case, you need to distinguish between a normal memory exhaustion and a leak. Analyzing the OOM’s message and try to find the culprit based on the discussions provided above.</p> 
         <p>Oftentimes, if a Java application requests more storage than the runtime heap offers, it can be due to poor design. For instance, if an application creates multiple copies of an image or loads a file into an array, it will run out of storage when the image or file is very large. This is a normal resource exhaustion. The application is working as designed (although this design is clearly boneheaded).</p> 
         <p>But if an application steadily increases its memory utilization while processing the same kind of data, you might have a memory leak.</p> 
         <h3 id="enable-verbose-garbage-collection">2. Enable Verbose Garbage Collection</h3> 
         <p>One of the quickest ways to assert that you indeed have a memory leak is to enable verbose garbage collection. Memory constraint problems can usually be identified by examining patterns in the <code>verbosegc</code> output.</p> 
         <p>Specifically, the <em><code>-verbosegc</code></em> argument allows you to generates a trace each time the garbage collection (GC) process is begun. That is, as memory is being garbage-collected, summary reports are printed to standard error, giving you a sense of how your memory is being managed.</p> 
         <p>Here’s some typical output generated with the <code>–verbosegc</code> option:</p> 
         <p><img src="https://uploads.toptal.io/blog/image/132/toptal-blog-verbosegc.png" alt="verbose garbage collection output"></p> 
         <p>Each block (or stanza) in this GC trace file is numbered in increasing order. To make sense of this trace, you should look at successive Allocation Failure stanzas and look for freed memory (bytes and percentage) decreasing over time while total memory (here, 19725304) is increasing. These are typical signs of memory depletion.</p> 
         <h3 id="enable-profiling">3. Enable Profiling</h3> 
         <p>Different JVMs offer different ways to generate trace files to reflect heap activity, which typically include detailed information about the type and size of objects. This is called <em>profiling the heap</em>.</p> 
         <h3 id="analyze-the-trace">4. Analyze the Trace</h3> 
         <p>This post focuses on the trace generated by Java VisualVM. Traces can come in different formats, as they can be generated by different tools, but the idea behind them is always the same: find a block of objects in the heap that should not be there, and determine if these objects accumulate instead of releasing. Of particular interest are transient objects that are known to be allocated each time a certain event is triggered in the Java application. The presence of many object instances that ought to exist only in small quantities generally indicates an application bug.</p> 
         <p>Finally, solving memory leaks requires you to review your code thoroughly. Learning about the type of object leaking can be very helpful and considerably speedup debugging.</p> 
         <h2 id="how-does-garbage-collection-work-in-the-jvm">How Does Garbage Collection Work in the JVM?</h2> 
         <p>Before we start our analysis of an application with a memory leak issue, let’s first look at how garbage collection works in the JVM.</p> 
         <p>The JVM uses a form of garbage collector called a <strong>tracing collector</strong>, which essentially operates by pausing the world around it, marking all root objects (objects referenced directly by running threads), and following their references, marking each object it sees along the way.</p> 
         <p>Java implements something called a <strong>generational</strong> garbage collector based upon the generational hypothesis assumption, which states that <strong>the majority of objects that are created are quickly discarded</strong>, and <strong>objects that are not quickly collected are likely to be around for a while</strong>.</p> 
         <p>Based on this assumption, <a href="http://www.oracle.com/technetwork/java/gc-tuning-5-138395.html#1.1.%20Generations%7Coutline">Java partitions objects into multiple generations</a>. Here’s a visual interpretation:</p> 
         <p class="is-centered" id="Generations"><img src="https://uploads.toptal.io/blog/image/136/toptal-blog-1_D.png" alt="java partions into multiple generations"></p> 
         <ul> 
          <li><strong>Young Generation</strong> - This is where objects start out. It has two sub-generations: 
           <ul> 
            <li><strong>Eden Space</strong> - Objects start out here. Most objects are created and destroyed in the Eden Space. Here, the GC does <em>Minors GCs</em>, which are optimized garbage collections. When a Minor GC is performed, any references to objects that are still needed are migrated to one of the survivors spaces (S0 or S1).</li> 
            <li><strong>Survivor Space (S0 and S1)</strong> - Objects that survive Eden end up here. There are two of these, and only one is in use at any given time (unless we have a serious memory leak). One is designated as <em>empty</em>, and the other as <em>live</em>, alternating with every GC cycle.</li> 
           </ul> </li> 
          <li><strong>Tenured Generation</strong> - Also known as the old generation (old space in Fig. 2), this space holds older objects with longer lifetimes (moved over from the survivor spaces, if they live for long enough). When this space is filled up, the GC does a <strong>Full GC</strong>, which costs more in terms of performance. If this space grows without bound, the JVM will throw an <code>OutOfMemoryError - Java heap space</code>.</li> 
          <li><strong>Permanent Generation</strong> - A third generation closely related to the tenured generation, the permanent generation is special because it holds data required by the virtual machine to describe objects that do not have an equivalence at the Java language level. For example, objects describing classes and methods are stored in the permanent generation.</li> 
         </ul> 
         <p>Java is smart enough to apply different garbage collection methods to each generation. The young generation is handled using a <strong>tracing, copying collector</strong> called the <strong>Parallel New Collector</strong>. This collector stops the world, but because the young generation is generally small, the pause is short.</p> 
         <p>For more information about the JVM generations and how them work in more detail visit the <a href="http://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf">Memory Management in the Java HotSpot™ Virtual Machine</a> documentation.</p> 
         <h2 id="detecting-a-memory-leak">Detecting a Memory Leak</h2> 
         <p>To find and eliminate a memory leak, you need the proper tools. It’s time to detect and remove such a leak using the <a href="http://visualvm.java.net/intro.html">Java VisualVM</a>.</p> 
         <h3 id="remotely-profiling-the-heap-with-java-visualvm">Remotely Profiling the Heap with Java VisualVM</h3> 
         <p>VisualVM is a tool that provides a visual interface for viewing detailed information about Java technology-based applications while they are running.</p> 
         <p>With VisualVM, you can view data related to local applications and those running on remote hosts. You can also capture data about JVM software instances and save the data to your local system.</p> 
         <p>In order to benefit from all of Java VisualVM’s features, you should run the Java Platform, Standard Edition (Java SE) version 6 or above.</p> 
         <h3 id="enabling-remote-connection-for-the-jvm">Enabling Remote Connection for the JVM</h3> 
         <p>In a production environment, it’s often difficult to access the actual machine on which our code will be running. Luckily, we can profile our Java application remotely.</p> 
         <p>First, we need to grant ourselves JVM access on the target machine. To do so, create a file called <strong>jstatd.all.policy</strong> with the following content:</p> 
         <pre><code>grant codebase "file:${java.home}/../lib/tools.jar" {
   permission java.security.AllPermission;
};
</code></pre> 
         <p>Once the file has been created, we need to enable remote connections to the target VM using the <a href="http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstatd.html">jstatd - Virtual Machine jstat Daemon </a> tool, as follows:</p> 
         <pre><code>jstatd -p &lt;PORT_NUMBER&gt; -J-Djava.security.policy=&lt;PATH_TO_POLICY_FILE&gt;
</code></pre> 
         <p>For example:</p> 
         <pre><code>jstatd -p 1234 -J-Djava.security.policy=D:\jstatd.all.policy
</code></pre> 
         <p>With the <strong>jstatd</strong> started in the target VM, we are able to connect to the target machine and remotely profile the application with memory leak issues.</p> 
         <h3 id="connecting-to-a-remote-host">Connecting to a Remote Host</h3> 
         <p>In the client machine, open a prompt and type <code>jvisualvm</code> to open the VisualVM tool.</p> 
         <p>Next, we must add a remote host in VisualVM. As the target JVM is enabled to allow remote connections from another machine with J2SE 6 or greater, we start the Java VisualVM tool and connect to the remote host. If the connection with the remote host was successful, we will see the Java applications that are running in the target JVM, as seen here:</p> 
         <p class="is-centered"><img src="https://i.imgur.com/WhHUVEG.png" alt="running in the target jvm"></p> 
         <p>To profile and analyze the application, we just double-click its name in the side panel.</p> 
         <p>Now that we’re all setup, let’s investigate an application with a memory leak issue, which we’ll call <em>MemLeak</em>.</p> 
         <h3 id="memleak">MemLeak</h3> 
         <p>Of course, there are a number of ways to create memory leaks in Java. For simplicity we will define a class to be a key in a <a href="http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html">HashMap</a>, but we will not define the <a href="http://www.javaworld.com/community/node/1006">equals() and hashcode()</a> methods.</p> 
         <p>A HashMap is a <a href="https://en.wikipedia.org/wiki/Hash_table">hash table</a> implementation for the Map interface, and as such it defines the basic concepts of key and value: each value is related to a unique key, so if the key for a given key-value pair is already present in the HashMap, its current value is replaced.</p> 
         <p>It’s mandatory that our key class provides a correct implementation of the <code>equals()</code> and <code>hashcode()</code> methods. Without them, there is no guarantee that a good key will be generated.</p> 
         <p>By not defining the <code>equals()</code> and <code>hashcode()</code> methods, we add the same key to the HashMap over and over and, instead of replacing the key as it should, the HashMap grows continuously, failing to identify these identical keys and throwing an <code>OutOfMemoryError</code>.</p> 
         <p>Here’s the MemLeak class:</p> 
         <pre lang="java"><code>package com.post.memory.leak;

import java.util.Map;

public class MemLeak {
    public final String key;
    
    public MemLeak(String key) {
        this.key =key;
    }
    
    public static void main(String args[]) {
        try {
            Map map = System.getProperties();
            
            for(;;) {
                map.put(new MemLeak("key"), "value");
            }
        } catch(Exception e) {
            e.printStackTrace();
        }
    }
}
</code></pre> 
         <p>Note: the memory leak is <em>not</em> due to the infinite loop on line 14: the infinite loop can lead to a resource exhaustion, but not a memory leak. If we had properly implemented <code>equals()</code> and <code>hashcode()</code> methods, the code would run fine even with the infinite loop as we would only have one element inside the HashMap.</p> 
         <p>(For those interested, <a href="http://stackoverflow.com/questions/6470651/creating-a-memory-leak-with-java">here</a> are some alternative means of (intentionally) generating leaks.)</p> 
         <h3 id="using-java-visualvm">Using Java VisualVM</h3> 
         <p>With Java VisualVM, we can monitor the Java Heap and identify if its behavior is indicative of a memory leak.</p> 
         <p>Here’s a graphical representation of MemLeak’s Java Heap just after initialization (recall our discussion of the various <a href="https://www.toptal.com/java/hunting-memory-leaks-in-java#Generations">generations</a>):</p> 
         <p class="is-zoomable"><img src="https://uploads.toptal.io/blog/image/134/toptal-blog-C.png" alt="monitor memory leaks using java visualvm"></p> 
         <p>After just 30 seconds, the Old Generation is almost full, indicating that, even with a Full GC, the Old Generation is ever-growing, a clear sign of a memory leak.</p> 
         <p>One means of detecting the cause of this leak is shown in the following image (<em>click to zoom</em>), generated using Java VisualVM with a <em>heapdump</em>. Here, we see that <strong>50% of Hashtable$Entry objects are in the heap</strong>, while the second line points us to the <strong>MemLeak</strong> class. Thus, the memory leak is caused by a <em>hash table</em> used within the <em>MemLeak</em> class.</p> 
         <p class="is-zoomable"><img src="https://uploads.toptal.io/blog/image/133/toptal-blog-A.png" alt="hash table memory leak"></p> 
         <p>Finally, observe the Java Heap just after our <code>OutOfMemoryError</code> in which the <strong>Young and Old generations are completely full</strong>.</p> 
         <p class="is-zoomable"><img src="https://uploads.toptal.io/blog/image/109/toptal-blog-B.png" alt="outofmemoryerror"></p> 
         <h2 id="conclusion">Conclusion</h2> 
         <p>Memory leaks are among the most difficult Java application <a href="https://www.toptal.com/java/top-10-most-common-java-development-mistakes">problems to resolve</a>, as the symptoms are varied and difficult to reproduce. Here, we’ve outlined a step-to-step approach to discovering memory leaks and identifying their sources. But above all, read your error messages closely and pay attention to your stack traces—not all leaks are as simple as they appear.</p> 
         <h2 id="appendix">Appendix</h2> 
         <p>Along with Java VisualVM, there are several other tools that can perform memory leak detection. Many leak detectors operate at the library level by intercepting calls to memory management routines. For example: <a href="http://docs.oracle.com/javase/7/docs/technotes/samples/hprof.html">HPROF</a>, is a simple command line tool bundled with the Java 2 Platform Standard Edition (J2SE) for heap and CPU profiling. The output of HPROF can be analyzed directly or used as an input for others tools like <a href="http://docs.oracle.com/javase/6/docs/technotes/tools/share/jhat.html">JHAT</a>. When we work with Java 2 Enterprise Edition (J2EE) applications, there are a number of heapdump solutions that are friendlier to analyze, such as <a href="http://pic.dhe.ibm.com/infocenter/hctool/v1r0/index.jsp?topic=%2Fcom.ibm.java.diagnostics.memory.analyzer.doc%2Fheapdump.html">IBM Heapdumps for Websphere application servers</a>.</p> 
         <div class="blog_author_big_banner is-active" data-ga-action="ClickedOnHireTheAuthor_bottom" data-ga-label="hunting-memory-leaks-in-java" data-view="content#bottom_banner">
          <h2>About the author</h2>
          <div class="skill_talent for-blog_post">
           <div class="skill_talent-extra">
            <a class="skill_talent-photo_wrapper" href="/resume/jose-ferreira-de-souza-filho"><img alt="Jose Ferreirade Souza Filho" title="large" class="skill_talent-photo" src="https://uploads.toptal.io/user/photo/2932/large_2012-11-07_14.51.17.jpg">
             <div class="skill_talent-photo_hint">
              View full profile »
             </div></a>
            <div class="blog_author_big_banner-cta">
             <a class="button is-green_candy is-default is-full_width is-fixed skill_talent-hire" data-role="banner_link" href="https://www.toptal.com/companies/apply?interested_in=developers&amp;skill=java">Hire the Author</a>
            </div>
           </div>
           <div class="skill_talent-main">
            <a class="link skill_talent-name" href="/resume/jose-ferreira-de-souza-filho">Jose Ferreirade Souza Filho, Brazil</a>
            <div class="clearfix">
             <div class="skill_talent-member_since">
              member since December 27, 2012
             </div>
            </div>
            <div class="skill_talent-skills" data-view="skill_talent#tags">
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/java">Java</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/struts">Apache Struts</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/apache">Apache Velocity</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/struts">Apache Struts 2</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/java">JavaServer Faces</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/hibernate">Hibernate</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/spring">Spring</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/java">Java Servlets</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/java">Java ME</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/java-ee">Java EE</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/java">Java SE</a>
             <a class="tag skill_talent-skill" data-role="tag" href="https://www.toptal.com/web">WebLogic</a>
             <a class="tag" data-role="more" href="/resume/jose-ferreira-de-souza-filho" style="display: none;">+<span data-role="count">&nbsp;&nbsp;</span> more</a>
            </div>
            <div class="skill_talent-description">
             Jose is a seasoned software developer and engineer with over twelve years of experience in IT. He has experience in the development, migration, and integration of software and efficient architectures. He is especially practiced in the use of debugging and performance profiling tools. 
             <a class="link" href="/resume/jose-ferreira-de-souza-filho">[click to continue...]</a>
            </div>
           </div>
          </div>
         </div>
         <div class="post-join">
          <a class="button is-white_and_green is-default is-full_width" href="https://www.toptal.com/java">Hiring? Meet the Top 10 Freelance Java Developers for Hire in October 2017</a>
         </div>
         <div class="template" data-role="subscribe_template" data-template="{&quot;html&quot;:&quot;<div class=\&quot;embeddable_form-wrapper for-post\&quot; data-role=\&quot;blog_subscribe\&quot; data-view=\&quot;blog_subscribe#form\&quot;><form action=\&quot;/blog/subscription\&quot; class=\&quot;embeddable_form\&quot; data-entity=\&quot;blog_subscription\&quot; data-remote=\&quot;\&quot; data-view=\&quot;form#form\&quot; method=\&quot;post\&quot;><div class=\&quot;embeddable_form-step is-email_form is-current\&quot;><div class=\&quot;embeddable_form-row is-label\&quot;><div class=\&quot;embeddable_form-label_title\&quot;>Like what you&amp;#39;re reading?</div><div class=\&quot;embeddable_form-label\&quot;>Get the latest updates first.</div></div><div class=\&quot;embeddable_form-row form-field is-email_field\&quot;><input autocomplete=\&quot;off\&quot; class=\&quot;input is-medium\&quot; data-role=\&quot;email\&quot; name=\&quot;blog_subscription[email]\&quot; placeholder=\&quot;Enter your email address...\&quot; type=\&quot;text\&quot; /><input name=\&quot;blog_subscription[vertical]\&quot; type=\&quot;hidden\&quot; value=\&quot;developers\&quot; /><input name=\&quot;from_widget\&quot; type=\&quot;hidden\&quot; value=\&quot;true\&quot; /></div><div class=\&quot;embeddable_form-row is-submit\&quot;><input class=\&quot;button is-green_candy is-default is-full_width\&quot; data-loader-text=\&quot;Subscribing...\&quot; data-role=\&quot;submit\&quot; type=\&quot;submit\&quot; value=\&quot;Get Exclusive Updates\&quot; /></div><div class=\&quot;embeddable_form-row is-privacy\&quot;><div class=\&quot;embeddable_form-privacy\&quot;><div class=\&quot;embeddable_form-privacy_icon\&quot;></div><div class=\&quot;embeddable_form-privacy_text\&quot;>No spam. Just great engineering posts.</div></div></div></div><div class=\&quot;embeddable_form-step is-confirmation\&quot; data-place=\&quot;@blog_subscribe\&quot; data-role=\&quot;confirmation\&quot;><div class=\&quot;embeddable_form-row is-label is-success\&quot;><div class=\&quot;embeddable_form-label_title\&quot;>Like what you&amp;#39;re reading?</div><div class=\&quot;embeddable_form-label\&quot;>Get the latest updates first.</div></div><div class=\&quot;embeddable_form-row is-success\&quot;><div class=\&quot;embeddable_form-label is-header\&quot;>Thank you for subscribing!</div><div class=\&quot;embeddable_form-label\&quot;>Check your inbox to confirm subscription. You'll start receiving posts after you confirm.</div></div><div class=\&quot;embeddable_form-row is-success\&quot;><ul class=\&quot;social_share is-horizontal\&quot; data-rss-url=\&quot;https://www.toptal.com/developers/blog.rss\&quot; data-url=\&quot;https://www.toptal.com/developers/blog\&quot; data-view=\&quot;layout#social_share\&quot; data-youtube-channel-url=\&quot;https://www.youtube.com/channel/UCNqm_euTHZz3o5OnKhUS-oA\&quot;><li class=\&quot;social_share-item is-counter\&quot; title=\&quot;Total number of shares\&quot;><span class=\&quot;social_share-item_num\&quot; data-role=\&quot;counter_num\&quot;>0</span><span class=\&quot;social_share-item_text\&quot; data-role=\&quot;counter_text\&quot;>shares</span></li><li class=\&quot;social_share-item\&quot;><a class=\&quot;social_share-item_link\&quot; data-role=\&quot;link\&quot; data-track-click=\&quot;SocialShareButtonClicked\&quot; data-track-default-data=\&quot;{&amp;quot;network&amp;quot;:&amp;quot;twitter&amp;quot;}\&quot; data-type=\&quot;twitter\&quot; title=\&quot;Share on Twitter\&quot;><img class=\&quot;social_share-item_image\&quot; height=\&quot;50\&quot; src=\&quot;https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/twitter_83c6d4.png\&quot; width=\&quot;50\&quot; /></a></li><li class=\&quot;social_share-item\&quot;><a class=\&quot;social_share-item_link\&quot; data-role=\&quot;link\&quot; data-track-click=\&quot;SocialShareButtonClicked\&quot; data-track-default-data=\&quot;{&amp;quot;network&amp;quot;:&amp;quot;facebook&amp;quot;}\&quot; data-type=\&quot;facebook\&quot; title=\&quot;Share on Facebook\&quot;><img class=\&quot;social_share-item_image\&quot; height=\&quot;50\&quot; src=\&quot;https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/facebook_dc66c9.png\&quot; width=\&quot;50\&quot; /></a></li><li class=\&quot;social_share-item\&quot;><a class=\&quot;social_share-item_link\&quot; data-role=\&quot;link\&quot; data-track-click=\&quot;SocialShareButtonClicked\&quot; data-track-default-data=\&quot;{&amp;quot;network&amp;quot;:&amp;quot;google_plus&amp;quot;}\&quot; data-type=\&quot;google_plus\&quot; title=\&quot;Share on Google Plus\&quot;><img class=\&quot;social_share-item_image\&quot; height=\&quot;50\&quot; src=\&quot;https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/google_plus_355fb0.png\&quot; width=\&quot;50\&quot; /></a></li></ul></div></div></form></div>&quot;}"></div>
        </div>
        <div class="blog-comments">
         <div id="disqus_thread_container">
          <div id="disqus_thread">
           <div class="d-noscript-comments">
            <h3>Comments</h3>
            <div class="comment">
             <div class="comment-author">
              Tapan Kumar
             </div>
             <div class="comment-body">
              P { margin-bottom: 0.08in; }A:link { } Appl just continuously adding a key(object with a static instance variable), value in Properties, after some time below exception displayed. Exception in thread "main" java.lang.OutOfMemoryError: GC overhead limit exceeded
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              rags
             </div>
             <div class="comment-body">
              Good article. One statement is incorrect - "The permanent generation is the area of the heap" Permanent generation is not part of the heap. It's a separate space for class definitions and related data. Ref: http://docs.oracle.com/javase/7/docs/technotes/guides/management/jconsole.html Eden Space (heap): The pool from which memory is initially allocated for most objects. Survivor Space (heap): The pool containing objects that have survived the garbage collection of the Eden space. Tenured Generation (heap): The pool containing objects that have existed for some time in the survivor space. Permanent Generation (non-heap): The pool containing all the reflective data of the virtual machine itself, such as class and method objects. With Java VMs that use class data sharing, this generation is divided into read-only and read-write areas. Code Cache (non-heap): The HotSpot Java VM also includes a code cache, containing memory that is used for compilation and storage of native code.
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              José Ferreira de Souza Filho
             </div>
             <div class="comment-body">
              Hi rags, you absolutely right the permanent generation is not part of the heap. It is a separated area to represent native code, strings, etc.. Thank you for pointing that out!
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              Mahmoud Hanafy
             </div>
             <div class="comment-body">
              how can I know which classes that create these objects ? In a Big Project that contains many classes it's hard to determine which classes responsable for this creation
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              disqus_MGDHBkoQSP
             </div>
             <div class="comment-body">
              To see the class you need to take the heap dump and analyze that in MAT. You can see in the histogram which all classes has created maximum no. of objects and how much memory is retained in the heap because of which all objects. You can take heap dump from JVisualVM itslelf.
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              teknotry
             </div>
             <div class="comment-body">
              you can watch the below video to get full clarity . https://www.youtube.com/watch?v=z8n7Bg7-A4I
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              teknotry
             </div>
             <div class="comment-body">
              Nice post ..
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              JMB
             </div>
             <div class="comment-body">
              Jose, I have found really interesting your article, mainly because it explains a lot of concepts that many Java developers doesn't know, so it really helps. In any case, I want to add also an additional alternative for hunting a memory leak, I detected the cause of my mem leak using javosize tool. This is a CLI tool that can be attached to a running JVM process without requiring a restart. This tool has a lot of features, but in my case it helped me because it includes a recipe for obtaining the list of the biggest static variables (http://www.javosize.com/gettingStarted/topFatStaticVariables.html). Just executing it, I detected the variable that was causing my mem leak.
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              Sean Lovejoy
             </div>
             <div class="comment-body">
              java. hahahahaha ha i did like it though
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              Chandra Sekhar
             </div>
             <div class="comment-body">
              hi, Good Article, I want to know which tool you are using to view the heap space graphical representation?
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              pulkit mehra
             </div>
             <div class="comment-body">
              In your 1st Visual VM snapshot, why are both the Survivor Spaces full? As per my understanding one of them (either S0 or S1) remains empty. What am I missing here?
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              Erik Ostermueller
             </div>
             <div class="comment-body">
              Especially with a larger heap, taking a heapdump can shut down a JVM for dozens of seconds, perhaps minutes. Be sure to have a look at heapSpank.org, an open-source memory leak detector -- finds leaks in just a few minutes, no heapdump required, no JVM restart required.
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              Karthik Bharadwaj
             </div>
             <div class="comment-body">
              This is great stuff..Keep it up
             </div>
            </div>
            <div class="comment">
             <div class="comment-author">
              Pepe
             </div>
             <div class="comment-body">
              You had lovely joy reading this, didn't you Sean?
             </div>
            </div>
           </div>
          </div>
         </div>
         <script>function isIos() {
  return /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
}

function adjustHeightInIos() {
  if (isIos()) {
    var height = $('#disqus_thread').outerHeight();
    $('#disqus_thread_container').height(height);
  }
}

if (isIos()) {
  var el = document.getElementById('disqus_thread_container');
  el.style.height = '1px';
  el.style.overflow = 'hidden';
  el.style.width = '100%';
}

function disqus_config() {
  this.callbacks.onNewComment = [function() {
    $.post('/blog/comments/on_create');
    adjustHeightInIos();
  }];

  this.callbacks.onReady = [adjustHeightInIos];
}

var disqus_shortname = 'toptal';
var disqus_identifier = 'java/hunting-memory-leaks-in-java';

(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script>
         <noscript>
          Please enable JavaScript to view the 
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
         </noscript>
         <a class="dsq-brlink" href="https://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
       </div>
      </div>
      <div class="two_columns_layout-extra">
       <div class="blog-block-wrapper">
        <div class="blog-block-header">
         Subscribe
        </div>
        <div class="blog-block">
         <div class="blog-block-row">
          <div class="embeddable_form-wrapper is-horizontal" data-role="blog_subscribe" data-view="blog_subscribe#form">
           <form action="/blog/subscription" class="embeddable_form" data-entity="blog_subscription" data-remote="" data-view="form#form" method="post">
            <div class="embeddable_form-step is-email_form is-current">
             <div class="embeddable_form-row is-label">
              <div class="embeddable_form-label_title">
               The #1 Blog for Engineers
              </div>
              <div class="embeddable_form-label">
               Get the latest content first.
              </div>
             </div>
             <div class="embeddable_form-row form-field is-email_field">
              <input autocomplete="off" class="input is-medium" data-role="email" name="blog_subscription[email]" placeholder="Enter your email address..." type="text">
              <input name="blog_subscription[vertical]" type="hidden" value="developers">
              <input name="from_widget" type="hidden" value="true">
             </div>
             <div class="embeddable_form-row is-submit">
              <input class="button is-green_candy is-default is-full_width" data-loader-text="Subscribing..." data-role="submit" type="submit" value="Get Exclusive Updates">
             </div>
             <div class="embeddable_form-row is-privacy">
              <div class="embeddable_form-privacy">
               <div class="embeddable_form-privacy_icon"></div>
               <div class="embeddable_form-privacy_text">
                No spam. Just great engineering posts.
               </div>
              </div>
             </div>
            </div>
            <div class="embeddable_form-step is-confirmation" data-place="@blog_subscribe" data-role="confirmation">
             <div class="embeddable_form-row is-label is-success">
              <div class="embeddable_form-label_title">
               The #1 Blog for Engineers
              </div>
              <div class="embeddable_form-label">
               Get the latest content first.
              </div>
             </div>
             <div class="embeddable_form-row is-success">
              <div class="embeddable_form-label is-header">
               Thank you for subscribing!
              </div>
              <div class="embeddable_form-label">
               Check your inbox to confirm subscription. You'll start receiving posts after you confirm.
              </div>
             </div>
             <div class="embeddable_form-row is-success">
              <ul class="social_share is-horizontal" data-rss-url="https://www.toptal.com/developers/blog.rss" data-url="https://www.toptal.com/developers/blog" data-view="layout#social_share" data-youtube-channel-url="https://www.youtube.com/channel/UCNqm_euTHZz3o5OnKhUS-oA">
               <li class="social_share-item is-counter" title="Total number of shares"><span class="social_share-item_num" data-role="counter_num">0</span><span class="social_share-item_text" data-role="counter_text">shares</span></li>
               <li class="social_share-item"><a class="social_share-item_link" data-role="link" data-track-click="SocialShareButtonClicked" data-track-default-data="{&quot;network&quot;:&quot;twitter&quot;}" data-type="twitter" title="Share on Twitter"><img class="social_share-item_image" height="50" src="https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/twitter_83c6d4.png" width="50"></a></li>
               <li class="social_share-item"><a class="social_share-item_link" data-role="link" data-track-click="SocialShareButtonClicked" data-track-default-data="{&quot;network&quot;:&quot;facebook&quot;}" data-type="facebook" title="Share on Facebook"><img class="social_share-item_image" height="50" src="https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/facebook_dc66c9.png" width="50"></a></li>
               <li class="social_share-item"><a class="social_share-item_link" data-role="link" data-track-click="SocialShareButtonClicked" data-track-default-data="{&quot;network&quot;:&quot;google_plus&quot;}" data-type="google_plus" title="Share on Google Plus"><img class="social_share-item_image" height="50" src="https://assets.toptal.io/assets/front/static/public/primitives/social/share_bar/google_plus_355fb0.png" width="50"></a></li>
              </ul>
             </div>
            </div>
           </form>
          </div>
         </div>
        </div>
        <div class="blog-block-header">
         Trending articles
        </div>
        <div class="blog-block">
         <nav class="blog-trending">
          <a class="post is-preview blog-trending-item" href="/software/trunk-based-development-git-flow"><span class="post_cover is-preview">
            <noscript>
             <img class="post_cover-image" src="https://uploads.toptal.io/blog/cover_image/120436/side_list_cover-trunk-based-dev-WIDE_2x-895ec52cbe0b2d9d41245b0b9e02c095.png">
            </noscript><span class="post_cover-image" data-role="deferred" data-src="https://uploads.toptal.io/blog/cover_image/120436/side_list_cover-trunk-based-dev-WIDE_2x-895ec52cbe0b2d9d41245b0b9e02c095.png"></span></span><span class="post-preview"><span class="post-title">Trunk-based Development vs. Git Flow</span><span class="post_meta"><span class="post_meta-date">about 18 hours ago</span></span></span></a>
          <a class="post is-preview blog-trending-item" href="/mobile/pixel-perfect-ios-ui-design"><span class="post_cover is-preview">
            <noscript>
             <img class="post_cover-image" src="https://uploads.toptal.io/blog/cover_image/120434/side_list_cover-0925nermin_cover-wide-031fc67210c07ff4b1eefaceed8aaaf0.jpg">
            </noscript><span class="post_cover-image" data-role="deferred" data-src="https://uploads.toptal.io/blog/cover_image/120434/side_list_cover-0925nermin_cover-wide-031fc67210c07ff4b1eefaceed8aaaf0.jpg"></span></span><span class="post-preview"><span class="post-title">How to Implement a Pixel-perfect iOS UI Design</span><span class="post_meta"><span class="post_meta-date">6 days ago</span></span></span></a>
          <a class="post is-preview blog-trending-item" href="/mobile/android-ios-ui-testing-calabash"><span class="post_cover is-preview">
            <noscript>
             <img class="post_cover-image" src="https://uploads.toptal.io/blog/cover_image/120431/side_list_cover-04-Platform-3745x800-_2x-0446e7468b1f5be6469fb939881d4267.png">
            </noscript><span class="post_cover-image" data-role="deferred" data-src="https://uploads.toptal.io/blog/cover_image/120431/side_list_cover-04-Platform-3745x800-_2x-0446e7468b1f5be6469fb939881d4267.png"></span></span><span class="post-preview"><span class="post-title">Android and iOS UI Testing with Calabash</span><span class="post_meta"><span class="post_meta-date">7 days ago</span></span></span></a>
          <a class="post is-preview blog-trending-item" href="/software/creating-modular-code-with-no-dependencies"><span class="post_cover is-preview">
            <noscript>
             <img class="post_cover-image" src="https://uploads.toptal.io/blog/cover_image/120430/side_list_cover-element-arch_widecover_2x-2b01e8c161928cefa4f6c2f916a3963a.png">
            </noscript><span class="post_cover-image" data-role="deferred" data-src="https://uploads.toptal.io/blog/cover_image/120430/side_list_cover-element-arch_widecover_2x-2b01e8c161928cefa4f6c2f916a3963a.png"></span></span><span class="post-preview"><span class="post-title">Creating Truly Modular Code with No Dependencies</span><span class="post_meta"><span class="post_meta-date">12 days ago</span></span></span></a>
          <a class="post is-preview blog-trending-item" href="/software/software-entropy-explained"><span class="post_cover is-preview">
            <noscript>
             <img class="post_cover-image" src="https://uploads.toptal.io/blog/cover_image/120427/side_list_cover-image_0-d6e7a48495210e40e91f0ae131f24d82.jpg">
            </noscript><span class="post_cover-image" data-role="deferred" data-src="https://uploads.toptal.io/blog/cover_image/120427/side_list_cover-image_0-d6e7a48495210e40e91f0ae131f24d82.jpg"></span></span><span class="post-preview"><span class="post-title">Software Entropy Explained: Causes, Effects, and Remedies</span><span class="post_meta"><span class="post_meta-date">16 days ago</span></span></span></a>
          <a class="post is-preview blog-trending-item" href="/angular-js/angular-4-forms-validation"><span class="post_cover is-preview">
            <noscript>
             <img class="post_cover-image" src="https://uploads.toptal.io/blog/cover_image/120426/side_list_cover-04-Platform-3745x800-_2x-be36889820dae9807341e00b524bf545.png">
            </noscript><span class="post_cover-image" data-role="deferred" data-src="https://uploads.toptal.io/blog/cover_image/120426/side_list_cover-04-Platform-3745x800-_2x-be36889820dae9807341e00b524bf545.png"></span></span><span class="post-preview"><span class="post-title">Working with Angular 4 Forms: Nesting and Input Validation</span><span class="post_meta"><span class="post_meta-date">18 days ago</span></span></span></a>
          <a class="post is-preview blog-trending-item" href="/javascript/choosing-best-front-end-framework"><span class="post_cover is-preview">
            <noscript>
             <img class="post_cover-image" src="https://uploads.toptal.io/blog/cover_image/120421/side_list_cover-Frameworks_WideCover_2x-e43a7949bdfa48d912a485166750db5c.png">
            </noscript><span class="post_cover-image" data-role="deferred" data-src="https://uploads.toptal.io/blog/cover_image/120421/side_list_cover-Frameworks_WideCover_2x-e43a7949bdfa48d912a485166750db5c.png"></span></span><span class="post-preview"><span class="post-title">How to Choose the Best Front-end Framework</span><span class="post_meta"><span class="post_meta-date">19 days ago</span></span></span></a>
          <a class="post is-preview blog-trending-item" href="/nodejs/serverless-nodejs-using-google-cloud"><span class="post_cover is-preview">
            <noscript>
             <img class="post_cover-image" src="https://uploads.toptal.io/blog/cover_image/120420/side_list_cover-serverless_widecover_2x-445fc2b3734246a7db1ca1f424e32e68.png">
            </noscript><span class="post_cover-image" data-role="deferred" data-src="https://uploads.toptal.io/blog/cover_image/120420/side_list_cover-serverless_widecover_2x-445fc2b3734246a7db1ca1f424e32e68.png"></span></span><span class="post-preview"><span class="post-title">Implementing Serverless Node.js Functions Using Google Cloud</span><span class="post_meta"><span class="post_meta-date">22 days ago</span></span></span></a>
         </nav>
        </div>
        <div class="blog-block-header">
         Relevant Technologies
        </div>
        <div class="blog-block">
         <div class="blog-block-row">
          <ul class="blog-relevant">
           <li class="blog-relevant-item"><a class="link is-blue" href="https://www.toptal.com/back-end">Back-End</a></li>
           <li class="blog-relevant-item"><a class="link is-blue" href="https://www.toptal.com/java">Java</a></li>
           <li class="blog-relevant-item"><a class="link is-blue" href="https://www.toptal.com/java-ee">Java EE</a></li>
          </ul>
         </div>
        </div>
        <div class="blog-block has-no_background blog_banner for-author blog_author_banner" data-ga-action="ClickedOnHireTheAuthor_lateral" data-ga-label="hunting-memory-leaks-in-java" data-view="content#sidebar_banner">
         <div class="blog-block-header">
          About the author
         </div>
         <div class="blog_author_banner-photo_wrapper">
          <img alt="Jose Ferreirade Souza Filho" title="large" class="blog_author_banner-photo" src="https://uploads.toptal.io/user/photo/2932/large_2012-11-07_14.51.17.jpg">
         </div>
         <div class="blog_author_banner-content" data-role="author_content">
          <div class="blog_author_banner-name">
           <a href="/resume/jose-ferreira-de-souza-filho">Jose Ferreirade Souza Filho</a>
          </div>
          <div class="blog_author_banner-role">
           HTML Developer
          </div>
          <div class="blog_author_banner-about" data-role="author_about">
           Jose is a seasoned software developer and engineer with over twelve years of experience in IT. He has experience in the development, migration, and integration of software and efficient architectures. He is especially practiced in the use of debugging and performance profiling tools.
          </div>
          <div class="blog_author_banner-content_footer"></div>
         </div>
         <div class="blog_author_banner-cta">
          <a class="button is-green_candy is-default is-full_width" data-role="banner_link" href="https://www.toptal.com/companies/apply?interested_in=developers&amp;skill=java">Hire the Author</a>
         </div>
        </div>
       </div>
      </div>
     </div>
    </section>
   </main>
   <footer class="hide_in_webview">
    <section class="grid-row has-solid_blue_bg page_footer_map-wrapper">
     <div class="grid-row-inner has-huge_padding page_footer_map">
      <div class="page_footer_map-content">
       Toptal connects the&nbsp;
       <a href="https://www.toptal.com/top-3-percent">top&nbsp;3%</a> of&nbsp;freelance talent all over&nbsp;the&nbsp;world.
      </div>
     </div>
    </section>
    <section class="grid-row page_footer_sample_profile-wrapper">
     <div class="grid-row-inner has-big_padding">
      <h2 class="header is-row">Toptal Developers</h2>
      <div class="skills_list">
       <ul class="multi_column_list qa-skills_list">
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/android">Android Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/angular-js">AngularJS Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/back-end">Back-End Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/c-plus-plus">C++ Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/data-science">Data Scientists</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/devops">DevOps Engineers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/emberjs">Ember.js Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/freelance">Freelance Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/front-end">Front-End Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/full-stack">Full Stack Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/html5">HTML5 Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/ios">iOS Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/java">Java Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/javascript">JavaScript Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/machine-learning">Machine Learning Engineers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/magento">Magento Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/app">Mobile App Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/dot-net">.NET Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/nodejs">Node.js Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/php">PHP Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/python">Python Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/react">React.js Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/ruby">Ruby Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/ruby-on-rails">Ruby on Rails Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/salesforce">Salesforce Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/scala">Scala Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/software">Software Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/unity-unity3d">Unity or Unity3D Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/web">Web Developers</a></li>
        <li class="multi_column_list-item"><a class="multi_column_list-link" href="https://www.toptal.com/wordpress">WordPress Developers</a></li>
       </ul>
       <div class="skills_list-see_all_wrapper">
        <a class="button is-tiny is-white is-uppercased" href="https://www.toptal.com/developers">
         <div class="skills_list-see_all_icon for-developers"></div>See more freelance developers</a>
       </div>
      </div>
     </div>
    </section>
    <div class="skills_enterprise_link">
     <a class="skills_enterprise_link-url" href="/enterprise">Learn how enterprises benefit from Toptal experts.</a>
    </div>
    <section class="grid-row has-top_border page_footer_join-wrapper" id="">
     <div class="grid-row-inner has-padding page_footer_join">
      <h2 class="page_footer_join-header">Join the Toptal community.</h2>
      <div class="page_footer_join-spacer"></div>
      <nav class="page_footer_join-actions">
       <div class="page_footer_join-item">
        <a class="button is-green_candy is-big is-fixed page_footer_join-button" href="https://www.toptal.com/companies/apply?interested_in=developers&amp;skill=java">Hire a developer</a>
       </div>
       <div class="page_footer_join-item is-or">
        or
       </div>
       <div class="page_footer_join-item">
        <a class="button is-green_candy is-big is-fixed page_footer_join-button" href="https://www.toptal.com/developers/join">Apply as a Developer</a>
       </div>
      </nav>
     </div>
    </section>
    <section class="grid-row page_footer_links-wrapper">
     <div class="grid-row-inner is-wide has-big_padding">
      <nav class="page_footer_links">
       <section class="page_footer_links-column is-1">
        <h3 class="page_footer_links-column_header">Highest In-Demand Talent</h3>
        <ul class="page_footer_links-list">
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/ios">iOS Developer</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/front-end">Front-End Developer</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/designers/ux">UX Designer</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/designers/ui">UI Designer</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/finance/financial-modeling">Financial Modeling Consultants</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/finance/interim-cfos">Interim CFOs</a></li>
        </ul>
       </section>
       <section class="page_footer_links-column is-2">
        <h3 class="page_footer_links-column_header">About</h3>
        <ul class="page_footer_links-list">
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/top-3-percent">Top 3%</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/clients">Clients</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/developers">Freelance Developers</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/designers">Freelance Designers</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/finance">Freelance Finance Experts</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/about">About Us</a></li>
        </ul>
       </section>
       <section class="page_footer_links-column is-3">
        <h3 class="page_footer_links-column_header">Contact</h3>
        <ul class="page_footer_links-list">
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/contact">Contact Us</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/press-center">Press Center</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/careers">Careers</a></li>
         <li class="page_footer_links-item"><a class="page_footer_links-link" href="https://www.toptal.com/faq">FAQ</a></li>
        </ul>
       </section>
       <section class="page_footer_links-column is-4">
        <h3 class="page_footer_links-column_header">Social</h3>
        <ul class="page_footer_links-list">
         <li class="page_footer_links-item for-social_link"><a class="page_footer_links-social_link is-facebook" href="https://www.facebook.com/toptal">Facebook</a></li>
         <li class="page_footer_links-item for-social_link"><a class="page_footer_links-social_link is-twitter" href="https://twitter.com/toptal">Twitter</a></li>
         <li class="page_footer_links-item for-social_link"><a class="page_footer_links-social_link is-google" href="https://plus.google.com/+Toptalllc/">Google+</a></li>
         <li class="page_footer_links-item for-social_link"><a class="page_footer_links-social_link is-linkedin" href="https://www.linkedin.com/company/toptal">LinkedIn</a></li>
        </ul>
       </section>
      </nav>
     </div>
    </section>
    <section class="grid-row page_footer_legal-wrapper">
     <div class="grid-row-inner has-medium_padding page_footer_legal is-wide">
      <div class="logo-wrapper page_footer_legal-logotype">
       <a class="logo is-mini is-link" href="https://www.toptal.com/">Toptal</a>
       <p class="logo-motto is-mini">Hire the top 3% of freelance talent</p>
      </div>
      <ul class="page_footer_legal-links">
       <li class="page_footer_legal-links_item is-copyright"><p class="page_footer_legal-copyright">© Copyright 2010 - 2017 Toptal, LLC</p></li>
       <li class="page_footer_legal-links_item has-right_margin"><a class="page_footer_legal-link" href="https://www.toptal.com/privacy">Privacy Policy</a></li>
       <li class="page_footer_legal-links_item"><a class="page_footer_legal-link" href="https://www.toptal.com/tos">Website Terms</a></li>
      </ul>
     </div>
    </section>
   </footer>
  </div>
  <div class="layout-overlay" data-view="layout#overlay"></div>
  <div data-view="bounce_modals#events">
   <div data-trigger-experiment="original" data-view="bounce_modals#modal"></div>
  </div>
  <div class="notification-container" data-view="notifications#service"></div>
  <script>setTimeout(function () {
  classNameWithFont = document.documentElement.className + ' wf-active'
  document.documentElement.className = classNameWithFont
}, 0);</script>
  <script src="https://assets.toptal.io/assets/public-d92b76e75b4dd380364e.js"></script>
  <script src="https://assets.toptal.io/assets/blog-a9c8dfe12e0e3ec557cd.js"></script>
  <div class="layout-counters">
   <script>if (typeof(window.Widgets) !== 'undefined') {
  var appId = 'UA-21104039-1';
  if (appId.length > 0 && !(window.googleAnalytics instanceof Widgets.GoogleAnalytics)) {
    window.googleAnalytics = new Widgets.GoogleAnalytics(appId, 'auto');
    window.googleAnalytics.bucketRole('', '');

    if (typeof(window.gon) !== 'undefined' && gon['ga_settings']){
      window.googleAnalytics.grouping(gon['ga_settings']['group']);
    }

    if (typeof(window.gon) !== 'undefined' && gon['chameleon_current_experiments']) {
      for (var experiment_key in gon['chameleon_current_experiments']) {
        var experiment = gon['chameleon_current_experiments'][experiment_key];
        window.googleAnalytics.set(experiment.google_analytics_dimension, experiment.variant_key);
      }
    }

    window.googleAnalytics.trackPageview();
    window.googleAnalytics.track15secondsRead();
  }
}</script>
   <script>// We are checking if window.analytics has the track function in case some dom element has the id equal analytics
if (!window.analytics || typeof window.analytics.track !== 'function') {
  // We do this because if some dom element has id equal analytics we need to override it, otherwise it wouldn't set analytics right
  window.analytics = undefined
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["setAnonymousId", "trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
  analytics.load('jnS4QsHOCAOeG6XvMDCjD9n9bAcQ53Mb');
  }}();
}
(function() {
  function readVisitorIdCookie() {
    var cookieName = 'visitor_id=';
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
      var cookie = cookies[i].replace(/^\s+|\s+$/g, '');
      if (cookie.indexOf(cookieName) === 0) {
        return cookie.split('=')[1];
      }
    }
  }
  analytics.setAnonymousId(readVisitorIdCookie());
  
  analytics.page('posts#show');
})();</script>
   <script async defer id="hs-script-loader" src="//js.hs-scripts.com/2799924.js" type="text/javascript"></script>
   <script>var _hsq = window._hsq = window._hsq || [];
</script>
   <script>var accountId = 41085
if (accountId && window.Widgets && window.Widgets.Criteo && !window.criteo) {
  window.criteo = new Widgets.Criteo(accountId)
}</script>
   <script type="text/javascript">
  (function(A, d, S, t, a, g, e) {
    A['AdstageAnalytics'] = a;
    A[a] = A[a] || function() {
      (A[a].q = A[a].q || []).push(arguments)
    };
    A[a].l = 1 * new Date();
    g = d.createElement(S), e = d.getElementsByTagName(S)[0];
    g.async = 1;
    g.src = t;
    e.parentNode.insertBefore(g, e);
  })(window, document, 'script', '//assets.adstage.io/analytics.js', '_as');
  _as('create', 'e2dd65eb-07a1-4d93-874a-fe6dac5a8b64');
  _as('send', 'pageview');
</script> 
   <script type="text/javascript">
adroll_adv_id = "6ZOMR2QLHZBEFEIMAJHJ4K";
adroll_pix_id = "FBQUGOS3RRAI3PZP2HVOYG";
(function () {
var oldonload = window.onload;
window.onload = function(){
   __adroll_loaded=true;
   var scr = document.createElement("script");
   var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
   scr.setAttribute('async', 'true');
   scr.type = "text/javascript";
   scr.src = host + "/j/roundtrip.js";
   ((document.getElementsByTagName('head') || [null])[0] ||
    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
   if(oldonload){oldonload()}};
}());
</script>
   <script>setTimeout(function(){var a=document.createElement("script");
var b=document.getElementsByTagName("script")[0];
a.src=document.location.protocol+"//dnn506yrbagrg.cloudfront.net/pages/scripts/0012/5977.js?"+Math.floor(new Date().getTime()/3600000);
a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);</script>
   <script type="text/javascript">
_bizo_data_partner_id = "8663";
</script> 
   <script type="text/javascript">
(function() {
  var s = document.getElementsByTagName("script")[0];
  var b = document.createElement("script");
  b.type = "text/javascript";
  b.async = true;
  b.src = (window.location.protocol === "https:" ? "https://sjs" : "http://js") + ".bizographics.com/insight.min.js";
  s.parentNode.insertBefore(b, s);
})();
</script> 
   <noscript> 
    <img height="1" width="1" alt="" style="display:none;" src="//www.bizographics.com/collect/?pid=8663&amp;fmt=gif"> 
   </noscript> 
   <script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window,document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');

  fbq('init', '463369723801939'); 
  fbq('track', 'PageView');
</script> 
   <noscript> 
    <img height="1" width="1" src="https://www.facebook.com/tr?id=463369723801939&amp;ev=PageView&amp;noscript=1"> 
   </noscript> 
   <script data-cfasync="false" src="//tribl.io/firm_tracking.js?orgId=4ze96OxMnvs8nm3gqd1v"></script>
  </div>
  <script>window.criteo && window.criteo.sendEvent('setData', {ui_detag: 1})</script>
  <div id="breadcrumbs" class="breadcrumbs">
   <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a itemprop="url" href="https://www.toptal.com/"><span itemprop="title">Home</span></a></span> › 
   <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a itemprop="url" href="https://www.toptal.com/developers/blog"><span itemprop="title">Blog</span></a></span> › 
   <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb"><a class="current" itemprop="url" href="/java/hunting-memory-leaks-in-java"><span itemprop="title">Hunting Memory Leaks in Java</span></a></span>
  </div>
 </body>
</html>