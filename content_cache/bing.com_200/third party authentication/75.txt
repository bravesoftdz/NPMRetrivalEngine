<!doctype html>
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" lang="en">
 <head>
  <link rel="canonical" href="https://technet.microsoft.com/en-us/library/2008.12.linux.aspx"> 
  <title>Authenticate and Integrate Linux with Active Directory</title> 
  <meta name="DCS.dcsuri" content="/en-us/library/dd228986(d=default,l=en-us,v=msdn.10).aspx"> 
  <meta name="NormalizedUrl" content="https://technet.microsoft.com/en-us/library/dd228986(d=default,l=en-us,v=msdn.10).aspx"> 
  <meta name="ms.normalizedurl" content="https://technet.microsoft.com/en-us/library/dd228986(d=default,l=en-us,v=msdn.10).aspx"> 
  <meta name="VotingContextUrl" content="https://technet.microsoft.com/en-us/library/dd228986(d=default,l=en-us,v=msdn.10).aspx"> 
  <meta name="MN" content="FB361396-9:49:06 AM"> 
  <meta name="Search.ShortId" content="dd228986"> 
  <meta name="ms.shortidmsdn" content="dd228986"> 
  <meta name="ms.locale" content="en-us"> 
  <meta name="ms.prodver" content="MSDN.10"> 
  <meta name="ms.contentlang" content="EN"> 
  <meta name="ms.lang" content="EN"> 
  <meta name="ms.loc" content="US"> 
  <meta name="ms.sitever" content="2017.09.29.3"> 
  <meta name="ms.assetid" content="fe9f28db-9ce5-4995-85fa-56be998b2bc7"> 
  <meta name="ms.auth" content="0"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <script type="text/javascript" data-do-not-move="true">
        //<![CDATA[
        var AmbientContext = null;

        (function(){
            var root = (function(){return this;}).call(null);

            var GetCookie = function(name){
                var cookies = root.document.cookie ? root.document.cookie.split('; ') : [];
                for (var i = 0; i < cookies.length; i++) {
                    var pos = cookies[i].indexOf('=');
                    if (name === root.decodeURIComponent(cookies[i].slice(0, pos)))
                    {
                        var cookie = cookies[i].slice(pos + 1).replace(/\+/g, ' ');
                        cookie = root.decodeURIComponent(cookie);
                        return cookie;
                    }
                }
            };

            var JsonDeserialize = function(content) {
                return root.JSON && root.JSON.parse ? root.JSON.parse(content) : (new Function('return (' + content + ')'))();
            };

            try {
                AmbientContext = GetCookie('AmbientContext');
                AmbientContext = AmbientContext && JsonDeserialize(AmbientContext);
            } catch(ex) {
            } finally {
                AmbientContext = AmbientContext || null;
            }
        })();
        //]]>
    </script> 
  <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js" data-do-not-move="true" data-provides="jQuery"></script> 
  <link rel="stylesheet" type="text/css" href="https://uhf.microsoft.com/mscc/statics/mscc-0.3.6.min.css">
  <link rel="stylesheet" type="text/css" href="https://www.microsoft.com/feeds/technet/en-us/magazine/update.css">
  <link rel="stylesheet" type="text/css" href="https://i-technet.sec.s-msft.com/Combined.css?resources=0:ImageSprite,0:TopicResponsive,0:TopicResponsive.MediaQueries,1:CodeSnippet,1:ProgrammingSelector,1:ExpandableCollapsibleArea,0:CommunityContent,1:TopicNotInScope,1:FeedViewerBasic,1:ImageSprite,2:Header.2,2:HeaderFooterSprite,2:Header.MediaQueries,2:Banner.MediaQueries,3:megabladeMenu.1,3:MegabladeMenu.MediaQueries,3:MegabladeMenuSpriteCluster,0:Breadcrumbs,0:Breadcrumbs.MediaQueries,0:ResponsiveToc,0:ResponsiveToc.MediaQueries,0:LibraryMemberFilter,4:StandardRating,2:Footer.2,5:LinkList,2:Footer.MediaQueries,1:SiteFeedbackLink,0:BaseResponsive,6:MsdnResponsive,0:Tables.MediaQueries,7:SkinnyRatingResponsive,7:SkinnyRatingV2;/Areas/Library/Content:0,/Areas/Epx/Content/Css:1,/Areas/Epx/Themes/TechNet/Content:2,/Areas/Epx/Themes/Shared/Content:3,/Areas/Global/Content:4,/Areas/Epx/Themes/Base/Content:5,/Areas/Library/Themes/Msdn/Content:6,/Areas/Library/Themes/TechNet/Content:7&amp;amp;v=D882253F46B1A57B29A4A63DBC448650">
 </head> 
 <body class="library Chrome"> 
  <div id="page"> 
   <div id="ux-header" dir="ltr" class="ltr " ms.pgarea="header"> 
    <div id="ux-banner"> 
     <div id="msccBanner" dir="ltr" data-site-name="technet.microsoft.com" data-mscc-version="0.3.6" data-nver="aspnet-2.0.6" data-sver="0.1.2" class="cc-banner" role="alert">
      <div class="cc-container">
       <svg class="cc-icon cc-v-center" x="0px" y="0px" viewbox="0 0 44 44" height="30px" fill="none" stroke="currentColor">
        <circle cx="22" cy="22" r="20" stroke-width="2"></circle>
        <line x1="22" x2="22" y1="18" y2="33" stroke-width="3"></line>
        <line x1="22" x2="22" y1="12" y2="15" stroke-width="3"></line>
       </svg> 
       <span class="cc-v-center cc-text">This site uses cookies for analytics, personalized content and ads. By continuing to browse this site, you agree to this use.</span> 
       <a href="https://go.microsoft.com/fwlink/?linkid=845480" aria-label="Learn more about Microsoft’s Cookie Policy" id="msccLearnMore" class="cc-link cc-v-center cc-float-right" data-mscc-ic="false">Learn more</a>
      </div>
     </div> 
    </div> 
    <div class="upperBand"> 
     <div class="row1"> 
      <div class="msLogoAndMegablade"> 
       <a class="msdnLogoImg" href="https://technet.microsoft.com/en-us" title="Technet home" ms.cmpgrp="mslogo"> 
        <div id="msft-logo" class="msft-logo"></div> </a>
       <div class="GrayPipe"></div>
       <div class="megabladeMenu" ms.cmpgrp="megablade"> 
        <div id="megabladeContainer" class="ltr"> 
         <div id="megabladeContainerCenter"> 
          <div id="megabladeMainMenu" tabindex="0" role="button" aria-label="technet" aria-expanded="false">
           TechNet
          </div> 
          <ul id="megabladeItems"> 
           <li data-value="hh326172" class="bladeItem bladeItemWithMenu"> <a href="" onclick="return false;" role="button" aria-expanded="false" data-mscc-ic="false">Products</a><span class="caret"></span> 
            <div class="navpage">
             <div class="menuContainerLayout"> 
              <h5>Products</h5> 
              <ul> 
               <li> <a href="https://technet.microsoft.com/windows">Windows</a> </li> 
               <li> <a href="https://technet.microsoft.com/library/bb625087.aspx">Windows Server</a> </li> 
               <li> <a href="https://technet.microsoft.com/library/cc507089.aspx">System Center</a> </li> 
               <li> <a href="https://technet.microsoft.com/microsoft-edge">Microsoft Edge</a> </li> 
              </ul> 
             </div>
             <div class="menuContainerLayout"> 
              <h5>&nbsp;</h5> 
              <ul> 
               <li> <a href="https://technet.microsoft.com/office">Office</a> </li> 
               <li> <a href="https://technet.microsoft.com/en-us/office/dn788774">Office 365</a> </li> 
               <li> <a href="https://technet.microsoft.com/en-us/office/dn788775">Exchange Server</a> </li> 
              </ul> 
             </div>
             <div class="menuContainerLayout"> 
              <h5>&nbsp;</h5> 
              <ul> 
               <li> <a href="https://msdn.microsoft.com/library/mt590198(v=sql.1)">SQL Server</a> </li> 
               <li> <a href="https://technet.microsoft.com/office/dn788776">SharePoint Products</a> </li> 
               <li> <a href="https://technet.microsoft.com/office/dn788773">Skype for Business</a> </li> 
               <li> <a href="https://technet.microsoft.com/bb421517.aspx?wt.svl=more_centers_link">See all products »</a> </li> 
              </ul> 
             </div>
            </div> </li> 
           <li data-value="hh880860" class="bladeItem bladeItemWithMenu"> <a href="" onclick="return false;" role="button" aria-expanded="false" data-mscc-ic="false">IT Resources</a><span class="caret"></span> 
            <div class="navpage">
             <div class="menuContainerLayout"> 
              <h5>Resources</h5> 
              <ul> 
               <li> <a href="https://channel9.msdn.com/">Channel 9 Video</a> </li> 
               <li> <a href="https://www.microsoft.com/evalcenter/">Evaluation Center</a> </li> 
               <li> <a href="https://technet.microsoft.com/bb291022">Learning Resources</a> </li> 
               <li> <a href="https://technet.microsoft.com/dn440144">Microsoft Tech Companion App</a> </li> 
               <li> <a href="https://technet.microsoft.com/dn550853" title="Microsoft Technical Communities">Microsoft Technical Communities</a> </li> 
               <li> <a href="https://mva.microsoft.com/?CR_CC=200157774">Microsoft Virtual Academy</a> </li> 
               <li> <a href="https://technet.microsoft.com/scriptcenter">Script Center</a> </li> 
               <li> <a href="https://blogs.technet.microsoft.com/serverandtools/">Server and Tools Blogs</a> </li> 
               <li> <a href="https://blogs.technet.microsoft.com/">TechNet Blogs</a> </li> 
              </ul> 
             </div>
             <div class="menuContainerLayout"> 
              <h5>&nbsp;</h5> 
              <ul> 
               <li> <a href="https://technet.microsoft.com/cc543196">TechNet Flash Newsletter</a> </li> 
               <li> <a href="https://gallery.technet.microsoft.com/">TechNet Gallery</a> </li> 
               <li> <a href="https://technet.microsoft.com/library/default.aspx">TechNet Library</a> </li> 
               <li> <a href="https://technet.microsoft.com/magazine/default.aspx">TechNet Magazine</a> </li> 
               <li> <a href="https://social.technet.microsoft.com/wiki">TechNet Wiki</a> </li> 
               <li> <a href="https://technet.microsoft.com/sysinternals">Windows Sysinternals</a> </li> 
               <li> <a href="https://technet.microsoft.com/virtuallabs">Virtual Labs</a> </li> 
              </ul> 
             </div>
             <div class="menuContainerLayoutSplashGuard"></div>
             <div class="menuContainerLayout"> 
              <h5>Solutions</h5> 
              <ul> 
               <li> <a href="https://technet.microsoft.com/network">Networking</a> </li> 
               <li> <a href="https://technet.microsoft.com/cloud/private-cloud">Cloud and Datacenter</a> </li> 
               <li> <a href="https://technet.microsoft.com/security">Security</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/server-cloud/solutions/virtualization.aspx">Virtualization</a> </li> 
              </ul> 
             </div>
            </div> </li> 
           <li data-value="hh371326" class="bladeItem bladeItemWithMenu"> <a href="" onclick="return false;" role="button" aria-expanded="false" data-mscc-ic="false">Downloads</a><span class="caret"></span> 
            <div class="navpage">
             <div class="menuContainerLayout"> 
              <h5>Updates</h5> 
              <ul> 
               <li> <a href="https://support.microsoft.com/en-us">Service Packs</a> </li> 
               <li> <a href="https://technet.microsoft.com/security/bulletin">Security Bulletins</a> </li> 
               <li> <a href="https://support.microsoft.com/en-us/help/12373/windows-update-faq">Windows Update</a> </li> 
              </ul> 
             </div>
             <div class="menuContainerLayoutSplashGuard"></div>
             <div class="menuContainerLayout"> 
              <h5>Trials</h5> 
              <ul> 
               <li> <a href="https://www.microsoft.com/en-us/evalcenter/evaluate-windows-server-technical-preview">Windows Server 2016</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/evalcenter/evaluate-system-center-technical-preview">System Center 2016</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/evalcenter/evaluate-windows-10-enterprise">Windows 10 Enterprise</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/evalcenter/evaluate-sql-server-2016">SQL Server 2016</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/evalcenter/" title="See all trials">See all trials »</a> </li> 
              </ul> 
             </div>
             <div class="menuContainerLayoutSplashGuard"></div>
             <div class="menuContainerLayout"> 
              <h5>Related Sites</h5> 
              <ul> 
               <li> <a href="https://www.microsoft.com/en-us/download">Microsoft Download Center</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/evalcenter/">Microsoft Evaluation Center</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/download/driver.aspx?q=driver">Drivers</a> </li> 
               <li> <a href="https://technet.microsoft.com/sysinternals">Windows Sysinternals</a> </li> 
               <li> <a href="https://gallery.technet.microsoft.com/">TechNet Gallery</a> </li> 
              </ul> 
             </div>
            </div> </li> 
           <li data-value="jj837158" class="bladeItem bladeItemWithMenu"> <a href="" onclick="return false;" role="button" aria-expanded="false" data-mscc-ic="false">Training</a><span class="caret"></span> 
            <div class="navpage">
             <div class="menuContainerLayout"> 
              <h5>Training</h5> 
              <ul> 
               <li> <a href="https://www.microsoft.com/handsonlabs">Expert-led, virtual classes</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/learning/training.aspx">Training Catalog</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/learning/find-partner.aspx">Class Locator</a> </li> 
               <li> <a href="https://mva.microsoft.com/">Microsoft Virtual Academy</a> </li> 
               <li> <a href="https://mva.microsoft.com/en-US/training-courses/windows-server-2012-training-technical-overview-8564?l=BpPnn410_6504984382">Free Windows Server 2012 courses</a> </li> 
               <li> <a href="https://mva.microsoft.com/product-training/windows?CR_CC=200155697#!lang=1033" title="Free Windows 8 courses">Free Windows 8 courses</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/learning/sql-training.aspx">SQL Server training</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/learning/on-demand-online-courses.aspx">Microsoft Official Courses On-Demand</a> </li> 
              </ul> 
             </div>
             <div class="menuContainerLayoutSplashGuard"></div>
             <div class="menuContainerLayout"> 
              <h5>Certifications</h5> 
              <ul> 
               <li> <a href="https://www.microsoft.com/en-us/learning/certification-overview.aspx">Certification overview</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/learning/mcsa-windows-10-certifications.aspx" title="MCSA: Windows 10">MCSA: Windows 10</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/learning/mcsa-windows-server-certification.aspx">Windows Server Certification (MCSE)</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/learning/private-cloud-certification.aspx">Private Cloud Certification (MCSE)</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/learning/mcsa-sql-certification.aspx">SQL Server Certification (MCSE)</a> </li> 
              </ul> 
             </div>
             <div class="menuContainerLayoutSplashGuard"></div>
             <div class="menuContainerLayout"> 
              <h5>Other resources</h5> 
              <ul> 
               <li> <a href="https://events.microsoft.com/">Microsoft Events</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/learning/second-shot.aspx">Second shot for certification</a> </li> 
               <li> <a href="https://borntolearn.mslearn.net/b/?Redirected=true">Born To Learn blog</a> </li> 
               <li> <a href="https://www.technicalcommunity.com/default.aspx" title="Microsoft Technical Communities">Find technical communities in your area</a> </li> 
              </ul> 
             </div>
            </div> </li> 
           <li data-value="hh371327" class="bladeItem bladeItemWithMenu"> <a href="" onclick="return false;" role="button" aria-expanded="false" data-mscc-ic="false">Support</a><span class="caret"></span> 
            <div class="navpage">
             <div class="menuContainerLayout"> 
              <h5>Support options</h5> 
              <ul> 
               <li> <a href="https://support.microsoft.com/gp/contactus81?Audience=Commercial">For business</a> </li> 
               <li> <a href="https://msdn.microsoft.com/hh361695">For developers</a> </li> 
               <li> <a href="https://technet.microsoft.com/ms772425">For IT professionals</a> </li> 
               <li> <a href="https://support.microsoft.com/en-us/assistedsupportproducts">For technical support</a> </li> 
               <li> <a href="https://www.microsoft.com/en-us/microsoftservices/support.aspx">Support offerings</a> </li> 
              </ul> 
             </div>
             <div class="menuContainerLayoutSplashGuard"></div>
             <div class="menuContainerLayout"> 
              <h5>More support</h5> 
              <ul> 
               <li> <a href="https://premier.microsoft.com/">Microsoft Premier Online</a> </li> 
               <li> <a href="https://social.technet.microsoft.com/forums/">TechNet Forums</a> </li> 
               <li> <a href="https://social.msdn.microsoft.com/forums/">MSDN Forums</a> </li> 
               <li> <a href="https://technet.microsoft.com/security/bulletin">Security Bulletins &amp; Advisories</a> </li> 
              </ul> 
             </div>
             <div class="menuContainerLayoutSplashGuard"></div>
             <div class="menuContainerLayout"> 
              <h5>Not an IT pro?</h5> 
              <ul> 
               <li> <a href="https://support.microsoft.com/">Microsoft Customer Support</a> </li> 
               <li> <a href="https://answers.microsoft.com/en-us">Microsoft Community Forums</a> </li> 
              </ul> 
             </div>
            </div> </li> 
          </ul> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="controls" ms.cmpgrp="aux nav"> 
       <div id="setting-menu"> 
        <div class="mobile-setting-icon"></div> 
       </div> 
       <div class="controlsInternal"> 
        <form class="selectLocale" id="selectLocaleForm" action="https://technet.microsoft.com/en-us/SelectLocale"> 
         <input type="hidden" name="fromPage" value="https%3a%2f%2ftechnet.microsoft.com%2fen-us%2flibrary%2f2008.12.linux.aspx"> 
         <a href="#" onclick="$('#selectLocaleForm').submit();return false;" title="Change your language">United States (English)</a> 
        </form> 
        <a class="scarabLink" href="https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=13&amp;ct=1507049346&amp;rver=6.7.6640.0&amp;wp=mcmbi&amp;wlcxt=technet%24technet%24technet&amp;wreply=https%3a%2f%2ftechnet.microsoft.com%2fen-us%2flibrary%2f2008.12.linux.aspx&amp;lc=1033&amp;id=254354&amp;mkt=en-us">Sign in</a> 
       </div> 
      </div> 
      <div class="clear"></div> 
     </div> 
     <div class="row2"> 
      <div id="gripAndBrandLogo"> 
       <div id="grip-menu"> 
        <div id="grip" class="menu-icon"></div> 
       </div> 
       <div class="brandLogo" ms.cmpgrp="brandlogo"> 
        <a href="https://technet.microsoft.com/" title="Microsoft TechNet"><img alt="Microsoft TechNet" src="https://i-technet.sec.s-msft.com/Areas/Epx/Themes/TechNet/Content/Images/BrandLogoTechNetNew.png?v=636422593721506410"></a> 
       </div> 
      </div> 
      <div id="drawer"> 
      </div> 
      <div id="search-menu"> 
       <div class="mobile-search-icon"></div> 
      </div> 
      <div class="SearchBox" ms.cmpgrp="aux nav" role="search"> 
       <form id="HeaderSearchForm" name="HeaderSearchForm" method="get" onsubmit="return Epx.Controls.SearchBox.searchBoxOnSubmit(this);"> 
        <input id="HeaderSearchTextBox" name="query" type="text" maxlength="200" onfocus="Epx.Controls.SearchBox.watermarkFocus(event, this.title)" onblur="Epx.Controls.SearchBox.watermarkBlur(event, this.title)" aria-labelledby="HeaderSearchButton"> 
        <button id="HeaderSearchButton" value="" type="submit" class="header-search-button" ms.title="search"></button> 
       </form> 
      </div> 
      <div class="clear"></div> 
     </div> 
     <div class="row3"> 
     </div> 
    </div> 
    <div class="lowerBand"> 
     <div class="ux-nav" role="navigation" aria-label="header toc" ms.cmpgrp="main nav"> 
      <div class="TocNavigation"> 
       <div class="toclevel1"> 
        <a class="normal" href="https://technet.microsoft.com/" title="Home">Home</a> 
        <a class="active" href="https://technet.microsoft.com/library/" title="Library">Library</a> 
        <a class="normal" href="https://social.technet.microsoft.com/wiki" title="Wiki">Wiki</a> 
        <a class="normal" href="https://technet.microsoft.com/bb291022" title="Learn">Learn</a> 
        <a class="normal" href="https://gallery.technet.microsoft.com/" title="Gallery">Gallery</a> 
        <a class="normal" href="https://technet.microsoft.com/bb403698" title="Downloads">Downloads</a> 
        <a class="normal" href="https://technet.microsoft.com/ms772425" title="Support">Support</a> 
        <a class="normal" href="https://social.technet.microsoft.com/forums/en-us/home" title="Forums">Forums</a> 
        <a class="normal" href="https://blogs.technet.microsoft.com/" title="Blogs">Blogs</a> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div id="jumpInfo" style="display: none">
    We’re sorry. The content you requested has been removed. You’ll be auto redirected in 1 second.
   </div> 
   <link type="text/css" rel="stylesheet"> 
   <link type="text/css" rel="stylesheet"> 
   <div id="breadcrumbs" ms.pgarea="body" ms.cmpgrp="breadcrumbs"> 
    <div id="breadcrumbDesktop" class="breadCrumb"> 
     <span class="breadcrumbEllipsis"><a href="https://technet.microsoft.com/en-us/library/ee721042.aspx" title="TechNet Magazine"></a></span> 
     <span><a href="https://technet.microsoft.com/en-us/library/bb978517.aspx" title="Issues"><span>Issues</span></a></span> 
     <span><a href="https://technet.microsoft.com/en-us/library/bb978509.aspx" title="TechNet Magazine 2008"><span>TechNet Magazine 2008</span></a></span> 
     <span class="breadcrumbDropSmall"> <a id="breadcrumbDropDownButton" href="#" targethref="https://technet.microsoft.com/en-us/library/bb978509.aspx" title="December 2008"><span>December 2008</span></a> </span> 
    </div> 
    <div id="breadcrumbDropDownMenu"></div> 
    <div id="breadcrumbTablet" class="breadCrumb"> 
     <span class="breadcrumbEllipsis"><a href="https://technet.microsoft.com/en-us/library/bb978509.aspx" title="TechNet Magazine 2008"></a></span> 
     <span><a href="https://technet.microsoft.com/en-us/library/dd334498.aspx" title="December 2008"><span>December 2008</span></a></span> 
     <span class="breadcrumbDropSmall"><a id="tocDropDownButton" href="#" title="Authenticate and Integrate Linux with Active Directory"><span>Authenticate and Integrate Linux with Active Directory</span></a></span> 
    </div> 
    <div id="tocDropDownMenu"></div> 
    <div id="breadcrumbMobile" class="breadCrumb"> 
     <span class="breadcrumbEllipsis"><a href="https://technet.microsoft.com/en-us/library/dd334498.aspx" title="December 2008"></a></span> 
     <span class="breadcrumbDropSmall"><a id="tocPopupButton" href="#" title="Authenticate and Integrate Linux with Active Directory"><span>Authenticate and Integrate Linux with Active Directory</span></a></span> 
    </div> 
   </div> 
   <div id="tocPopupMenu"> 
    <div id="tocPopMenuClose" class="tocCloseLarge"></div> 
    <div id="tocTitle">
     Authenticate and Integrate Linux with Active Directory
    </div> 
   </div> 
   <div id="body" ms.pgarea="body" class=""> 
    <span id="tabletView_large"></span> 
    <span id="tabletView_small"></span> 
    <span id="mobileView"></span> 
    <div id="leftNav" ms.cmpgrp="left toc" role="navigation" aria-label="left toc"> 
     <div id="tocnav" class="ArchiveV2"> 
      <div class="tocunselected"> 
       <div id="tocExpandArea"> 
        <span class="toc_empty"></span> 
        <span id="tocExpandButton"><a href="javascript:void(0)" aria-label="expand sibling toc" role="button"></a></span> 
       </div> 
       <div id="tocExpand"></div> 
      </div> 
      <div class="tocselected"></div> 
      <div class="tocunselected"> 
       <div class="toclevel current" data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.linux.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Authenticate and Integrate Linux with Active Directory">Authenticate and Integrate Linux with Active Directory</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.mac.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Manage and Integrate Macs into a Windows Network">Manage and Integrate Macs into a Windows Network</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.interacting.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Interact with Macs in a Windows and Active Directory Environment">Interact with Macs in a Windows and Active Directory Environment</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.password.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Interop: Managing the Root Password on Your Mac">Interop: Managing the Root Password on Your Mac</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.proxy.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Active Directory: Understanding Proxy Authentication in AD LDS">Active Directory: Understanding Proxy Authentication in AD LDS</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.fromtheeditor.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="From the Editor: Can’t We All Just Get Along?">From the Editor: Can’t We All Just Get Along?</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.letters.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Letters: Readers Speak Out">Letters: Readers Speak Out</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.toolbox.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Toolbox: Desktop Authority, Xenu Link Sleuth, GParted Live, Administer OCS 2007">Toolbox: Desktop Authority, Xenu Link Sleuth, GParted Live, Administer OCS 2007</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.sqlqa.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Row-Overflow, Differential Backups, Cluster Failover and More">Row-Overflow, Differential Backups, Cluster Failover and More</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.cad.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Free Utility: Change Analysis Diagnostic reveals system changes">Free Utility: Change Analysis Diagnostic reveals system changes</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.synctoy.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Free Utility: SyncToy 2.0 backs up files to the network, external drives.">Free Utility: SyncToy 2.0 backs up files to the network, external drives.</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.insidesharepoint.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Inside SharePoint: Enterprise Project Management with SharePoint">Inside SharePoint: Enterprise Project Management with SharePoint</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.windowspowershell.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Create a custom PowerShell function to inventory hardware">Create a custom PowerShell function to inventory hardware</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.heyscriptingguy.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Use PowerShell and WMI to calculate server uptime">Use PowerShell and WMI to calculate server uptime</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.securitywatch.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="10 Immutable Laws of Security Revisited: Part 3">10 Immutable Laws of Security Revisited: Part 3</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2009.gr.enforcepowermgmt.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Enforce Power Management Settings in your Organization with Group Policy">Enforce Power Management Settings in your Organization with Group Policy</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.fieldnotespatchpolicy.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Field Notes: Prep Your Patch Policy">Field Notes: Prep Your Patch Policy</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.fieldnotessynergy.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Field Notes: Mark{IT}ing: Synergy in the Shadows">Field Notes: Mark{IT}ing: Synergy in the Shadows</a> 
       </div> 
       <div class="toclevel " data-toclevel="1"> 
        <a href="https://technet.microsoft.com/en-us/library/2008.12.windowsconfidential.aspx" mtpsaliasid="" mtpsassetid="" mtpsshortid="" title="Raymond Chen discusses server cache locations">Raymond Chen discusses server cache locations</a> 
       </div> 
      </div> 
      <a id="tocMenuToggler" href="javascript:void(0)" role="button"> <span id="tocMenuTogglerIcon" class="tocMenuCollapse" role="button" aria-expanded="true" aria-label="Table of contents menu"></span> 
       <div id="tocMenuTogglerLabel">
        TOC
       </div> </a> 
     </div> 
     <div style="display:none"> 
      <div id="CollapseLocalizeString">
       Collapse the table of content
      </div> 
      <div id="ExpandLocalizeString">
       Expand the table of content
      </div> 
     </div> 
     <div> 
      <a id="isd_archiveControlResponsive" style="display:none;" href="javascript:void(0)" role="button" aria-label="Hide Archived Versions" data-include-archive="Show Archived Versions" data-exclude-archive="Hide Archived Versions"> </a> 
      <div id="isd_archiveInstrument" style="display:none">
       This documentation is archived and is not being maintained.
      </div> 
     </div> 
    </div> 
    <div id="content" class="content" ms.cmpgrp="content body" role="main"> 
     <div id="archiveDisclaimerText" style="display:none">
      This documentation is archived and is not being maintained.
     </div> 
     <div class="navpage" xmlns="http://www.w3.org/1999/xhtml"> 
      <div> 
       <div> 
        <div class="topic"> 
         <div class="FeatureSmallHead">
          Interop
         </div> 
         <div class="FeatureHeadline">
          Authenticate Linux Clients with Active Directory
         </div> 
         <div class="FeatureByLine">
          Gil Kirkpatrick
         </div> 
         <div class="clsBeta">
          &nbsp;
         </div> 
         <div class="FeatureAtAGlance">
          At a Glance:
         </div> 
         <ul> 
          <li class="ListingBullet">How authentication works in Windows and Linux</li> 
          <li class="ListingBullet">Using Samba and Winbind</li> 
          <li class="ListingBullet">Implementation strategies</li> 
          <li class="ListingBullet">Walking through the Linux-to-Active Directory integrationItem</li> 
         </ul> 
         <br> 
         <div> 
          <div> 
           <h2 class="LW_CollapsibleArea_TitleDiv"> 
            <div> 
             <a class="LW_CollapsibleArea_TitleAhref" title="Collapse" role="heading"> <span class="cl_CollapsibleArea_expanding LW_CollapsibleArea_Img"></span> <span class="LW_CollapsibleArea_Title">Contents</span> </a> 
             <div id="Anchor_0" class="LW_CollapsibleArea_Anchor_Div"> 
              <a href="/en-us/library/2008.12.linux.aspx#Anchor_0" class="LW_CollapsibleArea_Anchor_Img" title="Right-click to copy and share the link for this section"></a> 
             </div> 
             <div class="LW_CollapsibleArea_HrDiv"> 
              <hr class="LW_CollapsibleArea_Hr"> 
             </div> 
            </div> </h2> 
           <div class="sectionblock"> 
            <a href="#id0060003" xmlns:ms="urn:schemas-microsoft-com:xslt">Windows Authentication</a> 
            <br> 
            <a href="#id0060006" xmlns:ms="urn:schemas-microsoft-com:xslt">Linux Authentication</a> 
            <br> 
            <a href="#id0060010" xmlns:ms="urn:schemas-microsoft-com:xslt">Samba and Winbind</a> 
            <br> 
            <a href="#id0060014" xmlns:ms="urn:schemas-microsoft-com:xslt">Three Authentication Strategies</a> 
            <br> 
            <a href="#id0060021" xmlns:ms="urn:schemas-microsoft-com:xslt">Our Implementation Plan</a> 
            <br> 
            <a href="#id0060032" xmlns:ms="urn:schemas-microsoft-com:xslt">Finding the Right Software</a> 
            <br> 
            <a href="#id0060041" xmlns:ms="urn:schemas-microsoft-com:xslt">Building Samba</a> 
            <br> 
            <a href="#id0060048" xmlns:ms="urn:schemas-microsoft-com:xslt">Configuring Linux Networking</a> 
            <br> 
            <a href="#id0060054" xmlns:ms="urn:schemas-microsoft-com:xslt">Configuring Linux Time Synchronization</a> 
            <br> 
            <a href="#id0060057" xmlns:ms="urn:schemas-microsoft-com:xslt">Configuring PAM and NSS</a> 
            <br> 
            <a href="#id0060071" xmlns:ms="urn:schemas-microsoft-com:xslt">Installing and Configuring Samba</a> 
            <br> 
            <a href="#id0060076" xmlns:ms="urn:schemas-microsoft-com:xslt">The ID Mapping Problem</a> 
            <br> 
            <a href="#id0060086" xmlns:ms="urn:schemas-microsoft-com:xslt">Joining the Domain and Logging In</a> 
            <br> 
            <a href="#id0060091" xmlns:ms="urn:schemas-microsoft-com:xslt">What if It Doesn't Work?</a> 
            <br> 
            <a href="#id0060096" xmlns:ms="urn:schemas-microsoft-com:xslt">Now that It Works, What Do You Have?</a> 
            <br> 
            <a href="#id0060101" xmlns:ms="urn:schemas-microsoft-com:xslt">Third-Party Solutions</a> 
            <br> 
           </div> 
          </div> 
         </div> 
         <div id="id0060001" class="ArticleNormalPara">
          Republicans and Democrats. Toothpaste and orange juice. Linux and Windows. Some things just don’t mix, right? Every IT shop I’ve ever been involved with has been divided into two camps: the Windows team and the Linux team. They don’t really compete with each other, but they sure don't collaborate either. In fact, some places even go so far as to put a yellow line on the floor just to make absolutely sure that there's no inappropriate fraternization between the two groups.
         </div> 
         <div id="id0060002" class="ArticleNormalPara">
          I'm a Windows guy, and I've certainly poked fun at my Linux-oriented colleagues, but we all have the same goal of providing high-quality and cost-effective IT services to the organization. One way we can do that is by sharing core software infrastructure like Active Directory. Just about all IT organizations have settled on Active Directory to provide authentication services to their Windows desktops and servers. Instead of maintaining a separate authentication infrastructure for the Linux environment (along with a separate set of user names and passwords), wouldn't it be better if the Linux computers used Active Directory as well? I think it would, and I'll show you how to do it in this article.
         </div> 
         <br> 
         <div id="id0060003" class="ArticleTypeTitle">
          Windows Authentication
         </div> 
         <div id="id0060004" class="ArticleNormalPara">
          Windows has shipped with an integrated network authentication and single sign-on system for quite some time now. Before Windows 2000, Windows NT domain controllers (DCs) provided authentication services to Windows clients using the NT LAN Manager (NTLM) protocol. Although NTLM was not as secure as was originally thought, it was very helpful because it neatly solved the problem of needing to maintain duplicate user accounts across multiple servers on the network.
         </div> 
         <div id="id0060005" class="ArticleNormalPara">
          Starting with Windows 2000, Microsoft moved from NTLM to Active Directory and its integrated Kerberos authentication services. Kerberos was considerably more secure than NTLM, and it scaled better, too. And Kerberos was an industry standard already used by Linux and UNIX systems, which opened the door to integrating those platforms with Windows.
         </div> 
         <br> 
         <div id="id0060006" class="ArticleTypeTitle">
          Linux Authentication
         </div> 
         <div id="id0060007" class="ArticleNormalPara">
          Originally, Linux (and the GNU tools and libraries that run on it) was not built with a single authentication mechanism in mind. As a result of this, Linux application developers generally took to creating their own authentication scheme. They managed to accomplish this by either looking up names and password hashes in /etc/passwd (the traditional text file containing Linux user credentials) or providing an entirely different (and separate) mechanism. 
         </div> 
         <div id="id0060008" class="ArticleNormalPara">
          The resulting plethora of authentication mechanisms was unmanageable. In 1995, Sun proposed a mechanism called Pluggable Authentication Modules (PAM). PAM provided a common set of authentication APIs that all application developers could use, along with an administrator-configured back end that allowed for multiple "pluggable" authentication schemes. By using the PAM APIs for authentication and the Name Server Switch (NSS) APIs for looking up user information, Linux application developers could write less code, and Linux administrators could have a single place to configure and manage the authentication process. 
         </div> 
         <div id="id0060009" class="ArticleNormalPara">
          Most Linux distributions come with several PAM authentication modules, including modules that support authentication to an LDAP directory and authentication using Kerberos. You can use these modules to authenticate to Active Directory, but there are some significant limitations, as I will discuss later in this article. 
         </div> 
         <br> 
         <div id="id0060010" class="ArticleTypeTitle">
          Samba and Winbind
         </div> 
         <div id="id0060011" class="ArticleNormalPara"> 
          <a href="http://samba.org">Samba</a> is an open-source project that aims to provide integration between Windows and Linux environments. Samba contains components that give Linux machines access to Windows file and print services as well as provide Linux-based services that emulate Windows NT 4.0 DCs. Using the Samba client components, Linux machines can take advantage of Windows authentication services provided by Windows NT and Active Directory DCs.
         </div> 
         <div id="id0060012" class="ArticleNormalPara">
          The particular part of Samba that is most interesting to us for this project is called Winbind. Winbind is a daemon (service in Windows parlance) that runs on Samba clients and acts as a proxy for communication between PAM and NSS running on the Linux machine and Active Directory running on a DC. In particular, Winbind uses Kerberos to authenticate with Active Directory and LDAP to retrieve user and group information. Winbind also provides additional services such as the ability to locate DCs using an algorithm similar to the DCLOCATOR in Active Directory and the ability to reset Active Directory passwords by communicating with a DC using RPC.
         </div> 
         <div id="id0060013" class="ArticleNormalPara">
          Winbind solves a few problems that simply using Kerberos with PAM doesn't. In particular, instead of hard-coding a DC to authenticate to the way the PAM Kerberos module does, Winbind selects a DC by searching DNS locator records similar to the way the Microsoft DC LOCATOR module does. 
         </div> 
         <br> 
         <div id="id0060014" class="ArticleTypeTitle">
          Three Authentication Strategies
         </div> 
         <div id="id0060015" class="ArticleNormalPara">
          Given the availability of LDAP, Kerberos, and Winbind on Linux machines, there are three different implementation strategies we can employ to allow our Linux machine to use Active Directory for authentication.
         </div> 
         <div id="id0060016" class="ArticleNormalPara"> 
          <span class="ArticleInlineTitle">Using LDAP Authentication </span>The easiest but least satisfactory way to use Active Directory for authentication is to configure PAM to use LDAP authentication, as shown in 
          <strong>Figure 1</strong>. Although Active Directory is an LDAPv3 service, Windows clients use Kerberos (with fallback to NTLM), not LDAP, for authentication purposes. 
         </div> 
         <div id="id0060017" class="ArticleNormalPara">
          LDAP authentication (called LDAP binding) passes the user name and password in clear text over the network. This is insecure and unacceptable for most purposes. 
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig01" src="https://i-technet.sec.s-msft.com/dynimg/IC318758.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 1 
           <strong>Authenticating to Active Directory using LDAP </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <div id="id0060018" class="ArticleNormalPara">
          The only way to mitigate this risk of passing credentials in the clear is to encrypt the client-Active Directory communication channel using something such as SSL. While this is certainly doable, it imposes the additional burden of managing the SSL certificates on both the DC and the Linux machine. Furthermore, using the PAM LDAP module does not support changing reset or expired passwords. 
         </div> 
         <div id="id0060019" class="ArticleNormalPara"> 
          <span class="ArticleInlineTitle">Using LDAP and Kerberos</span> Another strategy for leveraging Active Directory for Linux authentication is to configure PAM to use Kerberos authentication and NSS to use LDAP to look up user and group information, as shown in 
          <strong>Figure 2</strong>. This scheme has the advantage of being relatively more secure, and it leverages the "in-the-box" capabilities of Linux. But it doesn't take advantage of the DNS Service Location (SRV) records that Active Directory DCs publish, so you are forced to pick a specific set of DCs to authenticate to. It also doesn't provide a very intuitive way of managing expiring Active Directory passwords or, until recently, for proper group membership lookups.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig02" src="https://i-technet.sec.s-msft.com/dynimg/IC318760.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 2 
           <strong>Authenticating to Active Directory using LDAP and Kerberos </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <div id="id0060020" class="ArticleNormalPara"> 
          <span class="ArticleInlineTitle">Using Winbind</span> The third way to use Active Directory for Linux authentication is to configure PAM and NSS to make calls to the Winbind daemon. Winbind will translate the different PAM and NSS requests into the corresponding Active Directory calls, using either LDAP, Kerberos, or RPC, depending on which is most appropriate. 
          <strong>Figure 3</strong> shows this strategy.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig03" src="https://i-technet.sec.s-msft.com/dynimg/IC318762.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 3 
           <strong>Authenticating to Active Directory using Winbind </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <br> 
         <div id="id0060021" class="ArticleTypeTitle">
          Our Implementation Plan
         </div> 
         <div id="id0060022" class="ArticleNormalPara">
          Because of the enhanced integration with Active Directory, I chose to use Winbind on Red Hat Enterprise Linux 5 (RHEL5) for my Linux-to-Active Directory integration project. RHEL5 is the current version of the commercial Red Hat Linux distribution, and it is fairly popular in enterprise datacenters.
         </div> 
         <div id="id0060023" class="ArticleNormalPara">
          Getting RHEL5 to authenticate to Active Directory basically requires five separate steps, as follows:
         </div> 
         <div id="id0060025" class="ArticleNormalPara"> 
          <ol> 
           <li>Locate and download the appropriate Samba and other dependent components.</li> 
           <li>Build Samba.</li> 
           <li>Install and configure Samba.</li> 
           <li>Configure Linux, specifically PAM and NSS.</li> 
           <li>Configure Active Directory.</li> 
          </ol> 
         </div> 
         <div id="id0060031" class="ArticleNormalPara">
          The next few sections in this article describe these steps in more detail.
         </div> 
         <br> 
         <div id="id0060032" class="ArticleTypeTitle">
          Finding the Right Software
         </div> 
         <div id="id0060033" class="ArticleNormalPara">
          One of the biggest differences between Linux and Windows is that Linux consists of a small operating system kernel and a huge collection of separately downloadable and installable components. This makes it possible to create very specific Linux configurations optimized for certain tasks, but it can also make configuration and management of a server extremely complicated. Different distributions handle this in different ways. Red Hat (and its non-commercial cousin Fedora) use the Red Hat Package Manager (RPM) to install and manage these components.
         </div> 
         <div id="id0060034" class="ArticleNormalPara">
          Linux components for Red Hat come in two forms. RPM files contain binary files that have been pre-compiled and built for a specific combination of component version, Linux distribution, and CPU architecture. So you could download and install, for instance, the 1.3.8-5 version of the Common UNIX Printing System (CUPS) built for Fedora version 10 running on an Intel x86 architecture CPU. Given that there are a dozen different CPU architectures, more than 100 Linux distributions, and thousands of packages and versions, you can see that there are an incredible number of binary RPMs from which to choose.
         </div> 
         <div id="id0060035" class="ArticleNormalPara">
          Source RPM files, on the other hand, contain the actual source code for a given package. The expectation is that you will download and install the sources, configure the build options, and compile and link the binaries yourself. The idea of building your own operating system components is daunting for a Windows guy used to installing whatever Microsoft provides on the Windows installation CD, but the package manager makes the process fairly painless and surprisingly reliable. The Samba group releases updates and security patches at a furious rate; in July and August 2008 alone, there were four releases of Samba 3.2, with a total of more than 100 bug and security fixes. For this project, I downloaded the sources for the latest stable version of Samba, version 3.0.31. 
         </div> 
         <div id="id0060036" class="ArticleNormalPara">
          Why did I download the Samba sources instead of a pre-compiled set of binaries? That was certainly what I attempted to do first. What I discovered after many hours with a debugger was that the binaries I downloaded were not built with the correct options to support Active Directory authentication. In particular, the code that supports Linux ID mapping in Active Directory was turned off in the default builds; hence I had to rebuild Samba with the appropriate build options. I'll talk more about ID mapping later in this article.
         </div> 
         <div id="id0060037" class="ArticleNormalPara">
          Even though Linux is natively a small kernel, the Red Hat Enterprise distribution comes with many packages preinstalled. Normally this makes life much easier because you start out with a complete working operating system, but the packages that are preinstalled sometimes conflict with software you wish to install later. 
         </div> 
         <div id="id0060038" class="ArticleNormalPara">
          I did not include Samba when I installed Red Hat (normally Samba is installed by default) because I wanted to use a more current version. However, the newer version of Samba requires new versions of several other libraries and utilities that were already installed. These sorts of dependency problems are quite annoying, but they are easily solved using the RPM.
         </div> 
         <div id="id0060039" class="ArticleNormalPara">
          There are many Web sites that host binary RPM packages. The one I used (for no other reason that it was the first one I found) is called PBONE, located at rpm.pbone.net. It has a convenient way of searching for packages and had all the binaries that I needed for my CPU architecture (i386) and operating system distribution (Red Hat Enterprise Linux 5/Fedora 7&amp;8).
         </div> 
         <div id="id0060040" class="ArticleNormalPara">
          I had to download and update the packages listed in 
          <strong>Figure 4</strong> to build and install the latest 3.0 version of Samba (there is an even later 3.2 version tree that I have not tried). Note that these packages target the Fedora Core (fc) distribution. Red Hat is based on the same sources Fedora uses and is completely interoperable with it. Packages built for Fedora Core 7 and later will run on RHEL5 with no modification. Place the downloaded RPM files in the /usr/src/redhat/RPMS directory.
         </div> 
         <div id="id015" class="figmargin"> 
          <div> 
           <h2 class="LW_CollapsibleArea_TitleDiv"> 
            <div> 
             <a class="LW_CollapsibleArea_TitleAhref" title="Collapse" role="heading"> <span class="cl_CollapsibleArea_expanding LW_CollapsibleArea_Img"></span> <span class="LW_CollapsibleArea_Title">Figure 4 Packages needed for building and installing Samba 3.0.31</span> </a> 
             <div id="Anchor_1" class="LW_CollapsibleArea_Anchor_Div"> 
              <a href="/en-us/library/2008.12.linux.aspx#Anchor_1" class="LW_CollapsibleArea_Anchor_Img" title="Right-click to copy and share the link for this section"></a> 
             </div> 
             <div class="LW_CollapsibleArea_HrDiv"> 
              <hr class="LW_CollapsibleArea_Hr"> 
             </div> 
            </div> </h2> 
           <div class="sectionblock"> 
            <table responsive="true" summary="table"> 
             <tbody>
              <tr responsive="true"> 
               <th scope="col">samba-3.031-0.fc8.src.rpm</th> 
               <th scope="col">Samba 3.0.31 source RPM</th> 
              </tr> 
              <tr> 
               <td data-th="samba-3.031-0.fc8.src.rpm">gnutls1.6.3-3.fc7.i386</td> 
               <td data-th="Samba 3.0.31 source RPM">GNU Transport Layer Security (TLS) libraries</td> 
              </tr> 
              <tr> 
               <td data-th="samba-3.031-0.fc8.src.rpm">gnutils-devel-1.6.3-3.fc7.i386</td> 
               <td data-th="Samba 3.0.31 source RPM">GNU TLS development files</td> 
              </tr> 
              <tr> 
               <td data-th="samba-3.031-0.fc8.src.rpm">popt-1.12-3.fc8.i386</td> 
               <td data-th="Samba 3.0.31 source RPM">Command-line argument parsing libraries</td> 
              </tr> 
              <tr> 
               <td data-th="samba-3.031-0.fc8.src.rpm">popt-devel-1.12-3.fc8.i386</td> 
               <td data-th="Samba 3.0.31 source RPM">Command-line argument parsing development files</td> 
              </tr> 
              <tr> 
               <td data-th="samba-3.031-0.fc8.src.rpm">cups-libs-1.2.12-11.fc7.i386</td> 
               <td data-th="Samba 3.0.31 source RPM">Common UNIX Printer System libraries</td> 
              </tr> 
              <tr> 
               <td data-th="samba-3.031-0.fc8.src.rpm">cups-devel-1.2.12-11.fc7.i386</td> 
               <td data-th="Samba 3.0.31 source RPM">Common UNIX Printer System development files</td> 
              </tr> 
              <tr> 
               <td data-th="samba-3.031-0.fc8.src.rpm">cups-1.2.12.11.fc7.i386 </td> 
               <td data-th="Samba 3.0.31 source RPM">Common UNIX Printer System binaries</td> 
              </tr> 
             </tbody>
            </table> 
           </div> 
          </div> 
         </div> 
         <br> 
         <div id="id0060041" class="ArticleTypeTitle">
          Building Samba
         </div> 
         <div id="id0060042" class="ArticleNormalPara">
          The first step in building Samba is to download the proper source RPM. I downloaded the source RPM for Samba 3.0.31 from the PBONE site. Next, place the downloaded source RPM file in /usr/src/redhat/SRPMS; this is the standard directory for source RPMs during the build process.
         </div> 
         <div id="id0060043" class="ArticleNormalPara">
          Open a terminal session (command-line window in Windows parlance) and move to the SRPMS folder. Once that is done, install the source package using the command, as shown in 
          <strong>Figure 5</strong>.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig05" src="https://i-technet.sec.s-msft.com/dynimg/IC318764.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 5 
           <strong>Installing the Samba source RPM </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <div id="id0060044" class="ArticleNormalPara">
          If you see the error warning "user mockbuild does not exist—using root," don't worry. This error indicates that the Mock build utilities aren't installed. The build process will work without them.
         </div> 
         <div id="id0060045" class="ArticleNormalPara">
          Next, move to the /usr/src/redhat/SPECS directory and edit the file SAMBA.SPEC, which contains the Samba build options. Search for the line that starts with "CFLAGS=", and make sure the option "--with-shared-modules=idmap_ad,idmap_rid" is present. This option ensures that the build process will include the code that translates Linux UIDs (unique identifiers) properly to Active Directory. 
          <strong>Figure 6</strong> shows this option.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig06" src="https://i-technet.sec.s-msft.com/dynimg/IC318766.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 6 
           <strong>The with-shared-modules build option </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <div id="id0060046" class="ArticleNormalPara">
          Next, you may have to update some of the libraries on your machine to properly build and install Samba; it depends on what versions of the libraries you happen to have installed. In my case, I had to install the packages listed in 
          <strong>Figure 4</strong> using the rpm --install command; in some cases I had to use the --force option to get past some of the dependency problems. 
         </div> 
         <div id="id0060047" class="ArticleNormalPara">
          To build Samba, move to the /usr/src/redhat directory and run the command rpmbuild –bb SPECS/samba.spec, as shown in 
          <strong>Figure 7</strong>. The process will leave a new samba-3.0.31-0.i386 RPM file in the /usr/src/redhat/RPMS directory. We will install this RPM file later in the project.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig07" src="https://i-technet.sec.s-msft.com/dynimg/IC318768.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 7 
           <strong>Creating the Samba binary RPM file </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <br> 
         <div id="id0060048" class="ArticleTypeTitle">
          Configuring Linux Networking
         </div> 
         <div id="id0060049" class="ArticleNormalPara">
          In order to authenticate with Active Directory, your Linux machine must be able to communicate with a DC. You have to configure three networking settings in order for this to happen. 
         </div> 
         <div id="id0060050" class="ArticleNormalPara">
          First, it's important to make sure that the network interface for your Linux machine is configured properly, either by using Dynamic Host Configuration Protocol (DHCP) or by assigning it an appropriate IP address and netmask using the ifconfig command. Under RHEL5, you configure the network by selecting Network from the System | Administration menu, as shown in 
          <strong>Figure 8</strong>.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig08" src="https://i-technet.sec.s-msft.com/dynimg/IC318770.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 8 
           <strong>Configuring the network </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <div id="id0060051" class="ArticleNormalPara">
          Next, ensure that the DNS resolver for the Linux machine is set to use the same DNS name server that your DCs use; in the majority of cases, this is a DC in the domain to which you want to join the Linux machine, assuming you are using Active Directory-integrated DNS. You configure the DNS resolver on the DNS tab of the same Network configuration utility you used to configure the network, as shown in 
          <strong>Figure 9</strong>.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig09" src="https://i-technet.sec.s-msft.com/dynimg/IC318772.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 9 
           <strong>Setting the primary DNS resolver </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <div id="id0060052" class="ArticleNormalPara">
          Finally, once you have completed those steps, you must set the host name of the Linux computer to reflect its name in the domain. Even though you can set the host name using the Network configuration app, this doesn't seem to always work properly.
         </div> 
         <div id="id0060053" class="ArticleNormalPara">
          Instead, edit the /etc/hosts file directly, and add an entry below the localhost.localdomain entry that has the form &lt;ip address&gt; &lt;FQDN&gt; &lt;host name&gt;. (An example would be "10.7.5.2 rhel5.linuxauth.local linuxauth".) I should note that failure to do this will result in the creation of an incorrect computer object in the directory after you join the Linux computer to the domain.
         </div> 
         <br> 
         <div id="id0060054" class="ArticleTypeTitle">
          Configuring Linux Time Synchronization
         </div> 
         <div id="id0060055" class="ArticleNormalPara">
          The Kerberos protocol is dependent on the authenticating systems having clocks that are synchronized within a relatively small value. By default, Active Directory allows a maximum time skew of five minutes. To ensure that your Linux systems and your DCs' system clocks stay within this value, you should configure your Linux systems to use the Network Time Protocol (NTP) service of a DC. 
         </div> 
         <div id="id0060056" class="ArticleNormalPara">
          Next, on the Linux server, run the Date &amp; Time utility from the System | Administration menu, and then click on the Network Time Protocol tab. Check the Enable Network Time Protocol box, and then add the IP address of the DC you want to use as a network time source. Note that this should typically be the DC in the domain that holds the primary domain controller (PDC) emulator Flexible Single Master Operations (FSMO) role. 
          <strong>Figure 10</strong> is an example of how to set the Linux network time source.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig10" src="https://i-technet.sec.s-msft.com/dynimg/IC318774.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 10 
           <strong>Configuring the Network Time Protocol </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <br> 
         <div id="id0060057" class="ArticleTypeTitle">
          Configuring PAM and NSS
         </div> 
         <div id="id0060058" class="ArticleNormalPara">
          PAM and NSS provide the glue between a Linux application, such as the desktop, and Winbind. Like many Linux services, you configure PAM and NSS through text files. We'll look at configuring PAM first.
         </div> 
         <div id="id0060059" class="ArticleNormalPara">
          PAM provides four authentication-related facilities to apps that use it. The authentication facility lets an application determine who is using it. The account facility provides account management functions that aren't specifically related to authentication, such as login time restriction. The password facility provides mechanisms for soliciting and managing passwords. The session facility performs user-­related setup and tear-down tasks for the application, such as logging or creating files in a user-specific directory.
         </div> 
         <div id="id0060060" class="ArticleNormalPara">
          PAM under Red Hat stores its configuration files in the /etc/pam.d directory, which will contain a text file for each application that uses PAM for authentication. For instance, the file /etc/pam.d/gdm contains the PAM configuration information for the Gnome Desktop Manager (GDM), the default windowing environment for Red Hat. Each PAM configuration file contains multiple lines, with each line defining some aspect of the PAM authentication process. 
          <strong>Figure 11</strong> shows the contents of the PAM configuration file for GDM.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig11" src="https://i-technet.sec.s-msft.com/dynimg/IC318776.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 11 
           <strong>PAM configuration file for Gnome Desktop Manager </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <div id="id0060061" class="ArticleNormalPara">
          Each entry in a PAM configuration file has the form &lt;management group&gt; &lt;control&gt; &lt;module&gt; &lt;parameters&gt;, where &lt;management group&gt; corresponds to the facility the configuration entry pertains to: auth, account, password, or session. The control keywords, which are described in 
          <strong>Figure 12</strong>, tell PAM how to process the configuration entry. The third column of the file contains the name of a PAM shared library in the /lib/security directory. Shared libraries contain dynamically loadable executable code, similar to DLLs in Windows. Additional terms after the module name are parameters that PAM passes to the shared library. 
         </div> 
         <div id="id022" class="figmargin"> 
          <div> 
           <h2 class="LW_CollapsibleArea_TitleDiv"> 
            <div> 
             <a class="LW_CollapsibleArea_TitleAhref" title="Collapse" role="heading"> <span class="cl_CollapsibleArea_expanding LW_CollapsibleArea_Img"></span> <span class="LW_CollapsibleArea_Title">Figure 12 PAM control keywords</span> </a> 
             <div id="Anchor_2" class="LW_CollapsibleArea_Anchor_Div"> 
              <a href="/en-us/library/2008.12.linux.aspx#Anchor_2" class="LW_CollapsibleArea_Anchor_Img" title="Right-click to copy and share the link for this section"></a> 
             </div> 
             <div class="LW_CollapsibleArea_HrDiv"> 
              <hr class="LW_CollapsibleArea_Hr"> 
             </div> 
            </div> </h2> 
           <div class="sectionblock"> 
            <table responsive="true" summary="table"> 
             <tbody>
              <tr responsive="true"> 
               <th scope="col">Keyword</th> 
               <th scope="col">Description</th> 
              </tr> 
              <tr> 
               <td data-th="Keyword">Required</td> 
               <td data-th="Description">If the module succeeds, PAM continues evaluating the remaining entries for the management group, and the results will be determined by the results of the remaining modules. If the module fails, PAM continues evaluation but will return failure to the calling application.</td> 
              </tr> 
              <tr> 
               <td data-th="Keyword">Requisite</td> 
               <td data-th="Description">If the module succeeds, PAM continues evaluating the management group entries. If the module fails, PAM returns to the calling application with no further processing.</td> 
              </tr> 
              <tr> 
               <td data-th="Keyword">Sufficient</td> 
               <td data-th="Description">If the module succeeds, PAM will return success to the calling application. If the module fails, PAM continues evaluation, but the results will be determined by subsequent modules.</td> 
              </tr> 
              <tr> 
               <td data-th="Keyword">Optional</td> 
               <td data-th="Description">PAM ignores the results of the module unless it is the only module specified for the management group.</td> 
              </tr> 
              <tr> 
               <td data-th="Keyword">Include</td> 
               <td data-th="Description">PAM includes the contents of the referenced PAM configuration file and processes the entries it contains.</td> 
              </tr> 
             </tbody>
            </table> 
           </div> 
          </div> 
         </div> 
         <div id="id0060062" class="ArticleNormalPara">
          You can see that each management group has several entries. PAM processes the entries in order by calling the named module. The module then returns either success or failure, and PAM proceeds according to the control keyword.
         </div> 
         <div id="id0060063" class="ArticleNormalPara">
          You'll notice that the PAM configuration file for GDM includes system-auth in all of its management groups. This is how PAM establishes default authentication behavior for GDM. By modifying system-auth, you can modify the authentication behavior for all of the applications that include the system-auth file in their PAM configurations. The default system-auth file is shown in 
          <strong>Figure 13</strong>.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig13" src="https://i-technet.sec.s-msft.com/dynimg/IC318778.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 13 
           <strong>PAM system-auth file </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <div id="id0060064" class="ArticleNormalPara">
          The Name Service Switch (NSS) module hides the specifics of system data storage from the application developer, in much the same way that PAM hides the details of authentication. NSS lets the administrator specify the way system databases are stored. In particular, the administrator can specify how user name and password information is stored. Because we want applications to look up user information in Active Directory using Winbind, we have to modify the NSS configuration file to show that.
         </div> 
         <div id="id0060065" class="ArticleNormalPara">
          Red Hat includes a little graphical applet for configuring PAM and NSS called system-config-authentication. It takes care of most (but not all) of the changes you need to make to the system-auth and nss.conf files.
         </div> 
         <div id="id0060066" class="ArticleNormalPara">
          Run the system-config-authentication application and you will see a dialog like the one shown in 
          <strong>Figure 14</strong>. Check the Winbind option on both the User Information tab (which configures the nss.conf file) and the Authentication tab (which modifies system-auth file).
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig14_L" src="https://i-technet.sec.s-msft.com/dynimg/IC318781.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 14 
           <strong>The systemconfig-authentication dialog </strong>
          </div> 
         </div> 
         <div id="id0060067" class="ArticleNormalPara">
          Click the Configure Winbind button and you will see the dialog in 
          <strong>Figure 15</strong>. Enter the name of the domain you want users to authenticate to in the Winbind Domain field, and select "ads" as the security model. Enter the DNS domain name of the Active Directory domain in the Winbind ADS Realm field. In the Winbind Domain Controllers field, enter either the name of a DC you want this Linux system to authenticate with or an asterisk, indicating that Winbind should select a DC by querying DNS SRV records. 
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig15" src="https://i-technet.sec.s-msft.com/dynimg/IC318782.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 15 
           <strong>Configure Winbind dialog </strong>
          </div> 
         </div> 
         <div id="id0060068" class="ArticleNormalPara">
          Select the appropriate default command shell your Active Directory users should have; in this case, I selected the Bourne-again Shell, or BASH. Don't try the "Join Domain" button at this point. You will join the machine to the domain later on.
         </div> 
         <div id="id0060069" class="ArticleNormalPara">
          There is one additional change to make to the /etc/pam.d/system-auth file after you have modified it to support Winbind. When a Linux user logs in, the system requires that the user have a home directory. The home directory contains many user-specific preferences and configuration items, much like the Windows registry. The problem is that because you are creating your users in Active Directory, Linux will not automatically create the user's home directory. Luckily, you can configure PAM to do this as part of its session configuration.
         </div> 
         <div id="id0060070" class="ArticleNormalPara">
          Open the /etc/pam.d/system-auth file, then scroll down toward the bottom and insert a line before the last line in the session section that reads "session optional map_mkhomedir.so skel=/etc/skel umask=0644" (see 
          <strong>Figure 16</strong>). This line configures PAM to create a home directory for a user if one doesn't exist. It will use the directory /etc/skel as a "skeleton" or template, and it will assign the permissions mask 0644 (read and write for owner, read for the primary group, and read for everyone else) to the new folder.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig16" src="https://i-technet.sec.s-msft.com/dynimg/IC318783.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 16 
           <strong>Creating a home directory for users </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <br> 
         <div id="id0060071" class="ArticleTypeTitle">
          Installing and Configuring Samba
         </div> 
         <div id="id0060072" class="ArticleNormalPara">
          To install the Samba binaries you just created, change to the /usr/src/redhat/RPMS directory. All of the RPM files created by the rpmbuild command will appear in this directory. Remember that Samba includes binaries that allow a Linux client to access a Windows (or Samba) file share, as well as code that allows a Linux system to act as a Windows file server, a Windows printer server, and a Windows NT 4.0-style DC. 
         </div> 
         <div id="id0060073" class="ArticleNormalPara">
          We don't need all of that to allow Linux to authenticate to Active Directory; all we really need are the Samba common files and the Samba client binaries. These files are conveniently split out into two RPM files: samba-client-3.0.31-0.i386.rpm and samba-common-3.0.31-0.i386.rpm. Install the RPM files using the rpm --install command. Here is an example: rpm --install samba-common-3.0.31-0.i386.rpm. (Note that you will need to install the –common RPM file first.)
         </div> 
         <div id="id0060074" class="ArticleNormalPara">
          Once you've installed the Samba client binaries, you must modify the default Samba configuration to make sure Winbind handles authentication properly with Active Directory. All of the Samba configuration information (both client and server) can be found in the smb.conf text file, which by default is in the /etc/samba directory. Smb.conf can contain an enormous number of configuration options, and a complete discussion of its contents is beyond the scope of this article. The samba.org Web site and the Linux man pages discuss smb.conf in some detail.
         </div> 
         <div id="id0060075" class="ArticleNormalPara">
          The first step is to configure Winbind to use Active Directory for authentication. You must set the security model in smb.conf to "ads". The system-config-authentication utility should have set this for you already, but it's always good to check. Edit the smb.conf file and search for the section labeled Domain Member Options. Find the line that starts with "security" and make sure it reads "security = ads". The next configuration step determines how Winbind will map Windows security principals such as users and groups to Linux identifiers, and that requires a little more explanation.
         </div> 
         <br> 
         <div id="id0060076" class="ArticleTypeTitle">
          The ID Mapping Problem
         </div> 
         <div id="id0060077" class="ArticleNormalPara">
          There's one big problem I haven't mentioned yet with authenticating Linux users with Active Directory, and that is the problem of UIDs for users and groups. Internally, neither Linux nor Windows refer to users by user name; instead they use a unique internal identifier. Windows uses the Security Identifier, or SID, which is a variable-length structure that uniquely identifies each user within a Windows domain. The SID also contains a unique domain identifier so that Windows can distinguish between users in different domains.
         </div> 
         <div id="id0060078" class="ArticleNormalPara">
          Linux has a much simpler scheme. Each user on a Linux machine has a UID that is simply a 32-bit integer. But the scope of the UID is limited to the machine itself. There is no guarantee that the user with UID 436 on one Linux machine is the same as the user with UID 436 on another Linux machine. Consequently, a user will have to login to each machine he needs to access, clearly not a desirable situation.
         </div> 
         <div id="id0060079" class="ArticleNormalPara">
          Linux network administrators usually address this problem by providing network authentication using either Network Information System (NIS) or a shared LDAP directory. The network authentication system provides the UID for the user, and all the Linux machines that use that authentication system will share the same user and group identifiers. In this situation, I will use Active Directory to provide the unique user and group identifiers.
         </div> 
         <div id="id0060080" class="ArticleNormalPara">
          There are two strategies I can use in order to address this problem. The first (and also most obvious) strategy is to create a UID for each user and group and store that identifier with the respective object in Active Directory. This way, when Winbind authenticates a user, it can look up the UID for the user and provide it to Linux as the user's internal identifier. Winbind refers to this scheme as Active Directory ID mapping, or idmap_ad. 
          <strong>Figure 17</strong> shows the process of Active Directory ID mapping.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig17" src="https://i-technet.sec.s-msft.com/dynimg/IC318785.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 17 
           <strong>Active Directory ID mapping </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <div id="id0060081" class="ArticleNormalPara">
          The only downside to Active Directory ID mapping is that we have to provide a mechanism to ensure that every user and group has an identifier, and that these identifiers are all unique in the forest. See the sidebar, "Configuring Active Directory for Active Directory ID Mapping," for more information.
         </div> 
         <div id="id0060082" class="ArticleNormalPara">
          Happily, there is another ID mapping strategy that has a lot less administrative overhead. Recall that the Windows SID uniquely identifies the user within a domain as well as the domain itself. The portion of the SID that uniquely identifies the user within the domain is called the Relative Identifier, or RID, and is in fact a 32-bit integer. So, Winbind can simply extract the RID from the SID when the user logs in and then use the RID as the unique internal UID. Winbind refers to this strategy as RID mapping, or idmap_rid. 
          <strong>Figure 18</strong> illustrates how RID mapping actually works. 
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig18" src="https://i-technet.sec.s-msft.com/dynimg/IC318787.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 18 
           <strong>RID mapping </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <div id="id0060083" class="ArticleNormalPara">
          RID mapping has the benefit of zero administrative overhead, but you can't use it in a multi-domain environment because of the likelihood of users in different domains having the same RID value. But if you have a single Active Directory domain, RID mapping is the way to go.
         </div> 
         <div id="id0060084" class="ArticleNormalPara">
          To configure the Winbind ID mapping strategy, edit the /etc/samba/smb.conf file again and add the line "idmap backend = ad" to use the Active Directory mapping strategy, or "idmap backend = rid" if you want to use the RID mapping strategy. Make sure that there are no other lines specifying the mapping strategy in the file.
         </div> 
         <div id="id0060085" class="ArticleNormalPara">
          There are a couple of other configuration options we need to add to the smb.conf file for Winbind. Even though we set up PAM to make the home directory for each user when they log in, we need to tell Winbind what the name of that home directory is. We do this by adding the line "template homedir = /home/%U" to smb.conf (see 
          <strong>Figure 19</strong>). This tells Winbind that the home directory for each user that authenticates using Active Directory will be /home/&lt;user name&gt;. Be sure to create the /home directory beforehand.
         </div> 
         <div class="ArticleImageSpacer"> 
          <img id="fig19" src="https://i-technet.sec.s-msft.com/dynimg/IC318789.gif" xmlns=""> 
          <div class="ArticleImageCaptionText">
           Figure 19 
           <strong>Specifying the name of the home directory </strong>(Click the image for a larger view)
          </div> 
         </div> 
         <br> 
         <div id="id0060086" class="ArticleTypeTitle">
          Joining the Domain and Logging In
         </div> 
         <div id="id0060087" class="ArticleNormalPara">
          Now that the network, PAM, NSS, and Samba Winbind are all configured properly, it's time to join the Linux machine to the domain. You do this using the Samba NET command. At a shell prompt, run "net ads join –U &lt;administrator name&gt;". Replace &lt;administrator name&gt; with the name of an account that has sufficient privileges to join a machine to the domain. 
         </div> 
         <div id="id0060088" class="ArticleNormalPara">
          The net command will prompt you for the user's password. If everything works properly, the net command will join your machine to the domain. You can use Active Directory Users and Computers to locate the newly created computer account.
         </div> 
         <div id="id0060089" class="ArticleNormalPara">
          You can test the state of the join using the Winbind test tool called wbinfo. Running wbinfo –t will test the trust relationship between the machine and the domain. Running wbinfo –u lists all the users in the domain, and wbinfo –g lists all the groups.
         </div> 
         <div id="id0060090" class="ArticleNormalPara">
          If you successfully join the Linux machine to the domain, the next step is to try to log in using an Active Directory user account and password. Log off the Linux machine, and log in using an Active Directory user name. If everything works properly, you should be able to log in.
         </div> 
         <div id="id007" class="SidebarContainer"> 
          <div class="SidebarHeadline">
           Configuring Active Directory for Active Directory ID Mapping
          </div> 
          <div id="id0070001" class="ArticleNormalPara">
           This information applies only if you're using Active Directory ID mapping. If you've decided to use RID mapping, feel free to skip this sidebar. 
          </div> 
          <div id="id0070002" class="ArticleNormalPara">
           Before you can start logging in to your Red Hat server using an Active Directory account, you have to make some changes to Active Directory itself. First, the Active Directory schema has to accommodate the attributes that Winbind uses to store user information. If you are running Windows Server 2003 R2, the schema is ready to go. If you have an earlier version of the Active Directory schema, you will have to extend it using the Microsoft Services for UNIX (SFU) package. 
          </div> 
          <div id="id0070003" class="ArticleNormalPara">
           You can find more on 
           <a href="https://technet.microsoft.com/interopmigration/bb380242.aspx">Services for UNIX on TechNet</a>. SFU also includes an additional property page for the Active Directory Users and Computers Microsoft Management Console (MMC) snap-in that lets you manage the user ID and group ID information that Linux requires.
          </div> 
          <div id="id0070004" class="ArticleNormalPara">
           Once the schema is properly set up, you have to provide Linux identifiers for all of the users (and the groups to which they are members) that might log in to your Linux machine. This means that you have to define values for the uidNumber and gidNumber attributes for the users and groups that might log in to your Linux machines. But you should be aware of some requirements for these attributes:
          </div> 
          <div id="id0070006" class="ArticleNormalPara"> 
           <ol> 
            <li>Linux requires a UID for every user that authenticates. Because you want to manage user information in Active Directory, every user account that will log in to a Linux machine must have a unique uidNumber attribute. The specific value you use for a uidNumber isn't important, but it must be unique across all the users that might log in to the Linux machine.</li> 
            <li>Every Linux user must also have a default group identifier, so each Active Directory user that will log in to a Linux machine requires a value for the gidNumber attribute as well. This value doesn't have to be unique among users, but it must uniquely identify the group.</li> 
            <li>Every group in Active Directory should have a unique value for its gidNumber attribute. Strictly speaking, it's OK for groups to not have a value for the gidNumber attribute, but Winbind expects, when it authenticates a user, that every group to which that user is a member will have a unique gidNumber value. It's probably easiest just to make sure that every group has a unique gidNumber value.</li> 
            <li>Winbind expects that every user it looks up in Active Directory is a member of the Domain Users group, so it also expects that the Domain Users group has a value for its gidNumber attribute.</li> 
           </ol> 
          </div> 
         </div> 
         <br> 
         <div id="id0060091" class="ArticleTypeTitle">
          What if It Doesn't Work?
         </div> 
         <div id="id0060092" class="ArticleNormalPara">
          Setting up a Linux machine to authenticate with Active Directory using Winbind is not a trivial project. There are lots of pieces to configure and lots of things that can go wrong. The fact that every version of Linux and every version of Samba is a little different doesn't help matters. But there are a handful of places you can look to help determine what's going on.
         </div> 
         <div id="id0060093" class="ArticleNormalPara">
          First, there is the Linux system log file, which is maintained in /var/log/messages. Samba will place messages within this file for significant events such as missing files or bad configuration. In addition to the system log file, there are also the log files for Samba and Winbind. You can find these in /var/log/samba, and they will provide you with some additional information.
         </div> 
         <div id="id0060094" class="ArticleNormalPara">
          You can increase the detail (and the volume) of the log messages emitted by Winbind by modifying its startup script to set the debug level. Edit the /etc/init.d/winbind shell script, and add "-d 5" to the winbindd command. This will increase the debug level to 5 (allowable values are from 1 to 10), which will cause winbind to generate more detailed error messages.
         </div> 
         <div id="id0060095" class="ArticleNormalPara">
          If Winbind is getting as far as communicating with a DC, you can run a network packet capture utility such as Netmon 3.1. This lets you analyze exactly what Winbind is trying to do. And you can also inspect the Windows security log on the DC, which will show authentication attempts.
         </div> 
         <br> 
         <div id="id0060096" class="ArticleTypeTitle">
          Now that It Works, What Do You Have?
         </div> 
         <div id="id0060097" class="ArticleNormalPara">
          If you've managed to get everything to work, you now have the ability to log into your Linux system using credentials that you maintain in Active Directory. This is a huge improvement over managing identities locally on the Linux machine or using an insecure system such as NIS. It lets you centralize your user management on one identity store: Active Directory.
         </div> 
         <div id="id0060098" class="ArticleNormalPara">
          But there are a several things that are missing to make this solution truly useful. First, getting technical support is a bit of a hit-or-miss operation. Most Linux organizations are somewhat in the dark when it comes to Active Directory, and the support you can get from the Linux community depends entirely on who happens to read your post and how they feel that day. 
         </div> 
         <div id="id0060099" class="ArticleNormalPara">
          There are also no migration or deployment tools with Samba. If you have existing Linux accounts with their associated user IDs and permissions, you will have to manually ensure that they maintain their UIDs when you migrate them to Active Directory. 
         </div> 
         <div id="id0060100" class="ArticleNormalPara">
          Finally, one of the most important Active Directory apps, Group Policy, isn't yet available with Samba, although it is in the works. Even though you can join a Linux system to Active Directory with Samba, you can't manage it using Group Policy.
         </div> 
         <br> 
         <div id="id0060101" class="ArticleTypeTitle">
          Third-Party Solutions
         </div> 
         <div id="id0060102" class="ArticleNormalPara">
          Authenticating Linux machines with Active Directory is clearly A Good Thing, but rolling your own solution using Samba Winbind is tedious if not downright painful. You would think some innovative software vendors would step up with an easier-to-use solution, and you would be right. 
         </div> 
         <div id="id0060103" class="ArticleNormalPara">
          There are four commercial software vendors that have developed easy-to-install-and-use versions of what I've demonstrated in this article. They provide the code and migration tools for nearly every popular version of Linux, UNIX, and Apple Macintoshes, as well as support for managing Linux machines using Group Policy. 
         </div> 
         <div id="id0060104" class="ArticleNormalPara">
          The four companies are 
          <a href="http://centrify.com">Centrify </a>, 
          <a href="http://likewisesoftware.com">Likewise Software</a>, 
          <a href="http://quest.com">Quest Software</a> and 
          <a href="http://symark.com">Symark </a>. All four vendors provide similar functionality, including Group Policy management, across a wide array of Linux distributions. Likewise Software has recently open-sourced its implementation, called Likewise Open, although its Group Policy component remains a commercial product. Likewise Open will be available with several major Linux distributions. (Full disclosure: while in the process of writing this article, my company, NetPro, was acquired by Quest Software.)
         </div> 
         <div id="id0060105" class="ArticleNormalPara">
          Does it make sense to build your own authentication system using Samba and Winbind when there are commercial options available? If spending money on integration software isn't in the budget, then going the open-source route with Samba has the advantage of being free. You also get all the source code, which can be a compelling benefit. But migrating existing Linux machines and their existing UIDs is a very thorny problem.
         </div> 
         <div id="id0060106" class="ArticleNormalPara">
          On the other hand, if you want to save installation and implementation time, you have existing Linux machines you need to migrate, or you would rather have someone to call for an authoritative answer to your question, then checking out one of the commercial solutions makes sense. And if you need Group Policy management, then the commercial alternative is your only choice.
         </div> 
         <div id="id0060107" class="ArticleNormalPara">
          But whichever way you go, integrating Linux authentication with Active Directory reduces the effort you spend managing multiple user accounts, improves system security, and provides you with a single identity store to manage and audit. And those are all pretty compelling reasons to give it a try.
         </div> 
         <br> 
         <div class="AuthorBio"> 
          <strong>Gil Kirkpatrick</strong> has designed or developed dozens of successful commercial software products in his 30-year career, and he is the founder of the Directory Experts Conference (now called The Experts Conference). Gil is the author of 
          <em>Active Directory Programming</em> and is a frequent contributor to 
          <em>Windows IT Pro</em> and 
          <em>TechNet Magazine</em>. In his current role as Expert-in-Residence at NetPro (now part of Quest Software), Gil consults on various security, identity, and marketing projects and speaks at technology seminars and conferences around the world. 
         </div> 
         <br> 
         <div class="solidLine"> 
         </div> 
        </div> 
       </div> 
       <div class="SiteTitle"> 
        <div class="navpage" xmlns="http://www.w3.org/1999/xhtml"> 
         <script type="text/javascript" language="javascript" src="https://www.microsoft.com/feeds/Technet/en-us/techcenters/TCDisplay.js" data-do-not-move="true">
          
        </script> 
         <div class="tc_namediv" id="" style="height:0;"> 
          <p style="overflow:hidden;height:0px;">&nbsp;</p> 
          <script data-do-not-move="true" type="text/javascript">setTimeout(displayTC("TechNet Magazine"), 1000);</script> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
     <div class="libraryMemberFilter"> 
      <div class="filterContainer"> 
       <span>Show:</span> 
       <label> <input type="checkbox" class="libraryFilterInherited" checked value="Inherit">Inherited </label> 
       <label> <input type="checkbox" class="libraryFilterProtected" checked value="Protected">Protected </label> 
      </div> 
     </div> 
     <input type="hidden" id="libraryMemberFilterEmptyWarning" value="There are no members available with your current filter settings."> 
    </div> 
    <div id="rightNavigationMenu" ms.cmpgrp="right nav"> 
     <div id="mobileButtons"> 
      <div id="navigationButtons"> 
       <a id="isd_print" href="https://technet.microsoft.com/en-us/library/2008.12.linux(d=printer).aspx" rel="nofollow"><ins class="print"></ins>Print </a> 
       <a id="isd_printABook" href="/en-us/library/export/help/?returnurl=%2fen-us%2flibrary%2f2008.12.linux.aspx"> <ins class="export"></ins>Export (<span class="count">0</span>) </a> 
      </div> 
     </div> 
     <div id="navMain"> 
      <div id="closeNavigation"> 
       <a class="tocCloseSmall" id="closeButton"></a> 
      </div> 
      <div id="navigationButtons"> 
       <a id="isd_print" href="https://technet.microsoft.com/en-us/library/2008.12.linux(d=printer).aspx" rel="nofollow"><ins class="print"></ins>Print </a> 
       <a id="isdShare" href="#" role="button" aria-expanded="false"> <ins class="share"></ins>Share </a> 
       <div id="socials" style="display: none"> 
        <a class="isdFacebook" href="#" aria-label="Share on Facebook"> <ins class="facebook"></ins> </a> 
        <a class="isdTwitter" href="#" aria-label="Share on Twitter"> <ins class="twitter"></ins> </a> 
        <a class="isdGooglePlus" href="#" aria-label="Share on Google+"> <ins class="googlePlus"></ins> </a> 
       </div> 
      </div> 
      <div id="indoc_toc" style="display: none" ms.cmpgrp="indoc toc"> 
       <div id="indoc_title">
        IN THIS ARTICLE
       </div> 
       <ul id="indoc_toclist"></ul> 
      </div> 
     </div> 
    </div> 
    <div id="rightNavigationMenuThumbnail" class="rightNavigationMenuThumbnail"> 
    </div> 
   </div> 
   <div class="clear"></div> 
   <input name="__RequestVerificationToken" type="hidden" value="2j0PqERULLXDf6K-C--LN59hJv1ZPHe47VVpj_1Li5fenOrVsPGKpHtOQeYnwxX4jLpApGVxQqOIDxZEom19L-KddPM1"> 
   <input id="ratingValueSubmitUrl" type="hidden" value="https://technet.microsoft.com/en-us/library/feedback/rate/2008.12.linux.aspx"> 
   <input id="ratingAdditionalSubmitUrl" type="hidden" value="https://technet.microsoft.com/en-us/library/feedback/additional/2008.12.linux.aspx"> 
   <input id="isTopicRated" type="hidden" value="false"> 
   <div id="lib-footer"> 
    <div id="standardRatingBefore" class="clear stdr-container-before"></div> 
    <div id="standardRating" class="stdr-container" ms.pgarea="body"> 
     <div class="stdr-close"></div> 
     <div class="stdr-vote stdr-content"> 
      <div class="stdr-content"> 
       <span class="stdr-votetitle">Is this page helpful?</span> 
       <button class="stdr-yes" aria-label="Yes, this page was helpful">Yes</button> 
       <button class="stdr-no" aria-label="No, this page was not helpful">No</button> 
       <input id="s_ratingValue" type="hidden" value=""> 
      </div> 
     </div> 
     <div class="stdr-feedback" style="display: none"> 
      <div class="stdr-form"> 
       <div class="stdr-fieldtitle">
        Additional feedback?
       </div> 
       <textarea class="stdr-detail" rows="6" maxlength="1500"></textarea> 
       <div> 
        <span class="stdr-count"><span class="stdr-charcnt">1500</span> characters remaining</span> 
        <div class="stdr-buttons"> 
         <button class="stdr-provide" aria-label="Submit my additional feedback">Submit</button> 
         <button class="stdr-skip" aria-label="Skip additional feedback">Skip this</button> 
        </div> 
       </div> 
       <div class="clear"></div> 
      </div> 
     </div> 
     <div class="stdr-thanks" style="display: none"> 
      <div class="stdr-content"> 
       <span class="stdr-thankyou">Thank you!</span> 
       <span class="stdr-appreciate">We appreciate your feedback.</span> 
      </div> 
     </div> 
     <div id="contentFeedbackQAContainer" style="display: none;"></div> 
    </div> 
    <div id="standardRatingPlaceholder" style="display: none"></div> 
    <div id="ux-footer" dir="ltr" class="ltr" role="contentinfo" ms.pgarea="footer"> 
     <div class="ux-footer-clear"></div> 
     <div id="footerWrapper"> 
      <div id="footerLeft"> 
       <div id="footerProfileFeedback"> 
        <div id="footerProfileLink"> 
         <div data-fragmentname="ManageProfileLink" id="Fragment_ManageProfileLink" xmlns="http://www.w3.org/1999/xhtml"> 
          <a href="https://social.technet.microsoft.com/profile" xmlns="http://www.w3.org/1999/xhtml">Manage Your Profile</a> 
         </div> 
        </div> 
        <div id="Feedback"> 
         <div class="feedbackListItem"> 
          <div class="divider">
           |
          </div> 
          <div class="FooterSiteFeedBack"> 
           <a id="SiteFeedbackLinkOpener" href="javascript:void(0)"> <span class="FeedbackButton clip20x21" id="FeedbackButton"> <img id="feedBackImg" class="cl_footer_feedback_icon" src="https://i-technet.sec.s-msft.com/Areas/Epx/Content/Images/ImageSprite.png?v=636422593604786198" alt="Site Feedback"> </span> Site Feedback </a> 
           <div id="SiteFeedbackLinkContainer" class="SiteFeedbackLinkContainer" style="display: none;"> 
            <form id="siteFeedbackForm" method="post" action="https://technet.microsoft.com/en-us/library/feedback/add/2008.12.linux(v=ax.60).aspx"> 
             <div class="SiteFeedbackLinkTitleContainer"> 
              <div class="SiteFeedbackLinkTitle">
                Site Feedback 
              </div> 
              <div class="SiteFeedbackLinkCancel"> 
               <a id="SiteFeedbackLinkCloser" role="button" aria-label="Close Site Feedback" href="javascript:void(0)">x</a> 
              </div> 
             </div> 
             <div class="SiteFeedbackLinkData"> 
              <div class="SiteFeedbackLinkInfoText">
                Tell us about your experience... 
              </div> 
              <div class="QuestionText">
                Did the page load quickly? 
              </div> 
              <div class="AnswerText"> 
               <span> Yes<span> <input aria-label="Yes" id="searchBox" name="searchBox" type="radio" value="1"></span></span> 
               <span> No<span> <input aria-label="No" id="searchBox" name="searchBox" type="radio" value="0"></span></span> 
              </div> 
              <div class="QuestionText">
                Do you like the page design? 
              </div> 
              <div class="AnswerText"> 
               <span> Yes<span> <input aria-label="Yes" id="tabbedCode" name="tabbedCode" type="radio" value="1"></span></span> 
               <span> No<span> <input aria-label="No" id="tabbedCode" name="tabbedCode" type="radio" value="0"></span></span> 
              </div> 
              <div class="QuestionText">
                Tell us more 
              </div> 
              <div class="SiteFeedbackLinkTextAreaContainer"> 
               <textarea id="feedbackText" data-maxlength="4000" name="feedbackText" cols="25" rows="5" class="SiteFeedbackLinkTextArea" aria-label="Feedback Text"></textarea> 
               <input type="hidden" id="feedbackSiteName" name="feedbackSiteName" value=""> 
               <input type="hidden" id="feedbackPriority" name="feedbackPriority" value=""> 
               <input type="hidden" id="feedbackSourceUrl" name="feedbackSourceUrl" value=""> 
               <input type="hidden" id="ClientIP" name="ClientIP" value=""> 
               <input type="hidden" id="ClientOS" name="ClientOS" value=""> 
               <input type="hidden" id="ClientBrowser" name="ClientBrowser" value=""> 
               <input type="hidden" id="ClientTime" name="ClientTime" value=""> 
               <input type="hidden" id="ClientDate" name="ClientDate" value=""> 
              </div> 
              <div> 
               <input id="siteFeedbackSubmit" type="submit" value="Send" class="SiteFeedbackLinkSubmit" aria-label="Send"> 
              </div> 
             </div> 
             <input type="hidden" id="returnUrl" name="returnUrl" value="https://technet.microsoft.com/en-us/library/2008.12.linux.aspx"> 
            </form> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
       <div id="footerGroup"> 
        <div id="LinkGroup"> 
         <div id="Links1">
          <div data-fragmentname="FooterLinks" id="Fragment_FooterLinks" xmlns="http://www.w3.org/1999/xhtml"> 
           <div class="linkList"> 
            <ul class="links horizontal"> 
             <li> <a href="https://technet.microsoft.com/cc543196.aspx" xmlns="http://www.w3.org/1999/xhtml">Flash Newsletter</a> </li> 
             <li class="divider">|</li> 
             <li> <a href="https://technet.microsoft.com/cc512759.aspx" xmlns="http://www.w3.org/1999/xhtml">Contact Us</a> </li> 
             <li class="divider">|</li> 
             <li> <a href="https://privacy.microsoft.com/privacystatement" xmlns="http://www.w3.org/1999/xhtml">Privacy Statement</a> </li> 
             <li class="divider">|</li> 
             <li> <a href="https://technet.microsoft.com/cc300389.aspx" xmlns="http://www.w3.org/1999/xhtml">Terms of Use</a> </li> 
             <li class="divider">|</li> 
             <li> <a href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/" xmlns="http://www.w3.org/1999/xhtml">Trademarks</a> </li> 
             <li class="divider">|</li> 
            </ul> 
           </div> 
          </div>
         </div> 
        </div> 
       </div> 
       <div style="clear:both"></div> 
       <div id="Links2"></div> 
      </div> 
      <div id="footerRight"> 
       <div id="FooterLogoContainer">
        <div id="FooterLogo"></div>
       </div> 
       <div id="FooterCopyright">
        © 2017 Microsoft
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div class="footerPrintView"> 
    <div class="footerCopyrightPrintView">
     © 2017 Microsoft
    </div> 
   </div> 
   <input id="tocPaddingPerLevel" type="hidden" value="17"> 
   <input id="MtpsDevice" type="hidden" value="Default"> Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft. See ASP.NET Ajax CDN Terms of Use – http://www.asp.net/ajaxlibrary/CDN.ashx. WebTrends view model not available or IncludeLegacyWebTrendsScriptInGlobal feature flag is off 
   <div id="globalRequestVerification"> 
    <input name="__RequestVerificationToken" type="hidden" value="daC3tqiNy8K26AyUKGr-bTBfUKndWE2vG8Vastl76GxXzizpMgIXzhSRNKztomqQXrflH543soKxoHLnF0J81ypeOaY1"> 
   </div> 
  </div> 
  <script type="text/javascript" class="mtps-injected">
/*<![CDATA[*/
(function(window,document){"use strict";function preload(scripts){for(var result=[],script,e,i=0;i<scripts.length;i++)script=scripts[i],script.hasOwnProperty("url")&&(e=document.createElement("script"),e.src=script.url,script.throwaway=e),result.push(script);return result}function inject(scripts,index){var script,elem;if(index>=scripts.length){delete mtps.injectScripts;return}script=scripts[index];elem=document.createElement("script");elem.className="mtps-injected";elem.async=!1;var isLoaded=!1,timeoutId=0,injectNextFnName="",injectNext=elem.onerror=function(){isLoaded||(isLoaded=!0,inject(scripts,index+1),window.clearTimeout(timeoutId),elem.onload=elem.onerror=elem.onreadystatechange=null,injectNextFnName&&delete mtps[injectNextFnName],elem.removeEventListener&&elem.removeEventListener("load",injectNext,!1))};elem.addEventListener?elem.addEventListener("load",injectNext,!1):elem.readyState==="uninitialized"?elem.onreadystatechange=function(){(this.readyState==="loaded"||this.readyState==="complete")&&injectNext()}:elem.onload=injectNext;script.hasOwnProperty("url")?(timeoutId=window.setTimeout(injectNext,12e4),elem.src=script.url):(injectNextFnName="_injectNextScript_"+index,mtps[injectNextFnName]=injectNext,timeoutId=window.setTimeout(injectNext,2e3),elem.text="try {\n"+script.txt+"\n} finally { MTPS."+injectNextFnName+" && MTPS."+injectNextFnName+"(); }");parent.appendChild(elem)}var mtps=window.MTPS||(window.MTPS={}),parent=document.getElementsByTagName("head")[0];mtps.injectScripts=function(scripts){inject(preload(scripts),0)}})(window,document);
MTPS.injectScripts([
	{ txt: "/**/\r\n(window.MTPS || (window.MTPS = {})).cdnDomains || (window.MTPS.cdnDomains = { \r\n\t\"image\": \"https://i-technet.sec.s-msft.com\", \r\n\t\"js\": \"https://i2-technet.sec.s-msft.com\", \r\n\t\"css\": \"https://i-technet.sec.s-msft.com\", \r\n\t\"ttf\": \"https://i-technet.sec.s-msft.com\"\r\n});\r\n/**/" },
	{ txt: "//\n\n        window.appInsightsId = \u0027c48d7639-e2ae-45e0-b536-c9b172c95e44\u0027;\n        //" },
	{ url: "https://i2-technet.sec.s-msft.com/Combined.js?resources=0:Utilities,1:Breadcrumbs,2:LibraryRightNavigationMenu,2:PrintExportButton,3:StandardRating,4:Footer,0:Topic,1:ResponsiveSupport,5:JSLLRecord,0:ABTestControl;/Areas/Epx/Content/Scripts:0,/Areas/Library/Content:1,/Areas/Library/Themes/Base/Content:2,/Areas/Global/Content:3,/Areas/Epx/Themes/TechNet/Content:4,/Areas/Centers/Themes/Base/Content:5\u0026amp;hashKey=E828CBA6544F4644537AB1B3E7317BA1\u0026amp;v=F70F020A084D1F71D1AB48595FCF5A05" },
	{ url: "https://uhf.microsoft.com/mscc/statics/mscc-0.3.6.min.js" },
	{ txt: "var omnitureTracking = \"false\";" },
	{ url: "https://i2-technet.sec.s-msft.com/Combined.js?resources=0:megabladeMenu.1,1:SearchBox;/Areas/Epx/Themes/Shared/Content:0,/Areas/Epx/Themes/Base/Content:1\u0026amp;hashKey=F6DE63F37E6BFBE8E78C84CFE28A5B67\u0026amp;v=F70F020A084D1F71D1AB48595FCF5A05" },
	{ url: "https://i1.services.social.microsoft.com/search/Widgets/SearchBox.jss?boxid=HeaderSearchTextBox\u0026btnid=HeaderSearchButton\u0026brand=TechNet\u0026loc=en-us\u0026watermark=TechNet\u0026focusOnInit=false" },
	{ url: "https://i2-technet.sec.s-msft.com/Combined.js?resources=0:JumpRedirect,1:Header.2,2:ResponsiveToc;/Areas/Epx/Themes/Base/Content:0,/Areas/Epx/Themes/TechNet/Content:1,/Areas/Library/Content:2\u0026amp;hashKey=4646BD94DCAF1A622929FD197B515702\u0026amp;v=F70F020A084D1F71D1AB48595FCF5A05" },
	{ txt: "MTPS = window.MTPS || {}; MTPS.LocalizedStrings = window.MTPS.LocalizedStrings || {}; MTPS.LocalizedStrings.ExpandButtonTooltip = \u0027Expand\u0027; MTPS.LocalizedStrings.CollapseButtonTooltip = \u0027Collapse\u0027; MTPS.LocalizedStrings.EnhancedExpandTooltip = \u0027Click to expand. Double-click to expand all.\u0027; MTPS.LocalizedStrings.EnhancedCollapseTooltip = \u0027Click to collapse. Double-click to collapse all.\u0027; MTPS.LocalizedStrings.ExpandAllButtonTooltip = \u0027Expand All\u0027; MTPS.LocalizedStrings.CollapseAllButtonTooltip = \u0027Collapse All\u0027;" },
	{ url: "https://i2-technet.sec.s-msft.com/Combined.js?resources=0:LibraryMemberFilter,1:SiteFeedbackLink,1:Toc_Fixed,1:CodeSnippet,1:TopicNotInScope,1:VersionSelector,1:SurveyBroker;/Areas/Library/Content:0,/Areas/Epx/Content/Scripts:1\u0026amp;hashKey=DB72A174A0119883B2C35F4D5C13FED9\u0026amp;v=F70F020A084D1F71D1AB48595FCF5A05" },
	{ txt: "$(document).ready(function() {\n        try {\n            var token = $(\"#globalRequestVerification input[name=\u0027__RequestVerificationToken\u0027]\").clone();\n            $(\"#siteFeedbackForm\").append(token);\n        } catch(err) {\n            \n        }\n    });" }
]);

/*]]>*/
</script>  
 </body>
</html>