<!doctype html>
<html lang="en" class="no-js">
 <head> 
  <meta charset="utf-8"> 
  <meta content="IE=Edge" http-equiv="X-UA-Compatible"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, height=device-height"> 
  <title>JavaScript – opensource.google.com</title> 
  <meta property="og:image" content="https://opensource.google.com/assets/static/images/misc/og1.jpg"> 
  <meta property="og:title" content="JavaScript – opensource.google.com"> 
  <meta property="og:site_name" content="opensource.google.com"> 
  <meta property="og:type" content="website"> 
  <meta property="og:url" content="https://opensource.google.com/docs/thirdparty/javascript/"> 
  <link rel="shortcut icon" href="/assets/static/images/favicon.png"> 
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:300|Roboto:400,500|Roboto+Mono:400"> 
  <link rel="stylesheet" href="/assets/static/css/main-e8ef76ee42b6ccb8c0fda0f1c67a914b.css"> 
 </head> 
 <body class="docs no-touch" data-feedback-id="5004958"> 
  <div class="container"> 
   <!--[if lte IE 11]>
      <p id="whatbrowser" class="whatbrowser">
        You are using an <strong>outdated</strong> browser.
        Please <a href="http://whatbrowser.com/" target="_blank">
          upgrade your browser
        </a>
        to improve your experience.
      </p>
      <![endif]--> 
   <header class="header-main"> 
    <h1> <a href="/" data-g-event="Header" data-g-action="Click" data-g-label="Open Source Logo"> opensource.google.com </a> </h1> 
    <a id="NavTrigger" href="/#Navigation" data-g-event="Header" data-g-action="Click" data-g-label="Nav Toggle Open"> <span>Menu</span> </a> 
    <nav class="main-nav" id="Navigation"> 
     <ul> 
      <li class="projects"> <a href="/projects/" data-g-event="Header" data-g-action="Click" data-g-label="Projects"> Projects </a> </li> 
      <li class="community"> <a href="/community/" data-g-event="Header" data-g-action="Click" data-g-label="Community"> Community </a> </li> 
      <li class="docs"> <a href="/docs/" data-g-event="Header" data-g-action="Click" data-g-label="Docs"> Docs </a> </li> 
      <li class="blog"> <a href="https://opensource.googleblog.com/" data-g-event="Header" data-g-action="Click" data-g-label="Blog"> Blog </a> </li> 
     </ul> 
    </nav> 
   </header> 
   <div class="main javascript"> 
    <div class="container-docs"> 
     <section class="hero short"> 
      <div class="col-wrap"> 
       <h2>Docs</h2> 
      </div> 
     </section> 
     <section> 
      <div class="col-wrap"> 
       <div class="col med-span-4 nav-docs"> 
        <nav id="DocsNav" class="modal"> 
         <a href="#DocsNav" id="DocsNavToggle" data-g-event="Docs_Nav" data-g-action="Toggle" data-g-label="Mobile Nav">JavaScript</a> 
         <ul> 
          <li class="parent"> <a class="" href="/docs/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Docs"> Docs </a> </li>
          <li class="parent"> <a class="" href="/docs/creating/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Creating"> Creating<span class="" id="Creating"> View More </span></a> </li>
          <li class="sub-nav " data-parent="Creating"> 
           <ul>
            <li> <a class="" href="/docs/releasing/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Releasing a Project"> Releasing a Project </a> </li>
            <li> 
             <ul> 
              <li> <a class="" href="/docs/releasing/preparing/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Preparing For Release"> Preparing For Release </a> </li>
              <li> <a class="" href="/docs/releasing/approval/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Getting Approval"> Getting Approval </a> </li>
              <li> <a class="" href="/docs/releasing/hosting/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Hosting Options"> Hosting Options </a> </li>
              <li> <a class="" href="/docs/releasing/publishing/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Releasing and Publicizing"> Releasing and Publicizing </a> </li>
              <li> <a class="" href="/docs/releasing/contributions/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Accepting Contributions"> Accepting Contributions </a> </li> 
             </ul> </li>
            <li> <a class="" href="/docs/github/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="GitHub at Google"> GitHub at Google </a> </li>
            <li> <a class="" href="/docs/patching/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Open Source Patching"> Open Source Patching </a> </li>
            <li> <a class="" href="/docs/iarc/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Personal Projects (IARC)"> Personal Projects (IARC) </a> </li>
            <li> <a class="" href="/docs/hackathons/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Participating in Hackathons"> Participating in Hackathons </a> </li>
           </ul> </li>
          <li class="parent"> <a class="" href="/docs/using/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Using"> Using<span class="active" id="Using"> View More </span></a> </li>
          <li class="sub-nav active" data-parent="Using"> 
           <ul>
            <li> <a class="" href="/docs/thirdparty/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Third-Party"> Third-Party </a> </li>
            <li> 
             <ul> 
              <li> <a class="" href="/docs/thirdparty/licenses/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Licenses"> Licenses </a> </li>
              <li> <a class="" href="/docs/thirdparty/new/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Adding Code"> Adding Code </a> </li>
              <li> <a class="" href="/docs/thirdparty/responsibilities/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Responsibilities"> Responsibilities </a> </li>
              <li> <a class="" href="/docs/thirdparty/oneversion/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="One Version Rule"> One Version Rule </a> </li>
              <li> <a class="" href="/docs/thirdparty/reviewers/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Reviewers"> Reviewers </a> </li> 
             </ul> </li>
            <li> <a class="" href="/docs/using/license/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="What is a License?"> What is a License? </a> </li>
            <li> <a class="" href="/docs/casebook/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Open Source Casebook"> Open Source Casebook </a> </li>
            <li> <a class="" href="/docs/using/agpl-policy/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="AGPL Policy"> AGPL Policy </a> </li>
           </ul> </li>
          <li class="parent"> <a class="" href="/docs/growing/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Growing"> Growing<span class="" id="Growing"> View More </span></a> </li>
          <li class="sub-nav " data-parent="Growing"> 
           <ul>
            <li> <a class="" href="/docs/growing/student-programs/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Student Programs"> Student Programs </a> </li>
            <li> <a class="" href="/docs/growing/peer-bonus/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Open Source Peer Bonus"> Open Source Peer Bonus </a> </li>
            <li> <a class="" href="/docs/growing/events/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Events"> Events </a> </li>
            <li> <a class="" href="/docs/growing/funding/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Funding"> Funding </a> </li>
            <li> <a class="" href="/docs/growing/blog/" data-g-event="Docs_Nav" data-g-action="Click" data-g-label="Blog"> Blog </a> </li>
           </ul> </li>
         </ul> 
        </nav> 
       </div> 
       <div class="col med-span-8 details-docs"> 
        <aside class="doc-bar">
         This page is part of Google's 
         <a href="/docs/">open source documentation</a>.
        </aside> 
        <h1>JavaScript</h1> 
        <nav> 
         <ul> 
          <li> 
           <ul> 
            <li><a href="#general-policies">General policies</a></li> 
            <li><a href="#preserve-existing-license-and-copyright-info-with-an-codelicensecode-tag">Preserve existing license and copyright info with an <code>@license</code> tag</a></li> 
            <li><a href="#add-a-codelicensecode-block-for-javascript-released-under-a-codenoticecode-license">Add a <code>@license</code> block for JavaScript released under a ‘<code>notice</code>’ license</a></li> 
            <li><a href="#legacy-codethirdpartyjavascriptcode-packages-created-before-the-codelicensecode-tag">Legacy <code>third_party/javascript</code> packages created before the <code>@license</code> tag</a></li> 
            <li><a href="#caveat-for-javascript-code-for-use-in-monitoring-consoles">Caveat for JavaScript code for use in monitoring consoles</a></li> 
            <li><a href="#importing-lgpl-js-libraries">Importing (L)GPL JS libraries</a></li> 
            <li><a href="#multiple-versions">Multiple versions</a></li> 
            <li><a href="#typescript">TypeScript</a></li> 
            <li><a href="#nodejs--npm-modules">NodeJS / NPM modules</a></li> 
           </ul></li> 
         </ul> 
        </nav> 
        <p><a href="/docs/thirdparty/javascript/">go/thirdpartyjavascript</a></p> 
        <p>This describes JavaScript-specific guidance for checking code into //piper/third_party.</p> 
        <p>IMPORTANT: Read <a href="/docs/thirdparty/">go/thirdparty</a> first.</p> 
        <h2 id="general-policies">General policies</h2> 
        <p>NOTE: You should apply these changes on the <strong>initial checkin</strong>, even though it may mean your code is not “pristine.”</p> 
        <p>IMPORTANT: Using third-party JavaScript code that contains license text or copyright notices requires special treatment in the JavaScript source.</p> 
        <p>Since the Google JavaScript compiler strips out most comments in <code>.js</code> and <code>.css</code> source files, JavaScript files with license and copyright comments require special treatment. Even ‘<code>notice</code>’ licenses, which are usually considered not very strict in most respects, require the special <code>@license</code> JsDoc tag so that the notice is preserved. This is because JavaScript is distributed in its source form when it is used by browsers.</p> 
        <p>JavaScript source code should go into <code>//third_party/javascript/packagename</code> directories.</p> 
        <p>New third-party JavaScript package code reviews should be cc’ed to both emailremoved@ and emailremoved@ to ensure prompt, assigned reviews.</p> 
        <h2 id="preserve-existing-license-and-copyright-info-with-an-codelicensecode-tag">Preserve existing license and copyright info with an <code>@license</code> tag</h2> 
        <p>To preserve a block of text in a JavaScript source file, wrap the desired text in a JsDoc comment and supply the special <code>@license</code> tag. If the source already includes a JsDoc comment with a @preserve tag, that is sufficient as well.</p> 
        <pre><code class="language-javascript">/**
&nbsp;* @license
&nbsp;* Copyright 2008 SomeThirdParty.
&nbsp;* Here is the full license text and copyright
&nbsp;* notice for this file. Note that the notice can span several
&nbsp;* lines and is only terminated by the closing star and slash:
&nbsp;*/
var foo = /...
function someThirdPartyFunc() *
&nbsp; /...
}
</code></pre> 
        <p>If you include a license/preserve block, the JS Compiler will output the contents of the block in the compiled output of any <code>js_binary</code> rule. You should examine the compiled output and make sure the license block is present and legible.</p> 
        <h2 id="add-a-codelicensecode-block-for-javascript-released-under-a-codenoticecode-license">Add a <code>@license</code> block for JavaScript released under a ‘<code>notice</code>’ license</h2> 
        <p>If the original source code is under a <code>notice</code> license but the source files lack license and copyright info, you should add an <code>@license</code> block containing, at a minimum, a copyright statement and the full license text.</p> 
        <p>NOTE: If the source files have license and copyright info, but it doesn’t meet the minimum “copyright statement and full license text,” you should add that missing minimum information.</p> 
        <p><code>@externs</code> files are an exception: since they are never served to the user, [they do not need a <code>@license</code> block*.</p> 
        <h2 id="legacy-codethirdpartyjavascriptcode-packages-created-before-the-codelicensecode-tag">Legacy <code>third_party/javascript</code> packages created before the <code>@license</code> tag</h2> 
        <p>Prior to 2008-4-10, the <code>@license</code> JsDoc tag did not exist and the ThirdParty team recommended that that JavaScript files containing notices remain uncompiled. This restriction has been lifted. If you maintain or depend on a <code>js_library</code> file with <code>do_not_compile</code> in the name, see if you can work with the authors to embed copyright and license information in an <code>@license</code> tag. This will allow your users to benefit from the faster download times of compiled JavaScript.</p> 
        <h2 id="caveat-for-javascript-code-for-use-in-monitoring-consoles">Caveat for JavaScript code for use in monitoring consoles</h2> 
        <p>The //piper/…/third_party tree exists to contain third-party JavaScript code for use in monitoring consoles. It has a separate location in Piper so that it will be pushed out to production along with the rest of the monitoring configs. Packages in //piper/…/third_party still need to follow the general guidelines above, with the exception that the <code>BUILD</code> file need not contain any real build rules, just the comment sections from the latest <code>BUILD</code> file templates and a file-scope <code>licenses()</code> directive.</p> 
        <h2 id="importing-lgpl-js-libraries">Importing (L)GPL JS libraries</h2> 
        <p>You may add (L)GPL JS libraries to //piper/third_party/javascript, but if you do so they MUST NOT be compiled as part of a build rule. In order to meet the requirements of the (L)GPL, the correct way to include your script is via a <code>SCRIPT</code> tag. Your <code>BUILD</code> file will therefore simply export the files. E.g.:</p> 
        <pre><code class="language-build">filegroup(
   name = "my_amazing_library",
 &nbsp; srcs = glob(["*.js"]),
)
</code></pre> 
        <p>You may then include this as a data dependency of another target.</p> 
        <p>Note that including an (L)GPL library will have legal impact on your product. In particular:</p> 
        <ol> 
         <li><p>You will be required to make sure the unobfuscated source to the LGPL portion is available (pointing to someone else’s copy is not enough), and the license is available as well.</p></li> 
         <li><p>Users will be allowed to modify your product, and reverse engineer it for the purpose of debugging those modifications.</p></li> 
        </ol> 
        <p>You cannot prevent this (and <a href="https://developers.google.com/terms/">go/uTos</a> does not), and you <strong>must</strong> make sure if you are not on <a href="https://developers.google.com/terms/">go/uTos</a> that any TOS you have does not violate this by banning reverse engineering without an open source license override.</p> 
        <h2 id="multiple-versions">Multiple versions</h2> 
        <p><a href="/docs/thirdparty/oneversion/">go/oneversion</a> applies to javascript libraries. emailremoved@ is the only group that can grant exemptions to this policy. <strong>Reviewers:</strong> any time you see a <code>multiple_versions</code> section in the <code>METADATA</code> file, that <code>approval</code> field <em>MUST</em> contain a link to the emailremoved@ thread where the exception was granted. <a href="/docs/thirdparty/oneversion/">go/oneversion</a> is the source for truth for the current policy, so defer any questions to that document and emailremoved@. See the section on <code>node.js</code> modules for special versioning rules for those imports.</p> 
        <h2 id="typescript">TypeScript</h2> 
        <p>For the purposes of this policy, TypeScript code is treated exactly as JavaScript code would be. TypeScript is checked in underneath //piper/third_party/javascript as <code>.ts</code> files and transpiled to JavaScript using <code>ts_library</code> BUILD rules (or <code>ng_module</code>, or <code>ts_declaraton</code>, as appropriate). <code>.d.ts</code> files are exempt since they only contain type definitions and are never distributed to users, similar to <code>@externs</code> files for JavaScript.</p> 
        <p>Note that TypeScript code, in addition to an <code>@license</code> tag, requires an empty line after the initial file comment.</p> 
        <p>```javascript {.good} /** * @license The license of the code. */</p> 
        <p>// Note the empty line above. class X { } ```</p> 
        <p>DefinitelyTyped type definitions, i.e. type definitions that are developed separately from the actual implementation code, please see //piper/third_party/javascript/typings.</p> 
        <p>In addition to emailremoved@, please contact emailremoved@ with any issues.</p> 
        <h2 id="nodejs--npm-modules">NodeJS / NPM modules</h2> 
        <p>NodeJS modules live in //piper/third_party/javascript/node_modules. See go/nodemodulesingoogle3 for context about multiple versions for npm packages. See <em>here</em> for a deeper dive discussing npm packages.</p> 
        <p>NOTE: Using npm in a package outside of google3? <a href="/docs/thirdparty/non-google3#npm">There’s a tool for making license checking easier!</a></p> 
        <p class="license"> Except as otherwise noted, the content of this page is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a> license. Third-party product names and logos may be the trademarks of their respective owners. </p> 
       </div> 
      </div> 
     </section> 
    </div> 
    <script src="https://www.gstatic.com/external_hosted/fragmention/fragmention.min.js" defer async></script> 
   </div> 
   <footer id="FooterMain" class="footer-main"> 
    <div class="col-wrap"> 
     <nav class="footer-nav pull-left"> 
      <ul> 
       <li class="google"> <a href="http://google.com" data-g-event="Footer" data-g-action="Click" data-g-label="Google Logo"> Google </a> </li> 
       <li> <a href="https://www.google.com/policies/privacy/" data-g-event="Footer" data-g-action="Click" data-g-label="Privacy"> Privacy </a> </li> 
       <li> <a href="https://www.google.com/policies/terms/" data-g-event="Footer" data-g-action="Click" data-g-label="Terms"> Terms </a> </li> 
       <li> <a id="SendFeedback" href="#" data-g-event="Footer" data-g-action="Click" data-g-label="Send Feedback"> Send Feedback </a> </li> 
      </ul> 
     </nav> 
    </div> 
   </footer> 
  </div> 
  <script type="text/javascript" src="/assets/static/js/main-9ab9d7dd9d097d074e61b2569834111f.js"></script> 
  <script type="text/javascript">
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-53341410-8', 'auto');
      ga('require', 'eventTracker', {attributePrefix: 'data-g-'});
      ga('require', 'outboundLinkTracker', {
        events: ['click', 'auxclick', 'contextmenu'],
      });
      ga('require', 'urlChangeTracker');
      ga('require', 'maxScrollTracker');
      ga('send', 'pageview');
    </script> 
  <script async src="https://www.google-analytics.com/analytics.js"></script> 
  <script async src="/assets/static/js/autotrack-615797b6122ebd6a81b34bffefaaa937.js"></script> 
  <script type="text/javascript" src="https://support.google.com/inapp/api.js" async></script>  
 </body>
</html>