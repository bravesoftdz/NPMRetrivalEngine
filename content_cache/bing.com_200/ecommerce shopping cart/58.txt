<!--?xml version="1.0" encoding="ISO-8859-1"?--><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
 <head>
  <title>
	    SoftSlate Commerce - Java Shopping Cart - Application Architecture</title>
  <meta content="DocBook XSL Stylesheets V1.69.1" name="generator">
  <link rel="start" href="index.html" title="SoftSlate Commerce">
  <link rel="up" href="overviewForDevelopers.html" title="Chapter&nbsp;17.&nbsp;Overview for Developers">
  <link rel="prev" href="overviewForDevelopers.html" title="Chapter&nbsp;17.&nbsp;Overview for Developers">
  <link rel="next" href="databaseStructure.html" title="Database Structure">
  <meta content="SoftSlate Commerce Java Shopping Cart Ecommerce Solution" name="description">
  <meta content="java shopping cart, shopping cart, java shopping cart program, java shopping cart application, java shopping cart solution, jsp shopping cart, servlet shopping cart, tomcat shopping cart, java ecommerce, online shopping cart, java, struts, source code, jsp, tiles, apache, mysql, sql server" name="keywords">
  <link media="screen" type="text/css" href="https://www.softslate.com/styles/filters/master.css" rel="stylesheet">
  <link media="screen" type="text/css" href="https://www.softslate.com/theme01/theme.css" rel="stylesheet">
  <!--[if gte IE 6]><link media="screen" href="https://www.softslate.com/styles/filters/ieonly.css" type="text/css" rel="stylesheet" /><![endif]-->
  <link media="print" type="text/css" href="https://www.softslate.com/styles/print.css" rel="stylesheet">
  <link type="text/css" href="https://www.softslate.com/styles/style-softslate.css" rel="stylesheet">
  <link href="https://www.softslate.com/favicon.ico" rel="shortcut icon">
  <style type="text/css"> body { background: #FFFFFF; font-family:Lucida Grande, Verdana, Arial, Helvetica, sans-serif;
			margin: 0 25px; padding: 0 25px; } #ftouter { text-align: center; } div.book a, div.part a, div.chapter a, div.section a ,
			div.appendix a{ color: #484848 } div.book a:link, div.part a:link, div.chapter a:link, div.section a:link, div.appendix
			a:link { text-decoration:underline; color:#0653a0; } div.book a:hover, div.part a:hover, div.chapter a:hover,
			div.section a:hover, div.appendix a:hover { text-decoration:none; color:#484848; } div.book a:visited, div.part
			a:visited, div.chapter a:visited, div.section a:visited, div.appendix a:visited { text-decoration: underline;
			color:#0653a0; } div.book dl, div.part dl, div.chapter dl, div.section dl, div.appendix dl { margin: 1em 0; } div.book dd,
			div.part dd, div.chapter dd, div.section dd, div.appendix dd { -moz-margin-start: 40px; } div.book ol, div.part ol,
			div.chapter ol, div.section ol, div.appendix ol { display: block; list-style: decimal; margin: 1em 0; -moz-padding-start:
			40px; padding-left: 40px; } div.book ul, div.part ul, div.chapter ul, div.section ul, div.appendix ul { display: block;
			list-style: disc; margin: 1em 0; -moz-padding-start: 40px; padding-left: 40px; } div.toc a:hover { color: #ff0000; }
			pre.programlisting { font-size: 90%; background: #f0f1f6; } </style>
 </head>
 <body id="secondary">
  <div id="masthead">
   <div>
    <a href="https://www.softslate.com">SoftSlate Commerce</a>
   </div>
  </div>
  <div id="utilityandclient">
   <div id="utilitynav">
    <ul>
     <li><a href="https://www.softslate.com/contact.html">Contact Us</a></li>
     <li class="last"><a href="https://www.softslate.com/company.html">About Us</a></li>
    </ul>
   </div>
  </div>
  <div id="navcontainerwrapper">
   <div id="navcontainer">
    <div id="nav">
     <ul>
      <li id="home"><a href="https://www.softslate.com">Home</a></li>
      <li id="evaluate"><a href="https://www.softslate.com/evaluate.html">Evaluate</a></li>
      <li id="purchase"><a href="https://www.softslate.com/purchase.html">Purchase</a></li>
      <li class="currenttab" id="getHelp">Documentation</li>
      <li id="services"><a href="https://www.softslate.com/services.html">Services</a></li>
      <li id="company"><a href="https://www.softslate.com/company.html">Company</a></li>
     </ul>
    </div>
   </div>
  </div>
  <div id="crumbs">
   <a href="https://www.softslate.com/index.html">Home</a> » 
   <a href="https://www.softslate.com/docs.html">Documentation</a> » 
   <span>HTML Documentation</span>
  </div>
  <div align="center" class="navheader">
   <table summary="Navigation header" width="100%">
    <tbody>
     <tr>
      <td style="font-size: 110%" align="center" colspan="3"><a href="index.html">SoftSlate Commerce - User Guide</a></td>
     </tr>
     <tr>
      <td align="left" width="20%"><a accesskey="p" href="overviewForDevelopers.html">Prev</a>&nbsp;</td>
      <td style="font-size: 110%" align="center">Chapter&nbsp;17.&nbsp;Overview for Developers</td>
      <td align="right" width="20%">&nbsp;<a accesskey="n" href="databaseStructure.html">Next</a></td>
     </tr>
    </tbody>
   </table>
   <hr>
  </div>
  <div class="section" lang="en">
   <div class="titlepage">
    <div>
     <h2 class="title" style="clear: both"><a name="applicationArchitecture"></a>Application Architecture</h2>
    </div>
   </div>
   <p>SoftSlate Commerce uses a strict Model, View, Controller (MVC) architecture to organize its classes and files. The Model is further separated into two sections: classes devoted to interacting with the database (DAOs), and classes devoted to processing business logic. The result is four distinct layers to the application, illustrated by the following flow chart:</p>
   <p> </p>
   <div class="screenshot">
    <div class="mediaobject">
     <img src="images/architectureSmall.gif">
     <div class="caption">
      <p>Application Architecture Flow Chart <a href="images/architecture.gif" target="_top">Larger Image</a>.</p>
     </div>
    </div>
   </div>
   <p></p>
   <div class="section" lang="en">
    <div class="titlepage">
     <div>
      <h3 class="title"><a name="N1468E"></a>The Web Controller or Struts Layer</h3>
     </div>
    </div>
    <p>The Web Controller or Struts layer provides the mechanisms that control the routing of each web request through the system (the "C" in MVC). In SoftSlate Commerce there are three Struts modules, one for the main, customer interface, one for the administrator interface, and a small one for the installer tool. The customer interface and the administrator interface are further broken down into several units loosely organized by functional area, including "product", "customer", "order", "core", etc.</p>
    <p>For the customer and administrator interfaces, the Web Controller or Struts layer consists of the following classes and files:</p>
    <div class="itemizedlist">
     <ul type="disc">
      <li>The <code class="filename">struts-config*.xml</code> files under the <code class="filename">WEB-INF/conf</code> subdirectories (for the customer interface).</li>
      <li>The <code class="filename">struts-config*.xml</code> files under the <code class="filename">WEB-INF/conf/administrator</code> subdirectories (for the administrator interface).</li>
      <li>The classes in the <code class="classname">com.softslate.commerce.customer</code> package, most of which are subclasses of <code class="classname">org.apache.struts.action.ActionForm</code> and <code class="classname">org.apache.struts.action.Action</code> (for the customer interface).</li>
      <li>The classes in the <code class="classname">com.softslate.commerce.administrator</code> package, most of which are subclasses of <code class="classname">org.apache.struts.action.ActionForm</code> and <code class="classname">org.apache.struts.action.Action</code> (for the administrator interface).</li>
     </ul>
    </div>
    <p>In short, the role of this layer is to take in each browser request, to validate the browser request, to invoke the classes in the Business layer responsible for processing the request, possibly to handle certain processing itself (such as recording information in the browser session), and finally to route the request to the appropriate Tiles definition in the Presentation layer.</p>
    <p>Why separate the Web Controller into its own layer? Along with the Presentation layer, the Web Controller or Struts layer encapsulates all the processes that relate to SoftSlate Commerce being a Web application (as opposed to a GUI or some other application). For example, instances of <code class="classname">javax.servlet.http.HttpServletRequest</code> or <code class="classname">javax.servlet.http.HttpSession</code> are never referred to or used in the Business or Data Access layers. This separation makes it possible to use the same back-end processing with different front-end systems, such as legacy applications.</p>
    <p></p>
    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
     <table border="0" summary="Note">
      <tbody>
       <tr>
        <td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png"></td>
        <th align="left">Note</th>
       </tr>
       <tr>
        <td valign="top" align="left"><p>Because of its use of the Struts web application framework, a familiarity with Struts is very useful when developing with SoftSlate Commerce. A great amount of information is available online and in books about Struts. For more, visit the Struts home page at <a href="http://struts.apache.org" target="_top"> http://struts.apache.org</a>.</p></td>
       </tr>
      </tbody>
     </table>
    </div> 
    <p></p>
   </div>
   <div class="section" lang="en">
    <div class="titlepage">
     <div>
      <h3 class="title"><a name="N146D7"></a>The Business Layer</h3>
     </div>
    </div>
    <p>The Business layer is responsible for processing the application's business logic and representing the application's state in the form of Java beans. For example, in the case of a request to add an item to the user's cart, the Business layer will initialize the user's cart if it hasn't been already, create new objects representing the items in the cart, and then communicate with the Data Access layer to store a representation of the cart in the database.</p>
    <p>The Business layer consists of the following classes:</p>
    <div class="itemizedlist">
     <ul type="disc">
      <li>The classes in the <code class="classname">com.softslate.commerce.businessobjects</code> package, which is broken down into several units loosely organized by functional area, including "product", "customer", "order", "core", etc.</li>
     </ul>
    </div>
    <p>The <code class="classname">com.softslate.commerce.businessobjects</code> package includes two types of classes. Processors (ie. those classes named <code class="classname">*Processor</code>) contain business processing logic, whereas Beans (ie. those classes named <code class="classname">*Bean</code>) store application state.</p>
    <p>Each concrete processor class and bean class has a corresponding Java interface, which the rest of the application uses to instantiate and manipulate it. For example, the processor used to handle various requests related to a user's cart is named <code class="classname">com.softslate.commerce.businessobjects.order.BasicCartProcessor</code> . However, throughout the rest of the application, instances of <code class="classname">BasicCartProcessor</code> are always referred to through its corresponding interface, <code class="classname">com.softslate.commerce.businessobjects.order.CartProcessor</code> . This practice provides a huge benefit in terms of customizing SoftSlate Commerce: through a simple configuration change, you can change the concrete class the application uses to something else. As long as it implements the original interface, the rest of the application can use it just as it did the original class. In your new custom class, however, you now have the ability to override any and every method to implement your own custom functionality. We'll explore the nuts and bolts of doing this in more detail later. The exact same feature is available for all the classes in the Data Access layer as well.</p>
   </div>
   <div class="section" lang="en">
    <div class="titlepage">
     <div>
      <h3 class="title"><a name="N146FB"></a>The Data Access Layer</h3>
     </div>
    </div>
    <p>The Data Access layer is responsible for writing and retrieving data to and from the database, and returning the results to the Business layer. For example, in the case of a request to add an item to the user's cart, the Business layer will invoke classes in the Data Access layer, which will do the work of inserting and updating the various tables in the database that store a representation of the user's cart. Starting with version 2.x, SoftSlate Commerce employs the Hibernate persistance framework to handle all of its database interaction.</p>
    <p>The Data Access layer consists of the following classes and files:</p>
    <div class="itemizedlist">
     <ul type="disc">
      <li>The classes in the <code class="classname">com.softslate.commerce.daos</code> package, which is broken down into several units loosely organized by functional area, including "product", "customer", "order", "core", etc.</li>
      <li>The <code class="filename">sql*.hbm.xml</code> files under the <code class="filename">WEB-INF/classes/resources</code> subdirectories, which contain the HQL (Hibernate Query Language) queries used by the application.</li>
      <li>The <code class="filename">*.hbm.xml</code> files in the <code class="classname">com.softslate.commerce.businessobjects</code> package, which contain the Hibernate mappings that map the business object Java beans to the database tables.</li>
     </ul>
    </div>
   </div>
   <div class="section" lang="en">
    <div class="titlepage">
     <div>
      <h3 class="title"><a name="N1471E"></a>The Presentation Layer</h3>
     </div>
    </div>
    <p>After the Web Controller layer routes the request to the Business layer and retrieves the results of the processing, it then forwards the request to the Presentation layer, which is responsible for generating the HTML sent to the user's browser. The Presentation layer is composed of the following files:</p>
    <div class="itemizedlist">
     <ul type="disc">
      <li>The <code class="filename">tiles-defs*.xml</code> files under the <code class="filename">WEB-INF/conf</code> subdirectories (for the customer interface).</li>
      <li>The <code class="filename">tiles-defs*.xml</code> files under the <code class="filename">WEB-INF/conf/administrator</code> subdirectories (for the administrator interface).</li>
      <li>The JSP templates in the <code class="filename">WEB-INF/layouts</code> directory (for the customer interface).</li>
      <li>The JSP templates in the <code class="filename">WEB-INF/templates/administrator</code> directory (for the administrator interface).</li>
      <li>The <code class="filename">application.properties*.xml</code> files under the <code class="filename">WEB-INF/classes/resources</code> subdirectories, which contain various text messages used in the Presentation layer.</li>
      <li>The <code class="filename">css/style.css</code> and <code class="filename">css/style-custom.css</code> files, which contain the CSS stylesheet definitions the application uses.</li>
      <li>The <code class="filename">images</code> directory, which contains some images referred to in the application's HTML output.</li>
     </ul>
    </div>
    <p>For example, in the case of a request to view a product detail page, the Web Controller layer will place the requested product information retrieved from the database in the request scope, (in the form of an instance of <code class="classname">com.softslate.commerce.businessobjects.product.Product</code> ) . It will then forward the request to the Presentation layer, to output the HTML containing the information to the user's browser.</p>
    <p>SoftSlate Commerce employs the Tiles framework, which is distributed as part of Struts, to organize the JSP templates responsible for presentation. When the Web Controller layer executes a forward to the Presentation layer, it specifies one of the Tiles definitions defined in the <code class="filename">tiles-defs*.xml</code> files under the <code class="filename">WEB-INF/conf</code> subdirectories. The role of each Tiles definition is to describe which JSP templates should be used to output the response.</p>
    <p></p>
    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
     <table border="0" summary="Note">
      <tbody>
       <tr>
        <td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png"></td>
        <th align="left">Note</th>
       </tr>
       <tr>
        <td valign="top" align="left"><p>There is much more information about Tiles available in books and online. Refer to the <a href="http://struts.apache.org/userGuide/dev_tiles.html" target="_top"> Struts Web site</a> for more details.</p></td>
       </tr>
      </tbody>
     </table>
    </div> 
    <p></p>
    <p>In the case of a request to view a product detail page, the Web Controller layer forwards to the <code class="literal">product.product</code> Tiles definition, which is defined in the <code class="filename">WEB-INF/conf/product/tiles-defs-product.xml</code> file. That file tells Tiles to use the <code class="filename">WEB-INF/layouts/default/product/product.jsp</code> JSP template to display the body of the product page.</p>
    <p></p>
    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
     <table border="0" summary="Note">
      <tbody>
       <tr>
        <td valign="top" align="center" rowspan="2" width="25"><img alt="[Note]" src="images/note.png"></td>
        <th align="left">Note</th>
       </tr>
       <tr>
        <td valign="top" align="left"><p>SoftSlate Commerce extends the Tiles framework to first look inside the <code class="filename">custom</code> directory each time a given template is called for, before using the template found in the <code class="filename">default</code> directory. This is how a definition that calls for <code class="filename">/WEB-INF/layouts/default/core/welcome.jsp</code> will include <code class="filename">/WEB-INF/layouts/custom/core/welcome.jsp</code> instead, if it exists.</p></td>
       </tr>
      </tbody>
     </table>
    </div>
    <p></p>
   </div>
  </div>
  <div class="navfooter">
   <hr>
   <table summary="Navigation footer" width="100%">
    <tbody>
     <tr>
      <td align="left" width="40%"><a accesskey="p" href="overviewForDevelopers.html">Prev</a>&nbsp;</td>
      <td align="center" width="20%"><a accesskey="u" href="overviewForDevelopers.html">Up</a></td>
      <td align="right" width="40%">&nbsp;<a accesskey="n" href="databaseStructure.html">Next</a></td>
     </tr>
     <tr>
      <td valign="top" align="left" width="40%">Chapter&nbsp;17.&nbsp;Overview for Developers&nbsp;</td>
      <td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td>
      <td valign="top" align="right" width="40%">&nbsp;Database Structure</td>
     </tr>
    </tbody>
   </table>
  </div>
  <div id="ftouter">
   <div id="ftinner">
    <ul>
     <li><a href="https://www.softslate.com">Home</a></li>
     <li><a href="https://www.softslate.com/contact.html">Contact</a></li>
     <li><a href="https://www.softslate.com/evaluate.html">Evaluate</a></li>
     <li><a href="https://www.softslate.com/purchase.html">Purchase</a></li>
     <li><a href="https://www.softslate.com/getHelp.html">Get Support</a></li>
     <li><a href="https://www.softslate.com/services.html">Services</a></li>
     <li class="last"><a href="https://www.softslate.com/company.html">Company</a></li>
    </ul>
    <p>Copyright © 2009-2017 SoftSlate, LLC. All Rights Reserved.</p>
    <p><span>Powered by SoftSlate Commerce</span></p>
    <p class="lastOfBody"><a title="Visit Foraker on the Web" href="http://www.foraker.com" id="forakerlink"><span>Foraker Design</span></a></p>
   </div>
  </div>
 </body>
</html>