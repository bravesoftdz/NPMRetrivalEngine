<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
 <head> 
  <title>Twitter Sentiment Analysis | PACKT Books</title> 
  <script>
			dataLayer = [];
		</script> 
  <script type="text/javascript">
			var GRANIFY_SITE_ID = 1318;(function(e,t,n){var r,i,s,o,u;u=false;try{o=new RegExp("(?:^|\\W)_gr_test_url=([^;]*)");s=document.cookie.match(o);if(s){if(s[1]==="1")u=true}else{r=Math.random();if(r>.95)u=true;i=new Date(+(new Date)+1e3*60*60*24*2);document.cookie="_gr_test_url="+ +u+";expires="+i.toGMTString()+";path=/"}}catch(a){}if(u)e.replace("javascript.js","javascript.next.js");try{o=new RegExp("(?:^|\\W)_gr_ep=([^;]*)");s=document.cookie.match(o);if(!s){document.cookie="_gr_ep_sent=;expires=Thu, 01-Jan-1970 00:00:01 GMT;path=/";document.cookie="_gr_er_sent=;expires=Thu, 01-Jan-1970 00:00:01 GMT;path=/";if(!window.location.origin){if(window.location.port)port=":"+window.location.port;else port="";window.location.origin=window.location.protocol+"//"+window.location.hostname+port}path=window.location.toString().replace(window.location.origin,"");referrer=document.referrer;i=new Date(+(new Date)+1e3*60*30);document.cookie="_gr_ep="+path+";expires="+i.toGMTString()+";path=/";document.cookie="_gr_er="+referrer+";expires="+i.toGMTString()+";path=/"}}catch(a){}a=new Date;a=""+a.getUTCFullYear()+(a.getUTCMonth()+1)+a.getUTCDate();e=e+"?id="+t+"&v="+a;window.Granify=n;n._stack=[];n.init=function(e,t,r){function i(e,t){e[t]=function(){Granify._stack.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var s=n;h=["on","identify","addTag","trackPageView","trackCart","trackOrder"];for(a=0;a<h.length;a++)i(s,h[a])};n.init();var f,l,c,p=document.createElement("iframe");p.src="javascript:false";p.title="";p.role="presentation";(p.frameElement||p).style.cssText="width: 0 !important; height: 0 !important; border: 0 !important; overflow: hidden !important; position: absolute !important; top: -1000px !important; left: -1000px !important;";c=document.getElementsByTagName("script");c=c[c.length-1];c.parentNode.insertBefore(p,c);try{l=p.contentWindow.document}catch(a){f=document.domain;p.src="javascript:var d=document.open();d.domain='"+f+"';void(0);";l=p.contentWindow.document}l.open()._l=function(){var t=this.createElement("script");if(f)this.domain=f;t.id="js-iframe-async";t.src=e;this.body.appendChild(t)};l.write('<body onload="document._l();">');l.close()})("//cdn.granify.com/assets/javascript.js",GRANIFY_SITE_ID,[])
		</script> 
  <link href="https://fonts.googleapis.com/css?family=Merriweather:400,700" rel="stylesheet" type="text/css"> 
  <script type="text/javascript">
            var granify_page_type = 'blog';
            var data_layer_page_type = 'blog';
			Granify.trackPageView({
                page_type: granify_page_type
			});
		</script> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
  <link rel="shortcut icon" href="//d1ldz4te4covpm.cloudfront.net/misc/favicon.ico" type="image/x-icon"> 
  <meta name="description" content="Twitter Sentiment Analysis written by Sharan Kumar Ravindran: one of the many articles from Packt Publishing"> 
  <meta name="revisit-after" content="1 day"> 
  <link rel="canonical" href="https://www.packtpub.com/books/content/twitter-sentiment-analysis"> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:site" content="@packtpub"> 
  <meta name="twitter:title" content="Twitter Sentiment Analysis | PACKT Books"> 
  <meta name="twitter:description" content="Twitter Sentiment Analysis written by Sharan Kumar Ravindran: one of the many articles from Packt Publishing"> 
  <script type="text/javascript">
            window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
            heap.load("4197017494");
        </script> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta id="viewport" name="viewport" content="width=320, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 
  <!-- <link href="//fonts.googleapis.com/css?family=Ubuntu:300,400,500,700,300italic,400italic,500italic,700italic" rel="stylesheet" type="text/css">--> 
  <link href="/sites/all/themes/packt_v4/fonts/ubuntu.css" rel="stylesheet" type="text/css"> 
  <!--[if lt IE 10]>
        <link href="/sites/all/themes/packt_v4/css/core/packtpub_ie.css" rel="stylesheet" type="text/css">
        <![endif]--> 
  <link type="text/css" rel="stylesheet" media="all" href="//d1ldz4te4covpm.cloudfront.net/sites/default/files/css/15070345948550c0d5/88193022b61633465ae9b864eeae61e3.css"> 
  <link type="text/css" rel="stylesheet" media="print" href="//dz13w8afd47il.cloudfront.net/sites/default/files/css/15070345948550c0d5/6e295a6eb8f64cef4e07d9b1f02d46e8.css"> 
  <script type="text/javascript" src="//d1ldz4te4covpm.cloudfront.net/sites/default/files/js/15070345949f0892cf/952c3ff98a6acdc36497d839e31aa57c.js"></script> 
  <script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "\u002F", "dhtmlMenu": [ "doubleclick", "clone" ] });
//--><!]]>
</script> 
  <script type="text/javascript">
            var Packt = Packt || {}; Packt.user = {"cart":[],"newsletters":[],"customer_type":"","country_code":"AR","selected_currency":"USD","currency":"USD","currency_symbol":"$","uid":0};
        </script> 
  <link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Packt Publishing News"> 
  <!--Maxymiser script start --> 
  <script type="text/javascript" src="//service.maxymiser.net/api/eu/packtpub.com/51f3ef/mmapi.js"></script> 
  <!--Maxymiser script end --> 
  <!-- Google Tag Manager --> 
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-NJWZFW');Packt.dataLayer.init();</script> 
  <!-- End Google Tag Manager --> 
 </head> 
 <body id="ppv4" class="with-logo"> 
  <!-- Google Tag Manager (noscript) --> 
  <noscript> 
   <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJWZFW" height="0" width="0" style="display:none;visibility:hidden"> </iframe> 
  </noscript> 
  <!-- End Google Tag Manager (noscript) --> 
  <div id="page" class="" checkout=""> 
   <div id="page-header"> 
    <div id="account-bar" class="cf"> 
     <div class="section-inner"> 
      <div id="account-bar-status" class="cf"> 
       <div id="account-bar-currency-selector"> 
        <form accept-charset="UTF-8" method="post" id="packt-currency-select-form" class="float-left"> 
         <div class="form-item" id="edit-currency-wrapper"> 
          <select name="currency" class="form-select packt-currency-select-box selectBox" id="edit-currency" style="display:none"> <option value="GBP">GBP £</option> <option value="USD">US $</option> <option value="EUR">EUR €</option> <option value="AUD">AU $</option> </select> 
         </div> 
         <input type="submit" name="op" value="" style="display: none;" class="form-submit"> 
         <input type="hidden" name="form_id" id="edit-packt-currency-select" value="packt_currency_select_form"> 
        </form> 
       </div> 
       <div class="account-bar-divider float-left">
        |
       </div> 
       <div id="account-bar-status-security"></div> 
       <noscript> 
        <div id="account-bar-login-register-ns"> 
         <a href="/account">My Account</a> 
        </div> 
       </noscript> 
       <div id="account-bar-login-register"> 
        <a href="#" class="login-popup">
         <div class="float-left">
          Log in
         </div></a> 
        <div class="account-bar-divider float-left">
         |
        </div> 
        <a href="/register">
         <div class="float-left">
          Register
         </div></a> 
       </div> 
       <div id="account-bar-logged-in"> 
        <a href="/account"> 
         <div class="float-left">
          <strong>My Account</strong>
         </div> </a> 
        <div class="account-bar-divider float-left">
         |
        </div> 
        <a id="account-bar-sign-out" href="/logout">
         <div class="float-left">
          Sign Out
         </div></a> 
       </div> 
      </div> 
      <div id="account-bar-form"> 
       <div id="account-bar-form-login" class="cf"> 
        <div class="account-bar-form-left"> 
         <h4>Log in to your account</h4> 
         <form accept-charset="UTF-8" method="post" id="packt-user-login-form"> 
          <div>
           <div id="login-form" class="cf"> 
            <div id="login-form-email"> 
             <div class="form-item" id="email-wrapper"> 
              <input type="text" maxlength="128" name="email" id="email" size="24" value="" placeholder="E-mail address" class="form-text required"> 
             </div> 
            </div> 
            <div id="login-form-pass"> 
             <div class="form-item" id="password-wrapper"> 
              <input type="password" name="password" id="password" maxlength="128" size="24" placeholder="Password" class="form-text required"> 
             </div> 
            </div> 
            <div id="login-form-submit"> 
             <input type="submit" name="op" id="edit-submit-1" value="Login" class=" form-submit"> 
            </div> 
            <br> 
           </div> 
           <a href="https://www.packtpub.com/account/password">Forgotten your password?</a> 
           <input type="hidden" name="form_build_id" id="form-1092db2056007a5690135be2e5938d90" value="form-1092db2056007a5690135be2e5938d90"> 
           <input type="hidden" name="form_id" id="edit-packt-user-login-form" value="packt_user_login_form"> 
          </div>
         </form> 
        </div> 
        <div class="account-bar-form-right"> 
         <h4>Not yet a member?</h4> 
         <p>Register for an account and access leading-edge content on emerging technologies.</p> 
         <p><a class="account-bar-toggle register" href="/register">Register now</a></p> 
        </div> 
       </div> 
       <div id="account-bar-form-close">
        <a href="#">Close</a>
       </div> 
      </div> 
     </div> 
    </div> 
    <div id="menu-bar"> 
     <div class="section-inner cf"> 
      <div id="menuIcon"></div> 
      <div id="menu-links" class=""> 
       <a href="/"> 
        <div class="menu-item-tab"> 
         <div class="menu-item-text dummy" id="menu-packt-logo"> 
          <span class="alt">Packt Logo</span> 
         </div> 
        </div> </a> 
       <a href="/all"> 
        <div class="menu-item-tab"> 
         <div class="menu-item-text" id="menu-books"> 
          <span class="menu-text">Books &amp; Videos</span> 
         </div> 
        </div> </a> 
       <a href="/bundles"> 
        <div class="menu-item-tab"> 
         <div class="menu-item-text" id="menu-tech"> 
          <span class="menu-text">Bundles</span> 
         </div> 
        </div> </a> 
       <a href="/books/info/packt/about"> 
        <div class="menu-item-tab"> 
         <div class="menu-item-text" id="menu-packt"> 
          <span class="menu-text">Packt</span> 
         </div> 
        </div> </a> 
       <a href="/books/content/support"> 
        <div class="menu-item-tab"> 
         <div class="menu-item-text" id="menu-support"> 
          <span class="menu-text">Support</span> 
         </div> 
        </div> </a> 
       <a id="menu-packtlib-href" href="/mapt" target="_blank"> 
        <div class="menu-item-tab"> 
         <div class="menu-item-text" id="menu-packtlib"> 
          <span class="menu-text pl"> <img id="pl-img" src="//d255esdrn735hr.cloudfront.net/sites/all/themes/packt_v4/images/mapt-pplogo.png"> </span> 
          <span class="menu-text mob-pl"> <img id="pl-img" src="//dz13w8afd47il.cloudfront.net/sites/all/themes/packt_v4/images/mapt-pplogo-white.png"> </span> 
         </div> 
        </div> </a> 
      </div> 
      <div id="menu-icons" class=""> 
       <a href="#"> 
        <div class="menu-item-tab"> 
         <div class="menu-item-icon" id="menu-search"> 
          <span class="alt">Search</span> 
         </div> 
        </div> </a> 
       <a href="/account/my-ebooks"> 
        <div class="menu-item-tab"> 
         <div class="menu-item-icon dummy" id="menu-collection"> 
          <span class="alt">My Collection</span> 
         </div> 
        </div> </a> 
       <a href="https://www.packtpub.com/cart/checkout"> 
        <div class="menu-item-tab last"> 
         <div class="menu-item-icon" id="menu-cart"> 
          <div id="cart-icon-count" class="cart-icon-count"></div> 
          <span class="alt">Cart</span> 
         </div> 
        </div> </a> 
      </div> 
     </div> 
    </div> 
    <div id="menu-bar-popup" class="cf"> 
     <div id="menu-bar-popup-inner" class="cf"></div> 
     <div class="section-inner cf"> 
      <div class="menu-bar-popup-menu threecol cf" id="menu-books-popup"> 
       <div class="menu-bar-popup-section-left threecol"> 
        <div class="menu-bar-popup-section-left-inner cf"> 
         <p class="menu-bar-popup-title">Book &amp; Video Categories</p> 
         <div id="books-menu"> 
          <div class="cf"> 
           <div class="books-menu-column categories">
            <div class="inner">
             <p><a href="/web-development">Web Development</a></p>
             <p><a href="/big-data-and-business-intelligence">Big Data &amp; Business Intelligence</a></p>
             <p><a href="/application-development">Application Development</a></p>
             <p><a href="/virtualization-and-cloud">Virtualization &amp; Cloud</a></p>
            </div>
           </div>
           <div class="books-menu-column categories">
            <div class="inner">
             <p><a href="/game-development">Game Development</a></p>
             <p><a href="/networking-and-servers">Networking &amp; Servers</a></p>
             <p><a href="/hardware-and-creative">Hardware &amp; Creative</a></p>
             <p><a href="/business">Business</a></p>
            </div>
           </div> 
           <div class="books-menu-column last categories"> 
            <div class="inner"> 
             <p><a href="/all">All Products</a></p>
             <p><a href="/all-books">All Books</a></p>
             <p><a href="/video">All Videos</a></p>
             <p><a href="/latest-releases">Latest Releases</a></p> 
            </div> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
       <div class="menu-bar-popup-section-right threecol"> 
        <div class="menu-bar-popup-section-right-inner cf" data-product="true" data-product-id="9781785881114" data-product-title="Python Microservices Development" data-product-type="ebooks" data-product-brand="Packt Publishing" data-product-exclude-list="true" data-product-category="Web Development" data-product-price="35.990"> 
         <div id="deal-of-the-day-banner" class="cf"> 
          <div id="menu-bar-dotd-preview-thumb"> 
           <a href="/books/deal-of-the-day"> <img src="//d1ldz4te4covpm.cloudfront.net/sites/default/files/imagecache/featured_book_block/B05015.png" alt="Python Microservices Development" title="" width="150" height="185" class="lazyload-disabled imagecache imagecache-featured_book_block"> 
            <div class="menu-bar-dotd-percentage"> 
             <div class="menu-bar-dotd-percentage-text">
               50
              <sup class="dotd-sup">%</sup>
              <div class="dotd-sub">
               off
              </div> 
             </div> 
            </div> </a> 
          </div> 
          <div id="menu-bar-dotd-preview-text"> 
           <p class="menu-bar-popup-title"><a href="/books/deal-of-the-day">Deal of the Day</a></p> 
           <p>A practical approach to conquering the complexities of Microservices using the Python tooling ecosystem</p> 
          </div> 
          <div class="cf deal-of-the-day-in-header"> 
           <div class="dots-main-book-price float-left"> 
            <div class="book-top-pricing-main-price"> 
             <div class="book-top-pricing-main-ebook-price  ">
              $18.00
             </div> 
            </div> 
            <div class="dotd-rrp-price">
              RRP $35.99 
            </div> 
           </div> 
           <form action="/add_to_cart/28282" accept-charset="UTF-8" method="post" id="packt-libraries-add-to-cart-form" class="packt-libraries-add-to-cart-form"> 
            <div> 
             <div class="book-top-addtocart-inner"> 
              <div class="book-top-addtocart-logo"></div> 
              <div class="book-top-addtocart-separator"></div> 
              <input type="submit" name="submit-28282" id="submit-28282" value="Add to Cart" class=" form-submit"> 
              <input type="hidden" name="nids" id="nids" value="28282"> 
              <input type="hidden" name="qtys" id="qtys" value="1"> 
              <input type="hidden" name="upsell" id="edit-upsell" value="1"> 
              <input type="hidden" name="form_build_id" id="form-902f29c3c9d688b6a7a41e16c8ce937b" value="form-902f29c3c9d688b6a7a41e16c8ce937b"> 
              <input type="hidden" name="form_id" id="edit-packt-libraries-add-to-cart-form" value="packt_libraries_add_to_cart_form"> 
             </div> 
            </div>
           </form> 
          </div> 
         </div> 
         <div class="cf newsletter-signup-form" newsletter_id="280"> 
          <div class="dotd-signup-text">
           <strong>Sign up here to get these deals straight to your inbox</strong>
          </div> 
          <form accept-charset="UTF-8" method="post" id="packt-v3-subscribtion-dotd-form"> 
           <div>
            <div class="form-item"> 
            </div> 
            <div class="form-item" id="edit-mail-wrapper"> 
             <input type="text" maxlength="128" name="mail" id="edit-mail" size="60" value="" placeholder="Enter your email address" class="form-text"> 
            </div> 
            <input type="hidden" name="newsletter_id" id="edit-newsletter-id" value=""> 
            <input type="submit" name="op" id="edit-submit-3" value="Submit" class=" form-submit"> 
            <input type="hidden" name="form_build_id" id="form-34e18f1cee0222919734ed1012643fec" value="form-34e18f1cee0222919734ed1012643fec"> 
            <input type="hidden" name="form_id" id="edit-packt-v3-subscribtion-dotd-form" value="packt_v3_subscribtion_dotd_form"> 
           </div>
          </form> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="menu-bar-popup-menu fivecol cf" id="menu-tech-popup"> 
       <div class="menu-bar-popup-section-left fivecol"> 
        <div class="menu-bar-popup-section-left-inner cf"> 
         <p class="menu-bar-popup-title">Bundles</p> 
         <div class="packt-menu cf"> 
          <div class="cf"> 
           <div class="books-menu-column categories "> 
            <div class="inner"> 
             <p><a href="https://www.packtpub.com/bundles/dot-net-c-sharp">.NET &amp; C#</a></p> 
             <p><a href="https://www.packtpub.com/bundles/android">Android</a></p> 
             <p><a href="https://www.packtpub.com/bundles/angular">Angular</a></p> 
             <p><a href="https://www.packtpub.com/bundles/aws-amazon-web-services">AWS</a></p> 
             <p><a href="https://www.packtpub.com/bundles/big-data">Big Data</a></p> 
            </div> 
           </div> 
           <div class="books-menu-column categories "> 
            <div class="inner"> 
             <p><a href="https://www.packtpub.com/bundles/blockchain">Blockchain</a></p> 
             <p><a href="https://www.packtpub.com/bundles/c-plus-plus">C++</a></p> 
             <p><a href="https://www.packtpub.com/bundles/cyber-security">Cyber Security</a></p> 
             <p><a href="https://www.packtpub.com/bundles/deep-learning">Deep Learning</a></p> 
             <p><a href="https://www.packtpub.com/bundles/devops">DevOps</a></p> 
            </div> 
           </div> 
           <div class="books-menu-column categories "> 
            <div class="inner"> 
             <p><a href="https://www.packtpub.com/bundles/delphi">Delphi</a></p> 
             <p><a href="https://www.packtpub.com/bundles/docker">Docker</a></p> 
             <p><a href="https://www.packtpub.com/bundles/game-development">Game Dev</a></p> 
             <p><a href="https://www.packtpub.com/bundles/git-and-github">Git &amp; Github</a></p> 
             <p><a href="https://www.packtpub.com/bundles/go">Go</a></p> 
            </div> 
           </div> 
           <div class="books-menu-column categories "> 
            <div class="inner"> 
             <p><a href="https://www.packtpub.com/bundles/modern-java">Java</a></p> 
             <p><a href="https://www.packtpub.com/bundles/javascript">JavaScript</a></p> 
             <p><a href="https://www.packtpub.com/bundles/linux">Linux</a></p> 
             <p><a href="https://www.packtpub.com/bundles/python-for-beginners">Python Beginners</a></p> 
             <p><a href="https://www.packtpub.com/bundles/python-data">Python Data</a></p> 
            </div> 
           </div> 
           <div class="books-menu-column categories last"> 
            <div class="inner"> 
             <p><a href="https://www.packtpub.com/bundles/python-development">Python Dev</a></p> 
             <p><a href="https://www.packtpub.com/bundles/react">React</a></p> 
             <p><a href="https://www.packtpub.com/bundles/sysadmins">SysAdmins</a></p> 
             <p><a href="https://www.packtpub.com/bundles/unity">Unity</a></p> 
             <p><a href="https://www.packtpub.com/category-page/web-design">Web Design</a></p> 
            </div> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="menu-bar-popup-menu cf" id="menu-packt-popup"> 
       <div class="menu-bar-popup-section-left twocol"> 
        <div class="menu-bar-popup-section-left-inner cf"> 
         <p class="menu-bar-popup-title">Packt Publishing</p> 
         <div class="packt-menu cf"> 
          <div class="books-menu-column"> 
           <div class="inner"> 
            <p><a href="/books/info/packt/about">About Us</a></p> 
            <p><a href="/press">Press</a></p> 
            <p><a href="/books/info/packt/authors">Our Authors</a></p> 
            <!--<p><a href="/blog-network">Blog</a></p>
                                            <p><a href="/techprimer-network">Technology Primers</a></p>--> 
           </div> 
          </div> 
          <div class="books-menu-column"> 
           <div class="inner"> 
            <p><a href="/books/info/packt/contact-us">Contact Us</a></p> 
            <p><a href="/books/info/packt/careers-with-packt">Careers</a></p> 
            <p><a href="/books/info/packt/trade-partners">Trade &amp; Partners</a></p> 
            <!--<p><a href="/article-network">Articles</a></p>--> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
       <!--<div class="menu-bar-popup-section-right twocol">
                            <div class="menu-bar-popup-section-right-inner cf">
                                <div id="menu-bar-article-preview-thumb">
                                    <noscript><img src="//d1ldz4te4covpm.cloudfront.net/sites/default/files/imagecache/ppv4_header_article_thumb/564_Cover Image.png" alt="What is coding as a service?" title="" width="240" height="114" class=" imagecache imagecache-ppv4_header_article_thumb"/></noscript><img src="/sites/default/files/blank.gif" alt="What is coding as a service?" title="" width="240" height="114" data-original="//d1ldz4te4covpm.cloudfront.net/sites/default/files/imagecache/ppv4_header_article_thumb/564_Cover Image.png" class=" imagecache imagecache-ppv4_header_article_thumb"/>                                </div>
                                <div id="menu-bar-article-preview-text">
                                    <p class="menu-bar-popup-title"><a href="/books/content/what-coding-service">What is coding as a service?</a></p>
                                    <p id="menu-bar-article-one-liner"></p>
                                    <p><a href="/articles">Read all our articles</a></p>
                                </div>
                            </div>
                        </div>--> 
      </div> 
      <div class="menu-bar-popup-menu cf" id="menu-support-popup"> 
       <div class="menu-bar-popup-section-left twocol"> 
        <div class="menu-bar-popup-section-left-inner cf"> 
         <p class="menu-bar-popup-title">Support</p> 
         <div class="packt-menu cf"> 
          <div class="books-menu-column"> 
           <div class="inner"> 
            <p><a href="/books/info/packt/faq">FAQs</a></p> 
            <p><a href="/books/info/packt/ordering">Ordering Information</a></p> 
            <p><a href="/books/info/packt/terms-and-conditions">Terms &amp; Conditions</a></p> 
           </div> 
          </div> 
          <div class="books-menu-column"> 
           <div class="inner"> 
            <p><a href="/books/content/support">Code Downloads &amp; Errata</a></p> 
            <p><a href="/books/content/errata">Submit Errata</a></p> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="menu-bar-popup-menu cf" id="menu-packtlib-popup"> 
       <div class="menu-bar-popup-section-left twocol"> 
        <div class="menu-bar-popup-section-left-inner cf"> 
         <p class="menu-bar-popup-title">Mapt</p> 
         <div class="packt-menu cf"> 
          <div class="books-menu-column"> 
           <div class="inner"> 
            <p id="menu-mapt-link"><a href="/mapt" target="_blank">Go to Mapt</a></p> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div class="menu-bar-popup-menu cf" id="menu-search-popup"> 
       <div class="menu-bar-popup-search-inner"> 
        <form accept-charset="UTF-8" method="post" id="packt-libraries-main-search-form"> 
         <div> 
          <div id="menu-bar-search" class="cf"> 
           <div id="menu-bar-search-title"> 
            <div class="form-item">
             Search
            </div> 
           </div> 
           <div id="menu-bar-search-box"> 
            <div class="form-item" id="main-search-keys-wrapper"> 
             <input type="text" name="keys" id="main-search-keys" size="49" value="" placeholder="Enter your search terms..." class="form-text"> 
            </div> 
           </div> 
           <div id="menu-bar-search-button"> 
            <input type="submit" name="op" id="edit-submit-5" value="Search" class=" form-submit"> 
           </div> 
           <input type="hidden" name="sort" id="edit-sort" value="0"> 
           <input type="hidden" name="types" id="edit-types" value="0"> 
           <input type="hidden" name="forthcoming" id="edit-forthcoming" value="1"> 
           <input type="hidden" name="available" id="edit-available" value="1"> 
           <input type="hidden" name="count" id="edit-count" value="20"> 
           <input type="hidden" name="form_build_id" id="form-42fb73b64cab8769566d9f5c2e9b304a" value="form-42fb73b64cab8769566d9f5c2e9b304a"> 
           <input type="hidden" name="form_id" id="edit-packt-libraries-main-search-form" value="packt_libraries_main_search_form"> 
          </div> 
          <div class="facet-search-cross facet-search-cross-autocomplete"></div> 
         </div>
        </form> 
       </div> 
      </div> 
      <div class="menu-bar-popup-menu cf" id="menu-cart-popup"> 
       <div class="menu-bar-popup-section-left even"> 
        <div class="menu-bar-popup-section-left-inner cf"> 
         <div id="menu-bar-popup-cart-preview"> 
          <div id="menu-bar-popup-cart-item-preview"> 
           <div id="menu-bar-popup-cart-item-preview-image"> 
            <img src=""> 
           </div> 
           <p class="menu-bar-popup-title">Added to Cart</p> 
           <p id="menu-bar-popup-cart-item-preview-title"></p> 
           <p id="menu-bar-popup-cart-item-preview-oneliner"></p> 
           <p id="menu-bar-popup-cart-item-preview-additional">...and <span></span> more</p> 
           <p class="price"><span id="menu-bar-popup-cart-item-preview-currency"></span><span id="menu-bar-popup-cart-item-preview-price"></span></p> 
          </div> 
         </div> 
         <p id="menu-bar-popup-cart-empty-preview"> You don't have anything in your cart right now. </p> 
        </div> 
       </div> 
       <div class="menu-bar-popup-section-right even"> 
        <div class="menu-bar-popup-section-right-inner cf"> 
         <div id="menu-bar-popup-content"> 
          <div class="cf cart-price-preview"> 
           <p id="menu-bar-popup-subtotal-title" class="menu-bar-popup-title float-left">Subtotal</p> 
           <p id="menu-bar-popup-subtotal-value" class="menu-bar-popup-title float-right price"> 0.00</p> 
           <p id="menu-bar-popup-subtotal-currency" class="menu-bar-popup-title float-right price"></p> 
          </div> 
          <p><strong>Free shipping</strong> on print orders for US, UK, Europe and selected Asian countries</p> 
          <form> 
           <a href="https://www.packtpub.com/cart/checkout" class="button-link grey">View Cart</a> 
           <span></span> 
           <a href="https://www.packtpub.com/cart/checkout/?checkout_step=upsell" class="button-link">Check Out</a> 
          </form> 
         </div> 
         <div id="checkout-close" onclick="Packt.headerMenu.hideMenuPopup()"></div> 
        </div> 
       </div> 
      </div> 
      <div class="menu-bar-popup-menu cf" id="menu-cart-small"> 
       <div> 
        <div class="small-popup-outer float-right"> 
         <div class="small-popup-tick">
           &nbsp; 
         </div> 
         <div class="small-popup-text"> 
          <strong> Title added to cart </strong> 
         </div> 
         <div class="small-popup-seperator"> 
         </div> 
         <div class="small-popup-arrows">
           &nbsp; 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
     <div id="menu-bar-popup-inner-bottom" class="cf"></div> 
    </div> 
   </div> 
   <div id="main-container" class="not-front not-logged-in page-node node-type-article no-sidebars page-books-content-twitter-sentiment-analysis section-books node-full-view "> 
    <div id="main" class=""> 
     <!-- #content --> 
     <div id="content"> 
      <div class="blue-breadcrumb"> 
       <div class="section-inner"> 
        <div class="breadcrumb">
         <a href="/">Home</a>&nbsp; &gt; &nbsp;
         <a href="/all-books">Books</a>&nbsp; &gt; &nbsp;
         <a href="/big-data-and-business-intelligence/mastering-social-media-mining-r">Mastering Social Media Mining with R</a>&nbsp; &gt; &nbsp;
         <a href="/books/content/twitter-sentiment-analysis" class="active">Twitter Sentiment Analysis</a>
        </div> 
       </div> 
      </div> 
      <div class="section-inner cf"> 
       <div id="messages-container"> 
       </div> 
      </div> 
      <a name="main-content" id="main-content"></a> 
      <div id="main-article" class="article cf section-inner" itemscope itemtype="http://schema.org/Article"> 
       <div class="panel-display panel-packt-cat clear-block"> 
        <div class="panel-panel-top-wrapper"> 
         <div class="blog-header"> 
          <div class="blog-featured-book left"> 
           <a href="/big-data-and-business-intelligence/mastering-social-media-mining-r"> <img src="//dz13w8afd47il.cloudfront.net/sites/default/files/9781784396312.png"> </a> 
          </div> 
          <div class="blog-title"> 
           <h1>Twitter Sentiment Analysis</h1> 
          </div> 
         </div> 
         <div class="blog-author-block"> 
          <div class="blog-author-block-left"> 
           <h2><a href="/books/info/authors/sharan-kumar-ravindran">Sharan Kumar Ravindran</a></h2> 
           <p><span class="date-display-single">February 2016</span></p> 
          </div> 
          <div class="share-buttons-line "> 
           <div class="share-icon-background"> 
            <a class="share-link" target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.packtpub.com/books/content/twitter-sentiment-analysis&amp;title=Twitter+Sentiment+Analysis&amp;source=Packt+Publishing&amp;summary=Twitter+Sentiment+Analysis"> 
             <div class="share-icon linkedin"></div> </a> 
           </div> 
           <div class="share-icon-background"> 
            <a class="share-link" target="_blank" href="https://www.twitter.com/share?url=https://www.packtpub.com/books/content/twitter-sentiment-analysis&amp;text=Twitter Sentiment Analysis"> 
             <div class="share-icon twitter"></div> </a> 
           </div> 
           <div class="share-icon-background"> 
            <a class="share-link" target="_blank" href="http://www.facebook.com/sharer.php?u=https://www.packtpub.com/books/content/twitter-sentiment-analysis"> 
             <div class="share-icon facebook"></div> </a> 
           </div> 
           <div class="share-icon-background last"> 
            <a class="share-link" target="_blank" href="https://plusone.google.com/_/+1/confirm?hl=en&amp;url=https://www.packtpub.com/books/content/twitter-sentiment-analysis"> 
             <div class="share-icon google-plus"></div> </a> 
           </div> 
          </div> 
         </div> 
         <div class="blog-content-left left"> 
          <div class="inside"> 
           <div class="article-content" itemprop="articleBody"> 
            <p>In this article, we will cover:</p> 
            <ul> 
             <li>Twitter and it's importance</li> 
             <li>Getting hands on with Twitter's data and using various Twitter APIs</li> 
             <li>Use of data to solve business problems—comparison of various businesses based on tweets</li> 
            </ul> 
            <p style="margin-left: 40px; margin-right: 40px;" align="center"><em>(For more resources related to this topic, see <a href="#more">here</a>.)</em></p> 
            <h1>Twitter and its importance</h1> 
            <p>Twitter can be considered as extension of the short messages service or SMS but on an Internet-based platform. In the words of Jack Dorsey, co-founder and co-creator of Twitter:</p> 
            <blockquote> 
             <p>"...We came across the word 'twitter', and it was just perfect. The definition was 'a short burst of inconsequential information,' and 'chirps from birds'. And that's exactly what the product was"</p> 
            </blockquote> 
            <p>Twitter acts as a utility where one can send their <em>SMSs</em> to the whole world. It enables people to instantaneously get heard and get a response. Since the audience of this SMS is so large, many a times responses are very quick. So, Twitter facilitates the basic social instincts of humans. By sharing on Twitter, a user can easily express his/her opinion for just about everything and at anytime. Friends who are connected or, in case of Twitter, <em>followers</em>, immediately get the information about <em>what's going on in someone's </em><em>life</em>. This in turn severs another humanemotion—the innate need to know about what is going on in someone's life. Apart from being real time, Twitter's UI is really easy to work with. It's naturally and instinctively understood, that is, the UI is very intuitive in nature.</p> 
            <p>Each tweet on Twitter is a short message with maximum of 140 characters. Twitter is an excellent example of a microblogging service. As of July 2014, the Twitter user base reached above 500 million, with more than 271 million active users. Around 23 percent are adult Internet users, which is also about 19 percent of the entire adult population.</p> 
            <p>If we can properly mine what users are tweeting about, Twitter can act as a great tool for advertisement and marketing. But this not the only information Twitter provides. Because of its non-symmetric nature in terms of followers and followings, Twitter assists better in terms of understanding user interests rather than its impact on the social network. An interest graph can be thought of as a method to learn the links between individuals and their diverse interests. Computing the degree of association or correlations between individual's interests and the potential advertisements are one of the most important applications of the interest graphs. Based on these correlations, a user can be targeted so as to attain a maximum response to an advertisement campaign along with followers' recommendations.</p> 
            <p>One interesting fact about Twitter (and Facebook) is that the user does not need to be a real person. A user on Twitter (or on Facebook) can be anything and anyone, for example, an organization, a campaign itself, a famous but imaginary personality (a fictional character recognizable in the media) apart from a real/actual person. If a real person follows these users on Twitter, a lot can be inferred about their personality and hence they can be recommended ads or <em>other followers</em> based on such information. For example, <em>@fakingnews</em> is an Indian blog that publishes news satires ranging from Indian politics to typical Indian mindsets. People who follow <em>@fakingnews</em> are the ones who, in general, like to read sarcasm news. Hence, these people can be thought of as to belonging to the <em>same</em> cluster or a community. If we have another sarcastic blog, we can always recommend it to this community and improve on advertisement return on investment. The chances of getting more hits via people belonging to this community will be higher than a community who don't follows <em>@fakingnews</em>, or any such news, in general.</p> 
            <p>Once you have comprehended that Twitter allows you to create, link, and investigate a community of interest for a random topic, the influence of Twitter and the knowledge one can find from mining it becomes clearer.</p> 
            <h1>Understanding Twitter's API</h1> 
            <p>Twitter APIs provide a means to access the Twitter data, that is, tweets sent by its millions of users. Let's get to know these APIs a bit better.</p> 
            <h2>Twitter vocabulary</h2> 
            <p>As described earlier, Twitter is a microblogging service with social aspect associated. It allows its users to express their views/sentiments with the means of Internet SMS, called tweets in the context of Twitter. These tweets are entities formed of maximum of 140 characters. The content of these tweets can be anything ranging from a person's mood to person's location to a person's curiosity. The platform where these tweets are posted is called <em>Timeline</em>. To use Twitter's APIs, one must understand the basic terminology.</p> 
            <p>Tweets are the crux of Twitter. Theoretically, a tweet is just 140 characters of text content tweeted by a user, but there is more to it than just that. There is more metadata associated with the same tweet, which are classified by Twitter as entities and places.</p> 
            <ul> 
             <li>The entities constitute of hash tags, URLs, and other media data that users have included in their tweet.</li> 
             <li>The places are nothing but locations from where the tweet originated. It possible the place is a real world location from where the tweet was sent, or it is a location mentioned in the text of the tweet.</li> 
            </ul> 
            <p>Take the following tweet as an example:</p> 
            <p><strong>Learn how to consume millions of tweets with @twitterapi at #TDC2014 in São Paulo #bigdata tomorrow at 2:10pm http://t.co/pTBlWzTvVd</strong></p> 
            <p>The preceding tweet was tweeted by <em>@TwitterDev</em> and it's about 132 characters long. The following are the entities mentioned in this tweet:</p> 
            <ul> 
             <li><strong>Handle</strong>: <em>@twitterapi</em></li> 
             <li><strong>Hashtags</strong>: <em>#TDC2014</em>, <em>#bigdata</em></li> 
             <li><strong>URL</strong>: <a href="http://t.co/pTBlWzTvVd" target="_blank">http://t.co/pTBlWzTvVd</a></li> 
            </ul> 
            <p>São Paulo is the place mentioned in this tweet.</p> 
            <p>This is a one such example of a tweet with a fairly good amount of metadata. Although the actual tweet's length is well within the 140-character limit, it contains more information than one can think of. This actually enables us to figure out that this tweet belongs to a specific community based on the cross referencing the topics presents in the hash tags, the URL to the website, the different users mentioned in it, and so on. The interface (web or mobile) on to which the tweets are displayed is called <strong>timeline</strong>. The tweets are, in general, arranged in chronological order of posting time. On a specific user's account, only certain number of tweets are displayed by Twitter. This is generally based on users the given user is following and is being followed by. This is the interface a user will see when he/she login his/her Twitter account.</p> 
            <p>A Twitter stream is different from Twitter timeline in the sense that they are not for a specific user. The Tweets on a user's Twitter timeline will be displayed from only certain number of users will be displayed/updated less frequently while the Twitter stream is chronological collection of the all the tweets posted by all the users. The number of active users on Twitter is in orders of hundreds of millions. All the users tweeting during some public events of widespread interest such as presidential debates can achieve speeds of several hundreds of thousands of tweets per minute. The behavior is very similar to a stream; hence the name of such collection is Twitter stream.</p> 
            <p>You can try the following by creating a Twitter account (it would be more insightful if you have less number of followers already with you). Before creating the account, it is advised that you read all the terms and conditions of the same. You can also start reading its API's documentation.</p> 
            <h1>Creating a Twitter API connection</h1> 
            <p>We need to have an app created at&nbsp;<a href="https://dev.twitter.com/apps" target="_blank">https://dev.twitter.com/apps</a> before making any API requests to Twitter. It's a standard method for developers to gain API access and more important it helps Twitter to observe and restricts developer from making high load API requests.</p> 
            <p>The <em>ROAuth</em> package is the one we are going to use in our experiments. Tokens allow users to authorize third-party apps to access the data from any user account without the need to have their passwords (or other sensitive information). <em>ROAuth</em> basically facilitates the same.</p> 
            <h2>Creating new app</h2> 
            <p>The first step to getting any kind of token access from twitter is to create an app on it. The user has to go to <a href="https://dev.twitter.com/" title="https://dev.twitter.com/">https://dev.twitter.com/</a> and log in with their Twitter credentials. With you logged in using your credentials, the step for creating app are as follows:</p> 
            <ol> 
             <li>Go to <a href="https://apps.twitter.com/app/new" target="_blank">https://apps.twitter.com/app/new</a>.</li> 
             <li>Put the name of your application in the <strong>Name</strong> field. This name can be anything you like.</li> 
             <li>Similarly, enter the description in the <strong>Description</strong> field.</li> 
             <li>The <strong>Website</strong> field needs to be filled with a valid URL, but again that can be any random URL.</li> 
             <li>You can leave the <strong>Callback URL</strong> field blank.</li> 
            </ol> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_001.png" alt="" width="474" height="384"></p> 
            <p>After the creation of this app, we need to find the <strong>API Key</strong> and <strong>API Secret</strong> values from the <strong>Key and Access Token</strong> tab. Consider the example shown in the following figure:</p> 
            <p>&nbsp;<img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_002.png" alt="" width="460" height="248"></p> 
            <p>Under the <strong>Key and Access Tokens</strong> tab, you will find a button to generate access tokens. Click on it and you will be provided with an <strong>Access Token</strong> and <strong>Access Token Secret</strong> value.</p> 
            <p>Before using the preceding keys, we need to install <em>twitteR</em>to access the data in R using the app we just created, using following code:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">Install.packages(c("devtools", "rjson", "bit64", "httr"))

library(devtools)

install_github("geoffjentry/twitteR").

library(twitteR)</code></pre>
            <p>Here's sample code that helps us access the tweets posted since any give date and which contain a specific keyword. In this example, we are searching for tweeting containing the word <em>Earthquake</em> in the tweets posted since <em>September 29, 2014</em>. In order to get this information, we provide four special types of information to get the authorization token:</p> 
            <ul> 
             <li>key</li> 
             <li>secret</li> 
             <li>access token</li> 
             <li>access token secret</li> 
            </ul> 
            <p>We'll show you how to use the preceding information to get an app authorized by the user and access its resources on Twitter. The <em>ROAuh</em> function in <em>twitteR</em> will make our next steps very smooth and clear:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">api_key&lt;- "your_api_key"

api_secret&lt;- "your_api_secret"

access_token&lt;- "your_access_token"

access_token_secret&lt;- "your_access_token_secret"

setup_twitter_oauth
(api_key,api_secret,access_token,access_token_secret)

EarthQuakeTweets = searchTwitter("EarthQuake", since='2014-09-29')</code></pre>
            <p>The results of this example should simply display <strong>Using direct authentication</strong> with 25 tweets loaded in the <em>EarthQuakeTweets</em> variable as shown here.</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">head(EarthQuakeTweets,2)

[[1]]

[1] "TamamiJapan: RT @HistoricalPics: Japan. Top: One Month After Hiroshima, 1945. Bottom: One Month After The Earthquake and Tsunami, 2011. Incredible. http…"

 

[[2]]

[1] "OldhamDs: RT @HistoricalPics: Japan. Top: One Month After Hiroshima, 1945. Bottom: One Month After The Earthquake and Tsunami, 2011. Incredible. http…"</code></pre>
            <p>We have shown in the first two of the 25 tweets containing the word <em>Earthquake</em> since September 29, 2014. If you closely observe the results, you'll find all the metadata using <em>str(EarthQuakeTweets[1])</em>.</p> 
            <h2>Finding trending topics</h2> 
            <p>Now that we understand how to create API connections to Twitter and fetch data using it, we will see how to get answer to <em>what is trending on </em><em>Twitter</em> to list what topic (worldwide or local) is being talked about the most right now. Using the same API, we can easily access the trending information:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">#return data frame with name, country &amp; woeid.

Locs &lt;- availableTrendLocations()

# Where woeid is a numerical identification code describing a location ID

 

# Filter the data frame for Delhi (India) and extract the woeid of the same

LocsIndia = subset(Locs, country == "India")

woeidDelhi = subset(LocsIndia, name == "Delhi")$woeid

 

# getTrends takes a specified woeid and returns the trending topics associated with that woeid

trends = getTrends(woeid=woeidDelhi)</code></pre>
            <p>The function <em>availableTrendLocations()</em> returns R data frame containing the <em>name</em>, <em>country</em>, and <em>woeid</em> parameters. We than filter this data frame for a location of our choosing; in this example, its <em>Delhi, India</em>. The function <em>getTrends()</em> fetches the top 10 trends in the location determined by the <em>woeid</em>.</p> 
            <p>Here are the top four trending hash tags in the region defined by <em>woeid = 20070458</em>, that is, <em>Delhi, India</em>.</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">head(trends)

name         url                   query               woeid

1 #AntiHinduNGOsExposed <a href="http://twitter.com/search?q=%23AntiHinduNGOsExposed" title="http://twitter.com/search?q=%23AntiHinduNGOsExposed">http://twitter.com/search?q=%23AntiHinduNGOsExposed</a> %23AntiHinduNGOsExposed 20070458

2           #KhaasAadmi           <a href="http://twitter.com/search?q=%23KhaasAadmi" title="http://twitter.com/search?q=%23KhaasAadmi">http://twitter.com/search?q=%23KhaasAadmi</a>           %23KhaasAadmi
20070458

3           #WinGOSF14           <a href="http://twitter.com/search?q=%23WinGOSF14" title="http://twitter.com/search?q=%23WinGOSF14">http://twitter.com/search?q=%23WinGOSF14</a>           %23WinGOSF14
20070458

4     #ItsForRealONeBay     <a href="http://twitter.com/search?q=%23ItsForRealONeBay" title="http://twitter.com/search?q=%23ItsForRealONeBay">http://twitter.com/search?q=%23ItsForRealONeBay</a>    
%23ItsForRealONeBay 20070458</code></pre>
            <h2>Searching tweets</h2> 
            <p>Now, similar to the trends there is one more important function that comes with the <em>TwitteR</em> package: <em>searchTwitter()</em>. This function will return tweets containing the searched string along with the other constraints. Some of the constraints that can be imposed are as follows:</p> 
            <ul> 
             <li><em>lang</em>: This constraints the tweets of given language.</li> 
             <li><em>since/until</em>: This constraints the tweets to be <em>since</em> the given date or <em>until</em> the given date.</li> 
             <li><em>geocode</em>: This constraints tweets to be from only those users who are located within certain distance from the given latitude/longitude.</li> 
            </ul> 
            <p>For example, extracting tweets about the cricketer <em>Sachin Tendulkar</em> in the month of November 2014:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">head(searchTwitter('Sachin Tendulkar', since='2014-11-01',
until= '2014-11-30'))

 

[[1]]

[1] "TendulkarFC: RT @Moulinparikh: Sachin Tendulkar had a long
session with the Mumbai Ranji Trophy team after today's loss."

 

[[2]]

[1] "tyagi_niharika: @WahidRuba @Anuj_dvn @Neel_D_ @alishatariq3
@VWellwishers @Meenal_Rathore oh... Yaadaaya....hmaraesachuuu
sir\xed\xa0\xbd\xed\xb8\x8d..i mean sachin Tendulkar"

 

[[3]]

[1] "Meenal_Rathore: @WahidRuba @Anuj_dvn @tyagi_niharika @Neel_D_
@alishatariq3 @AliaaFcc @VWellwishers .. Sachin Tendulkar
\xed\xa0\xbd\xed\xb8\x8a??"

 

[[4]]

[1] "MishraVidyanand: Vidyanand Mishra is following the Interest
\"The Living Legend SachinTendu...\" on <a href="http://t.co/tveHXMB4BM" title="http://t.co/tveHXMB4BM">http://t.co/tveHXMB4BM</a> -
http://t.co/CocNMcxFge"

 

[[5]]

[1] "CSKalwaysWin: I have never tried to compare myself to anyone
else.\n - Sachin Tendulkar"</code></pre>
            <h1>Twitter sentiment analysis</h1> 
            <p>Depending on the objective and based on the functionality to search any type of tweets from the public timeline, one can always collect the required corpus. For example, you may want to learn about customer satisfaction levels with various cab services, which are coming in Indian market. These start-ups are offering various discounts and coupons to attract customers but at the end of the day, the service quality determines the business of any organization. These startups are constantly promoting themselves on various social media websites. Customers are showing various levels of sentiments on the same platform.</p> 
            <p>Let's target the following:</p> 
            <ul> 
             <li><strong>Meru Cabs</strong>: A radio cabs service based in Mumbai, India. Launched in 2007.</li> 
             <li><strong>Ola Cabs</strong>: A taxi aggregator company based in Bangalore, India. Launched in 2011.</li> 
             <li><strong>TaxiForSure</strong>: A taxi aggregator company based in Bangalore, India. Launched in 2011.</li> 
             <li><strong>Uber India</strong>: A taxi aggregator company headquartered in San Francisco, California. Launched in India in 2014.</li> 
            </ul> 
            <p>Let's set our goal to get the general sentiments about each of the preceding services providers based on the customer sentiments present in the tweets on Twitter.</p> 
            <h2>Collecting tweets as a corpus</h2> 
            <p>We'll start with the <em>searchTwitter()</em>function (discussed previously) on the <em>TwitteR</em> package to gather the tweets for each of the preceding organizations.</p> 
            <p>Now, in order to avoid writing same code again and again, we pushed the following authorization code in the file called <em>authenticate.R</em>.</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">library(twitteR)

api_key&lt;- "xx"

api_secret&lt;- "xx"

access_token&lt;- "xx"

access_token_secret&lt;- "xx"

setup_twitter_oauth(api_key,api_secret,access_token,
access_token_secret)</code></pre>
            <p>We run the following scripts to get the required tweets:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c"># Load the necessary packages

source('authenticate.R')

 

Meru_tweets = searchTwitter("MeruCabs", n=2000, lang="en")

Ola_tweets = searchTwitter("OlaCabs", n=2000, lang="en")

TaxiForSure_tweets =
searchTwitter("TaxiForSure", n=2000, lang="en")

Uber_tweets = searchTwitter("Uber_Delhi", n=2000, lang="en")</code></pre>
            <p>Now, as mentioned in Twitter's Rest API documentation, we get the message <strong>"Due to capacity constraints, the index currently only covers about a week's worth of tweets"</strong>. We do not always get the desired number of tweets (for example, here it's 2000). Instead, the following are the size of each of the above Tweet lists we get the following:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">&gt;length(Meru_tweets)

[1] 393

&gt;length(Ola_tweets)

[1] 984

&gt; length(TaxiForSure_tweets)

[1] 720

&gt; length(Uber_tweets)

[1] 2000</code></pre>
            <p>As you can see from the preceding code, the length of these tweets is not equal to the number of tweets we had asked for in our query scripts. There are many takeaways from this information. Since these tweets are only from last one week's tweets on Twitter, they suggest there is more discussion about these taxi services in the following order:</p> 
            <ul> 
             <li>Uber India</li> 
             <li>Ola Cabs</li> 
             <li>TaxiForSure</li> 
             <li>Meru Cabs</li> 
            </ul> 
            <p>A ban was imposed on Uber India after an alleged rape incident by one Uber India driver. The decision to put a ban on the entire organization because one of its drivers committed a crime became a matter of public outcry. Hence, the number of tweets about Uber increased on social media. Now, Meru Cabs have been in India for almost 7 years now. Hence, they are quite a stable organization. They amount of promotion Ola Cabs and TaxiForSure are doing is way higher than that of Meru Cabs. This can be one reason for Meru Cabs having theleast number (393) of tweets in last week. The number of tweets in last week is comparable for Ola Cabs (984) and TaxiForSure (720). There can be several numbers of reasons for the same. They were both started their business in same year and more importantly they follow the same business model. While Meru Cabs is a radio taxi service and they own and manage a fleet of cars while Ola Cabs, TaxiForSure, or Uber are a marketplace for users to compare the offerings of various operators and book easily.</p> 
            <p>Let's dive deep into the data and get more insights.</p> 
            <h2>Cleaning the corpus</h2> 
            <p>Before applying any intelligent algorithms to gather more insights out of the tweets collected so far, let's first clean it. In order to clean up, we should understand how the list of tweets looks like:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">head(Meru_tweets)

[[1]]

[1] "MeruCares: @KapilTwitts 2&amp;gt;...and other details at
<a href="mailto:feedback@merucabs.com">feedback@merucabs.com</a> We'll check back and reach out soon."

 

[[2]]

[1] "vikasraidhan: @MeruCabs really disappointed with @GenieCabs.
Cab is never assigned on time. Driver calls after 30 minutes. Why
would I ride with Meru?"

 

[[3]]

[1] "shiprachowdhary: fallback of #ubershame , #MERUCABS taking
customers for a ride"

 

[[4]]

[1] "shiprachowdhary: They book Genie, but JIT inform of
cancellation &amp;amp; send full fare #MERUCABS . Very
disappointed.Always used these guys 4 and recommend them."

 

[[5]]

[1] "shiprachowdhary: No choice bt to take the #merucabs premium
service. Driver told me that this happens a lot with #merucabs."

 

[[6]]

[1] "shiprachowdhary: booked #Merucabsyestrdy. Asked for Meru
Genie. 10 mins 4 pick up time, they call to say Genie not available, so sending the full fare cab"</code></pre>
            <p>The first tweet here is a grievance solution, while the second, fourth and fifth are actually customer sentiments about the services provided by Meru Cabs. We see:</p> 
            <ul> 
             <li>Lots of meta information such as @people, URLs and #hashtags</li> 
             <li>Punctuation marks, numbers, and unnecessary spaces</li> 
             <li>Some of these tweets are retweets from other users; for the given application, we would not like to consider <strong>retweets</strong> (<strong>RTs</strong>) in sentiment analysis</li> 
            </ul> 
            <p>We clean all these data using the following code block:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">MeruTweets &lt;- sapply(Meru_tweets, function(x) x$getText())

OlaTweets = sapply(Ola_tweets, function(x) x$getText())

TaxiForSureTweets = sapply(TaxiForSure_tweets,
function(x) x$getText())

UberTweets = sapply(Uber_tweets, function(x) x$getText())

 

catch.error = function(x)

{

# let us create a missing value for test purpose

y = NA

# Try to catch that error (NA) we just created

catch_error = tryCatch(tolower(x), error=function(e) e)

# if not an error

if (!inherits(catch_error, "error"))

   y = tolower(x)

# check result if error exists, otherwise the function works fine.

return(y)

}

 

cleanTweets&lt;- function(tweet){

# Clean the tweet for sentiment analysis

# remove html links, which are not required for sentiment analysis

tweet = gsub("(f|ht)(tp)(s?)(://)(.*)[.|/](.*)", " ", tweet)

# First we will remove retweet entities from
the stored tweets (text)

tweet = gsub("(RT|via)((?:\\b\\W*@\\w+)+)", " ", tweet)

# Then remove all "#Hashtag"

tweet = gsub("#\\w+", " ", tweet)

# Then remove all "@people"

tweet = gsub("@\\w+", " ", tweet)

# Then remove all the punctuation

tweet = gsub("[[:punct:]]", " ", tweet)

# Then remove numbers, we need only text for analytics

tweet = gsub("[[:digit:]]", " ", tweet)

# finally, we remove unnecessary spaces (white spaces, tabs etc)

tweet = gsub("[ \t]{2,}", " ", tweet)

tweet = gsub("^\\s+|\\s+$", "", tweet)

# if anything else, you feel, should be removed, you can.
For example "slang words" etc using the above function and methods.

# Next we'll convert all the word in lower case.
This makes uniform pattern.

tweet = catch.error(tweet)

tweet

}

 

cleanTweetsAndRemoveNAs&lt;- function(Tweets) {

TweetsCleaned = sapply(Tweets, cleanTweets)

# Remove the "NA" tweets from this tweet list

TweetsCleaned = TweetsCleaned[!is.na(TweetsCleaned)]

names(TweetsCleaned) = NULL

# Remove the repetitive tweets from this tweet list

TweetsCleaned = unique(TweetsCleaned)

TweetsCleaned

}

 

MeruTweetsCleaned = cleanTweetsAndRemoveNAs(MeruTweets)

OlaTweetsCleaned = cleanTweetsAndRemoveNAs(OlaTweets)

TaxiForSureTweetsCleaned &lt;-
cleanTweetsAndRemoveNAs(TaxiForSureTweets)

UberTweetsCleaned = cleanTweetsAndRemoveNAs(UberTweets)</code></pre>
            <p>Here's the size of each of the cleaned tweet lists:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">&gt; length(MeruTweetsCleaned)

[1] 309

&gt; length(OlaTweetsCleaned)

[1] 811

&gt; length(TaxiForSureTweetsCleaned)

[1] 574

&gt; length(UberTweetsCleaned)

[1] 1355</code></pre>
            <h2>Estimating sentiment (A)</h2> 
            <p>There are many sophisticated resources available to estimate sentiments. Many research papers and software packages are available open source,and they implement very complex algorithms for sentiments analysis. After getting the cleaned Twitter data, we are going to use few of such R packages available to assess the sentiments in the tweets.</p> 
            <p>It's worth mentioning here that not all the tweets represent a sentiment. Few tweets can be just information/facts, while others can be customer care responses. Ideally, they should not be used to assess the customer sentiment about a particular organization.</p> 
            <p>As a first step, we'll use a Naïve algorithm, which gives a score based on the number of times a positive or a negative word occurred in the given sentence (and in our case, in a tweet).</p> 
            <p>Please download the positive and negative opinion/sentiment (nearly 68, 000) words from English language. These <em>opinion lexicon</em> will be used as a first example in our sentiment analysis experiment. The good thing about this approach is that we are relying on a highly researched upon and at the same time customizable input parameters. Here are a few examples of existing positive and negative sentiments words:</p> 
            <ul> 
             <li><strong>Positive</strong>: Love, best, cool, great, good, and amazing</li> 
             <li><strong>Negative</strong>: Hate, worst, sucks, awful, and nightmare</li> 
            </ul> 
            <pre class="line-numbers"><code class="unsupported-or language-c">&gt;opinion.lexicon.pos =
scan('opinion-lexicon-English/positive-words.txt',
what='character', comment.char=';')

&gt;opinion.lexicon.neg =
scan('opinion-lexicon-English/negative-words.txt',
what='character', comment.char=';')

&gt; head(opinion.lexicon.neg)

[1] "2-faced"   "2-faces"   "abnormal"   "abolish"  
"abominable" "abominably"

&gt; head(opinion.lexicon.pos)

[1] "a+"         "abound"     "abounds"   "abundance" "abundant"  
"accessable"</code></pre>
            <p>We'll add a few industry-specific and/or especially emphatic terms based on our requirements:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">pos.words = c(opinion.lexicon.pos,'upgrade')

neg.words = c(opinion.lexicon.neg,'wait',
'waiting', 'wtf', 'cancellation')</code></pre>
            <p>Now, we create a function <em>score.sentiment()</em>, which computes the raw sentiment based on the simple matching algorithm:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">getSentimentScore = function(sentences, words.positive,
words.negative, .progress='none')

{

require(plyr)

require(stringr)

 

scores = laply(sentences,
function(sentence, words.positive, words.negative) {

 

   # Let first remove the Digit, Punctuation character and Control characters:

   sentence = gsub('[[:cntrl:]]', '', gsub('[[:punct:]]', '',
gsub('\\d+', '', sentence)))

 

   # Then lets convert all to lower sentence case:

   sentence = tolower(sentence)

 

   # Now lets split each sentence by the space delimiter

   words = unlist(str_split(sentence, '\\s+'))

 

   # Get the boolean match of each words with the positive &amp; negative opinion-lexicon

   pos.matches = !is.na(match(words, words.positive))

   neg.matches = !is.na(match(words, words.negative))

 

   # Now get the score as total positive sentiment minus the total negatives

   score = sum(pos.matches) - sum(neg.matches)

 

   return(score)

}, words.positive, words.negative, .progress=.progress )

 

# Return a data frame with respective sentence and the score

return(data.frame(text=sentences, score=scores))

}</code></pre>
            <p>Now, we apply the preceding function on the corpus of tweets collected and cleaned so far:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">MeruResult = getSentimentScore(MeruTweetsCleaned, words.positive ,
words.negative)

OlaResult = getSentimentScore(OlaTweetsCleaned, words.positive ,
words.negative)

TaxiForSureResult = getSentimentScore(TaxiForSureTweetsCleaned,
words.positive , words.negative) UberResult =
getSentimentScore(UberTweetsCleaned, words.positive ,
words.negative)</code></pre>
            <p>Here are some sample results:</p> 
            <table style="width: 631px;" border="1" width="631"> 
             <tbody> 
              <tr> 
               <td width="588"> <p><strong>Tweet for Meru Cabs</strong></p> </td> 
               <td width="43"> <p><strong>Score</strong></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>gt and other details at feedback com we ll check back and reach out soon</p> </td> 
               <td width="43"> <p><em>0</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>really disappointed with cab is never assigned on time driver calls after minutes why would i ride with meru</p> </td> 
               <td width="43"> <p><em>-1</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>so after years of bashing today i m pleasantly surprised clean car courteous driver prompt pickup mins efficient route</p> </td> 
               <td width="43"> <p><em>4</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>a min drive cost hrs used to cost less ur unreliable and expensive trying to lose ur customers</p> </td> 
               <td width="43"> <p><em>-3</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p><strong>Tweet For Ola Cabs</strong></p> </td> 
               <td width="43"> <p><strong>Score</strong></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>the service is going from bad to worse the drivers deny to come after a confirmed booking</p> </td> 
               <td width="43"> <p><em>-3</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>love the olacabs app give it a swirl sign up with my referral code dxf n and earn rs download the app from</p> </td> 
               <td width="43"> <p><em>1</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>crn kept me waiting for mins amp at last moment driver refused pickup so unreliable amp irresponsible</p> </td> 
               <td width="43"> <p><em>-4</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>this is not the first time has delighted me punctuality and free upgrade awesome that</p> </td> 
               <td width="43"> <p><em>4</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p><strong>Tweet For TaxiForSure</strong></p> </td> 
               <td width="43"> <p><strong>Score</strong></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>great service now i have become a regular customer of tfs thank you for the upgrade as well happy taxi ing saving</p> </td> 
               <td width="43"> <p><em>5</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>really disappointed with cab is never assigned on time driver calls after minutes why would i ride with meru</p> </td> 
               <td width="43"> <p><em>-1</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>horrible taxi service had to wait for one hour with a new born in the chilly weather of new delhi waiting for them</p> </td> 
               <td width="43"> <p><em>-4</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>what do i get now if you resolve the issue after i lost a crucial business because of the taxi delay</p> </td> 
               <td width="43"> <p><em>-3</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p><strong>Tweet For Uber India</strong></p> </td> 
               <td width="43"> <p><strong>Score</strong></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>that s good uber s fares will prob be competitive til they gain local monopoly then will go sky high as in new york amp delhi saving</p> </td> 
               <td width="43"> <p><em>3</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>from a shabby backend app stack to daily pr fuck ups its increasingly obvious that is run by child minded blow hards</p> </td> 
               <td width="43"> <p><em>-3</em></p> </td> 
              </tr> 
              <tr> 
               <td width="585"> <p>you say that uber is illegally running were you stupid to not ban earlier and only ban it now after the rape</p> </td> 
               <td width="46"> <p><em>-3</em></p> </td> 
              </tr> 
              <tr> 
               <td width="588"> <p>perhaps uber biz model does need some looking into it s not just in delhi that this happens but in boston too</p> </td> 
               <td width="43"> <p><em>0</em></p> </td> 
              </tr> 
             </tbody> 
            </table> 
            <p>From the preceding observations, it's clear that this basic sentiment analysis method works fine in normal circumstances, but in case of Uber India the results deviated too much from a subjective score. It's safe to say that basic word matching gives a good indicator of overall customer sentiments, except in the case when the data itself is not reliable. In our case, the tweets from Uber India are not really related to the services that Uber provides, rather the one incident of crime by its driver and whole score went haywire.</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_003.png" alt="" width="550" height="294"></p> 
            <p>Let's not compute a point statistic of the scores we have computed so far. Since the numbers of tweets are not equal for each of the four organizations, we compute a mean and standard deviation for each.</p> 
            <table border="1"> 
             <tbody> 
              <tr> 
               <td width="113"> <p><strong>Organization</strong></p> </td> 
               <td width="161"> <p><strong>Mean Sentiment Score</strong></p> </td> 
               <td width="132"> <p><strong>Standard Deviation</strong></p> </td> 
              </tr> 
              <tr> 
               <td width="113"> <p>Meru Cabs</p> </td> 
               <td width="161"> <p>-0.2218543</p> </td> 
               <td width="132"> <p>1.301846</p> </td> 
              </tr> 
              <tr> 
               <td width="113"> <p>Ola Cabs</p> </td> 
               <td width="161"> <p>0.197724</p> </td> 
               <td width="132"> <p>1.170334</p> </td> 
              </tr> 
              <tr> 
               <td width="113"> <p>TaxiForSure</p> </td> 
               <td width="161"> <p>-0.09841828</p> </td> 
               <td width="132"> <p>1.154056</p> </td> 
              </tr> 
              <tr> 
               <td width="113"> <p>Uber India</p> </td> 
               <td width="161"> <p>-0.6132666</p> </td> 
               <td width="132"> <p>1.071094</p> </td> 
              </tr> 
             </tbody> 
            </table> 
            <h2>Estimating sentiment (B)</h2> 
            <p>Let's now move one step further. Now instead of using simple matching of opinion lexicon, we'll use something called <em>Naive Bayes</em> to decide on the emotion present in any tweet. We would require packages called <em>Rstem</em> and <em>sentiment</em> to assist in this. It's important to mention here that both these packages are no longer available in CRAN and hence we have to provide either the repository location as a parameter <em>install.package()</em> function. Here's the R script to install the required packages:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">install.packages("Rstem",
repos = "http://www.omegahat.org/R", type="source")

require(devtools)

install_url("http://cran.r-project.org/src/contrib/Archive/sentiment/sentiment_0.2.tar.gz") require(sentiment)

ls("package:sentiment")</code></pre>
            <p>Now that we have the <em>sentiment</em> and <em>Rstem</em> packages installed in our R workspace, we can build the <em>bayes</em> classifier for sentiment analysis:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">library(sentiment)

# classify_emotion function returns an object of class data frame #
with seven columns (anger, disgust, fear, joy, sadness, surprise, #
# best_fit) and one row for each document:

MeruTweetsClassEmo = classify_emotion(MeruTweetsCleaned,
algorithm="bayes", prior=1.0)

OlaTweetsClassEmo = classify_emotion(OlaTweetsCleaned,
algorithm="bayes", prior=1.0)

TaxiForSureTweetsClassEmo =
classify_emotion(TaxiForSureTweetsCleaned, algorithm="bayes",
prior=1.0)

UberTweetsClassEmo = classify_emotion(UberTweetsCleaned,
algorithm="bayes", prior=1.0)</code></pre>
            <p>The following figure shows few results from Bayesian analysis using the<em>sentiment</em> package for Meru Cabs tweets. Similarly, we generated results for other cab-services from our problem setup.</p> 
            <p>The <em>sentiment</em> package was built to use a <em>trained</em> dataset of emotion words (nearly 1500 words). The function <em>classify_emotion()</em> generates results belonging to one of the following six emotions: <strong>anger</strong>, <strong>disgust</strong>, <strong>fear</strong>, <strong>joy</strong>, <strong>sadness</strong>, and <strong>surprise</strong>. Hence, when the system is not able to classify the overall emotion to any of the six,<em>NA</em> is returned:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto; border-width: 1px;" src="/sites/default/files/Article-Images/B03973_02_004.png" alt="" width="540" height="221"></p> 
            <p>Let's substitute these <em>NA</em> values with the word <em>unknown</em> to make the further analysis easier:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c"># we will fetch emotion category best_fit for our analysis purposes.

MeruEmotion = MeruTweetsClassEmo[,7]

OlaEmotion = OlaTweetsClassEmo[,7]

TaxiForSureEmotion = TaxiForSureTweetsClassEmo[,7]

UberEmotion = UberTweetsClassEmo[,7]

 

MeruEmotion[is.na(MeruEmotion)] = "unknown"

OlaEmotion[is.na(OlaEmotion)] = "unknown"

TaxiForSureEmotion[is.na(TaxiForSureEmotion)] = "unknown"

UberEmotion[is.na(UberEmotion)] = "unknown"</code></pre>
            <p>The best-fit emotions present in these tweets are as follows:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_005.png" alt="" width="550" height="144"></p> 
            <p>Further, we'll use another function <em>classify_polarity()</em> provided by the <em>sentiment</em> package to classify the tweets into two classes, <em>pos</em> (positive sentiment) or <em>neg</em> (negative sentiment). The idea is to compute the log likelihood of a tweet assuming it to belong to either of two classes. Once these likelihoods are calculated, a ratio of the pos-likelihood to neg-likelihood is calculated and based on this ratio the tweets are classified to belong to a particular class. It's important to note that if this ratio turns out to be 1, then the overall sentiment of the tweet is assumed to be "neutral". The code is as follows:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">MeruTweetsClassPol = classify_polarity(MeruTweetsCleaned,
algorithm="bayes")

OlaTweetsClassPol = classify_polarity(OlaTweetsCleaned,
algorithm="bayes")

TaxiForSureTweetsClassPol =
classify_polarity(TaxiForSureTweetsCleaned, algorithm="bayes")

UberTweetsClassPol = classify_polarity(UberTweetsCleaned,
algorithm="bayes")</code></pre>
            <p>We get the following output:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_009.png" alt="" width="372" height="252"></p> 
            <p>The preceding figure shows few results from obtained using the <em>classify_polarity() function</em> of <em>sentiment</em> package for Meru Cabs tweets. We'll now generate consolidated results from the two functions in a data frame for each cab service for plotting purposes:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c"># we will fetch polarity category best_fit for our analysis purposes,

MeruPol = MeruTweetsClassPol[,4]

OlaPol = OlaTweetsClassPol[,4]

TaxiForSurePol = TaxiForSureTweetsClassPol[,4]

UberPol = UberTweetsClassPol[,4]

 

# Let us now create a data frame with the above results

MeruSentimentDataFrame = data.frame(text=MeruTweetsCleaned,
emotion=MeruEmotion, polarity=MeruPol, stringsAsFactors=FALSE)

OlaSentimentDataFrame = data.frame(text=OlaTweetsCleaned,
emotion=OlaEmotion, polarity=OlaPol, stringsAsFactors=FALSE)

TaxiForSureSentimentDataFrame =
data.frame(text=TaxiForSureTweetsCleaned,
emotion=TaxiForSureEmotion, polarity=TaxiForSurePol,
stringsAsFactors=FALSE)

UberSentimentDataFrame = data.frame(text=UberTweetsCleaned,
emotion=UberEmotion, polarity=UberPol, stringsAsFactors=FALSE)

 

# rearrange data inside the frame by sorting it

MeruSentimentDataFrame = within(MeruSentimentDataFrame, emotion &lt;-
factor(emotion, levels=names(sort(table(emotion),
decreasing=TRUE))))

OlaSentimentDataFrame = within(OlaSentimentDataFrame, emotion &lt;-
factor(emotion, levels=names(sort(table(emotion),
decreasing=TRUE))))

TaxiForSureSentimentDataFrame =
within(TaxiForSureSentimentDataFrame, emotion &lt;- factor(emotion,
levels=names(sort(table(emotion), decreasing=TRUE))))

UberSentimentDataFrame = within(UberSentimentDataFrame, emotion &lt;-
factor(emotion, levels=names(sort(table(emotion),
decreasing=TRUE))))

plotSentiments1&lt;- function (sentiment_dataframe,title) {

library(ggplot2)

ggplot(sentiment_dataframe, aes(x=emotion)) +
geom_bar(aes(y=..count.., fill=emotion)) +

scale_fill_brewer(palette="Dark2") +

ggtitle(title) +

   theme(legend.position='right') + ylab('Number of Tweets') +
xlab('Emotion Categories')

}

 

plotSentiments1(MeruSentimentDataFrame, 'Sentiment Analysis of
Tweets on Twitter about MeruCabs')

plotSentiments1(OlaSentimentDataFrame, 'Sentiment Analysis of
Tweets on Twitter about OlaCabs')

plotSentiments1(TaxiForSureSentimentDataFrame, 'Sentiment Analysis
of Tweets on Twitter about TaxiForSure')

plotSentiments1(UberSentimentDataFrame, 'Sentiment Analysis of
Tweets on Twitter about UberIndia')</code></pre>
            <p>The output is as follows:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_010.png" alt="" width="604" height="191"></p> 
            <p>In the preceding figure, we showed sample results using generated results on Meru Cabs tweets using both the functions. Let's now plot them one by one. First, let's create a single function to be used by each business's tweets. We call it <em>plotSentiments1()</em> and then we plot it for each business:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_011.png" alt="" width="454" height="264"></p> 
            <p>The following dashboard shows the analysis for Ola Cabs:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_012.png" alt="" width="453" height="264"></p> 
            <p>The following dashboard shows the analysis for TaxiForSure:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_013.png" alt="" width="453" height="264"></p> 
            <p>The following dashboard shows the analysis for Uber India:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_014.png" alt="" width="453" height="264"></p> 
            <p>These sentiments basically reflect the more or less the same observations as we did with the basic word-matching algorithm. The number of tweets with <strong>joy</strong> constitute the largest part of tweets for all these organizations, indicating that these organizations are trying their best to provide good business in the country. The <strong>sadness</strong> tweets are less numerous than the <strong>joy</strong> tweets. However, if compared with each other, they indicate the overall market share versus level of customer satisfaction of each service provider in question. Similarly, these graphs can be used to assess the level of dissatisfaction in terms of <strong>anger</strong> and <strong>disgust</strong> in the tweets. Let's now consider only the positive and negative sentiments present in the tweets:</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c"># Similarly we will plot distribution of polarity in the tweets

plotSentiments2 &lt;- function (sentiment_dataframe,title) {

library(ggplot2)

ggplot(sentiment_dataframe, aes(x=polarity)) +

geom_bar(aes(y=..count.., fill=polarity)) +

scale_fill_brewer(palette="RdGy") +

ggtitle(title) +

   theme(legend.position='right') + ylab('Number of Tweets') +
xlab('Polarity Categories')

}

 

plotSentiments2(MeruSentimentDataFrame, 'Polarity Analysis of
Tweets on Twitter about MeruCabs')

plotSentiments2(OlaSentimentDataFrame, 'Polarity Analysis of
Tweets on Twitter about OlaCabs')

plotSentiments2(TaxiForSureSentimentDataFrame, 'Polarity Analysis
of Tweets on Twitter about TaxiForSure')

plotSentiments2(UberSentimentDataFrame, 'Polarity Analysis of
Tweets on Twitter about UberIndia')</code></pre>
            <p>The output is as follows:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_015.png" alt="" width="492" height="189"></p> 
            <p>The following dashboard shows the polarity analysis for Ola Cabs:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_016.png" alt="" width="492" height="189"></p> 
            <p>The following dashboard shows the analysis for TaxiForSure:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_017.png" alt="" width="492" height="189"></p> 
            <p>The following dashboard shows the analysis for Uber India:</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_018.png" alt="" width="492" height="189"></p> 
            <p>It's a basic human trait to inform about other's what's wrong rather than informing if there was something right. That is say that we tend to tweets/report if something bad had happened rather reporting/tweeting if the experience was rather good. Hence, the negative tweets are supposed to be larger than the positive tweets in general. Still over a period of time (a week in our case) the ratio of the two easily reflect the overall market share versus the level of customer satisfaction of each service provider in question. Next, we try to get the sense of the overall content of the tweets using the word clouds.</p> 
            <pre class="line-numbers"><code class="unsupported-or language-c">removeCustomeWords &lt;- function (TweetsCleaned) {

for(i in 1:length(TweetsCleaned)){

   TweetsCleaned[i] &lt;- tryCatch({

     TweetsCleaned[i] = removeWords(TweetsCleaned[i],
c(stopwords("english"), "care", "guys", "can", "dis", "didn",
"guy" ,"booked", "plz"))

     TweetsCleaned[i]

   }, error=function(cond) {

     TweetsCleaned[i]

   }, warning=function(cond) {

     TweetsCleaned[i]

   })

}

return(TweetsCleaned)

}

 

getWordCloud &lt;- function
(sentiment_dataframe, TweetsCleaned, Emotion) {

emos = levels(factor(sentiment_dataframe$emotion))

n_emos = length(emos)

emo.docs = rep("", n_emos)

TweetsCleaned = removeCustomeWords(TweetsCleaned)

 

for (i in 1:n_emos){

   emo.docs[i] = paste(TweetsCleaned[Emotion ==
emos[i]], collapse=" ")

}

corpus = Corpus(VectorSource(emo.docs))

tdm = TermDocumentMatrix(corpus)

tdm = as.matrix(tdm)

colnames(tdm) = emos

require(wordcloud)

suppressWarnings(comparison.cloud(tdm, colors =
brewer.pal(n_emos, "Dark2"), scale = c(3,.5), random.order =
FALSE, title.size = 1.5))

}

getWordCloud(MeruSentimentDataFrame, MeruTweetsCleaned,
MeruEmotion)

getWordCloud(OlaSentimentDataFrame, OlaTweetsCleaned, OlaEmotion)

getWordCloud(TaxiForSureSentimentDataFrame, TaxiForSureTweetsCleaned, TaxiForSureEmotion)

getWordCloud(UberSentimentDataFrame, UberTweetsCleaned, UberEmotion)</code></pre>
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_019.png" alt="" width="415" height="302"></p> 
            <p>The preceding figure shows word cloud from tweets about Meru Cabs.</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto; border-width: 1px;" src="/sites/default/files/Article-Images/B03973_02_020.png" alt="" width="415" height="302"></p> 
            <p>The preceding figure shows word cloud from tweets about Ola Cabs.</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_021.png" alt="" width="415" height="302"></p> 
            <p>The preceding figure shows word cloud from tweets about TaxiForSure.</p> 
            <p><img style="border: 1px solid black; display: block; margin-left: auto; margin-right: auto;" src="/sites/default/files/Article-Images/B03973_02_022.png" alt="" width="415" height="302"></p> 
            <p>The preceding figure shows word cloud from tweets about Uber India.</p> 
            <h1>Summary</h1> 
            <p>In this article, we gained knowledge of the various Twitter APIs, we discussed how to create a connection with Twitter, and we saw how to retrieve the tweets with various attributes. We saw the power of Twitter in helping us determine the customer attitude toward today's various businesses. The activity can be done on the weekly basis and one can easily get the monthly or quarterly or yearly changes in customer sentiments. This can not only help the customer decide the trending businesses, but the business itself can get a well-defined metric of its own performance. It can use such scores/graphs to improve. We also discussed various methods of sentiment analysis varying from basic word matching to the advanced Bayesian algorithms.</p> 
            <h2>Resources for Article:</h2> 
            <hr size="1" noshade> 
            <p><strong><span style="color: #000000;">Further resources on this subject:</span></strong></p> 
            <ul> 
             <li><a href="https://www.packtpub.com/books/content/find-friends-facebook" target="_blank">Find Friends on Facebook</a> [article]</li> 
             <li><a href="https://www.packtpub.com/books/content/supervised-learning" target="_blank">Supervised learning</a>[article]</li> 
             <li><a href="https://www.packtpub.com/books/content/warming" target="_blank">Warming Up</a> [article]</li> 
            </ul> 
            <hr size="1" noshade> 
           </div> 
           <div class="article-featured-block" data-product="true" data-product-id="9781784396312" data-product-price="34.99" data-product-title="Mastering Social Media Mining with R" data-product-type="ebooks" data-product-brand="Packt Publishing" data-product-category="Big Data &amp; Business Intelligence"> 
            <div class="blog-featured-book left"> 
             <a href="/big-data-and-business-intelligence/mastering-social-media-mining-r"> <img src="//dz13w8afd47il.cloudfront.net/sites/default/files/9781784396312.png"> </a> 
            </div> 
            <div class="article-book-title"> 
             <p>You've been reading an excerpt of:</p> 
             <h2>Mastering Social Media Mining with R</h2> 
             <a href="/big-data-and-business-intelligence/mastering-social-media-mining-r"> 
              <div class="fake-button">
                Explore Title 
              </div> </a> 
            </div> 
           </div> 
          </div> 
          <div id="fb-root"></div> 
          <script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.9&appId=1891977071076455";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script> 
          <div class="fb-comments" data-href="http://www.packtpub.com/books/content/twitter-sentiment-analysis" data-width="100%" data-numposts="5"></div> 
         </div> 
         <div class="blog-content-right left"> 
          <div class="sidebar-mapt-upsell tech-sidebar-panel"> 
           <a href="https://mapt.io/free-trial-plan/"> <img src="//d1ldz4te4covpm.cloudfront.net/sites/all/themes/packt_v4/images/mapt-trial.png"> </a> 
          </div>
          <div class="tech-sidebar-panel sidebar-related left"> 
           <div class="related-blocks"> 
            <div class="related-block left"> 
             <a href="/tech/Java"> <img src="http://d3gnp09177mxuh.cloudfront.net/tech-page-images/java.png"> <p class="author">Java</p> </a> 
            </div> 
            <div class="related-block left"> 
             <a href="/tech/PHP"> <img src="http://d3gnp09177mxuh.cloudfront.net/tech-page-images/php.png"> <p class="author">PHP</p> </a> 
            </div> 
            <div class="related-block left"> 
             <a href="/tech/C%23"> <img src="http://d3gnp09177mxuh.cloudfront.net/tech-page-images/generic.png"> <p class="author">C#</p> </a> 
            </div> 
            <div class="related-block left"> 
             <a href="/tech/JavaScript"> <img src="http://d3gnp09177mxuh.cloudfront.net/tech-page-images/javascript.png"> <p class="author">JavaScript</p> </a> 
            </div> 
            <div class="related-block left"> 
             <a href="/tech/Python"> <img src="http://d3gnp09177mxuh.cloudfront.net/tech-page-images/python.png"> <p class="author">Python</p> </a> 
            </div> 
           </div> 
          </div> 
          <div class="sidebar-newsletter"> 
           <div class="sidebar-newsletter__header">
            Newsletter
           </div> 
           <form action="/books/content/twitter-sentiment-analysis" accept-charset="UTF-8" method="post" id=""> 
            <div> 
             <div class="sidebar-newsletter__item"> 
              <label class="option"> 
               <div class="form-item" id="edit-newsletters-317-wrapper"> 
                <label class="option"><input type="checkbox" name="newsletters[317]" id="edit-newsletters-317" value="317" class="form-checkbox"> Free Stuff</label> 
               </div> </label> 
              <p class="sidebar-newsletter__more-info">Access to free eBooks and other free content like blogs/articles. Sent maximum once weekly.</p> 
             </div> 
             <div class="sidebar-newsletter__item"> 
              <label class="option"> 
               <div class="form-item" id="edit-newsletters-60-wrapper"> 
                <label class="option"><input type="checkbox" name="newsletters[60]" id="edit-newsletters-60" value="60" class="form-checkbox"> Offers &amp; Alerts</label> 
               </div> </label> 
              <p class="sidebar-newsletter__more-info">New releases, bespoke offers, exclusive discounts, and great free content.</p> 
             </div> 
             <div class="sidebar-newsletter__footer"> 
              <div class="form-item" id="email-wrapper"> 
               <label for="email">Email Address <span class="form-required" title="This field is required.">*</span></label> 
               <input type="text" maxlength="128" name="email" id="email" size="24" value="" x-autocompletetype="email" placeholder="email" class="form-text required"> 
              </div> 
              <input type="submit" name="op" id="edit-submit" value="Subscribe" class=" form-submit"> 
             </div> 
             <input type="hidden" name="form_id" id="edit-packt-tech-pages-sidebar-newsletters-form" value="packt_tech_pages_sidebar_newsletters_form"> 
             <input type="hidden" name="form_build_id" id="form-53ec20780525a53718e41152893d6cb2" value="form-53ec20780525a53718e41152893d6cb2"> 
            </div>
           </form> 
          </div>
          <div class="sidebar-free-learning tech-sidebar-panel"> 
           <a href="/packt/offers/free-learning"> <img src="//d1ldz4te4covpm.cloudfront.net/sites/all/themes/packt_v4/images/free-learning.png"> </a> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
     <!-- /#content --> 
    </div> 
   </div> 
   <!-- #footer --> 
   <div id="footer" class="region region-footer"> 
    <div class="section-inner cf"> 
     <div class="footer-main-block"> 
      <div class="footer-section-inner"> 
       <h2>Contact Us</h2> 
       <p>Get in touch&nbsp;<a href="/books/info/packt/contact-us">here</a>&nbsp;<span style="font-family: Calibri, sans-serif; font-size: 11pt; line-height: 115%;">if you have any queries or issues.</span></p> 
      </div> 
     </div> 
     <div class="footer-main-block middle-footer-block"> 
      <div class="footer-section-inner"> 
       <h2>Help &amp; Support</h2> 
       <p class="MsoNormal">Click&nbsp;<a href="/books/info/packt/faq">here</a>&nbsp;for FAQs, order information, T&amp;Cs, errata and code downloads.</p> 
      </div> 
     </div> 
     <div class="footer-main-block"> 
      <div class="footer-section-inner"> 
       <h2>Alerts &amp; Offers</h2> 
       <p class="MsoNormal">Sign up to our emails for regular updates, bespoke offers, exclusive discounts and great free content.</p> 
       <form accept-charset="UTF-8" method="post" id="packt-v3-subscribtion-dotd-form-1"> 
        <div>
         <div class="form-item"> 
         </div> 
         <div class="form-item" id="edit-mail-1-wrapper"> 
          <input type="text" maxlength="128" name="mail" id="edit-mail-1" size="60" value="" placeholder="Enter your email address" class="form-text"> 
         </div> 
         <input type="hidden" name="newsletter_id" id="edit-newsletter-id-1" value="60"> 
         <input type="submit" name="op" id="edit-submit-5" value="Submit" class=" form-submit"> 
         <input type="hidden" name="form_build_id" id="form-733c27b2432bc2582b2685f5b633bc54" value="form-733c27b2432bc2582b2685f5b633bc54"> 
         <input type="hidden" name="form_id" id="edit-packt-v3-subscribtion-dotd-form-1" value="packt_v3_subscribtion_dotd_form"> 
        </div>
       </form> 
      </div> 
     </div> 
    </div> 
   </div> 
   <!-- /#footer --> 
   <!-- #footer-bottom --> 
   <div id="footer-bottom" class="region region-footer-bottom"> 
    <div class="section-inner cf"> 
     <div class="footer-bottom-block"> 
      <div class="footer-bottom-block-left">
        © Packt Publishing Limited. 
       <br> All Rights Reserved 
      </div> 
     </div> 
     <div class="footer-bottom-block footer-contact-us"> 
      <a href="/books/info/packt/contact-us">Contact Us</a> 
     </div> 
     <div class="footer-bottom-block">
       View our 
      <a href="/books/info/packt/cookies">Cookie Policy</a> 
     </div> 
     <div class="footer-bottom-block">
       Our 
      <a href="/books/info/packt/privacy">Privacy Policy</a> 
     </div> 
     <div class="footer-bottom-block"> 
      <a target="_blank" href="http://www.linkedin.com/company/packt-publishing" class="footer-social linkedin"></a> 
      <a target="_blank" href="http://twitter.com/packtpub" class="footer-social twitter"></a> 
      <a target="_blank" href="http://www.facebook.com/packtpub" class="footer-social facebook"></a> 
      <a target="_blank" href="https://plus.google.com/112328881995125817822" class="footer-social gplus"></a> 
      <a target="_blank" href="https://www.youtube.com/user/packt1000" class="footer-social youtube"></a> 
     </div> 
    </div> 
   </div> 
   <!-- /#footer-bottom --> 
   <script>
			(function (w,i,d,g,e,t,s)
			{w[d] = w[d]||[];t= i.createElement(g); t.async=1;t.src=e;s=i.getElementsByTagName(g)[0];s.parentNode.insertBefore(t, s); }
			)(window, document, '_gscq','script','//widgets.getsitecontrol.com/18511/script.js');
			</script> 
  </div> 
  <!-- /#page --> 
  <div id="content-overlay"></div> 
  <div id="book-level-overlay" style="display: none;"> 
  </div> 
  <div id="book-level-lightbox" class="cf" style="display: none;"> 
   <div class="book-level-lightbox-inner"> 
    <div class="book-level-heading section-inner"> 
     <h2>Series &amp; Level 
      <div class="book-level-cross"></div></h2> 
    </div> 
    <div class="section-inner cf"> 
     <div class="book-level-underheading">
       We understand your time is important. Uniquely amongst the major publishers, we seek to develop and publish the broadest range of learning and information products on each technology. Every Packt product delivers a specific learning pathway, broadly defined by the Series type. This structured approach enables you to select the pathway which best suits your knowledge level, learning style and task objectives. 
     </div> 
    </div> 
    <div class="book-level-series"> 
     <div class="section-inner book-level-series-inner cf"> 
      <div class="three-book-series-row cf"> 
       <div class="book-level-series-block"> 
        <div class="cf"> 
         <h3 class="float-left">Learning</h3> 
        </div> 
        <div class="book-level-series-text">
          As a new user, these step-by-step tutorial guides will give you all the practical skills necessary to become competent and efficient. 
        </div> 
       </div> 
       <div class="book-level-series-block"> 
        <div class="cf"> 
         <h3 class="float-left">Beginner's Guide</h3> 
        </div> 
        <div class="book-level-series-text">
          Friendly, informal tutorials that provide a practical introduction using examples, activities, and challenges. 
        </div> 
       </div> 
       <div class="book-level-series-block"> 
        <div class="cf"> 
         <h3 class="float-left">Essentials</h3> 
        </div> 
        <div class="book-level-series-text">
          Fast paced, concentrated introductions showing the quickest way to put the tool to work in the real world. 
        </div> 
       </div> 
      </div> 
      <div class="three-book-series-row cf"> 
       <div class="book-level-series-block"> 
        <div class="cf"> 
         <h3 class="float-left">Cookbook</h3> 
        </div> 
        <div class="book-level-series-text">
          A collection of practical self-contained recipes that all users of the technology will find useful for building more powerful and reliable systems. 
        </div> 
       </div> 
       <div class="book-level-series-block"> 
        <div class="cf"> 
         <h3 class="float-left">Blueprints</h3> 
        </div> 
        <div class="book-level-series-text">
          Guides you through the most common types of project you'll encounter, giving you end-to-end guidance on how to build your specific solution quickly and reliably. 
        </div> 
       </div> 
       <div class="book-level-series-block"> 
        <div class="cf"> 
         <h3 class="float-left">Mastering</h3> 
        </div> 
        <div class="book-level-series-text">
          Take your skills to the next level with advanced tutorials that will give you confidence to master the tool's most powerful features. 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
    <div class="book-level-level"> 
     <div class="section-inner cf"> 
      <div class="book-level-expo float-left"> 
       <h3>Starting</h3> 
       <div class="book-level-text">
         Accessible to readers adopting the topic, these titles get you into the tool or technology so that you can become an effective user. 
       </div> 
      </div> 
      <div class="book-level-gauges float-left"> 
       <div class="book-level-gauge-left"></div> 
       <div class="book-level-line"></div> 
       <!--div class="book-level-gauge-middle"></div>
					<div class="book-level-line"></div--> 
       <div class="book-level-gauge-right"></div> 
      </div> 
      <div class="book-level-expo float-left"> 
       <h3>Progressing</h3> 
       <div class="book-level-text">
         Building on core skills you already have, these titles share solutions and expertise so you become a highly productive power user. 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div>   
 </body>
</html>