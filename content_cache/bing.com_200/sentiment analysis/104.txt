<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <link rel="stylesheet" type="text/css" href="https://i-technet.sec.s-msft.com/Areas/Sto/Content/Theming/Megablade.css" xmlns="http://www.w3.org/1999/xhtml">
  <meta name="robots" content="index,follow"> 
  <meta name="description" content="Technical articles, content and resources for IT Professionals working in Microsoft technologies"> 
  <meta name="GENERATOR" content="Telligent Evolution Platform Developer Build (Debug Build: 5.6.50428.7875)"> 
  <link href="https://i1.social.s-msft.com/wiki/rrcontent/59602b3fe27f4bdb4a3ee95b6aa4a092-6647a67c5a2c449bd48ddcdb4f0f3410-RequestReducedStyle.css" rel="Stylesheet" type="text/css">
  <link rel="alternate" type="application/rss+xml" title="United States (English) (RSS 2.0)" href="http://social.technet.microsoft.com/wiki/rss.aspx"> 
  <link rel="alternate" type="application/rss+xml" title="Ken Cenerelli's Comments (RSS 2.0)" href="/wiki/members/ken_5F00_cenerelli_4000_hotmail.com/comments/rss.aspx"> 
  <link rel="alternate" type="application/rss+xml" title="Ken Cenerelli's Activities (RSS 2.0)" href="/wiki/members/ken_5F00_cenerelli_4000_hotmail.com/activities/rss.aspx"> 
  <link rel="alternate" type="application/rss+xml" title="Activities of People Ken Cenerelli Follows (RSS 2.0)" href="/wiki/members/ken_5F00_cenerelli_4000_hotmail.com/activities/followersrss.aspx"> 
  <link rel="alternate" type="application/rss+xml" title="Ken Cenerelli's Groups Activities (RSS 2.0)" href="/wiki/members/ken_5F00_cenerelli_4000_hotmail.com/activities/groupsrss.aspx"> 
  <link rel="alternate" type="application/rss+xml" title="TechNet Articles (RSS 2.0)" href="http://social.technet.microsoft.com/wiki/contents/articles/rss.aspx"> 
  <link rel="alternate" type="application/rss+xml" title="Sentiment Analysis API with Azure Machine Learning (RSS 2.0)" href="http://social.technet.microsoft.com/wiki/contents/articles/32538.sentiment-analysis-api-with-azure-machine-learning/rss.aspx"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <link rel="shortcut icon" type="image/ico" href="/wiki/themes/TechNetMetro/favicon.ico"> 
  <link href="https://i1.social.s-msft.com/wiki/rrcontent/d1653517c66d1e41527de3e7a86a012d-5d4217d6cf82ecfa5bbd4a87d4f0c954-RequestReducedStyle.css" rel="Stylesheet" type="text/css">
  <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-1.5.2.min.js"></script> 
  <link type="text/css" rel="stylesheet" href="/wiki/themes/TechNetMetro/css/DynamicStyle.aspx?PreviewKey=0" media="screen,print"> 
  <meta name="msvalidate.01" content="0E4273AC348F8433EBED40E5740E1AC5"> 
  <meta name="msvalidate.01" content="B717AD6FC29D3A844832AF011B5F9E4C"> 
  <meta name="google-site-verification" content="KCh8iEibyBcRDc3gHQVvZj75V8QCWpGYsvsHaJCJneg"> 
  <script type="text/javascript">
$(function() {
    $('.live-id-button a').attr('href', $('.live-id-button a').attr('href').replace('http:','https:'));
});
</script> 
  <title>
	Sentiment Analysis API with Azure Machine Learning - TechNet Articles - United States (English) - TechNet Wiki
</title>
 </head> 
 <body spellcheck="true"> 
  <form name="aspnetForm" method="post" action="/wiki/contents/articles/32538.sentiment-analysis-api-with-azure-machine-learning.aspx" id="aspnetForm"> 
   <div> 
    <input type="hidden" name="ctl00_ctl00_content_content_ctl00_w_6617__ffffffff94d85845_ctl00_ctl00_WikiPageCommentForm_ctl05_invisibleCaptcha_answer" id="ctl00_ctl00_content_content_ctl00_w_6617__ffffffff94d85845_ctl00_ctl00_WikiPageCommentForm_ctl05_invisibleCaptcha_answer" value=""> 
    <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKLTk2OTE5MDU2OGRkIAG+7IYxcMBtja9+Z/ZvS/tpJps="> 
   </div> 
   <script src="https://i1.social.s-msft.com/wiki/rrcontent/d4009bbce1f2ae94cd1240cab6006dce-dd65fb3b53275bbc808ca50b3a68b97f-RequestReducedScript.js" type="text/javascript"></script> 
   <div> 
    <input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="80701914"> 
   </div> 
   <div class="header-fragments-header"></div> 
   <div class="header-fragments">
    <div class="header-fragment-outer top-bar fiji-header-fragment-outer fiji-top-bar">
     <div class="header-fragment-inner top-bar fiji-header-fragment-inner fiji-top-bar">
      <div class="header-fragment welcome-message" id="header-fragment-668884183"> 
       <!-- always render --> 
      </div>
      <div class="header-fragment login-logout" id="header-fragment-668884184"> 
       <div class="navigation-list-header"></div> 
       <ul class="navigation-list" role="navigation"> 
        <li class="navigation-item"> <span id="ctl00_ctl00_header_fragment_668884184__ffffffff94d85845_ctl00_ctl02_ctl05_WLIDLoginButton1" class="internal-link live-id-button"><a href="https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=13&amp;ct=1507037925&amp;rver=6.0.5286.0&amp;wp=MCLBI&amp;wreply=http:%2F%2Fsocial.technet.microsoft.com%2Fwiki%2Fcontents%2Farticles%2F32538.sentiment-analysis-api-with-azure-machine-learning.aspx&amp;lc=1033&amp;id=254354">Sign in</a></span> </li> 
       </ul> 
       <div class="navigation-list-footer"></div> 
      </div>
      <div class="header-fragment user-welcome-without-login" id="header-fragment-668884185">
        &nbsp;
       <!-- always render --> 
      </div>
     </div>
    </div>
    <div class="header-fragment-outer fiji-header-fragment-outer site-banner">
     <div class="header-fragment-inner fiji-header-fragment-inner site-banner"> 
      <ul class="navigation" role="navigation"> 
       <li class="nav-home"><a href="http://technet.microsoft.com/en-us/default.aspx">Home</a></li> 
       <li class="nav-library"><a href="http://technet.microsoft.com/library/en-us/default.aspx">Library</a></li> 
       <li class="nav-wiki"><a href="http://social.technet.microsoft.com/wiki/">Wiki</a></li> 
       <li class="nav-learn"><a href="http://technet.microsoft.com/en-us/bb291022.aspx">Learn</a></li> 
       <li class="nav-gallery"><a href="http://gallery.technet.microsoft.com/en-us/">Gallery</a></li> 
       <li class="nav-downloads"><a href="http://technet.microsoft.com/en-us/bb403698.aspx">Downloads</a></li> 
       <li class="nav-support"><a href="http://technet.microsoft.com/en-us/ms772425.aspx">Support</a></li> 
       <li class="nav-forums"><a href="http://social.technet.microsoft.com/Forums/en-us/">Forums</a></li> 
       <li class="nav-blogs"><a href="http://blogs.technet.com/">Blogs</a></li> 
      </ul> 
      <span class="IT_Resources">Resources For IT Professionals</span> 
      <div class="header-fragment site-banner" id="header-fragment-668884186"> 
       <div class="site-banner-header"> 
       </div> 
       <div class="site-banner"> 
        <div class="site-logo">
         <a href="http://technet.microsoft.com/default.aspx"> <img src="/wiki/themes/TechNetmetro/images/TN-logo.png" alt="" style="border-width:0px;"> </a>
        </div> 
       </div> 
       <div id="LanguageAndCustomize"> 
        <span class="localeFlyout"><script src="https://i1.social.s-msft.com/wiki/rrcontent/102caeaab1a06e8abbc614cec4afd96b-a023bc3badb979ad686bdc2e246437a8-RequestReducedScript.js" type="text/javascript"></script> 
         <div class="LocaleFlyout" id="LocaleFlyout"> 
          <div id="LocaleSelector"> 
           <div id="TargetPanel"> 
            <a tabindex="0">United States (English)</a> 
            <img class="DropDownArrow" tabindex="0" aria-label="Drop down arrow" alt="Drop down arrow" src="/wiki/themes/TechNetmetro/images/DropDownArrow_Gray.png"> 
           </div> 
           <div id="PopupPanel" class="ContextMenuPanel"> 
            <a href="/wiki/ru-ru/" class="ContextMenuItem" rel="nofollow">?????? (P??????)</a>
            <a href="/wiki/zh-cn/" class="ContextMenuItem" rel="nofollow">????????</a>
            <a href="/wiki/pt-br/" class="ContextMenuItem" rel="nofollow">Brasil (Português)</a> 
           </div> 
          </div> 
         </div></span> 
       </div> 
       <a class="screen-reader-shortcut" href="#LanguageAndCustomize">Skip to locale bar</a> 
       <div class="site-banner-footer"> 
       </div> 
      </div>
     </div>
    </div>
    <div class="header-fragment-outer fiji-header-fragment-outer search">
     <div class="header-fragment-inner fiji-header-fragment-inner search">
      <div class="header-fragment search" id="header-fragment-668884187"> 
       <div class="field-list-header"> 
       </div> 
       <fieldset class="field-list"> 
        <ul class="field-list"> 
         <li class="field-item"><span class="field-item-input"> <input id="Header_SearchTextBox" name="Header_SearchTextBox" type="text" class="search empty" autocomplete="off"> <input id="Header_SearchButton" name="Header_SearchButton" type="image" class="search-button" src="/wiki/themes/TechNetMetro/Images/bingSearch.png"> </span></li> 
         <li id="ctl00_ctl00_header_fragment_668884187__ffffffff94d85845_ctl00_SearchOptionsButtonWrapper" class="field-item"><span class="field-item-input"> <a class="internal-link search-options" title="Change Search Scope">&nbsp;</a> </span></li> 
        </ul> 
       </fieldset> 
       <div class="field-list-footer"> 
       </div> 
       <script src="https://i4.services.social.microsoft.com/Search/Widgets/SearchBox.jss?boxid=Header_SearchTextBox&amp;btnid=Header_SearchButton&amp;brand=Technet&amp;refinement=90&amp;resref=&amp;addEnglish=&amp;rn=&amp;rq=&amp;watermark=&amp;focusOnInit=false&amp;beta=0&amp;iroot=&amp;overrideWatermark=false&amp;loc=en-US" type="text/javascript" language="javascript"></script> 
       <script type="text/javascript">
    // JSLL Record
    var scriptJSLL = document.createElement("script");
    scriptJSLL.type = "text/javascript";
    scriptJSLL.src = "//az725175.vo.msecnd.net/scripts/jsll-4.2.1.js";
    scriptJSLL.onload = function () {
        var config = {
            coreData: {
                appId: "socialtechnet"
            }
        };
        awa.init(config);
    };
    if (document.getElementsByTagName("head") && document.getElementsByTagName("head").length > 0) {
        document.getElementsByTagName("head")[0].appendChild(scriptJSLL);
    }
</script> 
       <script type="text/javascript">
    var textbox = document.getElementById("Header_SearchTextBox");
    textbox.onkeypress = function (event) {
        var n = window.mscc;
        n && !n.hasConsent() && n.setConsent();
    }
</script> 
      </div>
     </div>
    </div>
    <div class="header-fragment group-navigation" id="header-fragment-668884188"> 
     <script src="https://i1.social.s-msft.com/wiki/rrcontent/fd70126ba04f419b84d5740d51bc3d98-14e0c332a84e56b6d37629b4d8cac65a-RequestReducedScript.js" type="text/javascript"></script> 
     <div id="ctl00_ctl00_header_fragment_668884188__ffffffff94d85845_ctl00_ctl00_ParentGroupListContainer" class="parent-container" style="width: 100%"> 
     </div> 
     <div id="ctl00_ctl00_header_fragment_668884188__ffffffff94d85845_ctl00_ctl00_GroupNavigationPopup" style="position:absolute;visibility:hidden;left:-5000px;"></div> 
     <div id="ctl00_ctl00_header_fragment_668884188__ffffffff94d85845_ctl00_ctl00_ParentMore" style="display: none;"> 
      <div class="content-list-header"></div> 
      <ul id="ParentMoreListheader-fragment-668884188" class="content-list"> 
      </ul> 
      <div class="content-list-footer"></div> 
     </div> 
     <script type="text/javascript">
    // <![CDATA[
    
    var Core_GroupNavigation_AjaxEndpoint = '/wiki/Utility/HeaderFragments/Core/GroupNavigationAjax.asmx';
        
    var ctl00_ctl00_header_fragment_668884188={"wrapperId":"header-fragment-668884188","variableName":"ctl00_ctl00_header_fragment_668884188","parameter":{"currentGroupId":0,"popupMenuId":"ctl00_ctl00_header_fragment_668884188__ffffffff94d85845_ctl00_ctl00_GroupNavigationPopup","popupParentMoreId":"ctl00_ctl00_header_fragment_668884188__ffffffff94d85845_ctl00_ctl00_ParentMore","popupChildMoreId":"","popupWrapperID":"popup-ctl00_ctl00_header_fragment_668884188__ffffffff94d85845_ctl00_ctl00_GroupNavigationPopup","mouseInPopup":false,"popupPopulated":false,"errorHtml":"<div class=\"message error\">An error occured while attempting to load groups.</div>","loadingHtml":"<div class=\"message loading\">Loading...</div>","groupNavigationContentWrapperHtmlBlock":"<div id=\"popup-ctl00_ctl00_header_fragment_668884188__ffffffff94d85845_ctl00_ctl00_GroupNavigationPopup\">{GroupNavigationContent}</div>","groupNavigationListHtmlBlock":"<div class=\"multiple-column-list-header\"></div>\n<div class=\"multiple-column-list columns-{ColumnsCount}\">{Columns}</div>\n<div class=\"multiple-column-list-footer\"></div>","columnWrapperHtmlBlock":"<div class=\"multiple-column-item column-{ColumnId}\">{T1GroupsData}</div>","t1GroupHtmlBlock":"\r\n\t\t    <div class=\"content-list-header\"></div>\r\n\t\t    <div class=\"content-list-name{NameClass}\">{Name}</div>\r\n\t\t    <ul class=\"content-list\">\r\n\t\t\t    {Groups}\r\n\t\t    </ul>\r\n\t\t    <div class=\"content-list-footer\"></div>\r\n\t    ","t2GroupHtmlBlock":"<li class=\"content-item{ItemClass}\">{Item}</li>","viewAllHtmlBlock":"<a href=\"{Url}\" class=\"internal-link view-all\">{Text}</a>","linkHtmlBlock":"<a href=\"{Url}\" class=\"{MoreClass}\">{Name}</a>","searchResultItemHtmlBlock":"<li class=\"content-item\"><a href=\"{Url}\">{Name}</a></li>","viewMoreText":"and {MoreText} more..."}};

	$(document).ready(function() {
		Core_GroupNavigation_SetMenuItems("#ctl00_ctl00_header_fragment_668884188__ffffffff94d85845_ctl00_ctl00_ParentGroupListContainer", true, "ParentMoreListheader-fragment-668884188");
	});

	$(window).resize(function() {
		Core_GroupNavigation_SetMenuItems("#ctl00_ctl00_header_fragment_668884188__ffffffff94d85845_ctl00_ctl00_ParentGroupListContainer", true, "ParentMoreListheader-fragment-668884188");
	});
    // ]]>
</script>
    </div>
   </div> 
   <div class="header-fragments-footer"></div> 
   <div class="content-fragment-page wikis-page" id="ctl00_ctl00_content_content_ctl00_page">
    <div class="layout"> 
     <div class="layout-header"></div> 
     <div class="layout-content content-left-sidebar-right" id="ctl00_ctl00_content_content_ctl00_layout"> 
      <div class="layout-region right-sidebar" id="ctl00_ctl00_content_content_ctl00_right-sidebar"> 
       <div class="layout-region-inner right-sidebar">
        <div class="content-fragment raw-html no-wrapper" id="fragment-6605"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-content"> 
           <div class="user-defined-markup">
            <a class="PostArticle" href="/wiki/contents/articles/add.aspx">Post an article</a>
           </div>
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
        <div class="content-fragment raw-html no-wrapper" id="fragment-6606"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-content"> 
           <div class="user-defined-markup">
            <script type="text/javascript">
$(document).ready(function() {
$(".post-content.user-defined-markup a").filter(function() {
    return this.hostname && this.hostname !== location.hostname;
}).append(" <img src='/wiki/cfs-file.ashx/__key/communityserver-components-sitefiles/10_5F00_external.png' border=0 title='This link is external to TechNet Wiki. It will open in a new window.'> ").attr("target","_blank");
});
</script>
           </div>
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
        <div class="content-fragment c-t-f-widget no-wrapper" id="fragment-6607"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-content"> 
           <!--
         
           localize text, such as translate this & powered by 
           
           
            --> 
           <div id="MicrosoftTranslatorWidget" style="width: 276px; min-height: 83px;
    border-color: #3A5770; background-color: #78ADD0;"> 
            <noscript> 
             <a href="http://www.microsofttranslator.com/bv.aspx?a=http%3a%2f%2fsocial.technet.microsoft.com%2fwiki%2f">Translate this page</a>
             <br> Powered by 
             <a href="http://www.microsofttranslator.com">Microsoft® Translator</a> 
            </noscript> 
            <script type="text/javascript">
        setTimeout(function () {
            var s = document.createElement("script");
            s.type = "text/javascript";
            s.charset = "UTF-8";
            s.src = "https://www.microsofttranslator.com/Ajax/V2/Widget.aspx?siteData=JsFKjBH0cvhYURLvtnYr-qgsZF47qr6_Lzqsshof8yFNIplXygxk3-KEinGNlPmpMTwKKZrkE3-bjRFn0Zqhiky2lGG4k5AN6GQ2x3P99R52gDZPaJCStosHAtWvq84N&mode=manual&from=en-US&layout=ts";
            var p = document.getElementsByTagName('head')[0] || document.documentElement; p.insertBefore(s, p.firstChild);
        }, 0); 
		
		var translatorWidget = document.querySelector("div#MicrosoftTranslatorWidget");
		var observer = new MutationObserver(function (mutations) {
			mutations.forEach(function (mutation) {
				if (mutation && mutation.addedNodes) {
					if (mutation && mutation.target.id == 'MSTWMenu') {
						$("select#MSTWMenu").attr("aria-label","Translate current page to");
						$("a#MSTWGoButton").prepend("<img alt='Metro Translate' src='/wiki/themes/TechNetMetro/images/metroTranslate.png' />");
						observer.disconnect();
					}
				}
			});
		});

		observer.observe(translatorWidget, {
			childList: true,
			subtree: true
		});
    </script> 
           </div> 
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
        <div class="content-fragment page-details no-wrapper-with-spacing with-header" id="fragment-6608"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-header">
           <div>
            Wikis - Page Details
           </div>
          </div> 
          <div class="content-fragment-content"> 
           <div class="attribute-list-header"></div> 
           <ul class="attribute-list"> 
            <li class="attribute-item page-author"> <span class="attribute-name">First published by</span> <span class="attribute-value"> <span class="avatar"><a class="internal-link view-user-profile" href="/wiki/611771/ProfileUrlRedirect.ashx"> <img src="https://i1.social.s-msft.com:443/profile/u/avatar.jpg?displayname=chervine&amp;size=large" alt="" style="border-width:0px;max-height:27px;max-width:27px;"> </a></span> <span class="profile-usercard-hover" data-profile-userid="e28cb9e7-0d10-4f5f-965b-2500834268e0"> <span class="user-name"><a class="internal-link view-user-profile" href="/wiki/611771/ProfileUrlRedirect.ashx">Chervine</a></span> </span> <span class="affiliations">(MVP, Microsoft Community Contributor)</span> </span> </li> 
            <li class="attribute-item page-created"> <span class="attribute-name">When:</span> <span class="attribute-value">25 Oct 2015 9:32 AM</span> </li> 
            <li class="attribute-item page-author"> <span class="attribute-name">Last revision by</span> <span class="attribute-value"> <span class="avatar"><a class="internal-link view-user-profile" href="/wiki/355667/ProfileUrlRedirect.ashx"> <img src="https://i1.social.s-msft.com:443/profile/u/avatar.jpg?displayname=ken+cenerelli&amp;size=large" alt="" style="border-width:0px;max-height:27px;max-width:27px;"> </a></span> <span class="profile-usercard-hover" data-profile-userid="0c7e9f04-4e39-4dd1-9090-366e8f0f53b0"> <span class="user-name"><a class="internal-link view-user-profile" href="/wiki/355667/ProfileUrlRedirect.ashx">Ken Cenerelli</a></span> </span> <span class="affiliations">(MVP, Microsoft Community Contributor)</span> </span> </li> 
            <li class="attribute-item page-last-modified"> <span class="attribute-name">When:</span> <span class="attribute-value">21 Nov 2015 7:28 AM</span> </li> 
            <li class="attribute-item page-revision-count"> <span class="attribute-name">Revisions:</span> <span class="attribute-value">11</span> </li> 
            <li class="attribute-item post-reply-count"> <span class="attribute-name">Comments:</span> <span class="attribute-value">8</span> </li> 
           </ul> 
           <div class="attribute-list-footer"></div> 
           <script type="text/javascript">
    $("li.attribute-item.page-author").children("span.attribute-value").children("span.avatar").children("a.internal-link.view-user-profile").attr("aria-label",function(){var name = $(this).parent().next("span.profile-usercard-hover").children("span.user-name").children("a.internal-link.view-user-profile").text();$(this).children("img").attr("alt","Avatar of "+name);return name;}).attr("role","img");
</script>
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
        <div class="content-fragment raw-html no-wrapper-with-spacing with-header" id="fragment-6609"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-header">
           <div>
            Options
           </div>
          </div> 
          <div class="content-fragment-content"> 
           <div class="user-defined-markup">
            <a href="rss.aspx" id="rssArticle"><img src="/wiki/themes/fiji/Images/icon-rss-small.gif" alt="RSS" style="border:0 none;float:left;margin-left:-2px;padding-right:6px;">Subscribe to Article (RSS)</a> 
            <script type="text/javascript">
var sPath = window.location.pathname;
sPath = sPath.substr(0, sPath.length - 5);
sPath = sPath + '/rss.aspx';
document.getElementById('rssArticle').href = sPath;
</script>
           </div>
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
        <div class="content-fragment wiki-links no-wrapper-with-spacing" id="fragment-6610"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-content"> 
           <div class="navigation-list-header"></div> 
           <ul class="navigation-list"> 
            <li class="navigation-item"><a class="internal-link email-post" href="mailto:?subject=Sentiment Analysis API with Azure Machine Learning&amp;body=http://social.technet.microsoft.com/wiki/contents/articles/32538.sentiment-analysis-api-with-azure-machine-learning.aspx"> <img alt="share this" src="/wiki/themes/TechNetMetro/Images/Wikis/icon-share.gif"> Share this </a></li> 
           </ul> 
           <div class="navigation-list-footer"></div> 
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
        <div class="content-fragment raw-html full-border with-header" id="fragment-7377"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-header">
           <div>
            Engage!
           </div>
          </div> 
          <div class="content-fragment-content"> 
           <div class="user-defined-markup">
            <a href="http://blogs.technet.com/b/wikininjas/">Wiki Ninjas Blog</a> (
            <a href="http://blogs.msdn.com/b/wikininjasannouncements/">Announcements</a>)
            <br>
            <br> 
            <a href="https://twitter.com/wikininjas">Wiki Ninjas on Twitter</a>
            <br>
            <br> 
            <a href="http://social.technet.microsoft.com/Forums/en-US/home?forum=tnwiki">TechNet Wiki Discussion Forum</a>
            <br>
            <br>
            <br>
           </div>
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
        <div class="content-fragment raw-html no-wrapper-with-spacing with-header" id="fragment-6611"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-header">
           <div>
            Can You Improve This Article?
           </div>
          </div> 
          <div class="content-fragment-content"> 
           <div class="user-defined-markup">
            <b>Positively!</b> Click Sign In to add the tip, solution, correction or comment that will help other users.
            <br>
            <br>Report inappropriate content using 
            <a href="http://social.technet.microsoft.com/wiki/contents/articles/13529.how-to-report-a-technet-wiki-page.aspx">these instructions</a>.
           </div>
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
       </div> 
      </div> 
      <div class="layout-region content" id="ctl00_ctl00_content_content_ctl00_content"> 
       <div class="layout-region-inner content">
        <div class="content-fragment wiki-bread-crumbs no-wrapper" id="fragment-6612"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-content"> 
           <div class="breadcrumb-list-header"></div> 
           <div class="breadcrumb-list"> 
            <span class="breadcrumb-item"><a class="internal-link view-home" href="/wiki/">Wiki</a></span> 
            <span class="separator"><span style="display:none;"></span>&nbsp;&gt;&nbsp;</span> 
            <span class="breadcrumb-item"> <a href="/wiki/contents/articles/default.aspx">TechNet Articles</a> </span> 
            <span class="breadcrumb-item"> <span class="separator"><span style="display:none;"></span>&nbsp;&gt;&nbsp;</span> <span class="breadcrumb-item"> <a href="/wiki/contents/articles/32538.sentiment-analysis-api-with-azure-machine-learning.aspx">Sentiment Analysis API with Azure Machine Learning</a> </span> </span> 
           </div> 
           <div class="breadcrumb-list-footer"></div> 
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
        <div class="content-fragment wiki-title full-border" id="fragment-6613"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-content"> 
           <h1 class="title"> Sentiment Analysis API with Azure Machine Learning </h1>
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
        <div class="content-fragment page-navigation no-wrapper" id="fragment-6614"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-content"> 
           <div class="navigation-list-header"></div> 
           <ul class="navigation-list"> 
            <li class="navigation-item selected"> <a class="internal-link view-wiki-page" href="/wiki/contents/articles/32538.sentiment-analysis-api-with-azure-machine-learning.aspx"> <span></span> Article </a> </li> 
            <li class="navigation-item"> <a class="internal-link wiki-page-history" href="/wiki/contents/articles/32538.sentiment-analysis-api-with-azure-machine-learning/history.aspx"> <span></span> History </a> </li> 
           </ul> 
           <div class="navigation-list-footer"></div>
          </div> 
          <div class="content-fragment-footer"></div> 
          <div class="content-fragment-bottom fiji-content-fragment-bottom">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
         </div>
        </div> 
        <div class="content-fragment page no-wrapper" id="fragment-6615"> 
         <div class="content-fragment-inner fiji-content-fragment-inner">
          <div class="content-fragment-top fiji-content-fragment-top">
           <div class="r1 fiji-r1"></div>
           <div class="r2 fiji-r2"></div>
           <div class="r3 fiji-r3"></div>
           <div class="r4 fiji-r4"></div>
          </div>
          <div class="content-fragment-content"> 
           <div class="full-post-header"></div> 
           <div class="full-post"> 
            <h1 class="post-name">Sentiment Analysis API with Azure Machine Learning</h1> 
            <div class="post-content user-defined-markup"> 
             <div class="table-of-contents">
              <h2 class="title">Table of Contents</h2>
              <div class="hierarchy-list-header"> 
              </div>
              <ul class="hierarchy-list">
               <li class="hierarchy-item"><a href="#Scope">Scope</a></li>
               <li class="hierarchy-item"><a href="#Introduction">Introduction</a>
                <div class="hierarchy-list-header"> 
                </div>
                <ul class="hierarchy-list">
                 <li class="hierarchy-item"><a href="#Uses_of_Sentiment_Analysis">Uses of Sentiment Analysis</a></li>
                </ul>
                <div class="hierarchy-list-footer"> 
                </div></li>
               <li class="hierarchy-item"><a href="#Text_Analytics_API">Text Analytics API</a>
                <div class="hierarchy-list-header"> 
                </div>
                <ul class="hierarchy-list">
                 <li class="hierarchy-item"><a href="#How_it_works">How it works?</a></li>
                 <li class="hierarchy-item"><a href="#Signing_up_for_the_Text_Analytics_Service">Signing up for the Text Analytics Service</a></li>
                </ul>
                <div class="hierarchy-list-footer"> 
                </div></li>
               <li class="hierarchy-item"><a href="#Sample_Product_Review_Application">Sample Product Review Application</a>
                <div class="hierarchy-list-header"> 
                </div>
                <ul class="hierarchy-list">
                 <li class="hierarchy-item"><a href="#Expected_Outcome">Expected Outcome</a></li>
                 <li class="hierarchy-item"><a href="#High_Level_Application_Design">High Level Application Design</a></li>
                 <li class="hierarchy-item"><a href="#Diving_in_the_Codes">Diving in the Codes!</a>
                  <div class="hierarchy-list-header"> 
                  </div>
                  <ul class="hierarchy-list">
                   <li class="hierarchy-item"><a href="#Calling_the_Text_Analytics_Service">Calling the Text Analytics Service</a></li>
                   <li class="hierarchy-item"><a href="#The_UI">The UI</a></li>
                   <li class="hierarchy-item"><a href="#The_JavaScript">The JavaScript</a></li>
                   <li class="hierarchy-item"><a href="#C_Code">C# Code</a></li>
                  </ul>
                  <div class="hierarchy-list-footer"> 
                  </div></li>
                 <li class="hierarchy-item"><a href="#Sample_Chat_Application">Sample Chat Application</a></li>
                </ul>
                <div class="hierarchy-list-footer"> 
                </div></li>
               <li class="hierarchy-item"><a href="#Code_Sample">Code Sample</a></li>
               <li class="hierarchy-item"><a href="#References">References</a></li>
              </ul>
              <div class="hierarchy-list-footer"> 
              </div>
             </div> 
             <h1 style="line-height:28.6px;"><a name="Scope"></a>Scope</h1> 
             <p style="font-size:12.1px;">The following article demonstrates the use Machine Learning to do Sentiment Analysis on texts.</p> 
             <h1 style="line-height:28.6px;"><a name="Introduction"></a>Introduction</h1> 
             <p style="font-size:12.1px;">Sentiment Analysis is the process of detecting the feeling or the mood of a person when writing a text (technically called contextual polarity). In other words, it determines whether a piece of writing is positive, negative or neutral.</p> 
             <h2 style="line-height:25px;"><a name="Uses_of_Sentiment_Analysis"></a>Uses of Sentiment Analysis</h2> 
             <p style="font-size:12.1px;">1. Product reviews - Is the review positive or negative&nbsp;<br> 2. Analyzing customer emails&nbsp;<br> 3. Social Media Analytics - &nbsp;What is do customers think about my company</p> 
             <p style="font-size:12.1px;">If one has about 10 mails or products, this will be quite a simple task, but, what if some store has more thousands of products each of them has hundreds of reviews daily. Then, automating this process makes sense. <br> <br> And this is where Text Analytics comes into play.</p> 
             <div>
              <br> 
             </div> 
             <h1><a name="Text_Analytics_API"></a>Text Analytics API</h1> 
             <p>Text Analytics API is a suite of text analytics web services built with Azure Machine Learning. The API can be used to analyze unstructured text for tasks such as sentiment analysis and key phrase extraction. The API returns a numeric score between 0 &amp; 1.<br> <br> Scores close to 1 indicate positive sentiment, while scores close to 0 indicate negative sentiment. The advantage of this API is that a new model need not be designed and trained, the user only needs to bring his data and call the service to get the sentiment results. <br> <br> However, because this is only the initial release of this service only English is supported right now. </p> 
             <h2><a name="How_it_works"></a>How it works?</h2> 
             <p>Text Analytics API does not simply use a lexicon approach to map words such as good or bad to return results. Instead, it uses advanced natural language processing techniques under the hood. For even more details of the service, consult the documentation <a href="https://azure.microsoft.com/en-us/documentation/articles/machine-learning-apps-text-analytics/"> here</a>.</p> 
             <h2><a name="Signing_up_for_the_Text_Analytics_Service"></a>Signing up for the Text Analytics Service</h2> 
             <p>1. Go to <a href="https://datamarket.azure.com/dataset/amla/text-analytics%20" target="_blank"> https://datamarket.azure.com/dataset/amla/text-analytics </a><br> 2. Select the required package. For testing purposed, up to 10,000 transactions are available for free. Below are the prices as at 10 October 2015. </p> 
             <a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/1323.image001.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/1323.image001.png" style="border-width:0px;border-style:solid;width:300px;height:357px;"></a>
             <br> 
             <p>3. Once the registration is done, you shall be provided with an account key. Keep it safely, this shall be used in the applications.</p> 
             <h1><a name="Sample_Product_Review_Application"></a>Sample Product Review Application</h1> 
             <p>One application of this API can be in an application where there are user reviews to analyze the sentiment of each review an automatically determine if it is a positive or negative review.</p> 
             <h2><a name="Expected_Outcome"></a>Expected Outcome</h2> 
             <a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/3323.image003.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/3323.image003.png" style="border-width:0px;border-style:solid;"></a>
             <br> 
             <br> 
             <h2><a name="High_Level_Application_Design"></a>High Level Application Design</h2> 
             <p>When there is a new review, it is first displayed on the front end. Then, an asynchronous call is made to the Web Service to get the sentiment. After the sentiment score is obtained, the review is updated with a thumb-up or thumb-down depending on the review.</p> 
             <a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/7762.image005.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/7762.image005.png" style="border-width:0px;border-style:solid;"></a>
             <br> 
             <br> 
             <h2><a name="Diving_in_the_Codes"></a>Diving in the Codes!</h2> 
             <p>This is an ASP.NET MVC Application which makes calls to the Web Service Asynchronously and place the emoticon only after the result is obtained.</p> 
             <h3><a name="Calling_the_Text_Analytics_Service"></a>Calling the Text Analytics Service</h3> 1. Declare the Service Base URI and Account Key 
             <br> 
             <br> 
             <div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;"> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">ServiceBaseUri = </code><code style="color:blue;">"<a href="https://api.datamarket.azure.com/">https://api.datamarket.azure.com/</a>"</code><code style="color:#000000;">;&nbsp; </code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">accountKey = </code><code style="color:blue;">"xxxxxx"</code><code style="color:#000000;">;</code></span>
              </div> 
             </div> 
             <br> 2. Connect to the Service and pass connection details 
             <br> 
             <br> 
             <div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;"> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#006699;font-weight:bold;">using</code> <code style="color:#000000;">(var httpClient = </code><code style="color:#006699;font-weight:bold;">new</code> <code style="color:#000000;">HttpClient())</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">{</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">inputTextEncoded = HttpUtility.UrlEncode(inputText);</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">httpClient.BaseAddress = </code><code style="color:#006699;font-weight:bold;">new</code> <code style="color:#000000;"> Uri(ServiceBaseUri);</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">creds = </code><code style="color:blue;">"AccountKey:"</code> <code style="color:#000000;">+ accountKey;</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">authorizationHeader = </code><code style="color:blue;">"Basic "</code> <code style="color:#000000;">+ Convert.ToBase64String(Encoding.ASCII.GetBytes(creds));</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">httpClient.DefaultRequestHeaders.Add(</code><code style="color:blue;">"Authorization"</code><code style="color:#000000;">, authorizationHeader);</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">httpClient.DefaultRequestHeaders.Accept.Add(</code><code style="color:#006699;font-weight:bold;">new</code> <code style="color:#000000;">MediaTypeWithQualityHeaderValue(</code><code style="color:blue;">"application/json"</code><code style="color:#000000;">));</code></span>
              </div> 
             </div> 
             <br> 3. Get the sentiment score 
             <br> 
             <br> 
             <div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;"> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">sentimentRequest = </code><code style="color:blue;">"data.ashx/amla/text-analytics/v1/GetSentiment?Text="</code> <code style="color:#000000;">+ inputTextEncoded;</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">System.Threading.Tasks.Task</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">&lt;HttpResponseMessage&gt;responseTask = httpClient.GetAsync(sentimentRequest);</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">responseTask.Wait();</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">HttpResponseMessage response = responseTask.Result;Task&lt;</code><code style="color:#006699;font-weight:bold;">string</code><code style="color:#000000;">&gt;contentTask = response.Content.ReadAsStringAsync();</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">content = contentTask.Result;</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#006699;font-weight:bold;">if</code> <code style="color:#000000;">(!response.IsSuccessStatusCode)</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">{</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#006699;font-weight:bold;">return</code> <code style="color:#000000;">-1;</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">}</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">SentimentResult sentimentResult JsonConvert.DeserializeObject&lt;SentimentResult&gt;(content);</code></span>
              </div> 
             </div> 
             <br> 
             <h3><a name="The_UI"></a>The UI</h3> 
             <p>The UI is mainly in 2 parts; a form to capture and a div to display the result. <br> a. The form </p> 
             <div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;"> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">div</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"panel-body"</code><code style="color:#000000;">&gt;</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">form</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"form-horizontal"</code><code style="color:#000000;">&gt;</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">div</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"form-group"</code><code style="color:#000000;">&gt;</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">div</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"col-sm-10"</code><code style="color:#000000;">&gt;</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">input</code> <code style="color:#808080;">type</code><code style="color:#000000;">=</code><code style="color:blue;">"text"</code> <code style="color:#808080;">id</code><code style="color:#000000;">=</code><code style="color:blue;">"name"</code> <code style="color:#808080;">placeholder</code><code style="color:#000000;">=</code><code style="color:blue;">"name"</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"form-control"</code> <code style="color:#000000;">/&gt; &lt;/</code><code style="color:#006699;font-weight:bold;">br</code><code style="color:#000000;">&gt;</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&lt;/</code><code style="color:#006699;font-weight:bold;">div</code><code style="color:#000000;">&gt;</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">&lt;/</code><code style="color:#006699;font-weight:bold;">div</code><code style="color:#000000;">&gt;</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">div</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"form-group"</code><code style="color:#000000;">&gt;</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">div</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"col-sm-10"</code><code style="color:#000000;">&gt;</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">textarea</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"form-control"</code> <code style="color:#808080;">id</code><code style="color:#000000;">=</code><code style="color:blue;">"msg"</code> <code style="color:#808080;">placeholder</code><code style="color:#000000;">=</code><code style="color:blue;">"Review"</code> <code style="color:#808080;">rows</code><code style="color:#000000;">=</code><code style="color:blue;">"3"</code><code style="color:#000000;">&gt;&lt;/</code><code style="color:#006699;font-weight:bold;">textarea</code><code style="color:#000000;">&gt;</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&lt;/</code><code style="color:#006699;font-weight:bold;">div</code><code style="color:#000000;">&gt;</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">&lt;/</code><code style="color:#006699;font-weight:bold;">div</code><code style="color:#000000;">&gt;</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">div</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"form-group"</code><code style="color:#000000;">&gt;</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">div</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"col-sm-10"</code><code style="color:#000000;">&gt;</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">br</code> <code style="color:#000000;">/&gt;&nbsp; &lt;</code><code style="color:#006699;font-weight:bold;">input</code> <code style="color:#808080;">type</code><code style="color:#000000;">=</code><code style="color:blue;">"button"</code> <code style="color:#808080;">id</code><code style="color:#000000;">=</code><code style="color:blue;">"send"</code> <code style="color:#808080;">value</code><code style="color:#000000;">=</code><code style="color:blue;">"Post"</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">"btn btn-primary btn-sm"</code> <code style="color:#000000;">/&gt;</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&lt;/</code><code style="color:#006699;font-weight:bold;">div</code><code style="color:#000000;">&gt;</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">&lt;/</code><code style="color:#006699;font-weight:bold;">div</code><code style="color:#000000;">&gt;</code></span>
              </div> 
             </div> 
             <br> 
             <p>b. The div to display the result</p> 
             <div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;"> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">div</code> <code style="color:#808080;">id</code><code style="color:#000000;">=</code><code style="color:blue;">"message"</code> <code style="color:#808080;">class</code><code style="color:#000000;">=</code><code style="color:blue;">" col-sm-8 container"</code> <code style="color:#808080;">style</code><code style="color:#000000;">=</code><code style="color:blue;">" height: 50%; max-height:300px; overflow: scroll;"</code><code style="color:#000000;">&gt;&lt;/</code><code style="color:#006699;font-weight:bold;">div</code><code style="color:#000000;">&gt;</code></span>
              </div> 
             </div> 
             <br> 
             <h3><a name="The_JavaScript"></a>The JavaScript</h3> 
             <p>There are 2 main functions on the JavaScript part, to send a message and to append reviews to the div. <br> &nbsp;a. Append the messages to the div <br> <br> Here, 2 actions are defined. Action 1 is when a broadcast happen and action 2 is when the result from the Web Service is obtained and it appends the emoticon to the existing div.</p> 
             <div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;"> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">chat.client.addNewMessageToPageReview = function (message, id, action) {</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#008200;">//broadcast</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#006699;font-weight:bold;">if</code> <code style="color:#000000;">(action == 1) {</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">var text = document.getElementById(</code><code style="color:blue;">'message'</code><code style="color:#000000;">).innerHTML;</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">document.getElementById(</code><code style="color:blue;">'message'</code><code style="color:#000000;">).innerHTML = message + </code><code style="color:blue;">'&lt;label id ='</code> <code style="color:#000000;"> + id + </code><code style="color:blue;">'&gt;&nbsp; &lt;/label&gt;&nbsp; '</code> <code style="color:#000000;"> + </code><code style="color:blue;">'&lt;br/&gt;'</code> <code style="color:#000000;">+ text;</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">}</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#008200;">//update</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#006699;font-weight:bold;">if</code> <code style="color:#000000;">(action == 2) {</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">document.getElementById(id).innerHTML = message;</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">}</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">$(</code><code style="color:blue;">'#message'</code><code style="color:#000000;">).emoticonize();</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">};</code></span>
              </div> 
             </div> 
             <br> 
             <span style="font-size:14.6667px;line-height:15.6933px;text-indent:-24px;font-family:Calibri,sans-serif;color:#000000;">b.<span style="font-size:7pt;line-height:normal;font-family:'Times New Roman';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span>
             <span style="font-size:14.6667px;line-height:15.6933px;text-indent:-24px;background:white none repeat scroll 0% 0%;font-family:Calibri,sans-serif;color:#000000;">Send a comment<br> </span> 
             <p>This method captures the input and sends it to the server.</p> 
             <div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;"> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">$.connection.hub.start().done(function () {</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">$(</code><code style="color:blue;">'#send'</code><code style="color:#000000;">).click(function () {</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">var name = $(</code><code style="color:blue;">'#name'</code><code style="color:#000000;">).val();</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">var msg = $(</code><code style="color:blue;">'#msg'</code><code style="color:#000000;">).val();</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">var tosen = name + </code><code style="color:blue;">': '</code> <code style="color:#000000;">+ msg;</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">chat.server.send(tosen);</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">$(</code><code style="color:blue;">'#msg'</code><code style="color:#000000;">).val(</code><code style="color:blue;">''</code><code style="color:#000000;">).focus();</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">});</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">});</code></span>
              </div> 
             </div> 
             <br> 
             <h3><a name="C_Code"></a>C# Code</h3> 
             <p>This method will be called when the send button is clicked. This will firstly broadcast the review to all clients by calling the JavaScript addNewMessageToPageReview function. Then, it will call the method UpdateEmoticon which will connect to the service, get the sentiment score and asynchronously update the div on the front end to update the emoticon.</p> 
             <div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;"> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#006699;font-weight:bold;">public</code> <code style="color:#000000;">async Task Send(</code><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">message)</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code style="color:#000000;">{</code></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">guid = Guid.NewGuid().ToString();</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">Clients.All.addNewMessageToPageReview(message, guid, 1);</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">await UpdateEmoticon(guid, message);</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span>&nbsp;</span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#000000;">}</code></span>
              </div> 
             </div> 
             <p>The method UpdateEmoticon will then determine which smiley to use based on the Sentiment Score obtained and update the chat on the front end.</p> 
             <div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;"> 
              <div style="background-color:#ffffff;">
               <span><code style="color:#006699;font-weight:bold;">public</code> <code style="color:#000000;">async Task UpdateEmoticon(</code><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">guid, </code><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">message)</code></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#008200;">//Calls the web service</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">double</code> <code style="color:#000000;">result = await ProcessText(message);</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">string</code> <code style="color:#000000;">output = </code><code style="color:blue;">""</code><code style="color:#000000;">;</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">if</code> <code style="color:#000000;">(result &gt;= 0.6)</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span>&nbsp;</span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">output =&nbsp; </code><code style="color:blue;">" &lt;div class= 'glyphicon glyphicon-thumbs-up'&gt;&lt;/div&gt;&lt;br/&gt;"</code><code style="color:#000000;">;</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">else</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">output = </code><code style="color:blue;">"&lt;div class='glyphicon&nbsp; glyphicon-thumbs-down'&gt;&lt;/div&gt;&lt;br/&gt;"</code><code style="color:#000000;">;</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;</code><span>&nbsp;</span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span>
              </div> 
              <div style="background-color:#f8f8f8;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">Clients.All.addNewMessageToPageReview(output, guid, 2);</code></span></span>
              </div> 
              <div style="background-color:#ffffff;">
               <span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span>
              </div> 
             </div> 
             <br> 
             <p>The link to the source code of this application is in the code sample section below.</p> 
             <h2><a name="Sample_Chat_Application"></a>Sample Chat Application</h2> 
             <p>Another possible application of Text Analytics is a chat application. In some enterprises, where support is done via chat, the company might want to analyse the sentiment of its customers.<br> <br> The following chat application uses SignalR whereby each message sent is not only broadcasted to the clients, but also analyzed using Sentiment Analysis after which the message is updated with an appropriate smiley.<br> <br> The codes used in this application is very similar to the one described previously and is also available in the sample below.<br> <br> </p> 
             <a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/2262.image007.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/2262.image007.png" style="border-width:0px;border-style:solid;"></a> 
             <h1><a name="Code_Sample"></a>Code Sample</h1> 
             <p>The source code of the 2 applications mentioned above are on the MSDN Gallery <a href="https://gallery.technet.microsoft.com/Sentiment-Analysis-API-01ad3d1e" target="_blank"> here</a>.</p> 
             <h1><a name="References"></a>References</h1> a. 
             <a href="https://datamarket.azure.com/dataset/amla/text-analytics%20">https://datamarket.azure.com/dataset/amla/text-analytics </a>
             <br> b. 
             <a href="http://blogs.technet.com/b/machinelearning/archive/2015/04/08/introducing-text-analytics-in-the-azure-ml-marketplace.aspx"> http://blogs.technet.com/b/machinelearning/archive/2015/04/08/introducing-text-analytics-in-the-azure-ml-marketplace.aspx</a> 
            </div> 
            <div class="post-actions"> 
             <div class="navigation-list-header"></div> 
             <!--<ul class="navigation-list">
			
        </ul>--> 
             <div class="navigation-list-footer"></div> 
            </div> 
            <div class="post-tags">
             <div id="ctl00_ctl00_content_content_ctl00_w_6615__ffffffff94d85845_ctl00_ctl04_ctl01_Container" style="display: none;">
              <div>
               <textarea id="ctl00_ctl00_content_content_ctl00_w_6615__ffffffff94d85845_ctl00_ctl04_ctl01_Tags" style="width: 100%; height: 100%;" rows="2" cols="30"></textarea>
               <div style="white-space: nowrap; padding-top: 4px;">
                <table cellpadding="0" cellspacing="0" border="0" width="100%">
                 <tbody>
                  <tr>
                   <td align="left"></td>
                   <td align="right"><input type="button" onclick="ctl00_ctl00_content_content_ctl00_w_6615__ffffffff94d85845_ctl00_ctl04_ctl01.Save(); return false;" value="Save"><input type="button" onclick="ctl00_ctl00_content_content_ctl00_w_6615__ffffffff94d85845_ctl00_ctl04_ctl01.Close(); return false;" value="Cancel"></td>
                  </tr>
                 </tbody>
                </table>
               </div>
              </div>
             </div>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </form>
 </body>
</html>