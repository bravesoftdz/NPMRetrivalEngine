<!doctype html>
<!--[if IE 8]><html class="sp?  no-js lt-ie9" lang="en" ><![endif]-->
<!--[if gt IE 8]><!-->
<html class="sp?  no-js" lang="en">
 <!--<![endif]-->
 <head> 
  <link rel="manifest" href="/manifest.json"> 
  <link href="//dab1nmslvvntp.cloudfront.net" ref="dns-prefetch"> 
  <link href="//d2sis3lil8ndrq.cloudfront.net" ref="dns-prefetch"> 
  <link href="//sitepoint.com" ref="dns-prefetch"> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <meta property="og:image" content="https://www.sitepoint.com/wp-content/themes/sitepoint/assets/images/icon.javascript.png"> 
  <link rel="shortcut icon" href="/favicon.ico"> 
  <link rel="apple-touch-icon-precomposed" href="/wp-content/themes/sitepoint/assets/images/apple-touch-icon-57x57-precomposed.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/wp-content/themes/sitepoint/assets/images/apple-touch-icon-72x72-precomposed.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/wp-content/themes/sitepoint/assets/images/apple-touch-icon-114x114-precomposed.png"> 
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/wp-content/themes/sitepoint/assets/images/apple-touch-icon-144x144-precomposed.png"> 
  <!-- Sitepoint's new font from Google Fonts --> 
  <link href="https://fonts.googleapis.com/css?family=Roboto:900,900italic,700,700italic,400,400italic,300,300italic" rel="stylesheet" type="text/css"> 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> 
  <link rel="alternate" type="application/rss+xml" title="RSS Feed for SitePoint.com" href="https://www.sitepoint.com/feed/"> 
  <link href="https://plus.google.com/+sitepoint" rel="publisher"> 
  <meta property="twitter:account_id" content="15743570"> 
  <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
  <script type="text/javascript">
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;

  ga('create', 'UA-30131-1', '.sitepoint.com');

  ga('set', 'dimension2', 'javascript');

  ga('require', 'eventTracker', {
    attributePrefix: "data-ga-",
    events: ["click", "submit"]
  });
  ga('require', 'impressionTracker', {
    attributePrefix: "data-ga-",
    elements: [],
    fieldsObj: {
      eventCategory: "maestro",
    }
  });
  ga('require', 'outboundLinkTracker');
  ga('require', 'SitePointPlugin');

  ga('send', 'pageview');

  // Cross Domain Tracking to Learnable
  ga('require', 'linker');
  // command, domains, useAnchor, enableForms
  ga('linker:autoLink', ['learnable.com'], false, true);

  (function() {
		var ga = window[window['GoogleAnalyticsObject'] || 'ga'];

		var providePlugin = function(pluginName, pluginConstructor) {
			if (ga) {
				ga('provide', pluginName, pluginConstructor);
			}
		};

		var SitePointPlugin = function(tracker) {
			this.impressionObservables = [];
			this.hasIntersectionObserverLoaded = false;
			this.tracker = tracker;
			var originalSendHitTask = this.tracker.get('sendHitTask');
			this.tracker.set('sendHitTask', function(model) {
				originalSendHitTask(model);

        
				if (model.get('eventCategory') !== 'Demandbase') return;
				window.SP_OnDemandBaseReady && window.SP_OnDemandBaseReady(model);
			});
		};

    SitePointPlugin.prototype.observeImpressions = function(el) {
      if (el) this.impressionObservables = this.impressionObservables.concat(el);

      if (this.hasIntersectionObserverLoaded && this.impressionObservables.length) {
		    var ga = window[window['GoogleAnalyticsObject'] || 'ga'];
        ga('impressionTracker:observeElements', this.impressionObservables);
        this.impressionObservables = [];
      }
    }

    SitePointPlugin.prototype.intersectionObserverLoaded = function() {
      this.hasIntersectionObserverLoaded = true;
      this.observeImpressions();
    }

		providePlugin('SitePointPlugin', SitePointPlugin);
	})();
</script> 
  <script async src="https://www.google-analytics.com/analytics.js"></script> 
  <meta name="google-site-verification" content="hcQq0cWX73AYby8aMMzNHx8bZrTDI75GWeljGdPmNf8"> 
  <meta name="google-site-verification" content="I0jyQlTvZaveab8RtDOjUxSPZXbdSgFrcKdAwaCCfvA"> 
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=IntersectionObserver" async defer onload="ga('SitePointPlugin:intersectionObserverLoaded')"></script> 
  <script class="SP_stripMobile" type="text/javascript">
      var googletag = googletag || {};
      googletag.cmd = googletag.cmd || [];
      (function() {
      var gads = document.createElement('script');
      gads.async = true;
      gads.type = 'text/javascript';
      var useSSL = 'https:' == document.location.protocol;
      gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(gads, node);
      })();
    </script> 
  <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async></script> 
  <script>
    var OneSignal = window.OneSignal || [];
    OneSignal.push(["init", {
      appId: "65189cfb-a985-4bd7-a41b-c2666081e811",
      safari_web_id: 'web.onesignal.auto.49d2239d-a04e-422a-89e0-14dbda97fb4d',
      autoRegister: true,
      persistNotification: true,
    }]);
  </script> 
  <!-- BuySellAds PRO Code --> 
  <script class="SP_stripMobile" type="text/javascript">(function(){var bsa = document.createElement('script');bsa.type = 'text/javascript';bsa.async = true;bsa.src = '//cdn.buysellads.com/ac/pro.js';document.getElementsByTagName('head')[0].appendChild(bsa);})();</script> 
  <!-- End BuySellAds PRO Ad Code —>
    
<!-- This site is optimized with the Yoast SEO plugin v5.1 - https://yoast.com/wordpress/plugins/seo/ --> 
  <title>User Authentication with the MEAN Stack — SitePoint</title> 
  <meta name="description" content="In this tutorial Simon Holmes shows how to implement Angular authentication using a REST API built with Node, Express and MongoDB"> 
  <link rel="canonical" href="https://www.sitepoint.com/user-authentication-mean-stack/"> 
  <link rel="publisher" href="https://plus.google.com/+sitepoint/"> 
  <meta property="og:locale" content="en_US"> 
  <meta property="og:type" content="article"> 
  <meta property="og:title" content="User Authentication with the MEAN Stack — SitePoint"> 
  <meta property="og:description" content="In this tutorial Simon Holmes shows how to implement Angular authentication using a REST API built with Node, Express and MongoDB"> 
  <meta property="og:url" content="https://www.sitepoint.com/user-authentication-mean-stack/"> 
  <meta property="og:site_name" content="SitePoint"> 
  <meta property="article:publisher" content="https://www.facebook.com/sitepoint"> 
  <meta property="article:tag" content="angular"> 
  <meta property="article:tag" content="authentication"> 
  <meta property="article:tag" content="Express"> 
  <meta property="article:tag" content="mongo"> 
  <meta property="article:tag" content="Mongoose"> 
  <meta property="article:tag" content="nilsonj"> 
  <meta property="article:tag" content="node"> 
  <meta property="article:tag" content="node.js"> 
  <meta property="article:tag" content="passport"> 
  <meta property="article:tag" content="REST"> 
  <meta property="article:section" content="AngularJS"> 
  <meta property="article:published_time" content="2016-02-01T13:00:46-07:00"> 
  <meta property="article:modified_time" content="2016-04-11T17:05:19-07:00"> 
  <meta property="og:updated_time" content="2016-04-11T17:05:19-07:00"> 
  <meta property="fb:admins" content="121300382"> 
  <meta property="og:image" content="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453465473CombinedScreenshots-1024x620.png"> 
  <meta property="og:image" content="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453465446AngularAppStructure-422x1024.png"> 
  <meta property="og:image" content="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453465452APIFolderStructure-220x300.png"> 
  <meta property="og:image" content="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453465485FinalProfileScreenshot-1024x620.png"> 
  <meta name="twitter:card" content="summary_large_image"> 
  <meta name="twitter:description" content="In this tutorial Simon Holmes shows how to implement Angular authentication using a REST API built with Node, Express and MongoDB"> 
  <meta name="twitter:title" content="User Authentication with the MEAN Stack — SitePoint"> 
  <meta name="twitter:site" content="@sitepointdotcom"> 
  <meta name="twitter:image" content="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453465473CombinedScreenshots-1024x620.png"> 
  <meta name="twitter:creator" content="@simonholmes"> 
  <!-- / Yoast SEO plugin. --> 
  <link rel="dns-prefetch" href="//s.w.org"> 
  <link rel="alternate" type="application/rss+xml" title="SitePoint » User Authentication with the MEAN Stack Comments Feed" href="https://www.sitepoint.com/user-authentication-mean-stack/feed/"> 
  <script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.sitepoint.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.1"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b===c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script> 
  <style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style> 
  <link rel="stylesheet" id="sitepoint-styles-css" href="//www.sitepoint.com/wp-content/themes/sitepoint/assets/stylesheets/styles-5725ccaf0ed98303e95689a971eeec5d.css?ver=4.8.1" type="text/css" media="all"> 
  <style id="sitepoint-styles-inline-css" type="text/css">
.sp? .m-border{border-radius:2px;border:1px solid #e5e5e5}.sp? .m-border-b{border-bottom:1px solid #e5e5e5}.sp? .m-link-white{color:#e5e5e5;transition:.3s ease;transition-property:color}.sp? .m-link-white:active,.sp? .m-link-white:hover{color:#fff}.sp? .m-728x90{display:none;max-width:728px;max-height:90px}@media (min-width:728px){.sp? .m-728x90{display:block}}.sp? .f-xxlarge{font-size:3rem}.sp? .f-xlarge{font-size:2.25rem}.sp? .f-larger{font-size:1.5rem}.sp? .f-large{font-size:1.25rem}.sp? .f-medium{font-size:1rem}.sp? .f-small{font-size:.875rem}.sp? .f-smaller{font-size:.75rem}@media (min-width:624px){.sp? .f-xxlarge--2col{font-size:3rem}.sp? .f-xlarge--2col{font-size:2.25rem}.sp? .f-larger--2col{font-size:1.5rem}.sp? .f-large--2col{font-size:1.25rem}.sp? .f-medium--2col{font-size:1rem}.sp? .f-small--2col{font-size:.875rem}.sp? .f-smaller--2col{font-size:.75rem}}@media (min-width:1072px){.sp? .f-xxlarge--3col{font-size:3rem}.sp? .f-xlarge--3col{font-size:2.25rem}.sp? .f-larger--3col{font-size:1.5rem}.sp? .f-large--3col{font-size:1.25rem}.sp? .f-medium--3col{font-size:1rem}.sp? .f-small--3col{font-size:.875rem}.sp? .f-smaller--3col{font-size:.75rem}}@media (min-width:1280px){.sp? .f-xxlarge--4col{font-size:3rem}.sp? .f-xlarge--4col{font-size:2.25rem}.sp? .f-larger--4col{font-size:1.5rem}.sp? .f-large--4col{font-size:1.25rem}.sp? .f-medium--4col{font-size:1rem}.sp? .f-small--4col{font-size:.875rem}.sp? .f-smaller--4col{font-size:.75rem}}.sp? .f-bold{font-weight:700}.sp? .f-light{font-weight:300}.sp? .f-underline{text-decoration:underline}.sp? .f-uppercase{text-transform:uppercase}.sp? .f-lh{line-height:1}.sp? .f-lh-title{line-height:1.5}.sp? .f-lh-copy{line-height:1.6}.sp? .f-left{text-align:left}.sp? .f-right{text-align:right}.sp? .f-center{text-align:center}@media (min-width:624px){.sp? .f-left--2col{text-align:left}.sp? .f-right--2col{text-align:right}.sp? .f-center--2col{text-align:center}}@media (min-width:1072px){.sp? .f-left--3col{text-align:left}.sp? .f-right--3col{text-align:right}.sp? .f-center--3col{text-align:center}}@media (min-width:1280px){.sp? .f-left--4col{text-align:left}.sp? .f-right--4col{text-align:right}.sp? .f-center--4col{text-align:center}}.sp? .f-nowrap{white-space:nowrap}.sp? .f-c-white{color:#fff}.sp? .f-c-grey-50{color:#f7f7f7}.sp? .f-c-grey-100{color:#efefef}.sp? .f-c-grey-200{color:#e5e5e5}.sp? .f-c-grey-300{color:#a2a2a2}.sp? .f-c-grey-400{color:#6f6f6f}.sp? .f-c-grey-500{color:#3a3a3a}.sp? .f-c-grey-700{color:#262626}.sp? .f-c-pink-500{color:#ff837d}.sp? .f-c-teal-500{color:#3ec9cb}.sp? .l-h0{height:0}.sp? .l-h1{height:4px}.sp? .l-h2{height:8px}.sp? .l-h3{height:16px}.sp? .l-h4{height:32px}.sp? .l-h5{height:64px}.sp? .l-h6{height:128px}.sp? .l-h7{height:256px}@media (min-width:624px){.sp? .l-h0--2col{height:0}.sp? .l-h1--2col{height:4px}.sp? .l-h2--2col{height:8px}.sp? .l-h3--2col{height:16px}.sp? .l-h4--2col{height:32px}.sp? .l-h5--2col{height:64px}.sp? .l-h6--2col{height:128px}.sp? .l-h7--2col{height:256px}}@media (min-width:1072px){.sp? .l-h0--3col{height:0}.sp? .l-h1--3col{height:4px}.sp? .l-h2--3col{height:8px}.sp? .l-h3--3col{height:16px}.sp? .l-h4--3col{height:32px}.sp? .l-h5--3col{height:64px}.sp? .l-h6--3col{height:128px}.sp? .l-h7--3col{height:256px}}@media (min-width:1280px){.sp? .l-h0--4col{height:0}.sp? .l-h1--4col{height:4px}.sp? .l-h2--4col{height:8px}.sp? .l-h3--4col{height:16px}.sp? .l-h4--4col{height:32px}.sp? .l-h5--4col{height:64px}.sp? .l-h6--4col{height:128px}.sp? .l-h7--4col{height:256px}}.sp? .l-w0{width:0}.sp? .l-w1{width:4px}.sp? .l-w2{width:8px}.sp? .l-w3{width:16px}.sp? .l-w4{width:32px}.sp? .l-w5{width:64px}.sp? .l-w6{width:128px}.sp? .l-w7{width:256px}@media (min-width:624px){.sp? .l-w0--2col{width:0}.sp? .l-w1--2col{width:4px}.sp? .l-w2--2col{width:8px}.sp? .l-w3--2col{width:16px}.sp? .l-w4--2col{width:32px}.sp? .l-w5--2col{width:64px}.sp? .l-w6--2col{width:128px}.sp? .l-w7--2col{width:256px}}@media (min-width:1072px){.sp? .l-w0--3col{width:0}.sp? .l-w1--3col{width:4px}.sp? .l-w2--3col{width:8px}.sp? .l-w3--3col{width:16px}.sp? .l-w4--3col{width:32px}.sp? .l-w5--3col{width:64px}.sp? .l-w6--3col{width:128px}.sp? .l-w7--3col{width:256px}}@media (min-width:1280px){.sp? .l-w0--4col{width:0}.sp? .l-w1--4col{width:4px}.sp? .l-w2--4col{width:8px}.sp? .l-w3--4col{width:16px}.sp? .l-w4--4col{width:32px}.sp? .l-w5--4col{width:64px}.sp? .l-w6--4col{width:128px}.sp? .l-w7--4col{width:256px}}.sp? .l-s0{height:0;width:0}.sp? .l-s1{height:4px;width:4px}.sp? .l-s2{height:8px;width:8px}.sp? .l-s3{height:16px;width:16px}.sp? .l-s4{height:32px;width:32px}.sp? .l-s5{height:64px;width:64px}.sp? .l-s6{height:128px;width:128px}.sp? .l-s7{height:256px;width:256px}@media (min-width:624px){.sp? .l-s0--2col{height:0;width:0}.sp? .l-s1--2col{height:4px;width:4px}.sp? .l-s2--2col{height:8px;width:8px}.sp? .l-s3--2col{height:16px;width:16px}.sp? .l-s4--2col{height:32px;width:32px}.sp? .l-s5--2col{height:64px;width:64px}.sp? .l-s6--2col{height:128px;width:128px}.sp? .l-s7--2col{height:256px;width:256px}}@media (min-width:1072px){.sp? .l-s0--3col{height:0;width:0}.sp? .l-s1--3col{height:4px;width:4px}.sp? .l-s2--3col{height:8px;width:8px}.sp? .l-s3--3col{height:16px;width:16px}.sp? .l-s4--3col{height:32px;width:32px}.sp? .l-s5--3col{height:64px;width:64px}.sp? .l-s6--3col{height:128px;width:128px}.sp? .l-s7--3col{height:256px;width:256px}}@media (min-width:1280px){.sp? .l-s0--4col{height:0;width:0}.sp? .l-s1--4col{height:4px;width:4px}.sp? .l-s2--4col{height:8px;width:8px}.sp? .l-s3--4col{height:16px;width:16px}.sp? .l-s4--4col{height:32px;width:32px}.sp? .l-s5--4col{height:64px;width:64px}.sp? .l-s6--4col{height:128px;width:128px}.sp? .l-s7--4col{height:256px;width:256px}}.sp? .l-i0{font-size:0}.sp? .l-i1{font-size:4px}.sp? .l-i2{font-size:8px}.sp? .l-i3{font-size:16px}.sp? .l-i4{font-size:32px}.sp? .l-i5{font-size:64px}.sp? .l-i6{font-size:128px}.sp? .l-i7{font-size:256px}@media (min-width:624px){.sp? .l-i0--2col{font-size:0}.sp? .l-i1--2col{font-size:4px}.sp? .l-i2--2col{font-size:8px}.sp? .l-i3--2col{font-size:16px}.sp? .l-i4--2col{font-size:32px}.sp? .l-i5--2col{font-size:64px}.sp? .l-i6--2col{font-size:128px}.sp? .l-i7--2col{font-size:256px}}@media (min-width:1072px){.sp? .l-i0--3col{font-size:0}.sp? .l-i1--3col{font-size:4px}.sp? .l-i2--3col{font-size:8px}.sp? .l-i3--3col{font-size:16px}.sp? .l-i4--3col{font-size:32px}.sp? .l-i5--3col{font-size:64px}.sp? .l-i6--3col{font-size:128px}.sp? .l-i7--3col{font-size:256px}}@media (min-width:1280px){.sp? .l-i0--4col{font-size:0}.sp? .l-i1--4col{font-size:4px}.sp? .l-i2--4col{font-size:8px}.sp? .l-i3--4col{font-size:16px}.sp? .l-i4--4col{font-size:32px}.sp? .l-i5--4col{font-size:64px}.sp? .l-i6--4col{font-size:128px}.sp? .l-i7--4col{font-size:256px}}.sp? .l-w-100{width:100%}.sp? .l-w-col{width:280px}.sp? .l-w-1col{width:312px}.sp? .l-w-2col{width:624px}.sp? .l-w-2col-i{width:592px}.sp? .l-w-3col{width:936px}.sp? .l-w-3col-aside{width:1072px}.sp? .l-w-3col-i{width:904px}.sp? .l-w-4col{width:1248px}.sp? .l-w-4col-aside{width:1384px}.sp? .l-w-4col-i{width:1216px}@media (min-width:624px){.sp? .l-w-100--2col{width:100%}.sp? .l-w-col--2col{width:280px}.sp? .l-w-1col--2col{width:312px}.sp? .l-w-2col--2col{width:624px}.sp? .l-w-2col-i--2col{width:592px}.sp? .l-w-3col--2col{width:936px}.sp? .l-w-3col-aside--2col{width:1072px}.sp? .l-w-3col-i--2col{width:904px}.sp? .l-w-4col--2col{width:1248px}.sp? .l-w-4col-aside--2col{width:1384px}.sp? .l-w-4col-i--2col{width:1216px}}@media (min-width:1072px){.sp? .l-w-100--3col{width:100%}.sp? .l-w-col--3col{width:280px}.sp? .l-w-1col--3col{width:312px}.sp? .l-w-2col--3col{width:624px}.sp? .l-w-2col-i--3col{width:592px}.sp? .l-w-3col--3col{width:936px}.sp? .l-w-3col-aside--3col{width:1072px}.sp? .l-w-3col-i--3col{width:904px}.sp? .l-w-4col--3col{width:1248px}.sp? .l-w-4col-aside--3col{width:1384px}.sp? .l-w-4col-i--3col{width:1216px}}@media (min-width:1280px){.sp? .l-w-100--4col{width:100%}.sp? .l-w-col--4col{width:280px}.sp? .l-w-1col--4col{width:312px}.sp? .l-w-2col--4col{width:624px}.sp? .l-w-2col-i--4col{width:592px}.sp? .l-w-3col--4col{width:936px}.sp? .l-w-3col-aside--4col{width:1072px}.sp? .l-w-3col-i--4col{width:904px}.sp? .l-w-4col--4col{width:1248px}.sp? .l-w-4col-aside--4col{width:1384px}.sp? .l-w-4col-i--4col{width:1216px}}.sp? .l-w-aside{width:332px}.sp? .l-w-aside-i{width:300px}.sp? .l-mxh-100{max-height:100%}.sp? .l-mxw-100{max-width:100%}.sp? .l-d-b{display:block}.sp? .l-d-f{display:flex}.sp? .l-d-ib{display:inline-block}.sp? .l-d-if{display:inline-flex}.sp? .l-d-n{display:none}@media (min-width:624px){.sp? .l-d-b--2col{display:block}.sp? .l-d-f--2col{display:flex}.sp? .l-d-ib--2col{display:inline-block}.sp? .l-d-if--2col{display:inline-flex}.sp? .l-d-n--2col{display:none}}@media (min-width:1072px){.sp? .l-d-b--3col{display:block}.sp? .l-d-f--3col{display:flex}.sp? .l-d-ib--3col{display:inline-block}.sp? .l-d-if--3col{display:inline-flex}.sp? .l-d-n--3col{display:none}}@media (min-width:1280px){.sp? .l-d-b--4col{display:block}.sp? .l-d-f--4col{display:flex}.sp? .l-d-ib--4col{display:inline-block}.sp? .l-d-if--4col{display:inline-flex}.sp? .l-d-n--4col{display:none}}.sp? .l-fd-col{flex-direction:column}.sp? .l-fd-row{flex-direction:row}@media (min-width:624px){.sp? .l-fd-col--2col{flex-direction:column}.sp? .l-fd-row--2col{flex-direction:row}}@media (min-width:1072px){.sp? .l-fd-col--3col{flex-direction:column}.sp? .l-fd-row--3col{flex-direction:row}}@media (min-width:1280px){.sp? .l-fd-col--4col{flex-direction:column}.sp? .l-fd-row--4col{flex-direction:row}}.sp? .l-fw-w{flex-wrap:wrap}@media (min-width:624px){.sp? .l-fw-w--2col{flex-wrap:wrap}}@media (min-width:1072px){.sp? .l-fw-w--3col{flex-wrap:wrap}}@media (min-width:1280px){.sp? .l-fw-w--4col{flex-wrap:wrap}}.sp? .l-fw-n{flex-wrap:nowrap}@media (min-width:624px){.sp? .l-fw-n--2col{flex-wrap:nowrap}}@media (min-width:1072px){.sp? .l-fw-n--3col{flex-wrap:nowrap}}@media (min-width:1280px){.sp? .l-fw-n--4col{flex-wrap:nowrap}}.sp? .l-f1{flex:1}.sp? .l-fs0{flex-shrink:0}@media (min-width:624px){.sp? .l-fs0--2col{flex-shrink:0}}@media (min-width:1072px){.sp? .l-fs0--3col{flex-shrink:0}}@media (min-width:1280px){.sp? .l-fs0--4col{flex-shrink:0}}.sp? .l-fg1{flex-grow:1}@media (min-width:624px){.sp? .l-fg1--2col{flex-grow:1}}@media (min-width:1072px){.sp? .l-fg1--3col{flex-grow:1}}@media (min-width:1280px){.sp? .l-fg1--4col{flex-grow:1}}.sp? .l-ai-cen{align-items:center}.sp? .l-ai-fs{align-items:flex-start}.sp? .l-ai-fe{align-items:flex-end}.sp? .l-ai-str{align-items:stretch}@media (min-width:624px){.sp? .l-ai-cen--2col{align-items:center}.sp? .l-ai-fs--2col{align-items:flex-start}.sp? .l-ai-fe--2col{align-items:flex-end}.sp? .l-ai-str--2col{align-items:stretch}}@media (min-width:1072px){.sp? .l-ai-cen--3col{align-items:center}.sp? .l-ai-fs--3col{align-items:flex-start}.sp? .l-ai-fe--3col{align-items:flex-end}.sp? .l-ai-str--3col{align-items:stretch}}@media (min-width:1280px){.sp? .l-ai-cen--4col{align-items:center}.sp? .l-ai-fs--4col{align-items:flex-start}.sp? .l-ai-fe--4col{align-items:flex-end}.sp? .l-ai-str--4col{align-items:stretch}}.sp? .l-as-cen{align-self:center}.sp? .l-as-fe{align-self:flex-end}.sp? .l-as-fs{align-self:flex-start}@media (min-width:624px){.sp? .l-as-cen--2col{align-self:center}.sp? .l-as-fe--2col{align-self:flex-end}.sp? .l-as-fs--2col{align-self:flex-start}}@media (min-width:1072px){.sp? .l-as-cen--3col{align-self:center}.sp? .l-as-fe--3col{align-self:flex-end}.sp? .l-as-fs--3col{align-self:flex-start}}@media (min-width:1280px){.sp? .l-as-cen--4col{align-self:center}.sp? .l-as-fe--4col{align-self:flex-end}.sp? .l-as-fs--4col{align-self:flex-start}}.sp? .l-jc-cen{justify-content:center}.sp? .l-jc-fs{justify-content:flex-start}.sp? .l-jc-fe{justify-content:flex-end}.sp? .l-jc-sb{justify-content:space-between}.sp? .l-jc-sa{justify-content:space-around}@media (min-width:624px){.sp? .l-jc-cen--2col{justify-content:center}.sp? .l-jc-fs--2col{justify-content:flex-start}.sp? .l-jc-fe--2col{justify-content:flex-end}.sp? .l-jc-sb--2col{justify-content:space-between}.sp? .l-jc-sa--2col{justify-content:space-around}}@media (min-width:1072px){.sp? .l-jc-cen--3col{justify-content:center}.sp? .l-jc-fs--3col{justify-content:flex-start}.sp? .l-jc-fe--3col{justify-content:flex-end}.sp? .l-jc-sb--3col{justify-content:space-between}.sp? .l-jc-sa--3col{justify-content:space-around}}@media (min-width:1280px){.sp? .l-jc-cen--4col{justify-content:center}.sp? .l-jc-fs--4col{justify-content:flex-start}.sp? .l-jc-fe--4col{justify-content:flex-end}.sp? .l-jc-sb--4col{justify-content:space-between}.sp? .l-jc-sa--4col{justify-content:space-around}}.sp? .l-p-fix{position:fixed}.sp? .l-p-rel{position:relative}.sp? .l-p-sta{position:static}@media (min-width:624px){.sp? .l-p-sta--2col{position:static}}@media (min-width:1072px){.sp? .l-p-sta--3col{position:static}}@media (min-width:1280px){.sp? .l-p-sta--4col{position:static}}.sp? .l-o-h{overflow:hidden}.sp? .l-round{border-radius:50%}.sp? .l-br{border-radius:2px}.sp? .l-br0{border-radius:0}@media (min-width:624px){.sp? .l-br--2col{border-radius:2px}.sp? .l-br0--2col{border-radius:0}}@media (min-width:1072px){.sp? .l-br--3col{border-radius:2px}.sp? .l-br0--3col{border-radius:0}}@media (min-width:1280px){.sp? .l-br--4col{border-radius:2px}.sp? .l-br0--4col{border-radius:0}}.sp? .l-b-n{border:none}@media (min-width:624px){.sp? .l-b-n--2col{border:none}}@media (min-width:1072px){.sp? .l-b-n--3col{border:none}}@media (min-width:1280px){.sp? .l-b-n--4col{border:none}}.sp? .l-ma0{margin:0}.sp? .l-ma1{margin:4px}.sp? .l-ma2{margin:8px}.sp? .l-ma3{margin:16px}.sp? .l-ma4{margin:32px}.sp? .l-ma5{margin:64px}.sp? .l-ma6{margin:128px}.sp? .l-ma7{margin:256px}@media (min-width:624px){.sp? .l-ma0--2col{margin:0}.sp? .l-ma1--2col{margin:4px}.sp? .l-ma2--2col{margin:8px}.sp? .l-ma3--2col{margin:16px}.sp? .l-ma4--2col{margin:32px}.sp? .l-ma5--2col{margin:64px}.sp? .l-ma6--2col{margin:128px}.sp? .l-ma7--2col{margin:256px}}@media (min-width:1072px){.sp? .l-ma0--3col{margin:0}.sp? .l-ma1--3col{margin:4px}.sp? .l-ma2--3col{margin:8px}.sp? .l-ma3--3col{margin:16px}.sp? .l-ma4--3col{margin:32px}.sp? .l-ma5--3col{margin:64px}.sp? .l-ma6--3col{margin:128px}.sp? .l-ma7--3col{margin:256px}}@media (min-width:1280px){.sp? .l-ma0--4col{margin:0}.sp? .l-ma1--4col{margin:4px}.sp? .l-ma2--4col{margin:8px}.sp? .l-ma3--4col{margin:16px}.sp? .l-ma4--4col{margin:32px}.sp? .l-ma5--4col{margin:64px}.sp? .l-ma6--4col{margin:128px}.sp? .l-ma7--4col{margin:256px}}.sp? .l-mh0{margin-left:0;margin-right:0}.sp? .l-mh1{margin-left:4px;margin-right:4px}.sp? .l-mh2{margin-left:8px;margin-right:8px}.sp? .l-mh3{margin-left:16px;margin-right:16px}.sp? .l-mh4{margin-left:32px;margin-right:32px}.sp? .l-mh5{margin-left:64px;margin-right:64px}.sp? .l-mh6{margin-left:128px;margin-right:128px}.sp? .l-mh7{margin-left:256px;margin-right:256px}@media (min-width:624px){.sp? .l-mh0--2col{margin-left:0;margin-right:0}.sp? .l-mh1--2col{margin-left:4px;margin-right:4px}.sp? .l-mh2--2col{margin-left:8px;margin-right:8px}.sp? .l-mh3--2col{margin-left:16px;margin-right:16px}.sp? .l-mh4--2col{margin-left:32px;margin-right:32px}.sp? .l-mh5--2col{margin-left:64px;margin-right:64px}.sp? .l-mh6--2col{margin-left:128px;margin-right:128px}.sp? .l-mh7--2col{margin-left:256px;margin-right:256px}}@media (min-width:1072px){.sp? .l-mh0--3col{margin-left:0;margin-right:0}.sp? .l-mh1--3col{margin-left:4px;margin-right:4px}.sp? .l-mh2--3col{margin-left:8px;margin-right:8px}.sp? .l-mh3--3col{margin-left:16px;margin-right:16px}.sp? .l-mh4--3col{margin-left:32px;margin-right:32px}.sp? .l-mh5--3col{margin-left:64px;margin-right:64px}.sp? .l-mh6--3col{margin-left:128px;margin-right:128px}.sp? .l-mh7--3col{margin-left:256px;margin-right:256px}}@media (min-width:1280px){.sp? .l-mh0--4col{margin-left:0;margin-right:0}.sp? .l-mh1--4col{margin-left:4px;margin-right:4px}.sp? .l-mh2--4col{margin-left:8px;margin-right:8px}.sp? .l-mh3--4col{margin-left:16px;margin-right:16px}.sp? .l-mh4--4col{margin-left:32px;margin-right:32px}.sp? .l-mh5--4col{margin-left:64px;margin-right:64px}.sp? .l-mh6--4col{margin-left:128px;margin-right:128px}.sp? .l-mh7--4col{margin-left:256px;margin-right:256px}}.sp? .l-mh-auto{margin-left:auto;margin-right:auto}@media (min-width:624px){.sp? .l-mh-auto--2col{margin-left:auto;margin-right:auto}}@media (min-width:1072px){.sp? .l-mh-auto--3col{margin-left:auto;margin-right:auto}}@media (min-width:1280px){.sp? .l-mh-auto--4col{margin-left:auto;margin-right:auto}}.sp? .l-mv0{margin-top:0;margin-bottom:0}.sp? .l-mv1{margin-top:4px;margin-bottom:4px}.sp? .l-mv2{margin-top:8px;margin-bottom:8px}.sp? .l-mv3{margin-top:16px;margin-bottom:16px}.sp? .l-mv4{margin-top:32px;margin-bottom:32px}.sp? .l-mv5{margin-top:64px;margin-bottom:64px}.sp? .l-mv6{margin-top:128px;margin-bottom:128px}.sp? .l-mv7{margin-top:256px;margin-bottom:256px}@media (min-width:624px){.sp? .l-mv0--2col{margin-top:0;margin-bottom:0}.sp? .l-mv1--2col{margin-top:4px;margin-bottom:4px}.sp? .l-mv2--2col{margin-top:8px;margin-bottom:8px}.sp? .l-mv3--2col{margin-top:16px;margin-bottom:16px}.sp? .l-mv4--2col{margin-top:32px;margin-bottom:32px}.sp? .l-mv5--2col{margin-top:64px;margin-bottom:64px}.sp? .l-mv6--2col{margin-top:128px;margin-bottom:128px}.sp? .l-mv7--2col{margin-top:256px;margin-bottom:256px}}@media (min-width:1072px){.sp? .l-mv0--3col{margin-top:0;margin-bottom:0}.sp? .l-mv1--3col{margin-top:4px;margin-bottom:4px}.sp? .l-mv2--3col{margin-top:8px;margin-bottom:8px}.sp? .l-mv3--3col{margin-top:16px;margin-bottom:16px}.sp? .l-mv4--3col{margin-top:32px;margin-bottom:32px}.sp? .l-mv5--3col{margin-top:64px;margin-bottom:64px}.sp? .l-mv6--3col{margin-top:128px;margin-bottom:128px}.sp? .l-mv7--3col{margin-top:256px;margin-bottom:256px}}@media (min-width:1280px){.sp? .l-mv0--4col{margin-top:0;margin-bottom:0}.sp? .l-mv1--4col{margin-top:4px;margin-bottom:4px}.sp? .l-mv2--4col{margin-top:8px;margin-bottom:8px}.sp? .l-mv3--4col{margin-top:16px;margin-bottom:16px}.sp? .l-mv4--4col{margin-top:32px;margin-bottom:32px}.sp? .l-mv5--4col{margin-top:64px;margin-bottom:64px}.sp? .l-mv6--4col{margin-top:128px;margin-bottom:128px}.sp? .l-mv7--4col{margin-top:256px;margin-bottom:256px}}.sp? .l-ml0{margin-left:0}.sp? .l-ml1{margin-left:4px}.sp? .l-ml2{margin-left:8px}.sp? .l-ml3{margin-left:16px}.sp? .l-ml4{margin-left:32px}.sp? .l-ml5{margin-left:64px}.sp? .l-ml6{margin-left:128px}.sp? .l-ml7{margin-left:256px}@media (min-width:624px){.sp? .l-ml0--2col{margin-left:0}.sp? .l-ml1--2col{margin-left:4px}.sp? .l-ml2--2col{margin-left:8px}.sp? .l-ml3--2col{margin-left:16px}.sp? .l-ml4--2col{margin-left:32px}.sp? .l-ml5--2col{margin-left:64px}.sp? .l-ml6--2col{margin-left:128px}.sp? .l-ml7--2col{margin-left:256px}}@media (min-width:1072px){.sp? .l-ml0--3col{margin-left:0}.sp? .l-ml1--3col{margin-left:4px}.sp? .l-ml2--3col{margin-left:8px}.sp? .l-ml3--3col{margin-left:16px}.sp? .l-ml4--3col{margin-left:32px}.sp? .l-ml5--3col{margin-left:64px}.sp? .l-ml6--3col{margin-left:128px}.sp? .l-ml7--3col{margin-left:256px}}@media (min-width:1280px){.sp? .l-ml0--4col{margin-left:0}.sp? .l-ml1--4col{margin-left:4px}.sp? .l-ml2--4col{margin-left:8px}.sp? .l-ml3--4col{margin-left:16px}.sp? .l-ml4--4col{margin-left:32px}.sp? .l-ml5--4col{margin-left:64px}.sp? .l-ml6--4col{margin-left:128px}.sp? .l-ml7--4col{margin-left:256px}}.sp? .l-mr0{margin-right:0}.sp? .l-mr1{margin-right:4px}.sp? .l-mr2{margin-right:8px}.sp? .l-mr3{margin-right:16px}.sp? .l-mr4{margin-right:32px}.sp? .l-mr5{margin-right:64px}.sp? .l-mr6{margin-right:128px}.sp? .l-mr7{margin-right:256px}@media (min-width:624px){.sp? .l-mr0--2col{margin-right:0}.sp? .l-mr1--2col{margin-right:4px}.sp? .l-mr2--2col{margin-right:8px}.sp? .l-mr3--2col{margin-right:16px}.sp? .l-mr4--2col{margin-right:32px}.sp? .l-mr5--2col{margin-right:64px}.sp? .l-mr6--2col{margin-right:128px}.sp? .l-mr7--2col{margin-right:256px}}@media (min-width:1072px){.sp? .l-mr0--3col{margin-right:0}.sp? .l-mr1--3col{margin-right:4px}.sp? .l-mr2--3col{margin-right:8px}.sp? .l-mr3--3col{margin-right:16px}.sp? .l-mr4--3col{margin-right:32px}.sp? .l-mr5--3col{margin-right:64px}.sp? .l-mr6--3col{margin-right:128px}.sp? .l-mr7--3col{margin-right:256px}}@media (min-width:1280px){.sp? .l-mr0--4col{margin-right:0}.sp? .l-mr1--4col{margin-right:4px}.sp? .l-mr2--4col{margin-right:8px}.sp? .l-mr3--4col{margin-right:16px}.sp? .l-mr4--4col{margin-right:32px}.sp? .l-mr5--4col{margin-right:64px}.sp? .l-mr6--4col{margin-right:128px}.sp? .l-mr7--4col{margin-right:256px}}.sp? .l-mt0{margin-top:0}.sp? .l-mt1{margin-top:4px}.sp? .l-mt2{margin-top:8px}.sp? .l-mt3{margin-top:16px}.sp? .l-mt4{margin-top:32px}.sp? .l-mt5{margin-top:64px}.sp? .l-mt6{margin-top:128px}.sp? .l-mt7{margin-top:256px}@media (min-width:624px){.sp? .l-mt0--2col{margin-top:0}.sp? .l-mt1--2col{margin-top:4px}.sp? .l-mt2--2col{margin-top:8px}.sp? .l-mt3--2col{margin-top:16px}.sp? .l-mt4--2col{margin-top:32px}.sp? .l-mt5--2col{margin-top:64px}.sp? .l-mt6--2col{margin-top:128px}.sp? .l-mt7--2col{margin-top:256px}}@media (min-width:1072px){.sp? .l-mt0--3col{margin-top:0}.sp? .l-mt1--3col{margin-top:4px}.sp? .l-mt2--3col{margin-top:8px}.sp? .l-mt3--3col{margin-top:16px}.sp? .l-mt4--3col{margin-top:32px}.sp? .l-mt5--3col{margin-top:64px}.sp? .l-mt6--3col{margin-top:128px}.sp? .l-mt7--3col{margin-top:256px}}@media (min-width:1280px){.sp? .l-mt0--4col{margin-top:0}.sp? .l-mt1--4col{margin-top:4px}.sp? .l-mt2--4col{margin-top:8px}.sp? .l-mt3--4col{margin-top:16px}.sp? .l-mt4--4col{margin-top:32px}.sp? .l-mt5--4col{margin-top:64px}.sp? .l-mt6--4col{margin-top:128px}.sp? .l-mt7--4col{margin-top:256px}}.sp? .l-mb0{margin-bottom:0}.sp? .l-mb1{margin-bottom:4px}.sp? .l-mb2{margin-bottom:8px}.sp? .l-mb3{margin-bottom:16px}.sp? .l-mb4{margin-bottom:32px}.sp? .l-mb5{margin-bottom:64px}.sp? .l-mb6{margin-bottom:128px}.sp? .l-mb7{margin-bottom:256px}@media (min-width:624px){.sp? .l-mb0--2col{margin-bottom:0}.sp? .l-mb1--2col{margin-bottom:4px}.sp? .l-mb2--2col{margin-bottom:8px}.sp? .l-mb3--2col{margin-bottom:16px}.sp? .l-mb4--2col{margin-bottom:32px}.sp? .l-mb5--2col{margin-bottom:64px}.sp? .l-mb6--2col{margin-bottom:128px}.sp? .l-mb7--2col{margin-bottom:256px}}@media (min-width:1072px){.sp? .l-mb0--3col{margin-bottom:0}.sp? .l-mb1--3col{margin-bottom:4px}.sp? .l-mb2--3col{margin-bottom:8px}.sp? .l-mb3--3col{margin-bottom:16px}.sp? .l-mb4--3col{margin-bottom:32px}.sp? .l-mb5--3col{margin-bottom:64px}.sp? .l-mb6--3col{margin-bottom:128px}.sp? .l-mb7--3col{margin-bottom:256px}}@media (min-width:1280px){.sp? .l-mb0--4col{margin-bottom:0}.sp? .l-mb1--4col{margin-bottom:4px}.sp? .l-mb2--4col{margin-bottom:8px}.sp? .l-mb3--4col{margin-bottom:16px}.sp? .l-mb4--4col{margin-bottom:32px}.sp? .l-mb5--4col{margin-bottom:64px}.sp? .l-mb6--4col{margin-bottom:128px}.sp? .l-mb7--4col{margin-bottom:256px}}.sp? .l-pa0{padding:0}.sp? .l-pa1{padding:4px}.sp? .l-pa2{padding:8px}.sp? .l-pa3{padding:16px}.sp? .l-pa4{padding:32px}.sp? .l-pa5{padding:64px}.sp? .l-pa6{padding:128px}.sp? .l-pa7{padding:256px}@media (min-width:624px){.sp? .l-pa0--2col{padding:0}.sp? .l-pa1--2col{padding:4px}.sp? .l-pa2--2col{padding:8px}.sp? .l-pa3--2col{padding:16px}.sp? .l-pa4--2col{padding:32px}.sp? .l-pa5--2col{padding:64px}.sp? .l-pa6--2col{padding:128px}.sp? .l-pa7--2col{padding:256px}}@media (min-width:1072px){.sp? .l-pa0--3col{padding:0}.sp? .l-pa1--3col{padding:4px}.sp? .l-pa2--3col{padding:8px}.sp? .l-pa3--3col{padding:16px}.sp? .l-pa4--3col{padding:32px}.sp? .l-pa5--3col{padding:64px}.sp? .l-pa6--3col{padding:128px}.sp? .l-pa7--3col{padding:256px}}@media (min-width:1280px){.sp? .l-pa0--4col{padding:0}.sp? .l-pa1--4col{padding:4px}.sp? .l-pa2--4col{padding:8px}.sp? .l-pa3--4col{padding:16px}.sp? .l-pa4--4col{padding:32px}.sp? .l-pa5--4col{padding:64px}.sp? .l-pa6--4col{padding:128px}.sp? .l-pa7--4col{padding:256px}}.sp? .l-ph0{padding-left:0;padding-right:0}.sp? .l-ph1{padding-left:4px;padding-right:4px}.sp? .l-ph2{padding-left:8px;padding-right:8px}.sp? .l-ph3{padding-left:16px;padding-right:16px}.sp? .l-ph4{padding-left:32px;padding-right:32px}.sp? .l-ph5{padding-left:64px;padding-right:64px}.sp? .l-ph6{padding-left:128px;padding-right:128px}.sp? .l-ph7{padding-left:256px;padding-right:256px}@media (min-width:624px){.sp? .l-ph0--2col{padding-left:0;padding-right:0}.sp? .l-ph1--2col{padding-left:4px;padding-right:4px}.sp? .l-ph2--2col{padding-left:8px;padding-right:8px}.sp? .l-ph3--2col{padding-left:16px;padding-right:16px}.sp? .l-ph4--2col{padding-left:32px;padding-right:32px}.sp? .l-ph5--2col{padding-left:64px;padding-right:64px}.sp? .l-ph6--2col{padding-left:128px;padding-right:128px}.sp? .l-ph7--2col{padding-left:256px;padding-right:256px}}@media (min-width:1072px){.sp? .l-ph0--3col{padding-left:0;padding-right:0}.sp? .l-ph1--3col{padding-left:4px;padding-right:4px}.sp? .l-ph2--3col{padding-left:8px;padding-right:8px}.sp? .l-ph3--3col{padding-left:16px;padding-right:16px}.sp? .l-ph4--3col{padding-left:32px;padding-right:32px}.sp? .l-ph5--3col{padding-left:64px;padding-right:64px}.sp? .l-ph6--3col{padding-left:128px;padding-right:128px}.sp? .l-ph7--3col{padding-left:256px;padding-right:256px}}@media (min-width:1280px){.sp? .l-ph0--4col{padding-left:0;padding-right:0}.sp? .l-ph1--4col{padding-left:4px;padding-right:4px}.sp? .l-ph2--4col{padding-left:8px;padding-right:8px}.sp? .l-ph3--4col{padding-left:16px;padding-right:16px}.sp? .l-ph4--4col{padding-left:32px;padding-right:32px}.sp? .l-ph5--4col{padding-left:64px;padding-right:64px}.sp? .l-ph6--4col{padding-left:128px;padding-right:128px}.sp? .l-ph7--4col{padding-left:256px;padding-right:256px}}.sp? .l-pv0{padding-top:0;padding-bottom:0}.sp? .l-pv1{padding-top:4px;padding-bottom:4px}.sp? .l-pv2{padding-top:8px;padding-bottom:8px}.sp? .l-pv3{padding-top:16px;padding-bottom:16px}.sp? .l-pv4{padding-top:32px;padding-bottom:32px}.sp? .l-pv5{padding-top:64px;padding-bottom:64px}.sp? .l-pv6{padding-top:128px;padding-bottom:128px}.sp? .l-pv7{padding-top:256px;padding-bottom:256px}@media (min-width:624px){.sp? .l-pv0--2col{padding-top:0;padding-bottom:0}.sp? .l-pv1--2col{padding-top:4px;padding-bottom:4px}.sp? .l-pv2--2col{padding-top:8px;padding-bottom:8px}.sp? .l-pv3--2col{padding-top:16px;padding-bottom:16px}.sp? .l-pv4--2col{padding-top:32px;padding-bottom:32px}.sp? .l-pv5--2col{padding-top:64px;padding-bottom:64px}.sp? .l-pv6--2col{padding-top:128px;padding-bottom:128px}.sp? .l-pv7--2col{padding-top:256px;padding-bottom:256px}}@media (min-width:1072px){.sp? .l-pv0--3col{padding-top:0;padding-bottom:0}.sp? .l-pv1--3col{padding-top:4px;padding-bottom:4px}.sp? .l-pv2--3col{padding-top:8px;padding-bottom:8px}.sp? .l-pv3--3col{padding-top:16px;padding-bottom:16px}.sp? .l-pv4--3col{padding-top:32px;padding-bottom:32px}.sp? .l-pv5--3col{padding-top:64px;padding-bottom:64px}.sp? .l-pv6--3col{padding-top:128px;padding-bottom:128px}.sp? .l-pv7--3col{padding-top:256px;padding-bottom:256px}}@media (min-width:1280px){.sp? .l-pv0--4col{padding-top:0;padding-bottom:0}.sp? .l-pv1--4col{padding-top:4px;padding-bottom:4px}.sp? .l-pv2--4col{padding-top:8px;padding-bottom:8px}.sp? .l-pv3--4col{padding-top:16px;padding-bottom:16px}.sp? .l-pv4--4col{padding-top:32px;padding-bottom:32px}.sp? .l-pv5--4col{padding-top:64px;padding-bottom:64px}.sp? .l-pv6--4col{padding-top:128px;padding-bottom:128px}.sp? .l-pv7--4col{padding-top:256px;padding-bottom:256px}}.sp? .l-pl0{padding-left:0}.sp? .l-pl1{padding-left:4px}.sp? .l-pl2{padding-left:8px}.sp? .l-pl3{padding-left:16px}.sp? .l-pl4{padding-left:32px}.sp? .l-pl5{padding-left:64px}.sp? .l-pl6{padding-left:128px}.sp? .l-pl7{padding-left:256px}@media (min-width:624px){.sp? .l-pl0--2col{padding-left:0}.sp? .l-pl1--2col{padding-left:4px}.sp? .l-pl2--2col{padding-left:8px}.sp? .l-pl3--2col{padding-left:16px}.sp? .l-pl4--2col{padding-left:32px}.sp? .l-pl5--2col{padding-left:64px}.sp? .l-pl6--2col{padding-left:128px}.sp? .l-pl7--2col{padding-left:256px}}@media (min-width:1072px){.sp? .l-pl0--3col{padding-left:0}.sp? .l-pl1--3col{padding-left:4px}.sp? .l-pl2--3col{padding-left:8px}.sp? .l-pl3--3col{padding-left:16px}.sp? .l-pl4--3col{padding-left:32px}.sp? .l-pl5--3col{padding-left:64px}.sp? .l-pl6--3col{padding-left:128px}.sp? .l-pl7--3col{padding-left:256px}}@media (min-width:1280px){.sp? .l-pl0--4col{padding-left:0}.sp? .l-pl1--4col{padding-left:4px}.sp? .l-pl2--4col{padding-left:8px}.sp? .l-pl3--4col{padding-left:16px}.sp? .l-pl4--4col{padding-left:32px}.sp? .l-pl5--4col{padding-left:64px}.sp? .l-pl6--4col{padding-left:128px}.sp? .l-pl7--4col{padding-left:256px}}.sp? .l-pr0{padding-right:0}.sp? .l-pr1{padding-right:4px}.sp? .l-pr2{padding-right:8px}.sp? .l-pr3{padding-right:16px}.sp? .l-pr4{padding-right:32px}.sp? .l-pr5{padding-right:64px}.sp? .l-pr6{padding-right:128px}.sp? .l-pr7{padding-right:256px}@media (min-width:624px){.sp? .l-pr0--2col{padding-right:0}.sp? .l-pr1--2col{padding-right:4px}.sp? .l-pr2--2col{padding-right:8px}.sp? .l-pr3--2col{padding-right:16px}.sp? .l-pr4--2col{padding-right:32px}.sp? .l-pr5--2col{padding-right:64px}.sp? .l-pr6--2col{padding-right:128px}.sp? .l-pr7--2col{padding-right:256px}}@media (min-width:1072px){.sp? .l-pr0--3col{padding-right:0}.sp? .l-pr1--3col{padding-right:4px}.sp? .l-pr2--3col{padding-right:8px}.sp? .l-pr3--3col{padding-right:16px}.sp? .l-pr4--3col{padding-right:32px}.sp? .l-pr5--3col{padding-right:64px}.sp? .l-pr6--3col{padding-right:128px}.sp? .l-pr7--3col{padding-right:256px}}@media (min-width:1280px){.sp? .l-pr0--4col{padding-right:0}.sp? .l-pr1--4col{padding-right:4px}.sp? .l-pr2--4col{padding-right:8px}.sp? .l-pr3--4col{padding-right:16px}.sp? .l-pr4--4col{padding-right:32px}.sp? .l-pr5--4col{padding-right:64px}.sp? .l-pr6--4col{padding-right:128px}.sp? .l-pr7--4col{padding-right:256px}}.sp? .l-pt0{padding-top:0}.sp? .l-pt1{padding-top:4px}.sp? .l-pt2{padding-top:8px}.sp? .l-pt3{padding-top:16px}.sp? .l-pt4{padding-top:32px}.sp? .l-pt5{padding-top:64px}.sp? .l-pt6{padding-top:128px}.sp? .l-pt7{padding-top:256px}@media (min-width:624px){.sp? .l-pt0--2col{padding-top:0}.sp? .l-pt1--2col{padding-top:4px}.sp? .l-pt2--2col{padding-top:8px}.sp? .l-pt3--2col{padding-top:16px}.sp? .l-pt4--2col{padding-top:32px}.sp? .l-pt5--2col{padding-top:64px}.sp? .l-pt6--2col{padding-top:128px}.sp? .l-pt7--2col{padding-top:256px}}@media (min-width:1072px){.sp? .l-pt0--3col{padding-top:0}.sp? .l-pt1--3col{padding-top:4px}.sp? .l-pt2--3col{padding-top:8px}.sp? .l-pt3--3col{padding-top:16px}.sp? .l-pt4--3col{padding-top:32px}.sp? .l-pt5--3col{padding-top:64px}.sp? .l-pt6--3col{padding-top:128px}.sp? .l-pt7--3col{padding-top:256px}}@media (min-width:1280px){.sp? .l-pt0--4col{padding-top:0}.sp? .l-pt1--4col{padding-top:4px}.sp? .l-pt2--4col{padding-top:8px}.sp? .l-pt3--4col{padding-top:16px}.sp? .l-pt4--4col{padding-top:32px}.sp? .l-pt5--4col{padding-top:64px}.sp? .l-pt6--4col{padding-top:128px}.sp? .l-pt7--4col{padding-top:256px}}.sp? .l-pb0{padding-bottom:0}.sp? .l-pb1{padding-bottom:4px}.sp? .l-pb2{padding-bottom:8px}.sp? .l-pb3{padding-bottom:16px}.sp? .l-pb4{padding-bottom:32px}.sp? .l-pb5{padding-bottom:64px}.sp? .l-pb6{padding-bottom:128px}.sp? .l-pb7{padding-bottom:256px}@media (min-width:624px){.sp? .l-pb0--2col{padding-bottom:0}.sp? .l-pb1--2col{padding-bottom:4px}.sp? .l-pb2--2col{padding-bottom:8px}.sp? .l-pb3--2col{padding-bottom:16px}.sp? .l-pb4--2col{padding-bottom:32px}.sp? .l-pb5--2col{padding-bottom:64px}.sp? .l-pb6--2col{padding-bottom:128px}.sp? .l-pb7--2col{padding-bottom:256px}}@media (min-width:1072px){.sp? .l-pb0--3col{padding-bottom:0}.sp? .l-pb1--3col{padding-bottom:4px}.sp? .l-pb2--3col{padding-bottom:8px}.sp? .l-pb3--3col{padding-bottom:16px}.sp? .l-pb4--3col{padding-bottom:32px}.sp? .l-pb5--3col{padding-bottom:64px}.sp? .l-pb6--3col{padding-bottom:128px}.sp? .l-pb7--3col{padding-bottom:256px}}@media (min-width:1280px){.sp? .l-pb0--4col{padding-bottom:0}.sp? .l-pb1--4col{padding-bottom:4px}.sp? .l-pb2--4col{padding-bottom:8px}.sp? .l-pb3--4col{padding-bottom:16px}.sp? .l-pb4--4col{padding-bottom:32px}.sp? .l-pb5--4col{padding-bottom:64px}.sp? .l-pb6--4col{padding-bottom:128px}.sp? .l-pb7--4col{padding-bottom:256px}}.sp? .t-bg-white{background-color:#fff}.sp? .t-bg-black{background-color:#000}.sp? .t-bg-teal-100{background-color:#b9e8ea}.sp? .t-bg-teal-300{background-color:#71dfe1}.sp? .t-bg-teal-500{background-color:#3ec9cb}.sp? .t-bg-teal-700{background-color:#24b3b5}.sp? .t-bg-grey-50{background-color:#f7f7f7}.sp? .t-bg-grey-200{background-color:#e5e5e5}.sp? .t-bg-grey-300{background-color:#a2a2a2}.sp? .t-bg-grey-500{background-color:#3a3a3a}.sp? .t-bg-component-500{background-color:#896eb3}.sp? .t-t{transition:all .2s ease}.sp? .t-o-0{opacity:0}.sp? .t-o-50{opacity:.5}.sp? .t-o-100{opacity:1}.sp? .t-ls-n{list-style:none}
</style> 
  <script type="text/javascript" src="//www.sitepoint.com/wp-content/themes/sitepoint/assets/javascripts/scripts-head-42a85c5219e5c4b733340d9ea50d7a36.js?ver=4.8.1"></script> 
  <link rel="https://api.w.org/" href="https://www.sitepoint.com/wp-json/"> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.sitepoint.com/xmlrpc.php?rsd"> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.sitepoint.com/wp-includes/wlwmanifest.xml"> 
  <meta name="generator" content="WordPress 4.8.1"> 
  <link rel="shortlink" href="https://www.sitepoint.com/?p=123197"> 
  <link rel="alternate" type="application/json+oembed" href="https://www.sitepoint.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.sitepoint.com%2Fuser-authentication-mean-stack%2F"> 
  <link rel="alternate" type="text/xml+oembed" href="https://www.sitepoint.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.sitepoint.com%2Fuser-authentication-mean-stack%2F&amp;format=xml"> 
  <script data-cfasync="false" src="//load.sumome.com/" data-sumo-platform="wordpress" data-sumo-site-id="64b8e500e3524000ecfa2000d01e2100033e83009398f000ab804c005e0e4300" async></script>
  <!-- BEGIN wp-parsely Plugin Version 1.10.2 --> 
  <meta name="wp-parsely_version" id="wp-parsely_version" content="1.10.2"> 
  <script type="application/ld+json">
   {"@context":"http:\/\/schema.org","@type":"NewsArticle","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/www.sitepoint.com\/user-authentication-mean-stack\/"},"headline":"User Authentication with the MEAN Stack","url":"http:\/\/www.sitepoint.com\/user-authentication-mean-stack\/","thumbnailUrl":"http:\/\/www.sitepoint.com\/wp-content\/uploads\/2016\/01\/1453465473CombinedScreenshots-1024x620.png","image":{"@type":"ImageObject","url":"http:\/\/www.sitepoint.com\/wp-content\/uploads\/2016\/01\/1453465473CombinedScreenshots-1024x620.png"},"dateCreated":"2016-02-01T21:00:46Z","datePublished":"2016-02-01T21:00:46Z","dateModified":"2004-02-02T01:34:47Z","articleSection":"JavaScript","author":[{"@type":"Person","name":"Simon Holmes"}],"creator":["Simon Holmes"],"publisher":{"@type":"Organization","name":"SitePoint"},"keywords":["angular","authentication","express","mongo","mongoose","nilsonj","node","node.js","passport","rest"]}   </script> 
  <!-- END wp-parsely Plugin Version 1.10.2 --> 
  <script type="text/javascript">
      googletag.cmd.push(function() {
        		googletag.defineSlot("/7448792/SP2013_Articles_300x250_1", [300,250], "div-gpt-ad-1392428092543-0").defineSizeMapping(googletag.sizeMapping().addSize([0, 0], []).addSize([768, 0], [300,250]).addSize([1024, 0], [300,250]).build()).addService(googletag.pubads());
		googletag.defineSlot("/7448792/SP2013_Articles_300x600_1", [[300, 600], [300, 250], [160, 600]], "div-gpt-ad-1392428092543-4").defineSizeMapping(googletag.sizeMapping().addSize([0, 0], []).addSize([768, 0], [[300, 600], [300, 250], [160, 600]]).addSize([1024, 0], [[300, 600], [300, 250], [160, 600]]).build()).addService(googletag.pubads());
		googletag.defineSlot("/7448792/SP_Articles_200x125_1", [200,125], "div-gpt-ad-1436815711585-0").defineSizeMapping(googletag.sizeMapping().addSize([0, 0], []).addSize([768, 0], [200,125]).addSize([1024, 0], [200,125]).build()).addService(googletag.pubads());
		googletag.defineSlot("/7448792/SP_Articles_200x125_2", [200,125], "div-gpt-ad-1436815711585-1").defineSizeMapping(googletag.sizeMapping().addSize([0, 0], []).addSize([768, 0], [200,125]).addSize([1024, 0], [200,125]).build()).addService(googletag.pubads());
		googletag.defineSlot("/7448792/SP_Articles_200x125_3", [200,125], "div-gpt-ad-1436815711585-2").defineSizeMapping(googletag.sizeMapping().addSize([0, 0], []).addSize([768, 0], [200,125]).addSize([1024, 0], [200,125]).build()).addService(googletag.pubads());
		googletag.defineSlot("/7448792/SP_Articles_200x125_4", [200,125], "div-gpt-ad-1436815711585-3").defineSizeMapping(googletag.sizeMapping().addSize([0, 0], []).addSize([768, 0], [200,125]).addSize([1024, 0], [200,125]).build()).addService(googletag.pubads());
		googletag.pubads().setTargeting("channel", "javascript");
		googletag.pubads().setTargeting("post_id", "123197");
		googletag.pubads().setTargeting("AOL",["true", "false"]);
		googletag.pubads().setTargeting("OpenX",["true", "false"]);
		googletag.pubads().setTargeting("Tribal",["true", "false"]);
		googletag.pubads().enableSingleRequest();
        googletag.pubads().setTargeting("tags", ["angular","authentication","Express","mongo","Mongoose","nilsonj","node","node.js","passport","REST"]);
        googletag.pubads().collapseEmptyDivs();
                googletag.enableServices();
      });
      SP_GPT_Slots = [];
    </script> 
  <!--[if lt IE 9]>
      <script src="/wp-content/themes/sitepoint/assets/javascripts/vendor/respond.custom.min.js"></script>
    <![endif]--> 
  <style>
  .t-color { color: #F6B33C }
  a.t-color:hover,
  button.t-color:hover { color: #FFD78F }

  .t-bg { background-color: #F6B33C }
  a.t-bg:hover,
  button.t-bg:hover { background-color: #FFD78F}

  .t-border { border-color: #F6B33C }
  a.t-border:hover,
  button.t-border:hover { border-color: #FFD78F }

  .t-bg-dark { background-color: #FFD78F }

  .t-list li:before { background-color: #F6B33C; }

  .t-p-pop-bg { background-color: #1a9b9e }
  a.t-p-pop-bg:hover,
  button.t-p-pop-bg:hover { background-color: #018285}
</style> 
 </head> 
 <body> 
  <header class="main-header u-isSingle" role="banner"> 
   <nav class=" NavBar l-p-fix l-p-sta--3col l-d-f l-w-100 t-bg-grey-500"> 
    <div class="l-d-f l-w-100 l-w-3col--3col l-w-4col--4col l-jc-sb l-mh-auto l-ph2"> 
     <section class="l-d-f l-ai-str l-jc-sta"> 
      <a tabindex="0" class="l-d-f l-ai-cen l-pa3 f-c-white t-t NavBar_item" onclick="sitepoint.SidebarNav_toggle(event)" onkeyup="sitepoint.SidebarNav_toggle(event)"> <i class="f-medium fa fa-navicon"></i> </a> 
      <div id="SidebarNav" class="SidebarNav" onkeyup="sitepoint.SidebarNav_toggle(event)"> 
       <header class="m-border-b SidebarNav_header"> 
        <a href="#" onclick="sitepoint.SidebarNav_toggle(event)" class="l-pt0 f-light"> <span class="SidebarNav_icon">×</span> </a> 
        <div class="l-d-n l-d-b--3col SidebarNav_search"> 
         <form method="get" action="https://www.sitepoint.com/"> 
          <input aria-label="search" autocomplete="off" id="sidebar-search-box" name="s" placeholder="Search" type="text"> 
          <button><i class="fa fa-search"></i></button> 
         </form> 
        </div> 
       </header> 
       <section class="m-border-b"> 
        <ul> 
         <li class="SidebarNav_link u-premium/sign-up"> <i class="SidebarNav_icon fa fa-user u-premium/sign-up"></i> <a class="f-light" href="/premium/sign-up/?ref_source=sitepoint&amp;ref_medium=drawer">Create Free Account</a> </li> 
         <li class="SidebarNav_link u-premium/sign-in"> <i class="SidebarNav_icon fa fa-sign-in u-premium/sign-in"></i> <a class="f-light" href="/premium/sign-in/?ref_source=sitepoint&amp;ref_medium=drawer">Login</a> </li> 
        </ul> 
       </section> 
       <section class="m-border-b SidebarNav_products"> 
        <ul> 
         <li class="SidebarNav_link u-premium/books"> <i class="SidebarNav_icon fa fa-book u-premium/books"></i> <a class="f-light" href="/premium/books/?ref_source=sitepoint&amp;ref_medium=drawer">Books</a> </li> 
         <li class="SidebarNav_link u-premium/courses"> <i class="SidebarNav_icon fa fa-play-circle u-premium/courses"></i> <a class="f-light" href="/premium/courses/?ref_source=sitepoint&amp;ref_medium=drawer">Courses</a> </li> 
         <li class="SidebarNav_link u-premium/paths"> <i class="SidebarNav_icon fa fa-map-marker u-premium/paths"></i> <a class="f-light" href="/premium/paths/?ref_source=sitepoint&amp;ref_medium=drawer">Paths</a> </li> 
        </ul> 
       </section> 
       <section class="m-border-b SidebarNav_topics"> 
        <ul> 
         <li class="SidebarNav_link SidebarNav_channelLink u-html-css"> <i class="SidebarNav_icon fa fa-circle u-html-css"></i> <a class="f-light" href="https://www.sitepoint.com/html-css/?ref_source=sitepoint&amp;ref_medium=drawer" data-channel="html-css">HTML &amp; CSS</a> </li> 
         <li class="SidebarNav_link SidebarNav_channelLink u-javascript u-active"> <i class="SidebarNav_icon fa fa-circle u-javascript"></i> <a class="f-light" href="https://www.sitepoint.com/javascript/?ref_source=sitepoint&amp;ref_medium=drawer" data-channel="javascript">JavaScript</a> </li> 
         <li class="SidebarNav_link SidebarNav_channelLink u-php"> <i class="SidebarNav_icon fa fa-circle u-php"></i> <a class="f-light" href="https://www.sitepoint.com/php/?ref_source=sitepoint&amp;ref_medium=drawer" data-channel="php">PHP</a> </li> 
         <li class="SidebarNav_link SidebarNav_channelLink u-design-ux"> <i class="SidebarNav_icon fa fa-circle u-design-ux"></i> <a class="f-light" href="https://www.sitepoint.com/design-ux/?ref_source=sitepoint&amp;ref_medium=drawer" data-channel="design-ux">Design &amp; UX</a> </li> 
         <li class="SidebarNav_link SidebarNav_channelLink u-web"> <i class="SidebarNav_icon fa fa-circle u-web"></i> <a class="f-light" href="https://www.sitepoint.com/web/?ref_source=sitepoint&amp;ref_medium=drawer" data-channel="web">Web</a> </li> 
         <li class="SidebarNav_link SidebarNav_channelLink u-wordpress"> <i class="SidebarNav_icon fa fa-circle u-wordpress"></i> <a class="f-light" href="https://www.sitepoint.com/wordpress/?ref_source=sitepoint&amp;ref_medium=drawer" data-channel="wordpress">WordPress</a> </li> 
         <li class="SidebarNav_link SidebarNav_channelLink u-woorank"> <i class="SidebarNav_icon fa fa-circle u-woorank"></i> <a class="f-light" href="https://www.sitepoint.com/woorank/?ref_source=sitepoint&amp;ref_medium=drawer" data-channel="woorank">SEO By WooRank</a> </li> 
        </ul> 
       </section> 
       <section class="m-border-b"> 
        <ul> 
         <li class="SidebarNav_link u-community"> <i class="SidebarNav_icon fa fa-comment u-community"></i> <a class="f-light" href="/community/?ref_source=sitepoint&amp;ref_medium=drawer">Community</a> </li> 
         <li class="SidebarNav_link u-newsletter"> <i class="SidebarNav_icon fa fa-envelope u-newsletter"></i> <a class="f-light" href="/newsletter/?ref_source=sitepoint&amp;ref_medium=drawer">Newsletters</a> </li> 
        </ul> 
       </section> 
       <section class="m-border-b SidebarNav_admin"> 
        <ul> 
         <li class="SidebarNav_link u-advertise"> <a class="f-light" href="/advertise/?ref_source=sitepoint&amp;ref_medium=drawer">Advertise</a> </li> 
         <li class="SidebarNav_link u-contact-us"> <a class="f-light" href="/contact-us/?ref_source=sitepoint&amp;ref_medium=drawer">Contact Us</a> </li> 
         <zendesk /> 
        </ul> 
       </section> 
       <section class="SidebarNav_social"> 
        <ul> 
         <li class="SidebarNav_socialLink"> <a class="f-light" href="/newsletter/"> <i class="fa fa-envelope SidebarNav_socialIcon u-newsletter"></i> <span class="SidebarNav_socialCount">1.2M<br>Subscribers</span> </a> </li> 
         <li class="SidebarNav_socialLink"> <a class="f-light" href="https://twitter.com/sitepointdotcom" rel="noopener" target="_blank"> <i class="fa fa-twitter SidebarNav_socialIcon u-twitter"></i> <span class="SidebarNav_socialCount">136k<br>Followers</span> </a> </li> 
         <li class="SidebarNav_socialLink"> <a class="f-light" href="https://facebook.com/sitepoint" rel="noopener" target="_blank"> <i class="fa fa-facebook SidebarNav_socialIcon u-facebook"></i> <span class="SidebarNav_socialCount">100k<br>Followers</span> </a> </li> 
        </ul> 
       </section> 
      </div> 
      <div class="SidebarNav_lightbox" onclick="sitepoint.SidebarNav_toggle(event)"></div> 
      <a class="l-d-f" href="/"> 
       <div class="l-d-n l-d-f--3col l-as-cen"> 
        <svg class="sp-logo" viewbox="0 0 123 27"> 
         <g fill-rule="evenodd"> 
          <path d="M31.36,16.75 C31.56,17.07 31.82,17.31 32.14,17.50 C32.46,17.68 32.82,17.82 33.23,17.89 C33.63,17.97 34.05,18.01 34.48,18.01 C34.81,18.01 35.16,17.99 35.52,17.94 C35.89,17.89 36.22,17.81 36.53,17.68 C36.83,17.55 37.08,17.36 37.28,17.11 C37.48,16.87 37.58,16.55 37.58,16.17 C37.58,15.64 37.37,15.24 36.96,14.97 C36.55,14.69 36.03,14.47 35.41,14.31 C34.79,14.14 34.12,13.99 33.39,13.85 C32.66,13.71 31.99,13.52 31.37,13.27 C30.75,13.03 30.23,12.68 29.82,12.23 C29.41,11.78 29.20,11.16 29.20,10.36 C29.20,9.73 29.34,9.20 29.63,8.75 C29.92,8.30 30.30,7.94 30.75,7.66 C31.20,7.38 31.72,7.17 32.29,7.03 C32.86,6.90 33.42,6.83 33.99,6.83 C34.71,6.83 35.38,6.89 35.99,7.01 C36.61,7.13 37.15,7.34 37.62,7.63 C38.09,7.93 38.46,8.33 38.75,8.83 C39.03,9.34 39.19,9.96 39.24,10.72 L37.13,10.72 C37.10,10.32 36.99,9.98 36.81,9.72 C36.63,9.46 36.40,9.25 36.12,9.08 C35.84,8.92 35.53,8.81 35.19,8.74 C34.85,8.66 34.51,8.63 34.16,8.63 C33.84,8.63 33.53,8.65 33.20,8.70 C32.88,8.75 32.59,8.83 32.32,8.95 C32.06,9.07 31.84,9.23 31.68,9.43 C31.51,9.63 31.43,9.89 31.43,10.21 C31.43,10.56 31.56,10.86 31.82,11.09 C32.07,11.32 32.40,11.51 32.80,11.66 C33.19,11.82 33.64,11.95 34.13,12.05 C34.63,12.15 35.13,12.26 35.62,12.37 C36.15,12.49 36.67,12.62 37.17,12.78 C37.67,12.94 38.12,13.15 38.51,13.42 C38.90,13.68 39.21,14.01 39.45,14.41 C39.69,14.81 39.81,15.31 39.81,15.90 C39.81,16.66 39.65,17.28 39.33,17.77 C39.01,18.27 38.58,18.67 38.06,18.98 C37.54,19.28 36.96,19.49 36.30,19.61 C35.65,19.73 35.00,19.79 34.36,19.79 C33.65,19.79 32.97,19.72 32.32,19.58 C31.68,19.43 31.11,19.20 30.61,18.87 C30.12,18.54 29.72,18.11 29.42,17.57 C29.13,17.03 28.96,16.38 28.93,15.61 L31.03,15.61 C31.05,16.06 31.16,16.44 31.36,16.75" id="Fill-1"></path> 
          <path d="M42.27,7.12 L44.37,7.12 L44.37,19.53 L42.27,19.53 L42.27,7.12 Z" id="Fill-2"></path> 
          <path d="M53.13,7.12 L53.13,8.92 L50.57,8.92 L50.57,16.62 C50.57,16.86 50.59,17.05 50.63,17.20 C50.67,17.34 50.75,17.46 50.87,17.54 C50.99,17.62 51.15,17.67 51.35,17.69 C51.56,17.71 51.83,17.73 52.16,17.73 L53.13,17.73 L53.13,19.53 L51.51,19.53 C50.97,19.53 50.50,19.49 50.11,19.42 C49.72,19.35 49.41,19.22 49.17,19.02 C48.93,18.83 48.75,18.56 48.64,18.21 C48.52,17.86 48.46,17.39 48.46,16.81 L48.46,8.92 L46.28,8.92 L46.28,7.12 L48.46,7.12 L48.46,3.39 L50.57,3.39 L50.57,7.12 L53.13,7.12" id="Fill-3"></path> 
          <path d="M64.53,18.73 C63.57,19.44 62.36,19.79 60.91,19.79 C59.89,19.79 59.00,19.63 58.25,19.31 C57.49,18.99 56.86,18.54 56.35,17.97 C55.84,17.39 55.45,16.70 55.20,15.90 C54.94,15.10 54.80,14.23 54.76,13.29 C54.76,12.34 54.91,11.48 55.21,10.69 C55.51,9.91 55.92,9.23 56.46,8.65 C57.00,8.08 57.63,7.63 58.37,7.31 C59.11,6.99 59.91,6.83 60.79,6.83 C61.93,6.83 62.87,7.05 63.63,7.51 C64.38,7.97 64.98,8.55 65.44,9.25 C65.89,9.96 66.20,10.73 66.38,11.56 C66.55,12.39 66.62,13.18 66.59,13.93 L56.99,13.93 C56.98,14.48 57.04,14.99 57.19,15.48 C57.34,15.97 57.58,16.40 57.91,16.78 C58.24,17.16 58.66,17.46 59.18,17.68 C59.69,17.90 60.29,18.01 60.98,18.01 C61.88,18.01 62.61,17.82 63.18,17.41 C63.75,17.02 64.13,16.41 64.31,15.59 L66.39,15.59 C66.11,16.98 65.49,18.03 64.53,18.73 L64.53,18.73 Z M64.02,10.76 C63.83,10.33 63.58,9.96 63.25,9.65 C62.93,9.34 62.55,9.09 62.11,8.90 C61.68,8.72 61.19,8.63 60.66,8.63 C60.12,8.63 59.62,8.72 59.19,8.90 C58.75,9.09 58.37,9.34 58.06,9.66 C57.75,9.98 57.50,10.35 57.32,10.78 C57.13,11.20 57.03,11.65 56.99,12.13 L64.36,12.13 C64.32,11.65 64.21,11.20 64.02,10.76 L64.02,10.76 Z" id="Fill-4"></path> 
          <path d="M70.95,7.12 L70.95,8.80 L71.00,8.80 C71.35,8.11 71.89,7.61 72.64,7.30 C73.38,6.98 74.20,6.83 75.09,6.83 C76.09,6.83 76.95,7.00 77.68,7.36 C78.42,7.71 79.03,8.18 79.52,8.78 C80.01,9.38 80.37,10.08 80.62,10.86 C80.87,11.65 80.99,12.48 80.99,13.36 C80.99,14.24 80.87,15.07 80.63,15.85 C80.39,16.64 80.03,17.32 79.54,17.91 C79.06,18.49 78.44,18.95 77.71,19.29 C76.97,19.62 76.12,19.79 75.14,19.79 C74.83,19.79 74.48,19.76 74.09,19.70 C73.70,19.63 73.32,19.53 72.94,19.38 C72.56,19.24 72.20,19.04 71.86,18.79 C71.52,18.55 71.23,18.24 71.00,17.87 L70.95,17.87 L70.95,24.26 L68.84,24.26 L68.84,7.12 L70.95,7.12 L70.95,7.12 Z M78.53,11.52 C78.37,10.97 78.13,10.48 77.81,10.04 C77.49,9.61 77.07,9.27 76.57,9.01 C76.06,8.76 75.47,8.63 74.79,8.63 C74.08,8.63 73.48,8.76 72.98,9.04 C72.49,9.31 72.08,9.67 71.77,10.10 C71.46,10.55 71.23,11.05 71.09,11.60 C70.95,12.17 70.88,12.73 70.88,13.31 C70.88,13.92 70.95,14.51 71.10,15.07 C71.25,15.64 71.48,16.14 71.81,16.57 C72.13,17.01 72.55,17.35 73.06,17.62 C73.57,17.88 74.19,18.01 74.92,18.01 C75.65,18.01 76.25,17.88 76.74,17.61 C77.23,17.34 77.62,16.98 77.92,16.53 C78.22,16.08 78.43,15.57 78.56,14.99 C78.70,14.41 78.76,13.82 78.76,13.21 C78.76,12.64 78.68,12.07 78.53,11.52 L78.53,11.52 Z" id="Fill-5"></path> 
          <path d="M83.17,10.78 C83.44,9.98 83.84,9.30 84.36,8.71 C84.89,8.13 85.55,7.67 86.33,7.33 C87.10,7.00 87.99,6.83 89.00,6.83 C90.03,6.83 90.92,7.00 91.69,7.33 C92.46,7.67 93.11,8.13 93.64,8.71 C94.17,9.30 94.56,9.98 94.83,10.78 C95.09,11.57 95.23,12.42 95.23,13.33 C95.23,14.25 95.09,15.09 94.83,15.88 C94.56,16.66 94.17,17.35 93.64,17.93 C93.11,18.52 92.46,18.97 91.69,19.30 C90.92,19.63 90.03,19.79 89.00,19.79 C87.99,19.79 87.10,19.63 86.33,19.30 C85.55,18.97 84.89,18.52 84.36,17.93 C83.84,17.35 83.44,16.66 83.17,15.88 C82.91,15.09 82.78,14.25 82.78,13.33 C82.78,12.42 82.91,11.57 83.17,10.78 L83.17,10.78 Z M85.32,15.34 C85.53,15.92 85.81,16.41 86.18,16.80 C86.54,17.19 86.96,17.49 87.45,17.70 C87.94,17.91 88.46,18.01 89.00,18.01 C89.55,18.01 90.06,17.91 90.55,17.70 C91.04,17.49 91.46,17.19 91.83,16.80 C92.19,16.41 92.48,15.92 92.68,15.34 C92.89,14.75 92.99,14.09 92.99,13.33 C92.99,12.58 92.89,11.91 92.68,11.33 C92.48,10.75 92.19,10.25 91.83,9.85 C91.46,9.45 91.04,9.15 90.55,8.94 C90.06,8.73 89.55,8.63 89.00,8.63 C88.46,8.63 87.94,8.73 87.45,8.94 C86.96,9.15 86.54,9.45 86.18,9.85 C85.81,10.25 85.53,10.75 85.32,11.33 C85.11,11.91 85.01,12.58 85.01,13.33 C85.01,14.09 85.11,14.75 85.32,15.34 L85.32,15.34 Z" id="Fill-6"></path> 
          <path d="M97.83,7.12 L99.94,7.12 L99.94,19.53 L97.83,19.53 L97.83,7.12 Z" id="Fill-7"></path> 
          <path d="M105.19,7.12 L105.19,9.08 L105.24,9.08 C106.12,7.58 107.51,6.83 109.41,6.83 C110.25,6.83 110.95,6.94 111.51,7.16 C112.08,7.39 112.53,7.70 112.88,8.10 C113.23,8.50 113.47,8.98 113.61,9.53 C113.75,10.08 113.82,10.69 113.82,11.36 L113.82,19.53 L111.71,19.53 L111.71,11.12 C111.71,10.36 111.48,9.75 111.02,9.30 C110.56,8.85 109.92,8.63 109.11,8.63 C108.46,8.63 107.91,8.72 107.43,8.92 C106.96,9.11 106.57,9.38 106.26,9.73 C105.94,10.08 105.71,10.50 105.55,10.97 C105.39,11.44 105.32,11.96 105.32,12.52 L105.32,19.53 L103.21,19.53 L103.21,7.12 L105.19,7.12" id="Fill-8"></path> 
          <path d="M122.47,7.12 L122.47,8.92 L119.92,8.92 L119.92,16.62 C119.92,16.86 119.94,17.05 119.98,17.20 C120.02,17.34 120.10,17.46 120.22,17.54 C120.33,17.62 120.49,17.67 120.70,17.69 C120.91,17.71 121.18,17.73 121.50,17.73 L122.47,17.73 L122.47,19.53 L120.86,19.53 C120.32,19.53 119.85,19.49 119.46,19.42 C119.07,19.35 118.76,19.22 118.52,19.02 C118.28,18.83 118.10,18.56 117.99,18.21 C117.87,17.86 117.81,17.39 117.81,16.81 L117.81,8.92 L115.63,8.92 L115.63,7.12 L117.81,7.12 L117.81,3.39 L119.92,3.39 L119.92,7.12 L122.47,7.12" id="Fill-9"></path> 
          <path d="M0.67,11.87 L2.62,13.76 L8.76,19.50 L11.41,16.94 C11.65,16.61 11.64,16.16 11.36,15.84 L8.94,13.72 L8.95,13.72 L6.34,11.19 C6.04,10.84 6.04,10.32 6.37,9.99 L13.38,3.21 L10.20,0.12 L0.68,9.31 C-0.05,10.02 -0.05,11.17 0.67,11.87" id="Fill-10"></path> 
          <path d="M21.60,15.15 L19.66,13.27 L13.51,7.53 L10.86,10.08 C10.62,10.42 10.64,10.87 10.91,11.19 L13.33,13.31 L13.33,13.31 L15.93,15.84 C16.24,16.19 16.23,16.70 15.91,17.04 L8.89,23.82 L12.08,26.91 L19.65,19.60 L21.60,17.71 C22.33,17.01 22.33,15.86 21.60,15.15" id="Fill-11"></path> 
          <path d="M44.55,4.58 C44.55,5.24 44.00,5.77 43.32,5.77 C42.64,5.77 42.09,5.24 42.09,4.58 C42.09,3.93 42.64,3.39 43.32,3.39 C44.00,3.39 44.55,3.93 44.55,4.58" id="Fill-12"></path> 
          <path d="M100.11,4.58 C100.11,5.24 99.56,5.77 98.88,5.77 C98.20,5.77 97.65,5.24 97.65,4.58 C97.65,3.93 98.20,3.39 98.88,3.39 C99.56,3.39 100.11,3.93 100.11,4.58" id="Fill-13"></path> 
         </g> 
        </svg> 
       </div> 
       <div class="l-d-f l-d-n--3col l-as-cen"> 
        <svg width="22px" height="27px" viewbox="0 0 22 27"> 
         <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> 
          <g transform="translate(-52.00, -407.00)" fill="#FFFFFF"> 
           <g transform="translate(52.00, 407.00)"> 
            <path d="M0.54,11.75 L2.49,13.64 L8.63,19.38 L11.28,16.82 C11.52,16.49 11.51,16.04 11.23,15.72 L8.81,13.60 L8.82,13.60 L6.21,11.07 C5.91,10.72 5.91,10.20 6.24,9.87 L13.25,3.09 L10.06,0 L0.54,9.19 C-0.18,9.90 -0.18,11.05 0.54,11.75"></path> 
            <path d="M20.71,14.62 L18.76,12.74 L12.62,7 L9.97,9.55 C9.73,9.89 9.74,10.34 10.02,10.65 L12.44,12.78 L12.43,12.78 L15.04,15.31 C15.34,15.66 15.33,16.17 15.01,16.51 L8,23.29 L11.18,26.38 L18.75,19.06 L20.70,17.18 C21.43,16.48 21.44,15.33 20.71,14.62"></path> 
           </g> 
          </g> 
         </g> 
        </svg> 
       </div> </a> 
     </section> 
     <section class="l-d-f l-w-100 l-ai-str l-jc-fe"> 
      <a class="l-d-n l-d-f--3col l-ai-cen l-ml3 l-ml4--4col l-pa2 f-small f-light f-c-white NavBar_item" href="/premium"><i class="l-mr2 f-medium fa fa-book"></i>Books &amp; Courses</a> 
      <div class="l-d-f">
       <a href="/premium/sign-in" class="Button u-small u-outline u-white l-as-cen l-ml3 l-d-n l-d-b--2col" style="border-width: 1px;">Login</a>
       <a href="/premium/l/monthly-membership?ref_source=sitepoint&amp;ref_medium=topnav" class="Button u-small l-as-cen l-ml3 l-d-n l-d-b--2col">Sign Up</a>
      </div> 
     </section> 
    </div> 
   </nav> 
   <div class="l-d-n--3col NavBar_offsetSpacer"></div> 
   <div class="widget maestro maestro-content-type-html " id="maestro-646">
    <sp-fixed-countdown-bar button_text="Get All Our Books and Courses For $5" button_url="/premium/l/monthly-membership?ref_source=sitepoint&amp;ref_medium=noticebar" buttonclass="u-red u-white" end="2017-09-14 11:54:00 +1000" end_message="Get in quick, we can't let this offer run forever!" landingpageclass="v3 l-ph3" ga_event_label="646"></sp-fixed-countdown-bar>
    <script>ga('SitePointPlugin:observeImpressions', 'maestro-646')</script>
   </div> 
  </header> 
  <div class="widget maestro maestro-content-type-html hide-for-mobile-SP" id="maestro-610">
   <!-- BuySellAds PRO Zone Code (Pushdown Cookie Ad) --> 
   <div id="bsap_2431" class="bsaPROrocks" data-serve="CVAI5K3N"></div> 
   <!-- End BuySellAds PRO Zone Code -->
   <script>ga('SitePointPlugin:observeImpressions', 'maestro-610')</script>
  </div>
  <div class="l-p-rel t-bg-white" role="main"> 
   <div class="l-p-rel l-w-100 l-mh-auto Article_overflow"> 
    <div class="l-w-100 t-bg"> 
     <div class="l-w-4col--4col l-mh3 l-mh-auto--3col"> 
      <div class="f-medium f-c-grey-200 l-pt3"> 
       <a href="https://www.sitepoint.com/javascript/" class="f-c-grey-200 f-bold l-pa2 l-d-if l-ai-cen">JavaScript</a> 
       <span>-</span> 
       <time class="l-d-ib l-pa2" datetime="2016-02-01" pubdate>February 01, 2016</time> 
       <span>-</span> 
       <span class="l-d-ib l-pa2">By <a href="https://www.sitepoint.com/author/sholmes/" class="f-c-grey-200"> Simon Holmes </a> </span> 
      </div> 
      <div class="l-d-f l-fd-col l-fd-row--3col l-jc-sb"> 
       <h1 class="f-lh-title f-larger l-mb4 f-c-white f-xxlarge--2col"> <span class="f-c-white l-mr3">User Authentication with the MEAN Stack</span> </h1> 
       <div class="l-w-1col--3col l-as-cen l-fs0 l-d-n l-d-b--2col l-ml3"> 
        <div class="f-c-white f-small f-bold l-w-100 l-mb3">
         Related Topics:
        </div> 
        <div class="l-d-f l-fw-w"> 
         <a class="f-c-white" href="https://www.sitepoint.com/javascript/apis-javascript/">
          <div class="ArticleTags l-mr2 f-smaller l-d-f l-jc-cen l-ai-cen l-mb3">
           APIs
          </div></a>
         <a class="f-c-white" href="https://www.sitepoint.com/javascript/raw-javascript/">
          <div class="ArticleTags l-mr2 f-smaller l-d-f l-jc-cen l-ai-cen l-mb3">
           Raw JavaScript
          </div></a>
         <a class="f-c-white" href="https://www.sitepoint.com/javascript/ajax-javascript/">
          <div class="ArticleTags l-mr2 f-smaller l-d-f l-jc-cen l-ai-cen l-mb3">
           Ajax
          </div></a>
         <a class="f-c-white" href="https://www.sitepoint.com/javascript/jquery/">
          <div class="ArticleTags l-mr2 f-smaller l-d-f l-jc-cen l-ai-cen l-mb3">
           jQuery
          </div></a>
         <a class="f-c-white" href="https://www.sitepoint.com/javascript/nodejs-javascript/">
          <div class="ArticleTags l-mr2 f-smaller l-d-f l-jc-cen l-ai-cen l-mb3">
           Node.js
          </div></a>
         <a class="f-c-white" href="https://www.sitepoint.com/javascript/">
          <div class="ArticleTags l-mr2 f-smaller l-d-f l-jc-cen l-ai-cen l-mb3">
           More...
          </div></a> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
    <div class="l-d-f l-jc-sb l-w-4col--4col l-mh-auto" data-hellobar="content"> 
     <div class="l-w-100 l-w-2col-i--2col l-fg1 l-mh3--2col l-mh0--4col"> 
      <div class="l-mb4 l-pa3 l-pt0"> 
       <div class="l-d-f l-jc-cen f-center l-mh-auto l-o-h l-mt3"> 
       </div> 
       <div class="ArticleCopy language-javascript"> 
        <div class="l-mt3 l-mh5--2col"> 
         <p>In this article we’re going to look at managing user authentication in the MEAN stack. We’ll use the most common MEAN architecture of having an Angular single page app using a REST API built with Node, Express and MongoDB.</p> 
         <p>When thinking about user authentication, we need to tackle the following things:</p> 
         <ol> 
          <li>Let a user register</li> 
          <li>Save their data, but never directly store their password</li> 
          <li>Let a returning user log in</li> 
          <li>Keep a logged in user’s session alive between page visits</li> 
          <li>Have some pages that can only been seen by logged in users</li> 
          <li>Change output to the screen depending on logged in status (e.g. a “login” button or a “my profile” button)</li> 
         </ol> 
         <p>Before we dive into the code, let’s take a few minutes for a high level look at how authentication is going to work in the MEAN stack.</p> 
         <h2 id="the-mean-stack-authentication-flow">The MEAN Stack Authentication Flow</h2> 
         <p>So what does authentication look like in the MEAN stack?</p> 
         <p>Still keeping this at a high level, these are the components of the flow:</p> 
         <ul> 
          <li>User data is stored in MongoDB, with the passwords hashed</li> 
          <li>CRUD functions are built in an Express API – Create (register), Read (login, get profile), Update, Delete</li> 
          <li>An Angular application calls the API and deals with the responses</li> 
          <li>The Express API generates a JSON Web Token (JWT, pronounced “Jot”) upon registration or login, and passes this to the Angular application</li> 
          <li>The Angular application stores the JWT in order to maintain the user’s session</li> 
          <li>The Angular application checks the validity of the JWT when displaying protected views</li> 
          <li>The Angular application passes the JWT back to Express when calling protected API routes</li> 
         </ul> 
         <p>JWTs are preferred over cookies for maintaining the session state in the browser; cookies are better for maintaining state when using a server-side application.</p> 
         <h2 id="the-example-application">The Example Application</h2> 
         <p>The code for this article is available on <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication">GitHub</a>. To run the application, you will need to have <a href="http://www.sitepoint.com/beginners-guide-node-package-manager/">Node.js installed</a>, along with MongoDB (For instructions on how to install, please refer to <a href="https://docs.mongodb.org/manual/administration/install-community/">Mongo’s official documentation — Windows, Linux, MacOS</a>).</p> 
         <h3 id="the-angular-app">The Angular App</h3> 
         <p>To keep the example in this article simple, we’ll start with an Angular SPA with four pages:</p> 
         <ol> 
          <li>Homepage</li> 
          <li>Register page</li> 
          <li>Login page</li> 
          <li>Profile page</li> 
         </ol> 
         <p>The pages are pretty basic and look like this to start with:</p> 
         <p><img src="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453465473CombinedScreenshots-1024x620.png" alt="Screenshots of the app" width="1024" height="620" class="alignnone size-large wp-image-123203"></p> 
         <p>The profile page will only be accessible to authenticated users. All of the files for the Angular app are in a folder inside the Express app called <code>app_client</code>, and is arranged like this:</p> 
         <p><img src="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453465446AngularAppStructure-422x1024.png" alt="Screenshot of app_client folder structure" width="422" height="1024" class="alignnone size-large wp-image-123201"></p> 
         <p>There is a Gulp process to concatenate all of the JavaScript files into <code>app.min.js</code>.</p> 
         <h3 id="the-rest-api">The REST API</h3> 
         <p>We’ll also start off with the skeleton of a REST API built with Node, Express and MongoDB, using <a href="http://mongoosejs.com/">Mongoose</a> to manage the schemas. This API has three routes:</p> 
         <ol> 
          <li><code>/api/register</code> (POST) – to handle new users registering</li> 
          <li><code>/api/login</code> (POST) – to handle returning users logging in</li> 
          <li><code>/api/profile/USERID</code> (GET) – to return profile details when given a <code>USERID</code></li> 
         </ol> 
         <p>The code for the API is all held in another folder inside the Express app, called <code>app_api</code>. This holds the routes, controllers and model, and is organized like this:</p> 
         <p><img src="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453465452APIFolderStructure-220x300.png" alt="Screenshot of app_api folder structure" width="220" height="300" class="alignnone size-medium wp-image-123202"></p> 
         <p>At this starting point each of the controllers simply responds with a confirmation, like this:</p> 
         <pre><code>module.exports.register = function(req, res) {
  console.log("Registering user: " + req.body.email);
  res.status(200);
  res.json({
    "message" : "User registered: " + req.body.email
  });
};
</code></pre> 
         <p>Okay, let’s get on with the code, starting with the database.</p> 
         <h2 id="creating-the-mongodb-data-schema-with-mongoose">Creating the MongoDB Data Schema with Mongoose</h2> 
         <p>There’s a simple user schema defined in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_api/models/users.js"><code>/app_api/models/users.js</code></a>. It defines the need for an email address, a name, a hash and a salt – the hash and salt will be used instead of saving a password. The <code>email</code> is set to unique as we’ll use it for the login credentials. Here’s the schema.</p> 
         <pre><code>var userSchema = new mongoose.Schema({
  email: {
    type: String,
    unique: true,
    required: true
  },
  name: {
    type: String,
    required: true
  },
  hash: String,
  salt: String
});
</code></pre> 
         <h3 id="managing-the-password-without-saving-it">Managing the Password without Saving It</h3> 
         <p>Saving user passwords is a big no-no. Should a hacker get a copy of your database you want to make sure that they can’t use it to log in to accounts. This is where the hash and salt come in.</p> 
         <p>The salt is a string of characters unique to each user. The hash is created by combining the password provided by the user and the salt, and then applying one-way encryption. As the hash cannot be decrypted, the only way to authenticate a user is to take the password, combine it with the salt and encrypt it again. If the output of this matches the hash, then the password must have been correct.</p> 
         <p>To do the setting and the checking of the password we can use Mongoose schema methods – these are essentially functions that you add to the schema. These will both make use of the Node.js <a href="https://nodejs.org/api/crypto.html"><code>crypto</code></a> module.</p> 
         <p>At the top of the <code>users.js</code> model file, require crypto so that we can use it:</p> 
         <pre><code>var crypto = require('crypto');
</code></pre> 
         <p>Nothing needs installing as crypto ships as part of Node. Crypto itself has several methods; we’re interested in <code>randomBytes</code> to create the random salt and <code>pbkdf2Sync</code> to create the hash (there’s much more about Crypto in the <a href="https://nodejs.org/api/crypto.html">Node.js API docs</a>).</p> 
         <h4 id="setting-the-password">Setting the Password</h4> 
         <p>To save the reference to the password we can create a new method called <code>setPassword</code> on the <code>userSchema</code> schema that accepts a password parameter. The method will then use <code>crypto.randomBytes</code> to set the salt, and <code>crypto.pbkdf2Sync</code> to set the hash.</p> 
         <pre><code>userSchema.methods.setPassword = function(password){
  this.salt = crypto.randomBytes(16).toString('hex');
  this.hash = crypto.pbkdf2Sync(password, this.salt, 1000, 64).toString('hex');
};
</code></pre> 
         <p>We’ll use this method when creating a user; instead of saving the password to a <code>password</code> path we will be able to pass it to the <code>setPassword</code> function to set the <code>salt</code> and <code>hash</code> paths in the user document.</p> 
         <h4 id="checking-the-password">Checking the Password</h4> 
         <p>Checking the password is a similar process, but we already have the salt from the Mongoose model. This time we just want to encrypt the salt and the password and see if the output matches the stored hash.</p> 
         <p>Add another new method to the <code>users.js</code> model file, called <code>validPassword</code>.</p> 
         <pre><code>userSchema.methods.validPassword = function(password) {
  var hash = crypto.pbkdf2Sync(password, this.salt, 1000, 64).toString('hex');
  return this.hash === hash;
};
</code></pre> 
         <h3 id="generating-a-json-web-token-jwt">Generating a JSON Web Token (JWT)</h3> 
         <p>One more thing that the Mongoose model needs to be able to do is generate a <a href="http://www.sitepoint.com/using-json-web-tokens-node-js/">JWT</a>, so that the API can send it out as a response. A Mongoose method is ideal here too, as it means we can keep the code in one place and call it whenever needed – we’ll need to call it when a user registers and when a user logs in.</p> 
         <p>To create the JWT we’ll use a module called <a href="https://www.npmjs.com/package/jsonwebtoken"><code>jsonwebtoken</code></a> which needs to be installed in the application, so run this on the command line:</p> 
         <pre><code class="language-bash">npm install jsonwebtoken --save
</code></pre> 
         <p>And then require this in the <code>users.js</code> model file:</p> 
         <pre><code>var jwt = require('jsonwebtoken');
</code></pre> 
         <p>This module exposes a <code>sign</code> method that we can use to create a JWT, simply passing it the data we want to include in the token, plus a secret that the hashing algorithm will use. The data should be sent as a JavaScript object, and include an expiry date in an <code>exp</code> property.</p> 
         <p>Adding a <code>generateJwt</code> method to <code>userSchema</code> in order to return a JWT looks like this:</p> 
         <pre><code>userSchema.methods.generateJwt = function() {
  var expiry = new Date();
  expiry.setDate(expiry.getDate() + 7);

  return jwt.sign({
    _id: this._id,
    email: this.email,
    name: this.name,
    exp: parseInt(expiry.getTime() / 1000),
  }, "MY_SECRET"); // DO NOT KEEP YOUR SECRET IN THE CODE!
};
</code></pre> 
         <p><strong>Note:</strong> It is important that your secret is kept safe – only the originating server should know what it is. It is best practice to set the secret as an environment variable, and not have it in the source code, especially if your code is stored in version control somewhere.</p> 
         <p>That’s everything we need to do with the database.</p> 
         <h2 id="setup-passport-to-handle-the-express-authentication">Setup Passport to Handle the Express Authentication</h2> 
         <p>Passport is a Node module that simplifies the process of handling authentication in Express. It provides a common gateway to work with many different authentication “strategies”, such as logging in with Facebook, Twitter or Oauth. The strategy we’ll use is called “local”, as it uses a username and password stored locally.</p> 
         <p>To use Passport, first install it and the strategy, saving them in <code>package.json</code>.</p> 
         <pre><code class="language-bash">npm install passport --save
npm install passport-local --save
</code></pre> 
         <h3 id="configure-passport">Configure Passport</h3> 
         <p>Inside the <code>app_api</code> folder create a new folder <code>config</code> and create a file in there called <code>passport.js</code>. This is where we define the strategy.</p> 
         <p>Before defining the strategy this file needs to require Passport, the strategy, Mongoose and the <code>User</code> model.</p> 
         <pre><code>var passport = require('passport');
var LocalStrategy = require('passport-local').Strategy;
var mongoose = require('mongoose');
var User = mongoose.model('User');
</code></pre> 
         <p>For a local strategy we essentially just need to write a Mongoose query on the <code>User</code> model. This query should find a user with the email address specified, and then call the <code>validPassword</code> method to see if the hashes match. Pretty simple.</p> 
         <p>There’s just one curiosity of Passport to deal with. Internally the local strategy for Passport expects two pieces of data called <code>username</code> and <code>password</code>. However we’re using <code>email</code> as our unique identifier, not <code>username</code>. This can be configured in an options object with a <code>usernameField</code> property in the strategy definition. After that, it’s over to the Mongoose query.</p> 
         <p>So all in, the strategy definition will look lke this:</p> 
         <pre><code>passport.use(new LocalStrategy({
    usernameField: 'email'
  },
  function(username, password, done) {
    User.findOne({ email: username }, function (err, user) {
      if (err) { return done(err); }
      // Return if user not found in database
      if (!user) {
        return done(null, false, {
          message: 'User not found'
        });
      }
      // Return if password is wrong
      if (!user.validPassword(password)) {
        return done(null, false, {
          message: 'Password is wrong'
        });
      }
      // If credentials are correct, return the user object
      return done(null, user);
    });
  }
));
</code></pre> 
         <p>Note how the <code>validPassword</code> schema method is called directly on the <code>user</code> instance.</p> 
         <p>Now Passport just needs to be added to the application. So in <code>app.js</code> we need to require the Passport module, require the Passport config and initialise Passport as middleware. The placement of all of these items inside <code>app.js</code> is quite important, as they need fit into a certain sequence.</p> 
         <p>The Passport module should be required at the top of the file with the other general <code>require</code> statements.</p> 
         <pre><code>var express = require('express');
var path = require('path');
var favicon = require('serve-favicon');
var logger = require('morgan');
var cookieParser = require('cookie-parser');
var bodyParser = require('body-parser');
var passport = require('passport');
</code></pre> 
         <p>The config should be required <em>after</em> the model is required, as the config references the model.</p> 
         <pre><code>require('./app_api/models/db');
require('./app_api/config/passport');
</code></pre> 
         <p>Finally Passport should be initialised as Express middleware just before the API routes are added, as these routes are the first time that Passport will be used.</p> 
         <pre><code>app.use(passport.initialize());
app.use('/api', routesApi);
</code></pre> 
         <p>We’ve now got the schema and Passport set up, next it’s time to put these to use in the routes and controllers of the API.</p> 
         <h2 id="configure-api-end-points">Configure API End Points</h2> 
         <p>With the API we’ve got two things to do:</p> 
         <ol> 
          <li>Make the controllers functional</li> 
          <li>Secure the <code>/api/profile</code> route so that only authenticated users can access it</li> 
         </ol> 
         <h3 id="code-the-register-and-login-api-controllers">Code the Register and Login API Controllers</h3> 
         <p>In the example app the register and login controllers are in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_api/controllers/authentication.js"><code>/app_api/controllers/authentication.js</code></a>. In order for the controllers to work the file needs to require Passport, Mongoose and the user model.</p> 
         <pre><code>var passport = require('passport');
var mongoose = require('mongoose');
var User = mongoose.model('User');
</code></pre> 
         <h4 id="the-register-api-controller">The Register API Controller</h4> 
         <p>The register controller needs to do the following:</p> 
         <ol> 
          <li>take the data from the submitted form and create a new Mongoose model instance</li> 
          <li>Call the <code>setPassword</code> method we created earlier to add the salt and the hash to the instance</li> 
          <li>Save the instance as a record to the database</li> 
          <li>Generate a JWT</li> 
          <li>Send the JWT inside the JSON response</li> 
         </ol> 
         <p>In code, all that looks like this:</p> 
         <pre><code>module.exports.register = function(req, res) {
  var user = new User();

  user.name = req.body.name;
  user.email = req.body.email;

  user.setPassword(req.body.password);

  user.save(function(err) {
    var token;
    token = user.generateJwt();
    res.status(200);
    res.json({
      "token" : token
    });
  });
};
</code></pre> 
         <p>This makes use of the <code>setPassword</code> and <code>generateJwt</code> methods we created in the Mongoose schema definition. See how having that code in the schema makes this controller really easy to read and understand.</p> 
         <p>Don’t forget that in reality this code would have a number of error traps, validating form inputs and catching errors in the <code>save</code> function. They are omitted here to highlight the main functionality of the code.</p> 
         <h4 id="the-login-api-controller">The Login API Controller</h4> 
         <p>The login controller hands over pretty much all control to Passport, although you could (and should) add some validation beforehand to check that the required fields have been sent.</p> 
         <p>For Passport to do its magic and run the strategy defined in the config we need to call the <code>authenticate</code> method as shown below. This method will call a callback with three possible parameters <code>err</code>, <code>user</code> and <code>info</code>. If <code>user</code> is defined then it can be used to generate a JWT to be returned to the browser.</p> 
         <pre><code>module.exports.login = function(req, res) {

  passport.authenticate('local', function(err, user, info){
    var token;

    // If Passport throws/catches an error
    if (err) {
      res.status(404).json(err);
      return;
    }

    // If a user is found
    if(user){
      token = user.generateJwt();
      res.status(200);
      res.json({
        "token" : token
      });
    } else {
      // If user is not found
      res.status(401).json(info);
    }
  })(req, res);

};
</code></pre> 
         <h3 id="securing-an-api-route">Securing an API Route</h3> 
         <p>The final thing to do in the back-end is make sure that only authenticated users can access the <code>/api/profile</code> route. The way to validate a request is to ensure that the JWT sent with it is genuine, by using the secret again – this is why you should keep it a secret and not in the code.</p> 
         <h4 id="configuring-the-route-authentication">Configuring the Route Authentication</h4> 
         <p>First we need to install a piece of middleware called <code>express-jwt</code>.</p> 
         <pre><code class="language-bash">npm install express-jwt --save
</code></pre> 
         <p>Then we need to require it and configure it in the file where the routes are defined; in the sample application this is <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_api/routes/index.js"><code>/app_api/routes/index.js</code></a>. Configuration is a case of telling it the secret, and – optionally – the name of the property to create on the <code>req</code> object that will hold the JWT. We’ll be able to use this property inside the controller associated to the route. The default name for the property is <code>user</code>, but this is the name of an instance of our Mongoose <code>User</code> model, so we’ll set it to <code>payload</code> to avoid confusion.</p> 
         <pre><code>var jwt = require('express-jwt');
var auth = jwt({
  secret: 'MY_SECRET',
  userProperty: 'payload'
});
</code></pre> 
         <p>Again, <strong>don’t keep the secret in the code!</strong></p> 
         <h4 id="applying-the-route-authentication">Applying the Route Authentication</h4> 
         <p>To apply this middleware simply reference the function in the middle of the route to be protected, like this:</p> 
         <pre><code>router.get('/profile', auth, ctrlProfile.profileRead);
</code></pre> 
         <p>If someone tries to access that route now without a valid JWT the middleware will throw an error. To make sure our API plays nicely, catch this error and return a 401 response by adding the following into the error handlers section of the main app.js file.</p> 
         <pre><code>// error handlers
// Catch unauthorised errors
app.use(function (err, req, res, next) {
  if (err.name === 'UnauthorizedError') {
    res.status(401);
    res.json({"message" : err.name + ": " + err.message});
  }
});
</code></pre> 
         <h4 id="using-the-route-authentication">Using the Route Authentication</h4> 
         <p>In this example we only want people to be able to view their own profiles, so we get the user ID from the JWT and use it in a Mongoose query.</p> 
         <p>The controller for this route is in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_api/controllers/profile.js"><code>/app_api/controllers/profile.js</code></a> – the entire contents of this file look like this:</p> 
         <pre><code>var mongoose = require('mongoose');
var User = mongoose.model('User');

module.exports.profileRead = function(req, res) {

  // If no user ID exists in the JWT return a 401
  if (!req.payload._id) {
    res.status(401).json({
      "message" : "UnauthorizedError: private profile"
    });
  } else {
    // Otherwise continue
    User
      .findById(req.payload._id)
      .exec(function(err, user) {
        res.status(200).json(user);
      });
  }

};
</code></pre> 
         <p>Naturally, this should be fleshed out with some more error trapping – for example if the user isn’t found – but this snippet is kept brief to demonstrate the key points of the approach.</p> 
         <p>That’s it for the back-end. The database is configured, we have API end points for registering and logging in that generate and return a JWT, and also a protected route. On to the front-end!</p> 
         <h2 id="create-angular-authentication-service">Create Angular Authentication Service</h2> 
         <p>Most of the work in the front-end can be put into an Angular service, creating methods to manage:</p> 
         <ul> 
          <li>Saving the JWT in local storage</li> 
          <li>Reading the JWT from local storage</li> 
          <li>Deleting the JWT from local storage</li> 
          <li>Calling the register and login API end points</li> 
          <li>Checking whether a user is currently logged in</li> 
          <li>Getting the details of the logged in user from the JWT</li> 
         </ul> 
         <p>We’ll need to create a new service called <code>authentication</code>, and register it with the <code>meanApp</code> application. In the example app this is in a file <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/common/services/authentication.service.js"><code>authentication.service.js</code></a> in the folder <code>/app_client/common/services</code>.</p> 
         <h3 id="local-storage-saving-reading-and-deleting-a-jwt">Local Storage: Saving, Reading and Deleting a JWT</h3> 
         <p>To keep a user logged in between visits we use <code>localStorage</code> in the browser to save the JWT. An alternative is to use <code>sessionStorage</code>, which will only keep the token during the current browser session.</p> 
         <p>To use <code>localStorage</code> we need to pass the Angular <code>$window</code> service into our service. Then we can create and return three methods <code>saveToken</code>, <code>getToken</code> and <code>logout</code> as shown below.</p> 
         <pre><code>(function () {

  angular
    .module('meanApp')
    .service('authentication', authentication);

  authentication.$inject = ['$http', '$window'];
  function authentication ($http, $window) {

    var saveToken = function (token) {
      $window.localStorage['mean-token'] = token;
    };

    var getToken = function () {
      return $window.localStorage['mean-token'];
    };

    logout = function() {
      $window.localStorage.removeItem('mean-token');
    };

    return {
      saveToken : saveToken,
      getToken : getToken,
      logout : logout
    };
  }

})();
</code></pre> 
         <p>From the perspective of the service, logging out is simply a case of deleting the JWT from local storage. Now let’s add a method to check for this token – and the validity of the token – to find out if the visitor is logged in.</p> 
         <h3 id="check-whether-a-user-is-logged-in">Check Whether a User Is Logged In</h3> 
         <p>Add a new method called <code>isLoggedIn</code> to the service, and reference it in the <code>return</code> statement of course.</p> 
         <p>This method will need to call the <code>getToken</code> method to try and read the <code>mean-token</code> from local storage. If the token exists, the method will also need to validate that the JWT has not expired.</p> 
         <h4 id="getting-data-from-a-jwt">Getting Data from a JWT</h4> 
         <p>When we set the data for the JWT (in the <code>generateJwt</code> Mongoose method) we included the expiry date in an <code>exp</code> property. But if you look at a JWT it seems to be a random string, like this following example.</p> 
         <pre><code>eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJfaWQiOiI1NWQ0MjNjMTUxMzcxMmNkMzE3YTRkYTciLCJlbWFpbCI6InNpbW9uQGZ1bGxzdGFja3RyYWluaW5nLmNvbSIsIm5hbWUiOiJTaW1vbiBIb2xtZXMiLCJleHAiOjE0NDA1NzA5NDUsImlhdCI6MTQzOTk2NjE0NX0.jS50GlmolxLoKrA_24LDKaW3vNaY94Y9EqYAFvsTiLg
</code></pre> 
         <p>So how do you read a JWT?</p> 
         <p>A JWT is actually made up of three separate strings, separated by a dot <code>.</code>. These three parts are:</p> 
         <ol> 
          <li><em>Header</em> – An encoded JSON object containing the type and the hashing algorithm used</li> 
          <li><em>Payload</em> – An encoded JSON object containing the data, the real body of the token</li> 
          <li><em>Signature</em> – An encrypted hash of the header and payload, using the “secret” set on the server</li> 
         </ol> 
         <p>It’s the second part we’re interested in here, the payload. Note that this is <em>encoded</em> rather than encrypted, meaning that we can <em>decode</em> it.</p> 
         <p>There’s a function called <code>atob()</code> that is native to modern browsers, that will decode a Base64 string like this (sorry IE9 users, there is a <a href="https://github.com/davidchambers/Base64.js">polyfill</a> for you though).</p> 
         <p>So we need to get the second part of the token, decode it and parse it as JSON. Then we can check that the expiry date hasn’t passed.</p> 
         <p>At the end of it, the <code>isLoggedIn</code> function should return a boolean value, depending on whether a valid token is found or not. Put together, it looks like this:</p> 
         <pre><code>var isLoggedIn = function() {
  var token = getToken();
  var payload;

  if(token){
    payload = token.split('.')[1];
    payload = $window.atob(payload);
    payload = JSON.parse(payload);

    return payload.exp &gt; Date.now() / 1000;
  } else {
    return false;
  }
};
</code></pre> 
         <p>Next we’ll use a similar approach to get the details of the logged in user.</p> 
         <h3 id="get-the-current-users-details">Get the Current User’s Details</h3> 
         <p>To get the user data from the JWT is also a simple process. First validate that the user is logged in, and then get the data you want from the payload.</p> 
         <p>The new <code>currentUser</code> method looks like this:</p> 
         <pre><code>var currentUser = function() {
  if(isLoggedIn()){
    var token = getToken();
    var payload = token.split('.')[1];
    payload = $window.atob(payload);
    payload = JSON.parse(payload);
    return {
      email : payload.email,
      name : payload.name
    };
  }
};
</code></pre> 
         <p>This will extract the email and name from the JWT and return them inside an object ready to be used.</p> 
         <h3 id="calling-the-register-and-login-api-end-points">Calling the Register and Login API End-Points</h3> 
         <p>Just two methods to add. We’ll need an interface between the Angular app and the API, to call the login and register end-points and save the returned token. This will use the Angular <code>$http</code> service – remember to inject this into the <code>authentication</code> service if it’s not already there.</p> 
         <p>Both of these methods should accept an object, which will contain the details or credentials.</p> 
         <pre><code>register = function(user) {
  return $http.post('/api/register', user).success(function(data){
    saveToken(data.token);
  });
};

login = function(user) {
  return $http.post('/api/login', user).success(function(data) {
    saveToken(data.token);
  });
};
</code></pre> 
         <p>That finalises the service, now to tie everything together in the Angular app.</p> 
         <h2 id="apply-authentication-to-angular-app">Apply Authentication to Angular App</h2> 
         <p>We can use the authentication services inside the Angular app in a number of ways to give the experience we’re after.</p> 
         <ol> 
          <li>Wire up the register and sign in forms</li> 
          <li>Update the navigation to reflect the user’s status</li> 
          <li>Only allow logged in users access to the <code>/profile</code> route</li> 
          <li>Call the protected <code>/api/profile</code> API route</li> 
         </ol> 
         <h3 id="connect-the-register-and-login-controllers">Connect the Register and Login Controllers</h3> 
         <p>We’ll begin by looking at the register and login forms.</p> 
         <h4 id="the-register-page">The Register Page</h4> 
         <p>The HTML for the registration form already exists and has <code>ng-model</code> attributes attached to the fields, all in the namespance <code>vm.credentials</code>. The form will also have an <code>ng-submit</code> handler. In the example application is it in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/auth/register/register.view.html"><code>/app_client/auth/register/register.view.html</code></a> and looks like this:</p> 
         <pre><code class="language-markup">&lt;form ng-submit="vm.onSubmit()"&gt;
  &lt;div class="form-group"&gt;
    &lt;label for="name"&gt;Full name&lt;/label&gt;
    &lt;input type="text" class="form-control" id="name" placeholder="Enter your name" ng-model="vm.credentials.name"&gt;
  &lt;/div&gt;
  &lt;div class="form-group"&gt;
    &lt;label for="email"&gt;Email address&lt;/label&gt;
    &lt;input type="email" class="form-control" id="email" placeholder="Enter email" ng-model="vm.credentials.email"&gt;
  &lt;/div&gt;
  &lt;div class="form-group"&gt;
    &lt;label for="password"&gt;Password&lt;/label&gt;
    &lt;input type="password" class="form-control" id="password" placeholder="Password" ng-model="vm.credentials.password"&gt;
  &lt;/div&gt;
  &lt;button type="submit" class="btn btn-default"&gt;Register!&lt;/button&gt;
&lt;/form&gt;
</code></pre> 
         <p>The first task in the controller is to ensure our <code>authentication</code> service is injected and available. Next, inside the <code>onSubmit</code> handler for the function, call <code>authentication.register</code> passing it the credentials from the form.</p> 
         <p>The <code>register</code> method reutrns a <code>$http</code> call, which in turn returns a promise. So we can use that to listen for completion – either an error or success. If someone has successfully registered we’ll set the application to redirect them to the profile page.</p> 
         <p>In the sample application the controller is in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/auth/register/register.controller.js"><code>/app_client/auth/register/register.controller.js</code></a> and looks like this:</p> 
         <pre><code>function registerCtrl($location, authentication) {
var vm = this;

vm.credentials = {
  name : "",
  email : "",
  password : ""
};

vm.onSubmit = function () {
  authentication
    .register(vm.credentials)
    .error(function(err){
      alert(err);
    })
    .then(function(){
      $location.path('profile');
    });
};
</code></pre> 
         <h4 id="the-login-page">The Login Page</h4> 
         <p>The login page is very similar in nature to the register page, but in this form we don’t ask for the name, just email and password. In the sample application it’s in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/auth/login/login.view.html"><code>/app_client/auth/login/login.view.html</code></a> and looks like this:</p> 
         <pre><code class="language-markup">&lt;form ng-submit="vm.onSubmit()"&gt;
  &lt;div class="form-group"&gt;
    &lt;label for="email"&gt;Email address&lt;/label&gt;
    &lt;input type="email" class="form-control" id="email" placeholder="Enter email" ng-model="vm.credentials.email"&gt;
  &lt;/div&gt;
  &lt;div class="form-group"&gt;
    &lt;label for="password"&gt;Password&lt;/label&gt;
    &lt;input type="password" class="form-control" id="password" placeholder="Password" ng-model="vm.credentials.password"&gt;
  &lt;/div&gt;
  &lt;button type="submit" class="btn btn-default"&gt;Sign in!&lt;/button&gt;
&lt;/form&gt;
</code></pre> 
         <p>Once again we have the form submit handler, and model attributes for each of the inputs. In the controller we want the same functionality as the register controller, but this time called the <code>login</code> method of the <code>authentication</code> service.</p> 
         <p>In the sample application the controller is in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/auth/login/login.controller.js"><code>/app_client/auth/login/login.controller.js</code></a> and look like this.</p> 
         <pre><code>function loginCtrl($location, authentication) {
  var vm = this;

  vm.credentials = {
    email : "",
    password : ""
  };

  vm.onSubmit = function () {
    authentication
    .login(vm.credentials)
    .error(function(err){
      alert(err);
    })
    .then(function(){
      $location.path('profile');
    });
  };

}
</code></pre> 
         <p>Now users can register and sign in to the application. Note that again there should be more validation in the forms to ensure that all required fields are filled before submitting; these examples are kept to the bare minimum to highlight the main functionality.</p> 
         <h3 id="change-content-based-on-user-status">Change Content Based on User Status</h3> 
         <p>In the navigation we want to show the <em>Sign in</em> link if a user isn’t logged in, and their username with a link to the profile page if they are logged in.</p> 
         <p>First we’ll look at the controller. We simply want to call the <code>isLoggedIn</code> and <code>currentUser</code> methods from the navigation controller, and save the return values in the view model. In the sample app the file is in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/common/directives/navigation/navigation.controller.js"><code>/app_client/common/directives/navigation/navigation.controller.js</code></a> and looks like this:</p> 
         <pre><code>function navigationCtrl($location, authentication) {
  var vm = this;

  vm.isLoggedIn = authentication.isLoggedIn();

  vm.currentUser = authentication.currentUser();

}
</code></pre> 
         <p>That’s pretty simple right? Now in the associated view template we can use <code>ng-hide</code> and <code>ng-show</code> based on the value of <code>navvm.isLoggedIn</code> to display either the sign in link or the profile link. To add the user’s name to the profile link we can access the name property of <code>navvm.currentUser</code> – remember that this is getting the data from the JWT.</p> 
         <p>In the sample app the file is in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/common/directives/navigation/navigation.view.html"><code>/app_client/common/directives/navigation/navigation.view.html</code></a> and the updated part looks like this:</p> 
         <pre><code class="language-markup">&lt;ul class="nav navbar-nav navbar-right"&gt;
  &lt;li ng-hide="navvm.isLoggedIn"&gt;&lt;a href="login"&gt;Sign in&lt;/a&gt;&lt;/li&gt;
  &lt;li ng-show="navvm.isLoggedIn"&gt;&lt;a href="profile"&gt;{{ navvm.currentUser.name }}&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre> 
         <h3 id="protect-a-route-for-logged-in-users-only">Protect a Route for Logged in Users Only</h3> 
         <p>In this step we’ll see how to make a route accessible only to logged in users, by protecting the <code>/profile</code> path.</p> 
         <p>To do this we need to check whenever the route changes in the Angular app by using a watcher on <code>$routeChangeStart</code>. When a new route is selected we need to check whether it is the profile page, and whether the user is logged in. If it is the profile page and the user is <em>not</em> logged in, then we’ll redirect to the homepage.</p> 
         <p>The best place to put this is in a <code>run</code> module added to the Angular application. This module will need access to the following services:</p> 
         <ul> 
          <li><code>$rootScope</code> to listen for the <code>$routeChangeStart</code> event</li> 
          <li><code>$location</code> to see what the new path is</li> 
          <li><code>authentication</code> to use our service, calling the <code>isLoggedIn</code> method</li> 
         </ul> 
         <p>This run function should be added to the main Angular setup file in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/main.js"><code>/app_client/main.js</code></a>, which should now look like this:</p> 
         <pre><code>(function () {

  angular.module('meanApp', ['ngRoute']);

  function config ($routeProvider, $locationProvider) {
    $routeProvider
      .when('/', {
        templateUrl: 'home/home.view.html',
        controller: 'homeCtrl',
        controllerAs: 'vm'
      })
      .when('/register', {
        templateUrl: '/auth/register/register.view.html',
        controller: 'registerCtrl',
        controllerAs: 'vm'
      })
      .when('/login', {
        templateUrl: '/auth/login/login.view.html',
        controller: 'loginCtrl',
        controllerAs: 'vm'
      })
      .when('/profile', {
        templateUrl: '/profile/profile.view.html',
        controller: 'profileCtrl',
        controllerAs: 'vm'
      })
      .otherwise({redirectTo: '/'});

    // use the HTML5 History API
    $locationProvider.html5Mode(true);
  }

  function run($rootScope, $location, authentication) {
    $rootScope.$on('$routeChangeStart', function(event, nextRoute, currentRoute) {
      if ($location.path() === '/profile' &amp;&amp; !authentication.isLoggedIn()) {
        $location.path('/');
      }
    });
  }

  angular
    .module('meanApp')
    .config(['$routeProvider', '$locationProvider', config])
    .run(['$rootScope', '$location', 'authentication', run]);

})();
</code></pre> 
         <p>With that <code>run</code> function in place, now if an unauthenticated user tries to visit the profile page they will be redirected to the homepage.</p> 
         <h3 id="call-a-protected-api-route">Call a Protected API Route</h3> 
         <p>The <code>/api/profile</code> route has been set up to check for a JWT in the request, otherwise it will return a 401 unauthorised error.</p> 
         <p>The application needs a data service, which in the sample app you can find in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/common/services/data.service.js"><code>/app_client/common/services/data.service.js</code></a>. This service needs access to our <code>authentication</code> service, so that it can call the <code>getToken</code> method.</p> 
         <p>To pass the token to the API it needs to be sent through as a header on the request, called <code>Authorization</code>. The following snippet shows the main data service function, and the format required to send the token.</p> 
         <pre><code>function meanData ($http, authentication) {

  var getProfile = function () {
    return $http.get('/api/profile', {
      headers: {
        Authorization: 'Bearer '+ authentication.getToken()
      }
    });
  };

  return {
    getProfile : getProfile
  };
}
</code></pre> 
         <p>Remember that the back-end code is validating that the token is genuine when the request is made, by using the secret known only to the issuing server.</p> 
         <p>To make use of this in the profile page we just need to update the controller, in <a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/profile/profile.controller.js"><code>/app_client/profile/profile.controller.js</code></a> in the sample app. This will populate a <code>vm.user</code> object when the api returns some data.</p> 
         <pre><code>function profileCtrl($location, meanData) {
  var vm = this;

  vm.user = {};

  meanData.getProfile()
    .success(function(data) {
      vm.user = data;
    })
    .error(function (e) {
      console.log(e);
    });
}
</code></pre> 
         <p>Then of course it’s just a case of updating the bindings in the view (<a href="https://github.com/sitepoint-editors/MEAN-stack-authentication/blob/master/app_client/profile/profile.view.html"><code>/app_client/profile/profile.view.html</code></a>).</p> 
         <pre><code class="language-markup">&lt;form class="form-horizontal"&gt;
  &lt;div class="form-group"&gt;
    &lt;label class="col-sm-3 control-label"&gt;Full name&lt;/label&gt;
    &lt;p class="form-control-static"&gt;{{ vm.user.name }}&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class="form-group"&gt;
    &lt;label class="col-sm-3 control-label"&gt;Email&lt;/label&gt;
    &lt;p class="form-control-static"&gt;{{ vm.user.email }}&lt;/p&gt;
  &lt;/div&gt;
&lt;/form&gt;
</code></pre> 
         <p>And here’s the final profile page, when logged in.</p> 
         <p><img src="https://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453465485FinalProfileScreenshot-1024x620.png" alt="Screenshot of the profile page" width="1024" height="620" class="alignnone size-large wp-image-123204"></p> 
         <p>That’s how to manage authentication in the MEAN stack, from securing API routes and managing user details to working with JWTs and protecting SPA routes. If you’ve implemented an authentication system like this in one of your own apps and have any tips, tricks, or advice, be sure to share them in the comments below!</p> 
         <div class="Article_authorBio l-mv4 t-bg-white m-border l-pa3"> 
          <div class="l-d-f l-pt3"> 
           <a class="l-s5 l-pa0 l-mr3 l-round l-o-h" href="https://www.sitepoint.com/author/sholmes/"> <img src="https://secure.gravatar.com/avatar/c7c7b1183ec1ce69e4568935a585c1db?s=96&amp;d=mm&amp;r=g" width="96" height="96" alt="" class="avatar avatar-96 wp-user-avatar wp-user-avatar-96 photo avatar-default"> </a> 
           <div class="f-lh-title"> 
            <div class="f-c-grey-300">
             Meet the author
            </div> 
            <div class="f-large"> 
             <a class="f-bold f-c-grey-500" href="https://www.sitepoint.com/author/sholmes/"> Simon Holmes </a> 
             <a class="f-c-grey-500 l-mh1" target="_blank" href="https://twitter.com/simonholmes"><i class="fa fa-twitter"></i></a> 
            </div> 
           </div> 
          </div> 
          <div class="f-light f-lh-copy l-mt3">
           Simon has been a full stack developer since the late 1990's, and is a massive fan of good JavaScript. He is the author of "Getting MEAN" and "Mongoose for Application Development", and co-founder of Full Stack Training Ltd.
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
     <div class="l-w-aside-i l-mt6 l-mh3 l-d-n l-d-f--3col l-fd-col l-fs0"> 
      <div class="l-mb3"> 
       <div class="widget maestro maestro-content-type-ad hide-for-mobile-SP" id="maestro-1">
        <!-- SP2013_Articles_300x250_1 --> 
        <div id="div-gpt-ad-1392428092543-0" style="" class="adspot "> 
         <script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1392428092543-0"); });</script> 
         <script type="text/javascript">
      window.SP_GPT_Slots.push({
        id      : "1392428092543-0",
        name    : "SP2013_Articles_300x250_1",
        sizes   : [300,250],
        desktop : 1,
        tablet  : 1,
        phone   : 0
      });
    </script> 
        </div>
       </div> 
      </div> 
      <div class="l-as-fs l-mv0 l-pv1 l-ph3 f-light f-larger f-uppercase f-c-white t-bg-grey-500">
       Sponsors
      </div> 
      <div class="l-w-100 l-mv3 t-bg-white m-border">
       <div class="widget maestro maestro-content-type-bsa hide-for-mobile-SP" id="maestro-448">
        <div class="l-pa3" style="border-bottom: 1px solid #e5e5e5" id="maestro-448-bsa-154534"> 
         <a href="//srv.buysellads.com/ads/click/x/GTND42QECWSD5K3NCEBLYKQMCTBI523MFTAICZ3JCWYDP2QICK7IC23KC6BIT2QNCABDEK3EHJNCLSIZ" class="l-d-f l-ai-sta" data-ga-on="click" data-ga-event-category="maestro" data-ga-event-label="maestro-448-bsa-154534" data-ga-event-action="click"> <img class="l-s5" src="//assets.servedby-buysellads.com/p/manage/asset/id/59093"> 
          <div class="f-small l-d-f l-fd-col l-ml3 f-lh-title f-c-grey-700"> 
           <span class="f-bold">Microsoft Azure</span> 
           <span>¿Tienes 10 minutos? Es muy fácil aprender Azure. Comienza hoy mismo tu prueba.</span> 
          </div> </a> 
        </div>
        <img src="http://www.launchbit.com/taz-pixel/474-6971-111" height="1" width="1" border="0" style="display: none;">
        <div class="l-pa3" style="border-bottom: 1px solid #e5e5e5" id="maestro-448-bsa-144191"> 
         <a href="//srv.buysellads.com/ads/click/x/GTND42QECWSD5K3NCEBLYKQMCTBI523JF67DTZ3JCWYDP2QMCWSI627KC6BIT2QNCABDEK3EHJNCLSIZ" class="l-d-f l-ai-sta" data-ga-on="click" data-ga-event-category="maestro" data-ga-event-label="maestro-448-bsa-144191" data-ga-event-action="click"> <img class="l-s5" src="//assets.servedby-buysellads.com/p/manage/asset/id/39138"> 
          <div class="f-small l-d-f l-fd-col l-ml3 f-lh-title f-c-grey-700"> 
           <span class="f-bold">Adobe</span> 
           <span>Limited time offer: Get 10 free Adobe Stock images.</span> 
          </div> </a> 
        </div>
        <img src="https://impus.tradedoubler.com/imp?type(inv)g(23245664)a(2947467)" height="1" width="1" border="0" style="display: none;">
        <script>ga('SitePointPlugin:observeImpressions', ['maestro-448-bsa-154534','maestro-448-bsa-144191'])</script>
       </div>
      </div> 
      <div class="ArticleBox u-premium-preview"></div> 
      <div class="ArticleAside_row ArticleAside_newboxads">
       <div class="widget maestro maestro-content-type-ad hide-for-mobile-SP" id="maestro-251">
        <!-- SP_Articles_200x125_1 --> 
        <div id="div-gpt-ad-1436815711585-0" style="" class="adspot "> 
         <script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1436815711585-0"); });</script> 
         <script type="text/javascript">
      window.SP_GPT_Slots.push({
        id      : "1436815711585-0",
        name    : "SP_Articles_200x125_1",
        sizes   : [200,125],
        desktop : 1,
        tablet  : 1,
        phone   : 0
      });
    </script> 
        </div>
       </div>
       <div class="widget maestro maestro-content-type-ad hide-for-mobile-SP" id="maestro-252">
        <!-- SP_Articles_200x125_2 --> 
        <div id="div-gpt-ad-1436815711585-1" style="" class="adspot "> 
         <script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1436815711585-1"); });</script> 
         <script type="text/javascript">
      window.SP_GPT_Slots.push({
        id      : "1436815711585-1",
        name    : "SP_Articles_200x125_2",
        sizes   : [200,125],
        desktop : 1,
        tablet  : 1,
        phone   : 0
      });
    </script> 
        </div>
       </div>
       <div class="widget maestro maestro-content-type-ad hide-for-mobile-SP" id="maestro-253">
        <!-- SP_Articles_200x125_3 --> 
        <div id="div-gpt-ad-1436815711585-2" style="" class="adspot "> 
         <script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1436815711585-2"); });</script> 
         <script type="text/javascript">
      window.SP_GPT_Slots.push({
        id      : "1436815711585-2",
        name    : "SP_Articles_200x125_3",
        sizes   : [200,125],
        desktop : 1,
        tablet  : 1,
        phone   : 0
      });
    </script> 
        </div>
       </div>
       <div class="widget maestro maestro-content-type-ad hide-for-mobile-SP" id="maestro-254">
        <!-- SP_Articles_200x125_4 --> 
        <div id="div-gpt-ad-1436815711585-3" style="" class="adspot "> 
         <script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1436815711585-3"); });</script> 
         <script type="text/javascript">
      window.SP_GPT_Slots.push({
        id      : "1436815711585-3",
        name    : "SP_Articles_200x125_4",
        sizes   : [200,125],
        desktop : 1,
        tablet  : 1,
        phone   : 0
      });
    </script> 
        </div>
       </div>
      </div> 
      <div class="ArticleAside_row">
       <div class="widget maestro maestro-content-type-ad hide-for-mobile-SP" id="maestro-56">
        <!-- SP2013_Articles_300x600_1 --> 
        <div id="div-gpt-ad-1392428092543-4" style="" class="adspot na"> 
         <script type="text/javascript">googletag.cmd.push(function() { googletag.display("div-gpt-ad-1392428092543-4"); });</script> 
         <script type="text/javascript">
      window.SP_GPT_Slots.push({
        id      : "1392428092543-4",
        name    : "SP2013_Articles_300x600_1",
        sizes   : [[300, 600], [300, 250], [160, 600]],
        desktop : 1,
        tablet  : 1,
        phone   : 0
      });
    </script> 
        </div>
       </div> 
       <ads-weighted widget="21" data="{&quot;NL&quot;:[{&quot;id&quot;:&quot;585&quot;,&quot;demandbase_field&quot;:null,&quot;demandbase_value&quot;:null,&quot;weight&quot;:&quot;50&quot;,&quot;randMax&quot;:50},{&quot;id&quot;:&quot;584&quot;,&quot;demandbase_field&quot;:null,&quot;demandbase_value&quot;:null,&quot;weight&quot;:&quot;50&quot;,&quot;randMax&quot;:100}]}" fallback="" url="user-authentication-mean-stack" channelslug="javascript"></ads-weighted>
      </div> 
     </div> 
    </div> 
    <div class="u-accordion-end"></div> 
    <div class="l-d-f l-jc-sb l-w-3col--3col l-mh-auto"> 
     <div class="u-showseriesx l-w-100 l-w-2col-i--2col l-fg1 l-mh3--2col l-mh0--4col"> 
      <ads-weighted widget="6" data="{&quot;fallback&quot;:[{&quot;id&quot;:&quot;649&quot;,&quot;demandbase_field&quot;:null,&quot;demandbase_value&quot;:null,&quot;weight&quot;:&quot;50&quot;,&quot;randMax&quot;:50}]}" fallback="" url="user-authentication-mean-stack" channelslug="javascript"></ads-weighted> 
      <div id="commentsSection" class="l-pa3 t-bg-white"> 
       <a id="comments"></a> 
      </div> 
     </div> 
    </div> 
    <script>
      OneSignal.push(function() {
        OneSignal.sendTags({
          javascript: 'javascript',
        });
      });
    </script> 
   </div> 
  </div> 
  <footer class="l-d-f t-bg-grey-500" role="contentinfo" style="height: 500px;"> 
   <div class="l-d-f l-fw-w l-mh-auto"> 
    <div class="l-d-f l-mt4 l-w-100 l-w-2col--2col l-w-3col--4col"> 
     <ul class="t-ls-n l-w-100"> 
      <li> 
       <div class="f-c-white f-medium f-bold l-mb2">
        About
       </div> </li> 
      <li> <a class="m-link-white f-small" href="/about-us/">Our Story</a> </li> 
      <li> <a class="m-link-white f-small" href="/advertise/">Advertise</a> </li> 
      <li> <a class="m-link-white f-small" href="/press/">Press Room</a> </li> 
      <li> <a class="m-link-white f-small" href="http://reference.sitepoint.com/css/" target="_blank">Reference</a> </li> 
      <li> <a class="m-link-white f-small" href="/legals/">Terms of Use</a> </li> 
      <li> <a class="m-link-white f-small" href="/legals/#privacy">Privacy Policy</a> </li> 
      <li> <a class="m-link-white f-small" href="https://sitepoint.zendesk.com/hc/en-us" target="_blank">FAQ</a> </li> 
      <li> <a class="m-link-white f-small" href="/contact-us/">Contact Us</a> </li> 
      <li> <a class="m-link-white f-small" href="/write-for-us/">Contribute</a> </li> 
     </ul> 
     <ul class="t-ls-n l-w-100"> 
      <li> 
       <div class="f-c-white f-medium f-bold l-mb2">
        Visit
       </div> </li> 
      <li> <a class="m-link-white f-small" href="/">SitePoint Home</a> </li> 
      <li> <a class="m-link-white f-small" href="/themes/?utm_source=blog&amp;utm_medium=footer">Themes</a> </li> 
      <li> <a class="m-link-white f-small" href="/versioning-show/">Podcast</a> </li> 
      <li> <a class="m-link-white f-small" href="https://www.sitepoint.com/community/">Forums</a> </li> 
      <li> <a class="m-link-white f-small" href="/newsletter/">Newsletters</a> </li> 
      <li> <a class="m-link-white f-small" href="/premium/">Premium</a> </li> 
      <li> <a class="m-link-white f-small" href="/sass-reference/">References</a> </li> 
      <li> <a class="m-link-white f-small" href="https://www.sitepoint.com/versioning/">Versioning</a> </li> 
     </ul> 
    </div> 
    <div class="l-mt4 l-w-1col"> 
     <ul class="t-ls-n l-w-100"> 
      <li> 
       <div class="f-c-white f-medium f-bold l-mb2">
        Connect
       </div> </li> 
      <li> <a class="m-link-white" href="https://www.sitepoint.com/feed/"> <i class="fa fa-rss-square l-i4"></i> </a> <a class="l-pl1 m-link-white" href="/newsletter/"> <i class="fa fa-envelope-square l-i4"></i> </a> <a class="l-pl1 m-link-white" href="https://www.facebook.com/sitepoint" rel="noopener" target="_blank"> <i class="fa fa-facebook-square l-i4"></i> </a> <a class="l-pl1 m-link-white" href="http://twitter.com/sitepointdotcom" rel="noopener" target="_blank"> <i class="fa fa-twitter-square l-i4"></i> </a> <a class="l-pl1 m-link-white" href="https://plus.google.com/+sitepoint" rel="noopener" target="_blank"> <i class="fa fa-google-plus-square l-i4"></i> </a> </li> 
      <p class="f-c-white l-mv3"> © 2000 – 2017 SitePoint Pty. Ltd. </p> 
     </ul> 
    </div> 
   </div> 
  </footer> 
  <script type="text/javascript">
  adroll_adv_id = "DJI3I3WGJBGL7PDJEDAYHV";
  adroll_pix_id = "4RKMV6N56FGA7ANPGL4FQW";
  (function () {
    var adblocked = false;
    var onAdblock = function() {
      if(adblocked) return;

      adblocked = true;

      gaEventQueue && gaEventQueue.track('CanSeeAds', 'adrollBlocked', {'nonInteraction': true});

      Array.prototype.slice.call(document.getElementsByClassName('CantSeeAds'))
        .forEach(function(el) {
          el.className = el.className.replace('CantSeeAds', '');
        });

    };
    var _onload = function(){
      if (document.readyState && !/loaded|complete/.test(document.readyState)){setTimeout(_onload, 10);return}
      if (!window.__adroll_loaded){__adroll_loaded=true;setTimeout(_onload, 50);return}
      var scr = document.createElement("script");
      var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
      scr.setAttribute('async', 'true');
      scr.type = "text/javascript";
      scr.src = host + "/j/roundtrip.js";
      scr.onerror = onAdblock;
      ((document.getElementsByTagName('head') || [null])[0] ||
          document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
    };
    if (window.addEventListener) {window.addEventListener('load', _onload, false);}
    else {window.attachEvent('onload', _onload)}
  }());
</script> 
  <script>
(function(d,b,a,s,e){ var t = b.createElement(a),
  fs = b.getElementsByTagName(a)[0]; t.async=1; t.id=e; t.src=s;
  fs.parentNode.insertBefore(t, fs); })
(window,document,'script','https://scripts.demandbase.com/IM2QfEma.min.js','demandbase_js_lib');
</script> 
  <script type="text/javascript"><!--
			var seriesdropdown = document.getElementById("orgseries_dropdown");
			if (seriesdropdown) {
			 function onSeriesChange() {
					if ( seriesdropdown.options[seriesdropdown.selectedIndex].value != ( 0 || -1 ) ) {
						location.href = "https://www.sitepoint.com/series/"+seriesdropdown.options[seriesdropdown.selectedIndex].value;
					}
				}
				seriesdropdown.onchange = onSeriesChange;
			}
			--></script> 
  <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'sitepointproduction';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1 && nodes[i].parentNode.tagName == 'A') {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script> 
  <!-- START Parse.ly Include: Standard --> 
  <div id="parsely-root" style="display: none"> 
   <div id="parsely-cfg" data-parsely-site="sitepoint.com"></div> 
  </div> 
  <script data-cfasync="false">
(function(s, p, d) {
  var h=d.location.protocol, i=p+"-"+s,
      e=d.getElementById(i), r=d.getElementById(p+"-root"),
      u=h==="https:"?"d1z2jf7jlzjs58.cloudfront.net"
      :"static."+p+".com";
  if (e) return;
  e = d.createElement(s); e.id = i; e.async = true;
  e.setAttribute('data-cfasync', 'false'); e.src = h+"//"+u+"/p.js"; r.appendChild(e);
})("script", "parsely", document);
</script> 
  <!-- END Parse.ly Include: Standard --> 
  <script type="text/javascript">
    (function(googletag, SP_GPT_Slots) {
      if(!SP_GPT_Slots.length) return;

      var SP_GPT_First_Slot_Rendered = false;
      googletag.cmd.push(function(){
        googletag.pubads().addEventListener("slotRenderEnded", function(e){
          if (!SP_GPT_First_Slot_Rendered) {
            gaEventQueue.track("CanSeeAds", "dfpFirstRendered", {"nonInteraction": true});
            SP_GPT_First_Slot_Rendered = true;
          }
        });
      });

    })(googletag, SP_GPT_Slots);
    </script> 
  <script type="text/javascript" src="//www.sitepoint.com/wp-content/themes/sitepoint/assets/javascripts/scripts-foot-dfb2dddf3e07e06b11282e3f2248e361.js?ver=4.8.1"></script> 
  <script type="text/javascript" src="/dist/js/compiled.194c1d3f42df0a530a1a.js"></script> 
  <script type="text/javascript" src="https://www.sitepoint.com/wp-includes/js/wp-embed.min.js?ver=4.8.1"></script> 
  <script>
    jQuery(document).ready(function() {
      jQuery('.lazyYT').each(function() {
        var id = jQuery(this).data('youtube-id'),
            url = 'https://www.youtube.com/watch?v=' + id;
        jQuery(this).replaceWith('<a href="' + url + '">' + url + '</a>');
      });
    });
    </script>   
  <!-- Performance optimized by W3 Total Cache. Learn more: https://www.w3-edge.com/products/

Object Caching 1231/1289 objects using memcached
Page Caching using memcached (SSL caching disabled)
Content Delivery Network via Amazon Web Services: CloudFront: dab1nmslvvntp.cloudfront.net

 Served from: www.sitepoint.com @ 2017-09-17 12:16:18 by W3 Total Cache -->
 </body>
</html>