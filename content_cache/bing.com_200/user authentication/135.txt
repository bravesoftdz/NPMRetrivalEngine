<!doctype html>
<!--[if IE 6]>
<html id="ie6" lang="en-GB">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-GB">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-GB">
<![endif]-->
<!--[if !(IE 6) & !(IE 7) & !(IE 8)]><!-->
<html lang="en-GB">
 <!--<![endif]-->
 <head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width"> 
  <title>Java Authentication – LDAP and Active Directory | Tilion</title> 
  <link rel="profile" href="http://gmpg.org/xfn/11"> 
  <link rel="stylesheet" type="text/css" media="all" href="http://www.tilion.org.uk/wp-content/themes/twentyeleven/style.css"> 
  <link rel="pingback" href="http://www.tilion.org.uk/xmlrpc.php"> 
  <!--[if lt IE 9]>
<script src="http://www.tilion.org.uk/wp-content/themes/twentyeleven/js/html5.js" type="text/javascript"></script>
<![endif]--> 
  <link rel="dns-prefetch" href="//s.w.org"> 
  <link rel="alternate" type="application/rss+xml" title="Tilion » Feed" href="http://www.tilion.org.uk/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Tilion » Comments Feed" href="http://www.tilion.org.uk/comments/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Tilion » Java Authentication – LDAP and Active Directory Comments Feed" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/feed/"> 
  <script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.tilion.org.uk\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.1"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b===c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script> 
  <style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style> 
  <link rel="stylesheet" id="prettify-gc-syntax-highlighter-css" href="http://www.tilion.org.uk/wp-content/plugins/prettify-gc-syntax-highlighter/prettify.css?ver=4.8.1" type="text/css" media="all"> 
  <link rel="stylesheet" id="cptch_stylesheet-css" href="http://www.tilion.org.uk/wp-content/plugins/captcha/css/front_end_style.css?ver=4.3.0" type="text/css" media="all"> 
  <link rel="stylesheet" id="dashicons-css" href="http://www.tilion.org.uk/wp-includes/css/dashicons.min.css?ver=4.8.1" type="text/css" media="all"> 
  <link rel="stylesheet" id="cptch_desktop_style-css" href="http://www.tilion.org.uk/wp-content/plugins/captcha/css/desktop_style.css?ver=4.3.0" type="text/css" media="all"> 
  <link rel="stylesheet" id="cntctfrm_form_style-css" href="http://www.tilion.org.uk/wp-content/plugins/contact-form-plugin/css/form_style.css?ver=4.0.6" type="text/css" media="all"> 
  <link rel="https://api.w.org/" href="http://www.tilion.org.uk/wp-json/"> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.tilion.org.uk/xmlrpc.php?rsd"> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.tilion.org.uk/wp-includes/wlwmanifest.xml"> 
  <link rel="prev" title="Computer networks and the internet for “normal people”" href="http://www.tilion.org.uk/2011/11/computer-networks-and-the-internet-for-normal-people/"> 
  <link rel="next" title="Pull phpBB2 forum posts (basically a simple CMS)" href="http://www.tilion.org.uk/2012/01/pull-phpbb2-forum-posts-basically-a-simple-cms/"> 
  <meta name="generator" content="WordPress 4.8.1"> 
  <link rel="canonical" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/"> 
  <link rel="shortlink" href="http://www.tilion.org.uk/?p=47"> 
  <link rel="alternate" type="application/json+oembed" href="http://www.tilion.org.uk/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.tilion.org.uk%2F2011%2F12%2Fjava-authentication-ldap-and-active-directory%2F"> 
  <link rel="alternate" type="text/xml+oembed" href="http://www.tilion.org.uk/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.tilion.org.uk%2F2011%2F12%2Fjava-authentication-ldap-and-active-directory%2F&amp;format=xml"> 
 </head> 
 <body class="post-template-default single single-post postid-47 single-format-standard single-author singular two-column left-sidebar"> 
  <div id="page" class="hfeed"> 
   <header id="branding" role="banner"> 
    <hgroup> 
     <h1 id="site-title"><span><a href="http://www.tilion.org.uk/" rel="home">Tilion</a></span></h1> 
     <h2 id="site-description">Resources and technical documentation</h2> 
    </hgroup> 
    <a href="http://www.tilion.org.uk/"> <img src="http://www.tilion.org.uk/wp-content/themes/twentyeleven/images/headers/shore.jpg" width="1000" height="288" alt="Tilion"> </a> 
    <form method="get" id="searchform" action="http://www.tilion.org.uk/"> 
     <label for="s" class="assistive-text">Search</label> 
     <input type="text" class="field" name="s" id="s" placeholder="Search"> 
     <input type="submit" class="submit" name="submit" id="searchsubmit" value="Search"> 
    </form> 
    <nav id="access" role="navigation"> 
     <h3 class="assistive-text">Main menu</h3> 
     <div class="skip-link">
      <a class="assistive-text" href="#content">Skip to primary content</a>
     </div> 
     <div class="menu-main-menu-container">
      <ul id="menu-main-menu" class="menu">
       <li id="menu-item-189" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-189"><a href="http://www.tilion.org.uk/">Home</a></li> 
       <li id="menu-item-191" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-191"><a href="http://www.tilion.org.uk/category/technical/">Technical</a></li> 
       <li id="menu-item-192" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-192"><a href="http://www.tilion.org.uk/category/games/">Games</a></li> 
       <li id="menu-item-193" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-193"><a href="http://www.tilion.org.uk/category/projects/">Projects</a></li> 
       <li id="menu-item-190" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-190"><a href="http://www.tilion.org.uk/about/">About</a></li> 
       <li id="menu-item-200" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-200"><a href="http://www.tilion.org.uk/contact/">Contact</a></li> 
      </ul>
     </div> 
    </nav>
    <!-- #access --> 
   </header>
   <!-- #branding --> 
   <div id="main"> 
    <div id="primary"> 
     <div id="content" role="main"> 
      <nav id="nav-single"> 
       <h3 class="assistive-text">Post navigation</h3> 
       <span class="nav-previous"><a href="http://www.tilion.org.uk/2011/11/computer-networks-and-the-internet-for-normal-people/" rel="prev"><span class="meta-nav">?</span> Previous</a></span> 
       <span class="nav-next"><a href="http://www.tilion.org.uk/2012/01/pull-phpbb2-forum-posts-basically-a-simple-cms/" rel="next">Next <span class="meta-nav">?</span></a></span> 
      </nav>
      <!-- #nav-single --> 
      <article id="post-47" class="post-47 post type-post status-publish format-standard hentry category-java category-technical tag-active-directory tag-authenticate tag-java-2 tag-ldap"> 
       <header class="entry-header"> 
        <h1 class="entry-title">Java Authentication – LDAP and Active Directory</h1> 
        <div class="entry-meta"> 
         <span class="sep">Posted on </span>
         <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/" rel="bookmark"><time class="entry-date" datetime="2011-12-02T16:53:35+00:00">December 2, 2011</time></a>
         <span class="by-author"> <span class="sep"> by </span> <span class="author vcard"><a class="url fn n" href="http://www.tilion.org.uk/author/darren/" rel="author">Darren</a></span></span> 
        </div>
        <!-- .entry-meta --> 
       </header>
       <!-- .entry-header --> 
       <div class="entry-content"> 
        <p>Been asked to integrate your application’s authentication with an LDAP directory (Active Directory is LDAP v3 compliant)? Me too! There is a fair amount of information about this topic available by searching, but when I was doing this I couldn’t find one place that had everything explained in detail, so I decided to document how I did it.</p> 
        <p>What follows will explain how to validate a username/password combination against an LDAP compliant directory server using java and the opensource LDAP library called <a href="http://www.openldap.org/jldap/" rel="nofollow">jldap</a>.</p> 
        <p>First off, go and download the jldap jar file and browse around the code samples as it’s a well documented library. Second, take a look how easy it is to make a connection to an LDAP directory server.</p> 
        <pre class="prettyprint ">LDAPConnection conn = new LDAPConnection();
conn.connect("localhost", 389);
conn.bind("cn=admin,dc=tilion,dc=org,dc=uk", "password");</pre> 
        <p>If you’re not too sure about LDAP syntax you may like to read the <a href="http://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol" rel="nofollow">Wiki LDAP</a> entry. In short, LDAP uses a tree structure where each entry has a unique identifier, known as it’s <em>Distinguished Name</em> (DN). In the username above <strong>cn=admin</strong> is the <em>Relative Distinguished Name</em> (RDN) and <strong>dc=tilion,dc=org,dc=uk</strong> is the DN of it’s parent entry. Put together these form the DN for a user with privileges to bind to the LDAP directory (DC stands for <em>Domain Component</em>). Entries generally have a CN attribute, known as the <em>Common Name</em> along with a whole load of more familiar named attributes.</p> 
        <p>If binding to an Active Directory server, the username is more likely to be of the format <strong>cn=Administrator,cn=Users,dc=tilion,dc=org,dc=uk</strong>. Part of the complexity with LDAP queries is that there is no fixed format for where particular types of entry live from server to server. Most Active Directory servers will be alike, but won’t be the same when compared to a Novell directory or an OpenLDAP server. For the purposes of authentication we need to locate where in the directory the entries that represent a user object live.</p> 
        <ul> 
         <li><strong>cn=Users,dc=tilion,dc=org,dc=uk</strong> is the default for Active Directory</li> 
         <li><strong>ou=People,dc=tilion,dc=org,dc=uk</strong> is the default an OpenLDAP server storing unix users accounts (the one I have anyway!)</li> 
        </ul> 
        <p>Whoever set up the LDAP server should be able to tell you the base DN for your environment. For example, when setting up Active Directory you specify the name (<em>check terminology</em>) in the format machine.domain.ext, which would lead to the base DN of <em>dc=machine,dc=domain,dc=ext</em>.</p> 
        <p>Here is where we get to the querk. Imagine we need to check a login where the username is <strong>darren</strong> and the password, well, lets just say it’s the right password for the username. On an OpenLDAP server, all you need to do is try binding to the directory as shown below.</p> 
        <pre class="code">conn.bind("uid=darren,ou=People,dc=tilion,dc=org,dc=uk", "password");</pre> 
        <p><strong>uid</strong> is the attribute that holds the actual username value (the CN, or <em>Common Name</em> is often different to the actual username).</p> 
        <p>Unfortunately, Active Directory is different, in that you can only bind to it using a DN, which references the actual entry via it’s CN. What you have to do is perform a query to check if the username exists, grab it’s CN and then perform a bind using the CN and the given password. So, let’s see this in action …</p> 
        <pre class="prettyprint ">// assume we have a connection, which is already bound
LDAPSearchResults searchResults = conn.search(
        "cn=Users,dc=tilion,dc=org,dc=uk",
        LDAPConnection.SCOPE_ONE,
        sAMAccountName + "=" + &lt;username&gt;,  // &lt;username&gt; came from the user trying to login
        null,
        false);
LDAPEntry entry = searchResults.next();
if (entry != null) {  // the username is valid, lets pull out the CN from the attributes
    String cnValue = null;
    LDAPAttributeSet attrSet = entry.getAttributeSet();
    Iterator allAttrs = attrSet.iterator();
    while (allAttrs.hasNext()) {
        LDAPAttribute attr = (LDAPAttribute)allAttrs.next();
        String attrName = attr.getName();
        if (attrName.equalsIgnoreCase("cn")) {  // we got the CN
            cnValue = attr.getStringValues().nextElement();
        } else {
            continue;
        }
    }

    if (cnValue == null) {
        // return auth failed, the username doesn't exist
    }

    // attempt a bind with CN and given password
    LDAPConnection tmp = new LDAPConnection();
    tmp.connect(HOST, PORT);
    tmp.bind("cn=" + cnValue + "," + "cn=Users,dc=tilion,dc=org,dc=uk", &lt;password&gt;);  // &lt;password&gt; came from the user trying to login

    // return auth successful, username and password are valid

    // an LDAPException is thrown if the credentials are invalid
}</pre> 
        <p>Concepts covered, you’re probably wondering how are you going to find all those cn,dn,dc,xyz details about your particular LDAP directory? That’s exactly why I created a standalone application to query an LDAP server when I was learning this stuff. You can <a href="">download the LDAP test application</a> (<strong>NOT UPLOADED YET!</strong>), which includes the the compiled jar, full source and a maven pom.xml.</p> 
        <p><em>The code shown here is for illustration purposes only and should not be used in production without proper error handling additions. It is as concise as possible to illustrate a point.</em></p> 
        <h2>Useful Attributes</h2> 
        <p>A quick round up of useful attributes in various LDAP compliant servers.</p> 
        <h3>Active Directory</h3> 
        <ul> 
         <li><strong>sAMAccountName</strong> holds the username</li> 
         <li><strong>displayName</strong> holds the full name</li> 
         <li><strong>mail</strong> holds the email address</li> 
        </ul> 
        <h3>OpenLDAP (holding unix user accounts)</h3> 
        <ul> 
         <li><strong>uid</strong> holds the username</li> 
         <li><strong>cn</strong> holds the full name</li> 
         <li><strong>mailacceptinggeneralid</strong> holds the email address</li> 
        </ul> 
        <!-- AdSense Now! Lite: Filtered --> 
        <div class="adsense adsense-leadout" style="text-align:center;margin:12px">
         <script type="text/javascript"><!--
google_ad_client = "ca-pub-3357713325835138";
/* 728x90, created 12/02/08 */
google_ad_slot = "0996730963";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script> 
         <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
        </div> 
       </div>
       <!-- .entry-content --> 
       <footer class="entry-meta">
         This entry was posted in 
        <a href="http://www.tilion.org.uk/category/technical/java/" rel="category tag">Java</a>, 
        <a href="http://www.tilion.org.uk/category/technical/" rel="category tag">Technical</a> and tagged 
        <a href="http://www.tilion.org.uk/tag/active-directory/" rel="tag">active directory</a>, 
        <a href="http://www.tilion.org.uk/tag/authenticate/" rel="tag">authenticate</a>, 
        <a href="http://www.tilion.org.uk/tag/java-2/" rel="tag">java</a>, 
        <a href="http://www.tilion.org.uk/tag/ldap/" rel="tag">ldap</a> by 
        <a href="http://www.tilion.org.uk/author/darren/">Darren</a>. Bookmark the 
        <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/" rel="bookmark">permalink</a>. 
       </footer>
       <!-- .entry-meta --> 
      </article>
      <!-- #post-47 --> 
      <div id="comments"> 
       <h2 id="comments-title"> 11 thoughts on “<span>Java Authentication – LDAP and Active Directory</span>” </h2> 
       <ol class="commentlist"> 
        <li class="comment even thread-even depth-1" id="li-comment-92"> 
         <article id="comment-92" class="comment"> 
          <footer class="comment-meta"> 
           <div class="comment-author vcard"> 
            <span class="fn">thomas</span> on 
            <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/#comment-92"><time datetime="2012-01-20T16:11:33+00:00">January 20, 2012 at 16:11</time></a> 
            <span class="says">said:</span> 
           </div>
           <!-- .comment-author .vcard --> 
          </footer> 
          <div class="comment-content">
           <p>I went to site you linked looking for the jar you mention and they don’t have it. Do you have a link to the actual jar or must I build their source code. thanks</p> 
          </div> 
          <div class="reply"> 
           <a rel="nofollow" class="comment-reply-link" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/?replytocom=92#respond" onclick="return addComment.moveForm( &quot;comment-92&quot;, &quot;92&quot;, &quot;respond&quot;, &quot;47&quot; )" aria-label="Reply to thomas">Reply <span>?</span></a> 
          </div>
          <!-- .reply --> 
         </article>
         <!-- #comment-## --> 
         <ul class="children"> 
          <li class="comment byuser comment-author-darren bypostauthor odd alt depth-2" id="li-comment-142"> 
           <article id="comment-142" class="comment"> 
            <footer class="comment-meta"> 
             <div class="comment-author vcard"> 
              <span class="fn"><a href="http://www.tilion.org.uk" rel="external nofollow" class="url">Darren</a></span> on 
              <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/#comment-142"><time datetime="2012-01-25T12:10:59+00:00">January 25, 2012 at 12:10</time></a> 
              <span class="says">said:</span> 
             </div>
             <!-- .comment-author .vcard --> 
            </footer> 
            <div class="comment-content">
             <p>Easiest place to find it is in a maven repository. Google for ‘maven jldap’ to find one, but here is one I found earlier.<br> <a href="http://mirrors.ibiblio.org/pub/mirrors/maven2/com/novell/ldap/jldap/4.3/" rel="nofollow">http://mirrors.ibiblio.org/pub/mirrors/maven2/com/novell/ldap/jldap/4.3/</a></p> 
            </div> 
            <div class="reply"> 
             <a rel="nofollow" class="comment-reply-link" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/?replytocom=142#respond" onclick="return addComment.moveForm( &quot;comment-142&quot;, &quot;142&quot;, &quot;respond&quot;, &quot;47&quot; )" aria-label="Reply to Darren">Reply <span>?</span></a> 
            </div>
            <!-- .reply --> 
           </article>
           <!-- #comment-## --> </li>
          <!-- #comment-## --> 
         </ul>
         <!-- .children --> </li>
        <!-- #comment-## --> 
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-165"> 
         <article id="comment-165" class="comment"> 
          <footer class="comment-meta"> 
           <div class="comment-author vcard"> 
            <span class="fn">Chris</span> on 
            <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/#comment-165"><time datetime="2012-01-26T16:57:01+00:00">January 26, 2012 at 16:57</time></a> 
            <span class="says">said:</span> 
           </div>
           <!-- .comment-author .vcard --> 
          </footer> 
          <div class="comment-content">
           <p>You might want to use the apacheDS client, which personally I think is one of the best open-source/ free ones around. This will allow you to perform queries and see the attributes easily, thus making it easier when designing the client<br> <a href="http://directory.apache.org/studio/" rel="nofollow">http://directory.apache.org/studio/</a></p> 
          </div> 
          <div class="reply"> 
           <a rel="nofollow" class="comment-reply-link" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/?replytocom=165#respond" onclick="return addComment.moveForm( &quot;comment-165&quot;, &quot;165&quot;, &quot;respond&quot;, &quot;47&quot; )" aria-label="Reply to Chris">Reply <span>?</span></a> 
          </div>
          <!-- .reply --> 
         </article>
         <!-- #comment-## --> </li>
        <!-- #comment-## --> 
        <li class="comment odd alt thread-even depth-1" id="li-comment-522"> 
         <article id="comment-522" class="comment"> 
          <footer class="comment-meta"> 
           <div class="comment-author vcard"> 
            <span class="fn">Subbu</span> on 
            <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/#comment-522"><time datetime="2012-05-16T01:59:57+00:00">May 16, 2012 at 01:59</time></a> 
            <span class="says">said:</span> 
           </div>
           <!-- .comment-author .vcard --> 
          </footer> 
          <div class="comment-content">
           <p>Thanks Darren. I was having trouble binding to the AD. this post really helped.</p> 
          </div> 
          <div class="reply"> 
           <a rel="nofollow" class="comment-reply-link" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/?replytocom=522#respond" onclick="return addComment.moveForm( &quot;comment-522&quot;, &quot;522&quot;, &quot;respond&quot;, &quot;47&quot; )" aria-label="Reply to Subbu">Reply <span>?</span></a> 
          </div>
          <!-- .reply --> 
         </article>
         <!-- #comment-## --> </li>
        <!-- #comment-## --> 
        <li class="comment even thread-odd thread-alt depth-1" id="li-comment-614"> 
         <article id="comment-614" class="comment"> 
          <footer class="comment-meta"> 
           <div class="comment-author vcard"> 
            <span class="fn">Neil Youngman</span> on 
            <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/#comment-614"><time datetime="2012-10-02T13:25:06+00:00">October 2, 2012 at 13:25</time></a> 
            <span class="says">said:</span> 
           </div>
           <!-- .comment-author .vcard --> 
          </footer> 
          <div class="comment-content">
           <p>As the standalone query application is not uploaded, the ldapsearch utility may be an alternative. This is installed on some of my work Linux machines. I believe it is part of openldap and is available as the ldap-utils package on Mint Debian Edition.</p> 
           <p>This page (<a href="https://www.centos.org/docs/5/html/CDS/ag/8.0/Finding_Directory_Entries-Using_ldapsearch.html" rel="nofollow">https://www.centos.org/docs/5/html/CDS/ag/8.0/Finding_Directory_Entries-Using_ldapsearch.html</a>) says that the OpenLDAP tools will not work with RedHat directory Server?</p> 
          </div> 
          <div class="reply"> 
           <a rel="nofollow" class="comment-reply-link" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/?replytocom=614#respond" onclick="return addComment.moveForm( &quot;comment-614&quot;, &quot;614&quot;, &quot;respond&quot;, &quot;47&quot; )" aria-label="Reply to Neil Youngman">Reply <span>?</span></a> 
          </div>
          <!-- .reply --> 
         </article>
         <!-- #comment-## --> </li>
        <!-- #comment-## --> 
        <li class="comment odd alt thread-even depth-1" id="li-comment-728"> 
         <article id="comment-728" class="comment"> 
          <footer class="comment-meta"> 
           <div class="comment-author vcard"> 
            <span class="fn">Shankar</span> on 
            <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/#comment-728"><time datetime="2013-06-19T13:50:56+00:00">June 19, 2013 at 13:50</time></a> 
            <span class="says">said:</span> 
           </div>
           <!-- .comment-author .vcard --> 
          </footer> 
          <div class="comment-content">
           <p>Can anyone please let me know how secure it is as we are hard coding the password in the code?</p> 
          </div> 
          <div class="reply"> 
           <a rel="nofollow" class="comment-reply-link" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/?replytocom=728#respond" onclick="return addComment.moveForm( &quot;comment-728&quot;, &quot;728&quot;, &quot;respond&quot;, &quot;47&quot; )" aria-label="Reply to Shankar">Reply <span>?</span></a> 
          </div>
          <!-- .reply --> 
         </article>
         <!-- #comment-## --> 
         <ul class="children"> 
          <li class="comment byuser comment-author-darren bypostauthor even depth-2" id="li-comment-729"> 
           <article id="comment-729" class="comment"> 
            <footer class="comment-meta"> 
             <div class="comment-author vcard"> 
              <span class="fn"><a href="http://www.tilion.org.uk" rel="external nofollow" class="url">Darren</a></span> on 
              <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/#comment-729"><time datetime="2013-06-19T14:55:36+00:00">June 19, 2013 at 14:55</time></a> 
              <span class="says">said:</span> 
             </div>
             <!-- .comment-author .vcard --> 
            </footer> 
            <div class="comment-content">
             <p>You have to store the password somewhere, so it’s no worse than storing it in a plaintext config file. Having to recompile your code to change the password isn’t ideal though.</p> 
             <p>The most important thing is that you don’t bind as the admin user. Create a new user account who’s only privilege is to bind and search, then even if the password is discovered, the user cannot edit LDAP/AD. When making your new user account, remember to set the password to never expire.</p> 
            </div> 
            <div class="reply"> 
             <a rel="nofollow" class="comment-reply-link" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/?replytocom=729#respond" onclick="return addComment.moveForm( &quot;comment-729&quot;, &quot;729&quot;, &quot;respond&quot;, &quot;47&quot; )" aria-label="Reply to Darren">Reply <span>?</span></a> 
            </div>
            <!-- .reply --> 
           </article>
           <!-- #comment-## --> </li>
          <!-- #comment-## --> 
         </ul>
         <!-- .children --> </li>
        <!-- #comment-## --> 
        <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1021"> 
         <article id="comment-1021" class="comment"> 
          <footer class="comment-meta"> 
           <div class="comment-author vcard"> 
            <span class="fn">Himanshu</span> on 
            <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/#comment-1021"><time datetime="2013-08-22T06:33:48+00:00">August 22, 2013 at 06:33</time></a> 
            <span class="says">said:</span> 
           </div>
           <!-- .comment-author .vcard --> 
          </footer> 
          <div class="comment-content">
           <p>I tried using the above code to bind my cn for username-password validation check when authentication is successfully done. But I getting the following exception :<br> [LDAP: error code 17 – javaSerializedData: attribute type undefined]; remaining name ‘cn=Himanshu Patidar,ou=people,dc=example,dc=com’</p> 
          </div> 
          <div class="reply"> 
           <a rel="nofollow" class="comment-reply-link" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/?replytocom=1021#respond" onclick="return addComment.moveForm( &quot;comment-1021&quot;, &quot;1021&quot;, &quot;respond&quot;, &quot;47&quot; )" aria-label="Reply to Himanshu">Reply <span>?</span></a> 
          </div>
          <!-- .reply --> 
         </article>
         <!-- #comment-## --> 
         <ul class="children"> 
          <li class="comment byuser comment-author-darren bypostauthor even depth-2" id="li-comment-1022"> 
           <article id="comment-1022" class="comment"> 
            <footer class="comment-meta"> 
             <div class="comment-author vcard"> 
              <span class="fn"><a href="http://www.tilion.org.uk" rel="external nofollow" class="url">Darren</a></span> on 
              <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/#comment-1022"><time datetime="2013-08-22T09:13:09+00:00">August 22, 2013 at 09:13</time></a> 
              <span class="says">said:</span> 
             </div>
             <!-- .comment-author .vcard --> 
            </footer> 
            <div class="comment-content">
             <p>Double check your distinguished name is correct as it doesn’t look like AD (your LDAP server may not verify for you).<br> cn=Himanshu Patidar,ou=people,dc=example,dc=com</p> 
             <p>Afraid I’ve not seen this error before, so if that’s not the problem, google is your best bet.</p> 
            </div> 
            <div class="reply"> 
             <a rel="nofollow" class="comment-reply-link" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/?replytocom=1022#respond" onclick="return addComment.moveForm( &quot;comment-1022&quot;, &quot;1022&quot;, &quot;respond&quot;, &quot;47&quot; )" aria-label="Reply to Darren">Reply <span>?</span></a> 
            </div>
            <!-- .reply --> 
           </article>
           <!-- #comment-## --> </li>
          <!-- #comment-## --> 
         </ul>
         <!-- .children --> </li>
        <!-- #comment-## --> 
        <li class="post pingback"> <p>Pingback: <a href="http://www.tilion.org.uk/2015/09/secure-java-authentication-ssl-to-active-directory/" rel="external nofollow" class="url">Secure Java Authentication (SSL) to Active Directory | Tilion</a></p> </li>
        <!-- #comment-## --> 
        <li class="comment odd alt thread-even depth-1" id="li-comment-2444"> 
         <article id="comment-2444" class="comment"> 
          <footer class="comment-meta"> 
           <div class="comment-author vcard"> 
            <span class="fn">Marcus</span> on 
            <a href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/#comment-2444"><time datetime="2017-02-23T04:52:34+00:00">February 23, 2017 at 04:52</time></a> 
            <span class="says">said:</span> 
           </div>
           <!-- .comment-author .vcard --> 
          </footer> 
          <div class="comment-content">
           <p>Thank you! A while since you posted this, but easily the best doco on this topic, I was going around in circles before coming here!</p> 
          </div> 
          <div class="reply"> 
           <a rel="nofollow" class="comment-reply-link" href="http://www.tilion.org.uk/2011/12/java-authentication-ldap-and-active-directory/?replytocom=2444#respond" onclick="return addComment.moveForm( &quot;comment-2444&quot;, &quot;2444&quot;, &quot;respond&quot;, &quot;47&quot; )" aria-label="Reply to Marcus">Reply <span>?</span></a> 
          </div>
          <!-- .reply --> 
         </article>
         <!-- #comment-## --> </li>
        <!-- #comment-## --> 
       </ol> 
       <div id="respond" class="comment-respond"> 
        <h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2011/12/java-authentication-ldap-and-active-directory/#respond" style="display:none;">Cancel reply</a></small></h3> 
        <form action="http://www.tilion.org.uk/wp-comments-post.php" method="post" id="commentform" class="comment-form"> 
         <p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p>
         <p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required></textarea></p>
         <p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required="true" required></p> 
         <p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required="true" required></p> 
         <p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200"></p> 
         <p class="cptch_block"><span class="cptch_title">Security Question<span class="required"> *</span></span><script class="cptch_to_remove">
				(function( timeout ) {
					setTimeout(
						function() {
							var notice = document.getElementById("cptch_time_limit_notice_1");
							if ( notice )
								notice.style.display = "block";
						},
						timeout
					);
				})(120000);
			</script> <span id="cptch_time_limit_notice_1" class="cptch_time_limit_notice cptch_to_remove">Time limit is exhausted. Please reload the CAPTCHA.</span><span class="cptch_wrap cptch_math_actions"> <label class="cptch_label" for="cptch_input_1"><span class="cptch_span">7</span> <span class="cptch_span">&nbsp;?&nbsp;</span> <span class="cptch_span"><input id="cptch_input_1" class="cptch_input cptch_wp_comments" type="text" autocomplete="off" name="cptch_number" value="" maxlength="2" size="2" aria-required="true" required style="margin-bottom:0;display:inline;font-size: 12px;width: 40px;"></span> <span class="cptch_span">&nbsp;=&nbsp;</span> <span class="cptch_span"><img class="cptch_img " src="data:image/png;base64,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" alt="image"></span> <input type="hidden" name="cptch_result" value="I7s="><input type="hidden" name="cptch_time" value="1505675934"> <input type="hidden" name="cptch_form" value="wp_comments"> </label><span class="cptch_reload_button_wrap hide-if-no-js"> 
            <noscript> 
             <style type="text/css">
							.hide-if-no-js {
								display: none !important;
							}
						</style> 
            </noscript> <span class="cptch_reload_button dashicons dashicons-update"></span> </span></span></p>
         <p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="47" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"> </p>
         <p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="8166d041a2"></p>
         <p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="164"></p> 
        </form> 
       </div>
       <!-- #respond --> 
      </div>
      <!-- #comments --> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #primary --> 
   </div>
   <!-- #main --> 
   <footer id="colophon" role="contentinfo"> 
    <div id="supplementary" class="one"> 
     <div id="first" class="widget-area" role="complementary"> 
      <aside id="archives-3" class="widget widget_archive">
       <h3 class="widget-title">Archives</h3> 
       <ul> 
        <li><a href="http://www.tilion.org.uk/2015/09/">September 2015</a>&nbsp;(1)</li> 
        <li><a href="http://www.tilion.org.uk/2014/01/">January 2014</a>&nbsp;(1)</li> 
        <li><a href="http://www.tilion.org.uk/2013/06/">June 2013</a>&nbsp;(1)</li> 
        <li><a href="http://www.tilion.org.uk/2013/03/">March 2013</a>&nbsp;(1)</li> 
        <li><a href="http://www.tilion.org.uk/2012/08/">August 2012</a>&nbsp;(1)</li> 
        <li><a href="http://www.tilion.org.uk/2012/07/">July 2012</a>&nbsp;(1)</li> 
        <li><a href="http://www.tilion.org.uk/2012/05/">May 2012</a>&nbsp;(1)</li> 
        <li><a href="http://www.tilion.org.uk/2012/03/">March 2012</a>&nbsp;(2)</li> 
        <li><a href="http://www.tilion.org.uk/2012/02/">February 2012</a>&nbsp;(2)</li> 
        <li><a href="http://www.tilion.org.uk/2012/01/">January 2012</a>&nbsp;(7)</li> 
        <li><a href="http://www.tilion.org.uk/2011/12/">December 2011</a>&nbsp;(1)</li> 
        <li><a href="http://www.tilion.org.uk/2011/11/">November 2011</a>&nbsp;(8)</li> 
       </ul> 
      </aside> 
     </div>
     <!-- #first .widget-area --> 
    </div>
    <!-- #supplementary --> 
    <div id="site-generator"> 
     <a href="https://wordpress.org/" title="Semantic Personal Publishing Platform">Proudly powered by WordPress</a> 
    </div> 
   </footer>
   <!-- #colophon --> 
  </div>
  <!-- #page --> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-349490-1', 'auto');
  ga('send', 'pageview');

</script> 
  <script type="text/javascript" src="http://www.tilion.org.uk/wp-content/plugins/akismet/_inc/form.js?ver=3.3.2"></script> 
  <script type="text/javascript" src="http://www.tilion.org.uk/wp-content/plugins/prettify-gc-syntax-highlighter/prettify.js?ver=4.8.1"></script> 
  <script type="text/javascript" src="http://www.tilion.org.uk/wp-content/plugins/prettify-gc-syntax-highlighter/launch.js?ver=4.8.1"></script> 
  <script type="text/javascript" src="http://www.tilion.org.uk/wp-includes/js/comment-reply.min.js?ver=4.8.1"></script> 
  <script type="text/javascript" src="http://www.tilion.org.uk/wp-includes/js/wp-embed.min.js?ver=4.8.1"></script> 
  <script type="text/javascript" src="http://www.tilion.org.uk/wp-includes/js/jquery/jquery.js?ver=1.12.4"></script> 
  <script type="text/javascript" src="http://www.tilion.org.uk/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1"></script> 
  <script type="text/javascript">
/* <![CDATA[ */
var cptch_vars = {"nonce":"a03614757d","ajaxurl":"http:\/\/www.tilion.org.uk\/wp-admin\/admin-ajax.php","enlarge":"0"};
/* ]]> */
</script> 
  <script type="text/javascript" src="http://www.tilion.org.uk/wp-content/plugins/captcha/js/front_end_script.js?ver=4.8.1"></script>  
  <br> 
  <b>Fatal error</b>: Allowed memory size of 134217728 bytes exhausted (tried to allocate 84 bytes) in 
  <b>/var/www/tilion-home/wp-content/plugins/wp-statistics/vendor/browscap/browscap-php/src/phpbrowscap/Browscap.php</b> on line 
  <b>769</b>
  <br> 
 </body>
</html>