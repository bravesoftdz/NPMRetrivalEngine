<!doctype html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns#">
 <head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="profile" href="http://gmpg.org/xfn/11"> 
  <link rel="pingback" href="https://www.lucidchart.com/techblog/xmlrpc.php"> 
  <link rel="stylesheet" href="//d2slcw3kip6qmk.cloudfront.net/lib/lucid/prism/prism-3.css"> 
  <!-- This site is optimized with the Yoast SEO plugin v4.8 - https://yoast.com/wordpress/plugins/seo/ --> 
  <title>The Definitive Guide to Copying and Pasting in JavaScript - Lucidchart</title> 
  <meta name="description" content="Learn how to create a rich experience of copying and pasting from the clipboard in a web app."> 
  <meta name="robots" content="noodp"> 
  <link rel="canonical" href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/"> 
  <meta property="og:locale" content="en_US"> 
  <meta property="og:type" content="article"> 
  <meta property="og:title" content="The Definitive Guide to Copying and Pasting in JavaScript - Lucidchart"> 
  <meta property="og:description" content="Learn how to create a rich experience of copying and pasting from the clipboard in a web app."> 
  <meta property="og:url" content="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/"> 
  <meta property="og:site_name" content="Lucidchart"> 
  <meta property="article:tag" content="clipboard"> 
  <meta property="article:tag" content="javascript"> 
  <meta property="article:section" content="Behind the Scenes"> 
  <meta property="article:published_time" content="2014-12-02T15:15:07-06:00"> 
  <meta property="article:modified_time" content="2016-11-09T11:58:31-06:00"> 
  <meta property="og:updated_time" content="2016-11-09T11:58:31-06:00"> 
  <meta property="og:image" content="https://d2slcw3kip6qmk.cloudfront.net/marketing/blogs/tech/definitive-guide-copying-pasting-javascript/ie-clipboard-access-prompt-387x179.png"> 
  <meta property="og:image" content="https://d2slcw3kip6qmk.cloudfront.net/marketing/blogs/tech/definitive-guide-copying-pasting-javascript/lucidchart-clipboard-notice-454x255.png"> 
  <meta property="og:image" content="https://d2slcw3kip6qmk.cloudfront.net/marketing/blogs/tech/definitive-guide-copying-pasting-javascript/image-4671x2034.png"> 
  <meta property="og:image" content="https://d2slcw3kip6qmk.cloudfront.net/marketing/blogs/tech/definitive-guide-copying-pasting-javascript/gdocs-lucidchart-copypaste-700x357.png"> 
  <!-- / Yoast SEO plugin. --> 
  <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com"> 
  <link rel="dns-prefetch" href="//fonts.googleapis.com"> 
  <link rel="dns-prefetch" href="//s.w.org"> 
  <link rel="alternate" type="application/rss+xml" title="Lucidchart » Feed" href="https://www.lucidchart.com/techblog/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Lucidchart » Comments Feed" href="https://www.lucidchart.com/techblog/comments/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Lucidchart » The Definitive Guide to Copying and Pasting in JavaScript Comments Feed" href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/feed/"> 
  <script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.lucidchart.com\/techblog\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script> 
  <style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style> 
  <link rel="stylesheet" id="mh-font-awesome-css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" type="text/css" media="all"> 
  <link rel="stylesheet" id="mh-style-css" href="https://www.lucidchart.com/techblog/wp-content/themes/mh_cicero/style.css?ver=1.1.1" type="text/css" media="all"> 
  <link rel="stylesheet" id="mh-google-fonts-css" href="//fonts.googleapis.com/css?family=Prata|Open+Sans:300,400,400italic,600,700" type="text/css" media="all"> 
  <link rel="stylesheet" id="A2A_SHARE_SAVE-css" href="https://www.lucidchart.com/techblog/wp-content/plugins/add-to-any/addtoany.min.css?ver=1.14" type="text/css" media="all"> 
  <link rel="stylesheet" id="hubspot-css" href="https://www.lucidchart.com/techblog/wp-content/plugins/hubspot/css/hubspot.css?ver=4.7.5" type="text/css" media="all"> 
  <script type="text/javascript" src="https://www.lucidchart.com/techblog/wp-includes/js/jquery/jquery.js?ver=1.12.4"></script> 
  <script type="text/javascript" src="https://www.lucidchart.com/techblog/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1"></script> 
  <script type="text/javascript" src="https://www.lucidchart.com/techblog/wp-content/plugins/add-to-any/addtoany.min.js?ver=1.0"></script> 
  <script type="text/javascript" src="https://www.lucidchart.com/techblog/wp-content/themes/mh_cicero/js/scripts.js?ver=4.7.5"></script> 
  <link rel="https://api.w.org/" href="https://www.lucidchart.com/techblog/wp-json/"> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.lucidchart.com/techblog/xmlrpc.php?rsd"> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.lucidchart.com/techblog/wp-includes/wlwmanifest.xml"> 
  <meta name="generator" content="WordPress 4.7.5"> 
  <link rel="shortlink" href="https://www.lucidchart.com/techblog/?p=944"> 
  <link rel="alternate" type="application/json+oembed" href="https://www.lucidchart.com/techblog/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.lucidchart.com%2Ftechblog%2F2014%2F12%2F02%2Fdefinitive-guide-copying-pasting-javascript%2F"> 
  <link rel="alternate" type="text/xml+oembed" href="https://www.lucidchart.com/techblog/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fwww.lucidchart.com%2Ftechblog%2F2014%2F12%2F02%2Fdefinitive-guide-copying-pasting-javascript%2F&amp;format=xml"> 
  <script type="text/javascript">
var a2a_config=a2a_config||{};a2a_config.callbacks=a2a_config.callbacks||[];a2a_config.templates=a2a_config.templates||{};
</script> 
  <script type="text/javascript" src="https://static.addtoany.com/menu/page.js" async></script> 
  <style type="text/css">
    	    		.header-wrap, .entry-social a, .entry-social .more-link:hover, #searchform div, #searchform #s, .page-numbers, a .pagelink, #infinite-handle span, #infinite-footer .container, footer { background: #3d4752; }
    	    				.main-nav ul li:hover, .main-nav ul .current-menu-item, .main-nav ul li:hover > ul, .slicknav_menu, .entry-social a:hover, .entry-social .more-link, .page-numbers:hover, .current, .pagelink, a:hover .pagelink, input[type="submit"], table th, #infinite-handle span:hover, .flexslider .flex-prev:hover, .flexslider .flex-next:hover { background: #f78d1e; }
			a:hover, .entry-content a, .entry-icon .fa-inverse, .commentlist a:hover, .comment-author, .comment-author a, .social-nav .fa-mh-social:hover { color: #f78d1e; }
			.featured-caption, blockquote, .commentlist .bypostauthor .avatar { border-color: #f78d1e; }
    	    	.header-wrap {
padding:15px 0;
}
.header-wrap img{
padding:0px 15px;
}
.main-nav .rss-button {
margin-right:15px;
}
#featured-content {
background:#3d4752;
}
.header-wrap,  #featured-content{
margin-bottom:15px;
}
.star-icon {
    background: url(//d2slcw3kip6qmk.cloudfront.net/marketing/pages/shared-assets/star-rating.png)center no-repeat;
    height: 15px;
    width: 15px;
    display: inline-block;
    background-size: 15px;
}
#crumbs {
    margin-bottom: 1em;
    display: block;
}
#crumbs li {
    display: inline-block;
}
#crumbs li::after {
    display: inline-block;
    content:"|";
    margin:0 10px;
}
#crumbs li:last-child::after {
    display: none;
}
#crumbs li {
    font-size:.8em;
}
.flexslider .slides img {
    margin-top: 0;
    height: 100%;
}	</style> 
  <!--[if lt IE 9]>
<script src="https://www.lucidchart.com/techblog/wp-content/themes/mh_cicero/js/css3-mediaqueries.js"></script>
<![endif]--> 
 </head> 
 <body class="post-template-default single single-post postid-944 single-format-standard mh-right-sb"> 
  <div class="mh-container"> 
   <header class="header-wrap clearfix"> 
    <a href="//lucidchart.com"><img src="https://www.lucidchart.com/persona-pages/img/lucidchart-logo.svg" width="200"></a> 
    <nav class="main-nav clearfix"> 
     <div class="menu"></div> 
     <a href="https://www.lucidchart.com/users/registerLevel" class="sign-up-button">Try Lucidchart</a> 
     <a href="https://www.lucidchart.com/techblog/feed/rss/" class="rss-button"><i class="fa fa-rss fa-2x"></i></a> 
     <style>
            .sign-up-button {
                background-color: #55bbe7;
                color: #fff;
                padding: 3px 12px;
                display: inline-block;
                text-transform: uppercase;
                font-weight: bold;
                vertical-align: top;
            }
            .sign-up-button:hover {
                background-color: #45abd7;
                color: #fff;
            }
            .rss-button {
                background: #f78d1e;
                color: #fff;
                display: inline-block;
                padding: 4px 8px 0px 8px;
                margin-left: 4px;
            }
            .rss-button:hover {
                background: #fff;
                color: #f78d1e;
            }
            .rss-button i.fa-2x {
                font-size: 24px;
            }
        </style> 
    </nav> 
   </header> 
   <div class="mh-content-section clearfix"> 
    <div id="main-content" class="mh-content"> 
     <article class="entry-wrap clearfix post-944 post type-post status-publish format-standard hentry category-behind-the-scenes category-web-development tag-clipboard tag-javascript"> 
      <header class="entry-header">
       <ul id="crumbs">
        <li><a href="https://www.lucidchart.com/techblog">Home</a></li>
        <li><a href="https://www.lucidchart.com/techblog/category/behind-the-scenes/" rel="category tag">Behind the Scenes</a> </li>
        <li> <a href="https://www.lucidchart.com/techblog/category/web-development/" rel="category tag">Web Development</a></li>
        <li>The Definitive Guide to Copying and Pasting in JavaScript</li>
       </ul> 
       <div class="clearfix"> 
        <div class="entry-avatar"> 
         <a href="https://www.lucidchart.com/techblog/author/richard/"><img alt="" src="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"></a> 
        </div> 
        <h1 class="entry-title">The Definitive Guide to Copying and Pasting in JavaScript</h1> 
       </div> 
       <p class="entry-meta"> <i class="fa fa-clock-o"></i><span class="updated">December 2, 2014</span> <i class="fa fa-user"></i><span class="entry-category">Richard Shurtz</span> <i class="fa fa-comment"></i><span>20 Comments</span> </p> 
      </header> 
      <div class="entry-content content-margin clearfix"> 
       <p>At Lucid Software, we strive to build desktop quality software that runs in the browser. Until recently, however, we had settled for using our own internal clipboard implementation rather than the system clipboard — limiting copying and pasting with external applications to just plain text. With customers clamoring for the ability to paste images captured from screenshots or copied from other browser windows, we decided to use the system clipboard exclusively, thus opening the doors to rich content addition.</p> 
       <p>Along the way, we encountered three major challenges: limited clipboard access, inconsistent events across browsers, and <del>Internet Explorer</del> limited support of multiple data types. This blog post will discuss what we learned and how you can put our insights to use. Keep reading to see code snippets and in-depth answers to these problems. If you have questions, just let us know. We’ll be happy to add more details.</p> 
       <h2>Step #1 — Access Clipboard Events on Any Browser</h2> 
       <div style="text-align: center">
        <img class="size-full wp-image-982" src="https://d2slcw3kip6qmk.cloudfront.net/marketing/blogs/tech/definitive-guide-copying-pasting-javascript/ie-clipboard-access-prompt-387x179.png" alt="Clipboard Access Prompt in Internet Explorer" width="387" height="179">
       </div> 
       <p>There are several <a href="http://stackoverflow.com/questions/7060109/why-is-writing-to-the-clipboard-in-js-considered-a-security-hole">security issues</a> with letting a web page access the system clipboard. Because of this, browsers limit access to the clipboard. In general, you can only access the clipboard during a <i>system</i> cut, copy, or paste event. These are fired when a user presses the keyboard shortcuts or uses the browser’s menu. This is limiting for two reasons:</p> 
       <ol> 
        <li>Browsers (with the exception of Chrome) only fire clipboard events when there is a valid selection and focus on HTML elements. To see this for yourself, use Chrome to play with <a href="http://jsfiddle.net/fxrzm3tL/">the following code.</a> <pre><code class="language-javascript">['cut', 'copy', 'paste'].forEach(function(event) {
    document.addEventListener(event, function(e) {
        console.log(event);   
    });
});
            </code></pre> <p>Now try it in another browser. Nothing. The events don’t fire. Now <a href="http://jsfiddle.net/5bq692b3/">try adding a text input field</a>. If your text cursor is in the input field and you have some text on the clipboard, it pastes just fine. To get copy or cut to fire, you’ll need to have some text selected in the input area.</p> <p>In Lucidchart, we don’t use HTML elements to handle or render our text or shapes. To access the clipboard, we need a clipboard event. To get a clipboard event, we need the focused HTML elements the browser expects. But we don’t use those HTML elements.</p></li> 
        <li>We would like to support copy and paste from our context menu when a user right-clicks, but since we use our own context menu and not the browser’s, the system clipboard event isn’t fired. And that means we don’t get access to the system clipboard.</li> 
       </ol> 
       <h3>Consistently Getting Clipboard Events</h3> 
       <p>Our solution looks something like <a href="http://jsfiddle.net/g8w9vf42/">the following code</a>:</p> 
       <pre><code class="language-javascript">var hiddenInput = $('#hidden-input');

var focusHiddenArea = function() {
    hiddenInput.val(' ');
	hiddenInput.focus().select();
};

$(document).mouseup(focusHiddenArea);

['cut', 'copy', 'paste'].forEach(function(event) {
    document.addEventListener(event, function(e) {
        console.log(event);
        focusHiddenArea();
        e.preventDefault();
    });
});
</code></pre> 
       <p>We have a hidden text area that is always set to have some text selected. This way, the cut, copy, and paste events are always fired in any browser. However, you’ll notice that this Fiddle doesn’t do anything when the user types—and after the user types, the clipboard events won’t fire until the hidden text area is refocused by clicking. In the case of an application like Lucidchart, this is an insufficient solution. We can’t just throw away user keyboard input.</p> 
       <p>I won’t go into all of the details with handing our input, because it turns out that implementing your own text editing is a rather detailed problem. But just to give you an idea, <a href="http://jsfiddle.net/fpm1nn85/">this fiddle</a> is able to successfully capture input&nbsp;and remain&nbsp;ready for a cut, copy, or paste event.</p> 
       <h3>Context Menu Copying and Pasting</h3> 
       <p>So far, we only support context menu copying and pasting for Chrome and IE. Users of other browsers are limited to keyboard shortcuts. Chrome can grant us clipboard access via our <a href="https://chrome.google.com/webstore/detail/lucidchart-diagrams-onlin/apboafhkiegglekeafbckfjldecefkhn?hl=en">Chrome extension</a>, and Internet Explorer lets you access the clipboard any time (via <code class="language-javascript">window.clipboardData</code>), but will prompt the user if it is outside the system event. Other than those two cases, we just can’t support menu copying and pasting (though you’ll find plenty of people <a href="http://stackoverflow.com/questions/9658282/javascript-cut-copy-paste-to-clipboard-how-did-google-solve-it" target="_blank">trying to get around this</a>, the only real way I know of is to is to use <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/desktop/Clipboard.html" target="_blank">Flash</a>) . Our only consolation is that Google can’t do it either. Go ahead and try it with Google Docs. It only works in Chrome and IE. Use it in Firefox or Safari and you’ll notice a nice little dialog telling you to use keyboard shortcuts.</p> 
       <div style="text-align: center">
        <img src="https://d2slcw3kip6qmk.cloudfront.net/marketing/blogs/tech/definitive-guide-copying-pasting-javascript/lucidchart-clipboard-notice-454x255.png" alt="Limited clipboard acces notice" width="454" height="255">
       </div> 
       <h2>Step #2 — Get Data in Multiple Formats To and From the Clipboard</h2> 
       <p>We now have a reliable way of receiving clipboard events. Now we’ll address the problem of moving data to and from it.</p> 
       <p>Let’s start by describing what we want. Desktop applications can read and write any type of data on the clipboard. If it can be represented as a stream of bytes, it can go on the clipboard. For example, if I select multiple shapes and text areas in Microsoft PowerPoint, then paste into Microsoft Word, all the shapes and text are correctly pasted using some Object representation of shapes and text internal to MS Office. What’s more, the application can put multiple data forms onto the clipboard. So, those shapes from PowerPoint can likewise be pasted into Photoshop or Gimp as an image. When you copy in PowerPoint, something like this probably happens.</p> 
       <pre><code class="language-javascript">
clipboard.setData('text/plain', selection.getText());
clipboard.setData('application/officeObj’, selection.serialize());
clipboard.setData('image/bmp', draw(selection));
clipboard.setData('text/html', ...);
...
</code></pre> 
       <p>PowerPoint is going to try to copy every possible useful data type to the clipboard so that other applications can use whatever data type they recognize.</p> 
       <p>On the web, we don’t have quite the same flexibility. While <a href="http://dev.w3.org/2006/webapi/clipops/clipops.html#mandatory-data-types">the standards describe a minimum support of a wide number of data types</a>, we tend to be happy if we can just consistently access plain text on the clipboard. Right now, here is what the browsers actually support:</p> 
       <ul> 
        <li><b>Chrome and Safari</b>: They support any content type on the <code class="language-javascript">clipboardData</code>, including custom types. So, we can call <code class="language-javascript">clipboardData.setData('application/lucidObjects', serializedObjects)</code> for pasting, and then call <code class="language-javascript">var serialized = clipboardData.getData('application/lucidObjects')</code></li> 
        <li><b>Firefox</b>: It <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=860857">currently</a> only allows access to the data types described <a href="http://dev.w3.org/2006/webapi/clipops/clipops.html#mandatory-data-types">above</a>. You can set custom types on copy, but when pasting, only the white-listed types are passed through.</li> 
        <li><b>Internet Explorer</b>: In true IE fashion, it supports just two data types: <code class="language-javascript">Text</code> and <code class="language-javascript">URL</code>. Oh, and if you set one, you can’t set the other (it gets nulled out). There is a hack, however, that also allows us to indirectly get and set HTML.</li> 
       </ul> 
       <p>The clipboard object in Internet Explorer doesn’t expose <code class="language-javascript">text/html</code> via JavaScript. It does, however, support copying and pasting HTML into <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_Editable"><code class="language-javascript">contenteditable</code></a> elements. We can leverage this if we let the browser perform its default copy and paste, but ‘hijack’ the events to get/put the HTML data we want. This would look something like <a href="http://jsfiddle.net/vtjnr6ea/">the following code</a>.</p> 
       <pre><code class="language-javascript">
if (isIe) {
    document.addEventListener('beforepaste', function() {
        if (hiddenInput.is(':focus')) {
            focusIeClipboardDiv();
        }
    }, true);
}

var ieClipboardEvent = function(clipboardEvent) {
    var clipboardData = window.clipboardData;
    if (clipboardEvent == 'cut' || clipboardEvent == 'copy') {
        clipboardData.setData('Text', textToCopy);
        ieClipboardDiv.html(htmlToCopy);
        focusIeClipboardDiv();
        setTimeout(function() {
            focusHiddenArea();
            ieClipboardDiv.empty();
        }, 0);
    }
    if (clipboardEvent == 'paste') {
        var clipboardText = clipboardData.getData('Text');
        ieClipboardDiv.empty();
        setTimeout(function() {
            console.log('Clipboard Plain Text: ' + clipboardText);
            console.log('Clipboard HTML: ' + ieClipboardDiv.html());
            ieClipboardDiv.empty();
            focusHiddenArea();
        }, 0);
    }
};
</code></pre> 
       <p>Below is a diagram illustrating the entire process:</p> 
       <p><a class="lightbox" style="border: 0" href="https://d2slcw3kip6qmk.cloudfront.net/marketing/blogs/tech/definitive-guide-copying-pasting-javascript/image-4671x2034.png" target="_blank"><br> <img src="https://d2slcw3kip6qmk.cloudfront.net/marketing/blogs/tech/definitive-guide-copying-pasting-javascript/image-4671x2034.png" alt="Diagram illustrating clipboard functionality in Lucidchart" width="100%"><br> </a></p> 
       <p>Here’s what’s going on:</p> 
       <ul> 
        <li>We have a hidden <code class="language-javascript">contenteditable</code> div on the page just for copy and paste.</li> 
        <li>During the <code class="language-javascript">copy</code> event (before the system performs its default action), we set the div’s HTML to whatever we want placed on the clipboard and programmatically select the entire content.</li> 
        <li>Then when the system performs copy, it will get the desired HTML and it will be put on the system clipboard.</li> 
        <li>To paste HTML, we shift the focus to the <code class="language-javascript">contenteditable</code> element during the <code class="language-javascript">beforepaste</code> event.</li> 
        <li>Immediately after the system has performed its default paste, we just extract and clear the pasted HTML.</li> 
       </ul> 
       <p><a href="http://jsfiddle.net/vtjnr6ea/">This final snippet</a> gives a working example of how we copy and paste custom text and HTML across browsers using nothing but JavaScript. This is actually enough to support everything our old clipboard implementation was doing. We encode/decode our shapes to/from HTML &nbsp;so we can copy and paste shapes in the editor, and we get/set plain text on the clipboard so that we can copy and paste text to and from other applications.</p> 
       <h2>Step #3 — Have Fun</h2> 
       <p>Obviously, we didn’t go through this mess solely to keep our previous functionality. Now that we have consistent access to the system clipboard, we are no longer limited to living entirely within our own application. Rather, Lucidchart users can share and receive data from other applications by using the system clipboard. For instance, it was an easy process to add the functionality for <strong>pasting images</strong> from a desktop screenshot or from another browser window. And we also now support the <strong>pasting of formatted text</strong> from Gmail, Google Docs, or other web pages.</p> 
       <div style="text-align: center">
        <a class="lightbox" style="border: 0" href="https://d2slcw3kip6qmk.cloudfront.net/marketing/blogs/tech/definitive-guide-copying-pasting-javascript/gdocs-lucidchart-copypaste-1600x817.png" target="_blank"><br> <img src="https://d2slcw3kip6qmk.cloudfront.net/marketing/blogs/tech/definitive-guide-copying-pasting-javascript/gdocs-lucidchart-copypaste-700x357.png" alt="Copying and pasting rich text from Google Docs to Lucidchart" width="100%"><br> </a>
       </div> 
       <p>We’d really love to hear what you think about this feature. <a href="http://lucidchart.com/demo">Go ahead and try it for yourself!</a><br> If you have any ideas to improve it — or just want to commiserate about copying and pasting the web — do not hesitate to leave feedback on our <a href="http://support.lucidchart.com/">support forums</a>.</p> 
       <h2>Useful resources</h2> 
       <ul> 
        <li><a href="http://jsfiddle.net/vtjnr6ea/">Final Copy and Paste Example</a></li> 
        <li><a href="http://ie.microsoft.com/testdrive/browser/Editing_Paste_Image/">Pasting an image in IE11</a></li> 
        <li><a href="http://strd6.com/2011/09/html5-javascript-pasting-image-data-in-chrome/">Pasting Images in Chrome</a></li> 
       </ul> 
       <div class="addtoany_share_save_container addtoany_content_bottom">
        <div class="a2a_kit a2a_kit_size_32 addtoany_list" data-a2a-url="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/" data-a2a-title="The Definitive Guide to Copying and Pasting in JavaScript">
         <a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fwww.lucidchart.com%2Ftechblog%2F2014%2F12%2F02%2Fdefinitive-guide-copying-pasting-javascript%2F&amp;linkname=The%20Definitive%20Guide%20to%20Copying%20and%20Pasting%20in%20JavaScript" title="Facebook" rel="nofollow" target="_blank"></a>
         <a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fwww.lucidchart.com%2Ftechblog%2F2014%2F12%2F02%2Fdefinitive-guide-copying-pasting-javascript%2F&amp;linkname=The%20Definitive%20Guide%20to%20Copying%20and%20Pasting%20in%20JavaScript" title="Twitter" rel="nofollow" target="_blank"></a>
         <a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fwww.lucidchart.com%2Ftechblog%2F2014%2F12%2F02%2Fdefinitive-guide-copying-pasting-javascript%2F&amp;linkname=The%20Definitive%20Guide%20to%20Copying%20and%20Pasting%20in%20JavaScript" title="Google+" rel="nofollow" target="_blank"></a>
         <a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fwww.lucidchart.com%2Ftechblog%2F2014%2F12%2F02%2Fdefinitive-guide-copying-pasting-javascript%2F&amp;linkname=The%20Definitive%20Guide%20to%20Copying%20and%20Pasting%20in%20JavaScript" title="Email" rel="nofollow" target="_blank"></a>
         <a class="a2a_dd addtoany_share_save" href="https://www.addtoany.com/share"></a>
        </div>
       </div> 
       <div style="text-align: center; margin: 20px 0;"> 
        <a href="https://www.lucidchart.com/users/registerLevel" class="sign-up-button large">Try Lucidchart Free</a> 
       </div> 
       <style>
            .sign-up-button.large {
                padding: 20px 30px;
                font-size: 1.4em;
                border-radius: 4px;
                color: #fff;
            }
        </style> 
      </div> 
      <div class="entry-tags clearfix"> 
       <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-tags fa-stack-1x fa-inverse"></i> </span> 
       <a href="https://www.lucidchart.com/techblog/tag/clipboard/" rel="tag">clipboard</a>, 
       <a href="https://www.lucidchart.com/techblog/tag/javascript/" rel="tag">javascript</a> 
      </div> 
      <ul class="entry-social clearfix"> 
       <li class="entry-social-facebook"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/&amp;t=The Definitive Guide to Copying and Pasting in JavaScript" target="_blank"> <i class="fa fa-facebook"></i></a> </li> 
       <li class="entry-social-twitter"> <a href="https://twitter.com/intent/tweet?text=The Definitive Guide to Copying and Pasting in JavaScript:&amp;url=https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/" target="_blank"> <i class="fa fa-twitter"></i></a> </li> 
       <li class="entry-social-google"> <a href="https://plus.google.com/share?https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/" target="_blank"> <i class="fa fa-google-plus"></i></a> </li> 
       <li class="entry-social-linkedin"> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/" target="_blank"> <i class="fa fa-linkedin"></i></a> </li> 
      </ul> 
     </article> 
     <nav class="post-nav-wrap content-margin content-background" role="navigation"> 
      <ul class="post-nav clearfix"> 
       <li class="post-nav-prev"> <a href="https://www.lucidchart.com/techblog/2014/11/20/testing-home-page-kissmetrics/" rel="prev"><i class="fa fa-chevron-left"></i>Previous post</a></li> 
       <li class="post-nav-next"> <a href="https://www.lucidchart.com/techblog/2015/03/03/build-lucidchart-ipad-swift/" rel="next">Next post<i class="fa fa-chevron-right"></i></a></li> 
      </ul> 
     </nav> 
     <section class="related-posts content-background"> 
      <h4 class="related-section-title">Related Articles</h4> 
      <ul class="related-wrap content-margin"> 
       <li class="related-item clearfix"> 
        <div class="related-thumbnail image-frame"> 
         <a href="https://www.lucidchart.com/techblog/2017/05/16/webassembly-overview-so-fast-so-fun-sorta-difficult/" title="WebAssembly Overview: So Fast! So Fun! Sorta Difficult!"> <img src="https://d2slcw3kip6qmk.cloudfront.net/marketing/blog/2017Q2/webassembly-overview-header@2x.png" alt="WebAssembly Overview: So Fast! So Fun! Sorta Difficult! thumbnail"> </a> 
        </div> <a href="https://www.lucidchart.com/techblog/2017/05/16/webassembly-overview-so-fast-so-fun-sorta-difficult/"><h5 class="related-title">WebAssembly Overview: So Fast! So Fun! Sorta Difficult!</h5></a> </li> 
      </ul> 
     </section> 
     <div class="comment-section"> 
      <h4 class="comment-section-title">20 Comments</h4> 
      <ol class="commentlist"> 
       <li class="comment even thread-even depth-1" id="li-comment-73015"> 
        <div id="comment-73015"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/4c6cd9a4fff73cc2bb87624e6240dc16?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4c6cd9a4fff73cc2bb87624e6240dc16?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">tepez</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-73015">March 20, 2015 at 3:34 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>There is an issue with the hidden textarea jsfiddle (<a href="http://jsfiddle.net/fpm1nn85/" rel="nofollow">http://jsfiddle.net/fpm1nn85/</a>). When we focus on the textarea, the scrollbar goes to the bottom. Solved this by changing the `hidden` class: `position: fixed; top: 0; left: 0`. That way on focus scrollbar does not change.</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-75905"> 
        <div id="comment-75905"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/d1989f546c6b38c88e3aeedfd11a4405?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/d1989f546c6b38c88e3aeedfd11a4405?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">SamAl</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-75905">May 8, 2015 at 9:25 pm</a> 
         </div> 
         <div class="comment-text"> 
          <p>Hi, the final snippet you posted here is supposed to be able to do copy and paste html for all browsers yea? But it doesnt paste html on firefox. Why is that?<br> Is it not supposed to paste html in firefox? but in the article here it says that firefox can indeed paste html</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment even thread-even depth-1" id="li-comment-78856"> 
        <div id="comment-78856"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/f56f9ba3e26cd50ba444c07a3e2e196d?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f56f9ba3e26cd50ba444c07a3e2e196d?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Michael</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-78856">July 16, 2015 at 8:18 pm</a> 
         </div> 
         <div class="comment-text"> 
          <p>I’m having a really hard time to copy the canvas into the clipboardData object and use it in elsewhere (let’s say MS Outlook message). All the samples demonstrate using the “text/plain” or “text/html” strings which works fine for me as well, but there are no sample on how to let’s say copy the image or canvas.</p> 
          <p>what I’ve tried so far was :<br> 1) convert the canvas to dataURI, convert this to blob, and convert the blob to file and I’ve tried to clipboardData.items.setData( “image/png”, file), or clipboardData.items.files.add(f) but no luck there</p> 
          <p>2) I’ve tried to setData(“image/png”, blob)</p> 
          <p>3) I’ve tried to setData(“image/png”, stream) where stream is a blob converted into a UInt8Array</p> 
          <p>and many other things… any ideas how to get a simple image let’s say this one “data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMvvhp8YAAAA3SURBVDhPY/hIAaCG5lwkQLzI0NZMHqCGZqhrwIB4kaGtmTxADc1Q14AB8SJDWzN5gALNHz8CAJNDix6/DGcSAAAAAElFTkSuQmCC” to clipboard and paste it in word ?</p> 
          <p>thanks</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment byuser comment-author-dmitry odd alt thread-odd thread-alt depth-1" id="li-comment-78971"> 
        <div id="comment-78971"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/f29b61a0de2c25477687d9ce4b720cbe?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f29b61a0de2c25477687d9ce4b720cbe?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Dmitry Pashkevich</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-78971">July 20, 2015 at 11:06 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>Unfortunately, browsers do not currently support putting image data onto the clipboard. It is something we wanted to do for Lucidchart and Lucidpress, but it doesn’t appear to be possible. Chrome doesn’t support is (there <a href="https://code.google.com/p/chromium/issues/detail?id=150835" rel="nofollow">an issue for it</a> already for it in the Chromium project (feel free to up-vote it)), and Chrome has had the best clipboard support of any of the browsers, so I assume it is the same for other browsers.</p> 
          <p>With that said, we did find a creative way to use HTML to put images on the clipboard. Most productivity applications (MS Word, Powerpoint, etc) will download any images contained in the HTML that is pasted into the application. So, we created an endpoint on our servers to retrieve image data, and then just generate <img> tags pointing to that endpoint with the query parameters specifying the part of the document to generate as an image. When the user pastes the HTML with the <img> tag, MS Word (or whatever application) makes the call to download the image. Our servers generate the image as specified, and to the user, it looks as if they are pasting an image. The solution isn’t without its flaws, but it is the best we can do until browsers support copying image data to the clipboard.</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment even thread-even depth-1" id="li-comment-82756"> 
        <div id="comment-82756"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/f354a92f0b200e517801e04a725bdcd5?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f354a92f0b200e517801e04a725bdcd5?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Kunal</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-82756">September 22, 2015 at 6:53 pm</a> 
         </div> 
         <div class="comment-text"> 
          <p>Hi,<br> Thank you for the detailed information and jsFiddle. </p> 
          <p>I have a dataURL of a HTML5 canvas element generated by canvas.toDataURL(). How can I copy this dataURL to the clipboard so that I can paste it as an image in other applications?</p> 
          <p>dataURL has the following format:<br> “data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/……”</p> 
          <p>clipboardData.setData(‘image/png’, dataURL); doesn’t appear to work.</p> 
          <p>Any suggestions? Thanks.</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment byuser comment-author-richard bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-82759"> 
        <div id="comment-82759"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Richard Shurtz</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-82759">September 22, 2015 at 7:38 pm</a> 
         </div> 
         <div class="comment-text"> 
          <p>As was responded before… “Unfortunately, browsers do not currently support putting image data onto the clipboard. It is something we wanted to do for Lucidchart and Lucidpress, but it doesn’t appear to be possible. Chrome doesn’t support it (there <a href="https://code.google.com/p/chromium/issues/detail?id=150835" rel="nofollow">an issue for it</a> already for it in the Chromium project (feel free to up-vote it)), and Chrome has had the best clipboard support of any of the browsers, so I assume it is the same for other browsers.”</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment even thread-even depth-1" id="li-comment-82793"> 
        <div id="comment-82793"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/f354a92f0b200e517801e04a725bdcd5?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f354a92f0b200e517801e04a725bdcd5?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Kunal</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-82793">September 23, 2015 at 11:51 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>Hi Richard,<br> Thank you repeating the response. After I posted my question, I realized that someone had already posted the same question where Dmitry responded to it.</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-85284"> 
        <div id="comment-85284"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/69d528f3c9803349b7e5f290f64d2bed?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/69d528f3c9803349b7e5f290f64d2bed?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Matt</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-85284">December 16, 2015 at 3:25 pm</a> 
         </div> 
         <div class="comment-text"> 
          <p>STOP SCREWING WITH MY COPY/PASTE. There are websites where I can’t paste text into a textbox (like facebook), and the keyboard shortcuts don’t work, but the menu does. Or when I submit, its just blank. I don’t need all this extra junk. Stuff used to just “work” and now developers are trying to show their managers flashy stuff that just makers the users experience suffer.</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment even thread-even depth-1" id="li-comment-85444"> 
        <div id="comment-85444"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/a9c12201714ef47ec75e97bc1cd7f4fa?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a9c12201714ef47ec75e97bc1cd7f4fa?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">tom</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-85444">December 29, 2015 at 8:18 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>Thanks very much for this helpfull writeup on the topic! You make this world a better place. Thanks very much for that, saved me lots of time to resarch this also. All the best!</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86099"> 
        <div id="comment-86099"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/f8545ad06abb7a4729fb31b8d0d49fa3?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f8545ad06abb7a4729fb31b8d0d49fa3?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Richard</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-86099">February 9, 2016 at 11:23 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>Hi Richard,</p> 
          <p>We have been using a desktop html editor of our own design. We typically paste Word docs into our editor, and we run a conversion of rtf to html. Because the editor has been a desktop app, we have been able to access the system clipboard and get the pasted data in rtf format:</p> 
          <p>System.Windows.Forms.clipboardRtf = Clipboard.GetData(System.Windows.Forms.DataFormats.Rtf)</p> 
          <p>We have a web-based version our editor, and now that we don’t have access to the user’s system clipboard, we are exploring methods for still getting rtf format, instead of text or html. Any ideas how we can get rtf when a Word doc is copied to a user’s clipboard and then pasted into an app in a browser?</p> 
          <p>Thanks.</p> 
          <p>Richard</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment byuser comment-author-richard bypostauthor even thread-even depth-1" id="li-comment-86257"> 
        <div id="comment-86257"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Richard Shurtz</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-86257">March 14, 2016 at 2:17 pm</a> 
         </div> 
         <div class="comment-text"> 
          <p>I’ve tried playing around with this to see if there is anyway to get RFT data off the clipboard in the browser. As far as I can tell, there is not. What is interesting, however, is if you copy from Word, and paste in Chrome (using one of the snippets linked to in the post above) and then inspect the clipboardData object, there is a DataTransferItem of type ‘text/rtf’. Unfortunately, whenever I have called clipboardData.getData(‘text/rtf’), I only get back the empty string. So, for some reason, Chrome recognizes there is some RTF data on the clipboard, but doesn’t (for whatever reason) actually expose it.</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-86845"> 
        <div id="comment-86845"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/aa088b086836a9462a3bbf034f3e6bdb?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/aa088b086836a9462a3bbf034f3e6bdb?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Sagar</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-86845">May 26, 2016 at 4:37 pm</a> 
         </div> 
         <div class="comment-text"> 
          <p>Thanks a lot for this tutorial, I was looking for something similar for Libgdx game.<br> I’ll refer to this site as reference to my answer on stackoverflow.<br> <a href="http://stackoverflow.com/questions/36941236/libgdx-html-clipboard" rel="nofollow">http://stackoverflow.com/questions/36941236/libgdx-html-clipboard</a></p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment even thread-even depth-1" id="li-comment-87723"> 
        <div id="comment-87723"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/da2caf7c42aa5ea7e204e27d75c0478f?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/da2caf7c42aa5ea7e204e27d75c0478f?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Brandon</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-87723">August 12, 2016 at 10:35 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>Your jsfiddle links are broken ?</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment byuser comment-author-richard bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-87725"> 
        <div id="comment-87725"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Richard Shurtz</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-87725">August 12, 2016 at 2:57 pm</a> 
         </div> 
         <div class="comment-text"> 
          <p>I just clicked through all the links on the page and they are all working. Maybe jsfiddle was down temporarily…</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment even thread-even depth-1" id="li-comment-91781"> 
        <div id="comment-91781"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/98e0e4646635b4a7d7ee58cca7b2cd56?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/98e0e4646635b4a7d7ee58cca7b2cd56?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Caleb</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-91781">January 17, 2017 at 8:08 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>Your jsFiddle has an HTML5 canvas demo. Not the actual clipboard demo.</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment byuser comment-author-richard bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-91783"> 
        <div id="comment-91783"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Richard Shurtz</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-91783">January 17, 2017 at 9:28 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>Caleb – The jsFiddle demo has an HTML5 canvas to mimic what we use in Lucidchart and Lucidpress. However, it also contains the clipboard code. To see what the clipboard is doing, just open the dev console. Hope that helps!</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment even thread-even depth-1" id="li-comment-96841"> 
        <div id="comment-96841"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/93369661d943607608be26c59e1e615a?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/93369661d943607608be26c59e1e615a?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">sergey</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-96841">April 7, 2017 at 5:45 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>Hi!<br> Thank you for the article!</p> 
          <p>Question: How in IE to insert in setData not text, but html?</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment byuser comment-author-richard bypostauthor odd alt thread-odd thread-alt depth-1" id="li-comment-96847"> 
        <div id="comment-96847"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8174882f6d0cadc0309fcf7375362553?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Richard Shurtz</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-96847">April 7, 2017 at 10:37 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>Sergey – I explained the method to get and set HTML in IE (I event included a diagram to help explain it as it can be tricky to follow) in the post above. Here is the link to the code snippet that should be a good starting place for you as you work on it. <a href="http://jsfiddle.net/vtjnr6ea/" rel="nofollow">http://jsfiddle.net/vtjnr6ea/</a></p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="pingback even thread-even depth-1" id="li-comment-97705"> 
        <div id="comment-97705"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo avatar-default" height="70" width="70"> 
          <span class="comment-author"><a href="http://wiliammbr.com/copying-and-pasting-images-to-your-sharepoint-pages/" rel="external nofollow" class="url">Copying and Pasting images to your SharePoint Pages – wiliammbr's blog</a></span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-97705">May 1, 2017 at 8:57 am</a> 
         </div> 
         <div class="comment-text"> 
          <p>[…] References: THE DEFINITIVE GUIDE TO COPYING AND PASTING IN JAVASCRIPT […]</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
       <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-101190"> 
        <div id="comment-101190"> 
         <div class="vcard"> 
          <img alt="" src="https://secure.gravatar.com/avatar/186b533a8de7190a2b7a3ddeb729bfce?s=70&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/186b533a8de7190a2b7a3ddeb729bfce?s=140&amp;d=mm&amp;r=g 2x" class="avatar avatar-70 photo" height="70" width="70"> 
          <span class="comment-author">Carlos Mauricio</span> • 
          <a href="https://www.lucidchart.com/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#comment-101190">September 24, 2017 at 10:29 pm</a> 
         </div> 
         <div class="comment-text"> 
          <p>Es posible hacer lo dicho anteriormente con un menú personalizado (“contaxtmenu”) al dacr click derecho sobre cajas de texto (inpus), con la opción de: seleccionar, copiar, cortar, pegar y eliminar. Que corra en los navegadores.</p> 
         </div> 
        </div></li>
       <!-- #comment-## --> 
      </ol> 
     </div> 
     <div id="respond" class="comment-respond"> 
      <h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="/techblog/2014/12/02/definitive-guide-copying-pasting-javascript/#respond" style="display:none;">Cancel reply</a></small></h3> 
      <form action="https://www.lucidchart.com/techblog/wp-comments-post.php" method="post" id="commentform" class="comment-form"> 
       <p class="comment-notes">Your email address will not be published.</p>
       <textarea id="comment" name="comment" placeholder="Enter Message Here" class="comment-text-area" cols="45" rows="5" aria-required="true"></textarea>
       <p></p>
       <input type="text" id="author" name="author" placeholder="Enter Name" class="comment-name" value="" size="30" aria-required="true"> 
       <input type="text" id="email" name="email" placeholder="Enter Email" class="comment-email" value="" size="30" aria-required="true"> 
       <input type="text" id="url" name="url" placeholder="Enter URL" class="comment-url" value="" size="30"> 
       <p class="form-submit"><input name="submit" type="submit" id="comment-submit" class="submit" value="Send Comment"> <input type="hidden" name="comment_post_ID" value="944" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"> </p>
       <p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="0c27229712"></p>
       <p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="85"></p> 
      </form> 
     </div>
     <!-- #respond --> 
    </div> 
    <aside id="main-sidebar" class="mh-sidebar"> 
     <div class="sb-widget">
      <div class="widget-content"> 
       <div class="textwidget">
        <p>Lucidchart is an <a href="https://www.lucidchart.com/">online flowchart maker</a> used by more than 7 million people around the world to create flowcharts, network diagrams, ER diagrams, UML diagrams, mind maps, and more. Because of its intuitive user interface and collaborative features, it is the most popular <a href="https://www.lucidchart.com/pages/tour/visio_alternative">online Visio alternative.</a></p> 
        <p>Lucidchart is one of the most popular productivity apps for G Suite, Confluence, JIRA, Jive and many other leading platforms.</p>
       </div> 
      </div>
     </div>
     <div class="sb-widget">
      <div class="widget-content">
       <form role="search" method="get" id="searchform" class="searchform" action="https://www.lucidchart.com/techblog/"> 
        <div> 
         <label class="screen-reader-text" for="s">Search for:</label> 
         <input type="text" value="" name="s" id="s"> 
         <input type="submit" id="searchsubmit" value="Search"> 
        </div> 
       </form>
      </div>
     </div>
     <div class="sb-widget">
      <div class="widget-content">
       <h4 class="widget-title">Categories</h4>
       <label class="screen-reader-text" for="cat">Categories</label>
       <select name="cat" id="cat" class="postform"> <option value="-1">Select Category</option> <option class="level-0" value="32">Architecture</option> <option class="level-0" value="38">Behind the Scenes</option> <option class="level-0" value="203">Career</option> <option class="level-0" value="25">Database</option> <option class="level-0" value="30">DevOps</option> <option class="level-0" value="34">Integrations</option> <option class="level-0" value="52">Mobile</option> <option class="level-0" value="48">Open Source</option> <option class="level-0" value="75">Quality Assurance</option> <option class="level-0" value="73">Software Testing</option> <option class="level-0" value="1">Uncategorized</option> <option class="level-0" value="36">Web Development</option> </select> 
       <script type="text/javascript">
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "cat" );
	function onCatChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value > 0 ) {
			location.href = "https://www.lucidchart.com/techblog/?cat=" + dropdown.options[ dropdown.selectedIndex ].value;
		}
	}
	dropdown.onchange = onCatChange;
})();
/* ]]> */
</script> 
      </div>
     </div> 
     <div class="sb-widget subscribe" id="fixe"> 
      <p>Enter your email and get these articles right to your inbox.</p> 
      <!--[if lte IE 8]>
        <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2-legacy.js"></script>
        <![endif]--> 
      <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2.js"></script> 
      <script>
          hbspt.forms.create({
            css: '',
            portalId: '442690',
            formId: '883f2dd1-9a3b-431c-a68a-e087604d371a'
          });
        </script> 
      <style>
            .hs_email.field.hs-form-field label {
                visibility: hidden;
            }
            .hs-form-field input[type="email"],
            .hs_submit input[type="submit"] {
                width: 100%;
                box-sizing: border-box;
                margin-bottom: 8px;
                font-size: 1.2em;
            }
            .sb-widget.subscribe .hs-error-msgs {
                display: none !important;
            }
            #fixe.fixedTop {
                position: fixed;
                top: 20px;
                max-width: 300px;
            }
        </style> 
      <script>


                if (jQuery(this).scrollTop() > 1264 && jQuery(window).width() > 970) {
                jQuery("#fixe").addClass("fixedTop");
                } else {
                jQuery("#fixe").removeClass("fixedTop");
                }

                jQuery(window).scroll(function () {
                  if (jQuery(this).scrollTop() > 1264 && jQuery(window).width() > 970) {
                    jQuery("#fixe").addClass("fixedTop");
                  } else {
                    jQuery("#fixe").removeClass("fixedTop");
                  }

                });

                jQuery(window).resize(function () {
                  if (jQuery(this).scrollTop() > 1264 && jQuery(window).width() > 970) {
                    jQuery("#fixe").addClass("fixedTop");
                  } else {
                    jQuery("#fixe").removeClass("fixedTop");
                  }

                });


            // else {
            // }

        </script> 
     </div> 
    </aside>
   </div> 
   <footer id="mh-footer" class="footer clearfix"> 
    <nav class="social-nav clearfix"> 
     <div class="menu-social-container">
      <ul id="menu-social" class="menu">
       <li id="menu-item-1485" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1485"><a href="https://www.facebook.com/lucidchart"><span class="social-icon"><i class="fa fa-mh-social"></i></span><span class="screen-reader-text">Facebook</span></a></li> 
       <li id="menu-item-1486" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1486"><a href="https://twitter.com/lucidchart"><span class="social-icon"><i class="fa fa-mh-social"></i></span><span class="screen-reader-text">Twitter</span></a></li> 
       <li id="menu-item-1487" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1487"><a href="https://plus.google.com/111464091826472565111/posts"><span class="social-icon"><i class="fa fa-mh-social"></i></span><span class="screen-reader-text">Google+</span></a></li> 
       <li id="menu-item-1488" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1488"><a href="https://www.youtube.com/user/lucidchart"><span class="social-icon"><i class="fa fa-mh-social"></i></span><span class="screen-reader-text">YouTube</span></a></li> 
       <li id="menu-item-1489" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1489"><a href="https://www.linkedin.com/company/lucidsoftware"><span class="social-icon"><i class="fa fa-mh-social"></i></span><span class="screen-reader-text">LinkedIn</span></a></li> 
      </ul>
     </div> 
    </nav> 
    <style>
.footer-urls{padding:0 0 25px 0;list-style:none;width:90%;margin:0 auto}
@media only screen and (min-width:480px){.footer-urls{padding:3% 0 25px 0;width:100%;margin:0 auto}}
@media only screen and (min-width:641px){.footer-urls li ul>li:before{content:""}}
.footer-urls li ul li{display:block}
.footer-urls li ul{padding:0 0 20px 0}
.footer .footer-container .footer-urls li{position:relative}
@media only screen and (min-width:641px){.footer-urls li{display:inline-block;width:7.5em;padding:0}}
@media only screen and (min-width:768px){.footer-urls li{width:10em}}
.footer-urls ul li{display:inline-block;color:#a3a3a3;font-size:12px;padding:4px 8px 0 4px;}
.footer-urls ul li a{color:#a3a3a3;text-decoration:none}
.footer-urls ul li a:hover{color:#909090}
.flyout{list-style:none;margin-left:100px;padding:0}
.footer-urls li .flyout ul{background:#0F0F0F;border-radius:5px;padding:5px 5px;list-style:none;position:absolute;z-index:15;width:150px;top:-50px}
.flyout ul span{border-style:dashed;border-color:transparent;border-width:.1em;display:inline-block;font-size:100px;vertical-align:middle;border-right-style:solid;border-right-color:#0F0F0F;position:absolute;left:-20px;top:50px}
.flyout ul span.triangle{top:50px}
.flyout ul li{padding:5px 0 5px 10px;width:100%}
.flyout ul li:before{display:none}
.hidden{display:none}
.invisible{visibility:hidden}
.footer-urls h4 {font-size: 1rem;color: #c3c3c3;font-weight: 400;display: block;}
.footer-container {padding: 20px 0 0 20px;}
</style> 
    <div class="footer-container"> 
     <ul class="footer-urls"> 
      <li> 
       <ul> 
        <li><h4>Lucidchart</h4></li> 
        <li><a href="/pages/tour" class="">Tour</a></li> 
        <li><a href="/pages/examples" class="">Templates</a></li> 
        <li><a href="/users/registerLevel">Pricing</a></li> 
        <li><a href="/blog">Blog</a></li> 
       </ul> </li> 
      <li> 
       <ul> 
        <li><h4>Partners</h4></li> 
        <li><a href="/pages/google-apps">Google Apps</a></li> 
        <li><a href="/pages/google-drive">Google Drive</a></li> 
        <li><a href="/pages/tour/confluence">Confluence</a></li> 
        <li><a href="/pages/tour/jira">JIRA</a></li> 
       </ul> </li> 
      <li> 
       <ul> 
        <li><h4>About</h4></li> 
        <li><a href="https://lucidchart.zendesk.com/hc/en-us" target="_blank">Help</a></li> 
        <li><a href="/pages/tos">Terms</a></li> 
        <li><a href="/pages/privacy">Privacy</a></li> 
        <li><a href="/contact" class="contact_us_link">Contact</a></li> 
       </ul> </li> 
      <li> 
       <ul> 
        <li><h4>Lucid Software</h4></li> 
        <li><a href="/pages/press">Press</a></li> 
        <li><a href="https://www.golucid.co/#team" target="_blank">Team</a></li> 
        <li><a href="https://www.golucid.co/jobs" target="_blank">Careers</a></li> 
        <li><a href="https://www.lucidpress.com" class="">Lucidpress</a></li> 
       </ul> </li> 
     </ul> 
    </div> 
    <div class="copyright-wrap"> 
     <p class="copyright">© Lucidchart 2017</p> 
    </div> 
   </footer> 
  </div> 
  <script src="//d2slcw3kip6qmk.cloudfront.net/lib/lucid/prism/prism-3.js"></script> 
  <!-- Start of Async HubSpot Analytics Code for WordPress v1.9.4 --> 
  <script type="text/javascript">
var _hsq = _hsq || [];
_hsq.push(["setContentType", "blog-post"]);
(function(d,s,i,r) {
  if (d.getElementById(i)){return;}
  var n = d.createElement(s),e = document.getElementsByTagName(s)[0];
  n.id=i;n.src = '//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/442690.js';
  e.parentNode.insertBefore(n, e);
})(document, "script", "hs-analytics", 300000);
</script> 
  <!-- End of Async HubSpot Analytics Code --> 
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-5909456-1', 'lucidchart.com');
    ga('send', 'pageview');
</script> 
  <script type="text/javascript">
    var _kmq = _kmq || [];
    var _kmk = _kmk || 'a5d50354c435f0e24557077e252bf2a15fa75b51';
    function _kms(u){
      setTimeout(function(){
        var d = document, f = d.getElementsByTagName('script')[0],
        s = d.createElement('script');
        s.type = 'text/javascript'; s.async = true; s.src = u;
        f.parentNode.insertBefore(s, f);
      }, 1);
    }
    _kms('//i.kissmetrics.com/i.js');
    _kms('//doug1izaerwt3.cloudfront.net/' + _kmk + '.1.js');

  //HubSpot
  var _hsq = _hsq || [];
  window._hsq = _hsq;
  (function(d,s,i,r) {
    if (d.getElementById(i)){return;}
    var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
    n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/442690.js';
    e.parentNode.insertBefore(n, e);
  })(document,"script","hs-analytics",300000);
</script> 
  <script type="text/javascript" src="https://d2slcw3kip6qmk.cloudfront.net/lib/external/retina/retina-1.3.0-lucid.min.js"></script> 
  <script type="text/javascript" src="//js.hsforms.net/forms/current.js"></script> 
  <script type="text/javascript" src="/js/config"></script> 
  <script type="text/javascript" src="/js/app/config/chart.js"></script> 
  <script type="text/javascript" src="/js/closure/bin/lucidalert.js"></script> 
  <script type="text/javascript" src="https://www.lucidchart.com/techblog/wp-content/plugins/akismet/_inc/form.js?ver=3.3.2"></script> 
  <script type="text/javascript" src="https://www.lucidchart.com/techblog/wp-includes/js/wp-embed.min.js?ver=4.7.5"></script>   
 </body>
</html>