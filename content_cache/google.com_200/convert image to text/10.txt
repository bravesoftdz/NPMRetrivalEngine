<!doctype html>
<html>
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <title>Export HTML to PDF, how hard can it be?</title> 
  <meta name="description" content=""> 
  <meta name="HandheldFriendly" content="True"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="shortcut icon" href="/favicon.ico"> 
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400"> 
  <link rel="stylesheet" type="text/css" href="/assets/css/screen.css?v=556549140b"> 
  <link rel="canonical" href="http://blog.stahlmandesign.com/export-html-to-pdf-how-hard-can-it-be/"> 
  <meta name="referrer" content="no-referrer-when-downgrade"> 
  <link rel="amphtml" href="http://blog.stahlmandesign.com/export-html-to-pdf-how-hard-can-it-be/amp/"> 
  <meta property="og:site_name" content="Stahlman Design blog"> 
  <meta property="og:type" content="article"> 
  <meta property="og:title" content="Export HTML to PDF, how hard can it be?"> 
  <meta property="og:description" content="Uncertainty: how do you export an interactive, responsive SPA designed for the web into a printed PDF document? Challenges of the SPA (single-page application, or web app) There are no page breaks on the web The web app adapts to screen sizes on the fly The web app has elements"> 
  <meta property="og:url" content="http://blog.stahlmandesign.com/export-html-to-pdf-how-hard-can-it-be/"> 
  <meta property="article:published_time" content="2017-01-20T19:58:59.000Z"> 
  <meta property="article:modified_time" content="2017-01-20T22:35:38.000Z"> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:title" content="Export HTML to PDF, how hard can it be?"> 
  <meta name="twitter:description" content="Uncertainty: how do you export an interactive, responsive SPA designed for the web into a printed PDF document? Challenges of the SPA (single-page application, or web app) There are no page breaks on the web The web app adapts to screen sizes on the fly The web app has elements"> 
  <meta name="twitter:url" content="http://blog.stahlmandesign.com/export-html-to-pdf-how-hard-can-it-be/"> 
  <meta name="twitter:label1" content="Written by"> 
  <meta name="twitter:data1" content="Justin Stahlman"> 
  <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Stahlman Design blog",
        "logo": "http://blog.stahlmandesign.com/content/images/2015/06/Capture-d--cran-2015-06-19---21-52-15.png"
    },
    "author": {
        "@type": "Person",
        "name": "Justin Stahlman",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/0b7665b2ff64704354b7f905c6f53f2a?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "http://blog.stahlmandesign.com/author/justin/",
        "sameAs": [
            "http://www.stahlmandesign.com"
        ]
    },
    "headline": "Export HTML to PDF, how hard can it be?",
    "url": "http://blog.stahlmandesign.com/export-html-to-pdf-how-hard-can-it-be/",
    "datePublished": "2017-01-20T19:58:59.000Z",
    "dateModified": "2017-01-20T22:35:38.000Z",
    "description": "Uncertainty: how do you export an interactive, responsive SPA designed for the web into a printed PDF document? Challenges of the SPA (single-page application, or web app) There are no page breaks on the web The web app adapts to screen sizes on the fly The web app has elements",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://blog.stahlmandesign.com"
    }
}
    </script> 
  <meta name="generator" content="Ghost 0.11"> 
  <link rel="alternate" type="application/rss+xml" title="Stahlman Design blog" href="http://blog.stahlmandesign.com/rss/"> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65205210-1', 'auto');
  ga('send', 'pageview');

</script> 
 </head> 
 <body class="post-template nav-closed"> 
  <div class="nav"> 
   <h3 class="nav-title">Menu</h3> 
   <a href="#" class="nav-close"> <span class="hidden">Close</span> </a> 
   <ul> 
    <li class="nav-home"><a href="http://www.stahlmandesign.com/">Home</a></li> 
    <li class="nav-news-graphics"><a href="http://www.stahlmandesign.com/newsgraphics">News Graphics</a></li> 
    <li class="nav-en-5-minutes-old"><a href="http://www.stahlmandesign.com/en5minutes/1">En 5 minutes - OLD</a></li> 
    <li class="nav-en-5-minutes-new"><a href="http://www.stahlmandesign.com/en5minutes/2">En 5 minutes - NEW</a></li> 
    <li class="nav-html5"><a href="http://www.stahlmandesign.com/html5">HTML5</a></li> 
    <li class="nav-flash-interactive"><a href="http://www.stahlmandesign.com/flash">Flash interactive</a></li> 
    <li class="nav-games"><a href="http://www.stahlmandesign.com/games">Games</a></li> 
    <li class="nav-animation"><a href="http://www.stahlmandesign.com/animation">Animation</a></li> 
    <li class="nav-illustration"><a href="http://www.stahlmandesign.com/illustration">Illustration</a></li> 
    <li class="nav-music"><a href="http://www.stahlmandesign.com/music">Music</a></li> 
    <li class="nav-blog"><a href="http://blog.stahlmandesign.com/">Blog</a></li> 
   </ul> 
   <a class="subscribe-button icon-feed" href="http://blog.stahlmandesign.com/rss/">Subscribe</a> 
  </div> 
  <span class="nav-cover"></span> 
  <div class="site-wrapper"> 
   <header class="main-header post-head no-cover"> 
    <nav class="main-nav  clearfix"> 
     <a class="blog-logo" href="http://blog.stahlmandesign.com"><img src="/content/images/2015/06/Capture-d--cran-2015-06-19---21-52-15.png" alt="Stahlman Design blog"></a> 
     <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a> 
    </nav> 
   </header> 
   <main class="content" role="main"> 
    <article class="post"> 
     <header class="post-header"> 
      <h1 class="post-title">Export HTML to PDF, how hard can it be?</h1> 
      <section class="post-meta"> 
       <time class="post-date" datetime="2017-01-20">20 January 2017</time> 
      </section> 
     </header> 
     <section class="post-content"> 
      <p><em>Uncertainty: how do you export an interactive, responsive SPA designed for the web into a printed PDF document?</em></p> 
      <p><strong>Challenges of the SPA (single-page application, or web app)</strong></p> 
      <ul> 
       <li>There are no page breaks on the web</li> 
       <li>The web app adapts to screen sizes on the fly</li> 
       <li>The web app has elements that are only shown in popups</li> 
       <li>Images rendered into <code>&lt;canvas&gt;</code> or <code>&lt;svg&gt;</code> throw cross-domain errors</li> 
      </ul> 
      <p><strong>Needs of a PDF/printed document:</strong></p> 
      <ul> 
       <li>Clients have different page sizes in different countries</li> 
       <li>Document needs clean page breaks, no text cut in half</li> 
       <li>Document needs header and footer with ref. # on each page</li> 
       <li>Need to show images and text exactly as in web app</li> 
       <li>Text should be searchable, not rasterized</li> 
      </ul> 
      <p><strong>Developer needs</strong></p> 
      <ul> 
       <li>Server-side solutions must support Node.js (no PHP etc.)</li> 
       <li>Ideally needs to be generated server-side, without a browser</li> 
       <li>Ideally a clean file in case it needs to be imported and parsed</li> 
       <li>Small file size for sending in email</li> 
      </ul> 
      <h1 id="threetypesofmodulesplugins">Three types of modules/plugins</h1> 
      <ol> 
       <li>Purely JavaScript (client-side generates PDF) </li> 
       <li>Node.js (server generates PDF)</li> 
       <li>Raster (turn HTML page into an image saved as PDF)</li> 
      </ol> 
      <hr> 
      <h1 id="clientside">Client-side</h1> 
      <p><img src="/content/images/2017/01/jsPDF.png" alt=""></p> 
      <h5 id="jspdf">jsPDF</h5> 
      <blockquote> 
       <p><strong>Client-side</strong> JavaScript PDF generation for everyone</p> 
      </blockquote> 
      <p>Conclusion: Exports raw HTML but currently without CSS support. </p> 
      <p><a href="https://github.com/MrRio/jsPDF">https://github.com/MrRio/jsPDF</a> <br> <a href="https://parall.ax/products/jspdf">https://parall.ax/products/jspdf</a></p> 
      <hr> 
      <p><img src="/content/images/2017/01/pdfkit.png" alt=""></p> 
      <h5 id="pdfkit">PDFKit</h5> 
      <blockquote> 
       <p>A JavaScript PDF generation library <strong>for Node and the browser</strong></p> 
      </blockquote> 
      <p>Conclusion: Impressive but uses its own scripting to generate content. Does not convert existing HTML into PDF.</p> 
      <p><a href="http://pdfkit.org">http://pdfkit.org</a> <br> <a href="https://github.com/devongovett/pdfkit/">https://github.com/devongovett/pdfkit/</a></p> 
      <hr> 
      <p><img src="/content/images/2017/01/pdfmake.png" alt=""></p> 
      <h5 id="pdfmake">pdfmake</h5> 
      <blockquote> 
       <p><strong>Client/server</strong> side PDF printing in pure JavaScript. Based on pdfkit, build PDF using a JSON format</p> 
      </blockquote> 
      <p>Conclusion: Extends pdfkit, uses its own scripting commands to generate PDF from data. Does not convert HTML into PDF.</p> 
      <p><a href="https://github.com/bpampuch/pdfmake">https://github.com/bpampuch/pdfmake</a> <br> <a href="http://pdfmake.org/playground.html">http://pdfmake.org/playground.html</a></p> 
      <hr> 
      <h5 id="domtoimage">DOM-to-image</h5> 
      <p><img src="/content/images/2017/01/DOM-to-image.png" alt=""></p> 
      <p>Conclusion: Very close to satisfactory, can save page as an SVG using <code>&lt;foreignObject&gt;</code>, but this of course doesn’t work in IE, and will <em>never</em> be supported in IE.</p> 
      <p><a href="https://www.npmjs.com/package/dom-to-image">https://www.npmjs.com/package/dom-to-image</a></p> 
      <hr> 
      <h1 id="seversidewithnodejs">Sever-side with Node.js</h1> 
      <p><img src="/content/images/2017/01/Capture-d--cran-2017-01-20---17.33.47.png" alt=""></p> 
      <h5 id="nodehtmlpdf">node-html-pdf</h5> 
      <p><a href="https://github.com/marcbachmann/node-html-pdf">https://github.com/marcbachmann/node-html-pdf</a></p> 
      <p>Conclusion: Similar to others, use JSON scripting to generate PDF. You must generate inline CSS yourself if you want to use it. Not as good as other solutions.</p> 
      <hr> 
      <pre><code>module.exports = {  
    header: {
        height: '3cm', contents: function (page) {
            return '&lt;header class="pdf-header" style=" overflow:hidden; font-size: 10px; padding: 10px; margin: 0 -15px; color: #fff; background: none repeat scroll 0 0 #00396f;"&gt;&lt;img style="float: left;" alt="" src="../images/logo.jpg"&gt;&lt;p&gt; XYZ &lt;/p&gt;&lt;/header&gt;'
        }
    },

    footer: {
        height: '3cm', contents: function (page) {
            return '&lt;footer class="pdf-footer" style="font-size: 10px; font-weight: bold; color: #000;&gt;&lt;p style="margin: 0"&gt;Powered by XYZ&lt;/p&gt;&lt;/footer&gt;'
        }
    },

}
</code></pre> 
      <h5 id="phantomhtml2pdf">phantom-html2pdf</h5> 
      <blockquote> 
       <p>Node module to generate PDFs from HTML via PhantomJS</p> 
      </blockquote> 
      <p>Looks promising, appears to support CSS. Need to test.</p> 
      <p><a href="https://github.com/bauhausjs/phantom-html2pdf/blob/master/FAQ.md">https://github.com/bauhausjs/phantom-html2pdf/blob/master/FAQ.md</a> <br> <a href="https://github.com/bauhausjs/phantom-html2pdf/issues/24">https://github.com/bauhausjs/phantom-html2pdf/issues/24</a> <br> <a href="https://medium.com/@stockholmux/besting-phantomjs-font-problems-ee22795f5c0b#.jk6ur5grq">https://medium.com/@stockholmux/besting-phantomjs-font-problems-ee22795f5c0b#.jk6ur5grq</a></p> 
      <p>Conclusion: Looks like a good solution. Node process converts HTML with styles into PDF, supports headers and footers.</p> 
      <hr> 
      <p><img src="/content/images/2017/01/wkhtml2pdf.jpg" alt=""></p> 
      <h5 id="wkhtmltopdf">wkhtmltopdf</h5> 
      <p>Node wrapper of CLI WebKit HTML to PDF <br> <a href="http://wkhtmltopdf.org">http://wkhtmltopdf.org</a> <br> <a href="https://github.com/devongovett/node-wkhtmltopdf">https://github.com/devongovett/node-wkhtmltopdf</a></p> 
      <p>Conclusion: Node process converts HTML file to PDFs using WebKit, but what about page breaks, header, footer?</p> 
      <hr> 
      <h1 id="rasterconverttoimage">Raster (convert to image)</h1> 
      <p><img src="/content/images/2017/01/html2canvas.png" alt=""></p> 
      <h5 id="html2canvas">html2canvas</h5> 
      <blockquote> 
       <p>This script allows you to take "screenshots" of webpages or parts of it, directly on the users browser.</p> 
      </blockquote> 
      <p>Conclusion: Converts HTML page exactly as you see it to a raster image, but the text is blurry and not selectable. Makes large files. Might be good for portions of an HTML file, like the images, but not good for text.</p> 
      <p><a href="http://html2canvas.hertzen.com">http://html2canvas.hertzen.com</a></p> 
      <hr> 
      <p><img src="/content/images/2017/01/rasterizeHTML.png" alt=""></p> 
      <h5 id="rasterizehtmljs">RasterizeHTML.js</h5> 
      <blockquote> 
       <p>Draw a page/an HTML string/a Document to the canvas.</p> 
      </blockquote> 
      <p><a href="https://cburgmer.github.io/rasterizeHTML.js/">https://cburgmer.github.io/rasterizeHTML.js/</a></p> 
      <p>Conclusion: Like html2canvas, turns HTML into an image. Text not selectable. IE up to version 11 does not honour <code>&lt;foreignObject&gt;</code> and is unsupported.</p> 
     </section> 
     <footer class="post-footer"> 
      <figure class="author-image"> 
       <a class="img" href="/author/justin/" style="background-image: url(//www.gravatar.com/avatar/0b7665b2ff64704354b7f905c6f53f2a?s=250&amp;d=mm&amp;r=x)"><span class="hidden">Justin Stahlman's Picture</span></a> 
      </figure> 
      <section class="author"> 
       <h4><a href="/author/justin/">Justin Stahlman</a></h4> 
       <p>Read <a href="/author/justin/">more posts</a> by this author.</p> 
       <div class="author-meta"> 
        <span class="author-location icon-location">Montréal</span> 
        <span class="author-link icon-link"><a href="http://www.stahlmandesign.com">http://www.stahlmandesign.com</a></span> 
       </div> 
      </section> 
      <section class="share"> 
       <h4>Share this post</h4> 
       <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Export%20HTML%20to%20PDF%2C%20how%20hard%20can%20it%20be%3F&amp;url=http://blog.stahlmandesign.com/export-html-to-pdf-how-hard-can-it-be/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"> <span class="hidden">Twitter</span> </a> 
       <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.stahlmandesign.com/export-html-to-pdf-how-hard-can-it-be/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"> <span class="hidden">Facebook</span> </a> 
       <a class="icon-google-plus" href="https://plus.google.com/share?url=http://blog.stahlmandesign.com/export-html-to-pdf-how-hard-can-it-be/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;"> <span class="hidden">Google+</span> </a> 
      </section> 
     </footer> 
    </article> 
   </main> 
   <aside class="read-next"> 
    <a class="read-next-story prev no-cover" href="/learning-react-a-few-helpful-notes/"> 
     <section class="post"> 
      <h2>Learning React, a few helpful notes</h2> 
      <p>It's been mostly a pleasure learning React.js over the past few weeks. Many things I didn't know at…</p> 
     </section> </a> 
   </aside> 
   <footer class="site-footer clearfix"> 
    <section class="copyright">
     <a href="http://blog.stahlmandesign.com">Stahlman Design blog</a> © 2017
    </section> 
    <section class="poweredby">
     Proudly published with 
     <a href="https://ghost.org">Ghost</a>
    </section> 
   </footer> 
  </div> 
  <script type="text/javascript" src="//code.jquery.com/jquery-1.12.0.min.js"></script> 
  <!-- You can safely delete this line if your theme does not require jQuery --> 
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script> 
  <script type="text/javascript" src="/assets/js/jquery.fitvids.js?v=556549140b"></script> 
  <script type="text/javascript" src="/assets/js/index.js?v=556549140b"></script>   
 </body>
</html>