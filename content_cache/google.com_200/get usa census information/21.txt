<!doctype html>
<html xmlns:cc="http://creativecommons.org/ns#">
 <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Command-Line Cartography, Part 1 – Mike Bostock – Medium</title>
  <link rel="canonical" href="https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c">
  <meta name="title" content="Command-Line Cartography, Part 1 – Mike Bostock – Medium">
  <meta name="referrer" content="unsafe-url">
  <meta name="description" content="This multipart tutorial will teach you to make a thematic map from the command line using d3-geo, TopoJSON and ndjson-cli—free, open-source tools written in JavaScript. We’ll make a choropleth of…">
  <meta name="theme-color" content="#000000">
  <meta property="og:title" content="Command-Line Cartography, Part 1 – Mike Bostock – Medium">
  <meta property="og:url" content="https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c">
  <meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*E3frfq0xjAKUVIEy_3UMgw.png">
  <meta property="fb:app_id" content="542599432471018">
  <meta property="og:description" content="A tour of d3-geo’s new command-line interface.">
  <meta name="twitter:description" content="A tour of d3-geo’s new command-line interface.">
  <meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*E3frfq0xjAKUVIEy_3UMgw.png">
  <link rel="publisher" href="https://plus.google.com/103654360130207659246">
  <link rel="author" href="https://medium.com/@mbostock">
  <meta property="author" content="Mike Bostock">
  <meta property="og:type" content="article">
  <meta name="twitter:card" content="summary_large_image">
  <meta property="article:publisher" content="https://www.facebook.com/medium">
  <meta property="article:author" content="https://medium.com/@mbostock">
  <meta name="robots" content="index, follow">
  <meta property="article:published_time" content="2016-12-09T22:34:50.270Z">
  <meta name="twitter:creator" content="@mbostock">
  <meta name="twitter:site" content="@Medium">
  <meta property="og:site_name" content="Medium">
  <meta name="twitter:label1" value="Reading time">
  <meta name="twitter:data1" value="5 min read">
  <meta name="twitter:app:name:iphone" content="Medium">
  <meta name="twitter:app:id:iphone" content="828256236">
  <meta name="twitter:app:url:iphone" content="medium://p/897aa8f8ca2c">
  <meta property="al:ios:app_name" content="Medium">
  <meta property="al:ios:app_store_id" content="828256236">
  <meta property="al:android:package" content="com.medium.reader">
  <meta property="al:android:app_name" content="Medium">
  <meta property="al:ios:url" content="medium://p/897aa8f8ca2c">
  <meta property="al:android:url" content="medium://p/897aa8f8ca2c">
  <meta property="al:web:url" content="https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c">
  <link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml">
  <link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/897aa8f8ca2c">
  <script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":1920,"height":1920,"url":"https://cdn-images-1.medium.com/max/2000/1*E3frfq0xjAKUVIEy_3UMgw.png"},"datePublished":"2016-12-09T22:34:50.270Z","dateModified":"2017-10-02T12:04:49.705Z","headline":"Command-Line Cartography, Part 1","name":"Command-Line Cartography, Part 1","keywords":["JavaScript","Maps","D3","Data Visualization","Programming"],"author":{"@type":"Person","name":"Mike Bostock","url":"https://medium.com/@mbostock"},"creator":["Mike Bostock"],"publisher":{"@type":"Organization","name":"Medium","url":"https://medium.com/","logo":{"@type":"ImageObject","width":215,"height":60,"url":"https://cdn-images-1.medium.com/max/430/1*5ztbgEt4NqpVaxTc64C-XA.png"}},"mainEntityOfPage":"https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c"}</script>
  <link rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m.css">
  <link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-branding-base.KaG5owo1xJGIHfGeaAmI2A.css">
  <script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script>
  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; ga("create", "UA-24232453-2", "auto", {"allowLinker": true, "legacyCookieDomain": window.location.hostname}); ga("send", "pageview");</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>
  <!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]-->
  <link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico" class="js-favicon">
  <link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/304/304/1*8I-HPL0bfoIzGied-dzOvA.png">
  <link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/240/240/1*8I-HPL0bfoIzGied-dzOvA.png">
  <link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/152/152/1*8I-HPL0bfoIzGied-dzOvA.png">
  <link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/120/120/1*8I-HPL0bfoIzGied-dzOvA.png">
  <link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg" color="#171717">
 </head>
 <body itemscope class=" postShowScreen browser-chrome os-windows is-withMagicUnderlines v-glyph v-glyph--m is-noJs">
  <script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script>
  <div class="site-main" id="container">
   <div class="butterBar butterBar--error"></div>
   <div class="surface">
    <div id="prerendered" class="screenContent">
     <canvas class="canvas-renderer"></canvas>
     <div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div>
     <div class="metabar u-clearfix js-metabar u-boxShadowBottomThinLighter u-fixed u-backgroundTransparentWhiteDarkest u-xs-sizeFullViewportWidth">
      <div class="metabar-inner u-marginAuto u-maxWidth1000 u-flexCenter u-justifyContentSpaceBetween u-paddingLeft20 u-paddingRight20 u-height65 u-xs-height56 js-metabarMiddle">
       <div class="metabar-block u-flex1">
        <div class="js-metabarLogoLeft u-xs-show">
         <a href="https://medium.com/" data-log-event="home" class="siteNav-logo"><span class="svgIcon svgIcon--logoWordmark svgIcon--138x27px is-flushLeft u-xs-hide u-textColorDarker">
           <svg class="svgIcon-use" width="138" height="27" viewbox="0 0 138 27">
            <path d="M130 27V16.96c0-3.26-.154-5.472-2.437-5.472-1.16 0-2.138.57-2.863 1.512.217.906.3 1.968.3 3.127 0 2.247.036 5.11 0 7.973 0 .472-.046.58.244.87L127 27h-8V16.96c0-3.297-.461-5.472-2.708-5.472-1.16 0-1.64.653-2.292 1.595V24.1c0 .472-.026.58.3.87L116 27h-8V11.56c0-.47-.07-.579-.36-.905L106 9h8v3.612c.906-2.537 2.437-4.112 5.372-4.112 2.682 0 4.494 1.466 5.255 4.257.834-2.392 3.008-4.257 6.053-4.257 3.588 0 5.32 2.626 5.32 7.627 0 2.392.036 5.11 0 7.973 0 .472.004.652.25.87L138 27h-8zm-27-3.045c0 .472-.149.617.178.906L105 27h-8v-4c-.906 2.465-2.956 4-5.637 4C87.775 27 86 24.39 86 19.461c0-2.391-.036-5 0-7.936 0-.471-.11-.58-.4-.87L84 9h8v9.628c0 3.225.269 5.4 2.298 5.4 1.16 0 2.086-.725 2.702-1.63V11.56c0-.471-.129-.58-.419-.906L95 9h8v14.955zM78.002.25A3.248 3.248 0 0 1 81.25 3.5 3.25 3.25 0 1 1 78.002.25zM75 27V11.56c0-.47.168-.579-.122-.905L73 9h8v15.1c0 .472-.01.678.24.9L83 27h-8zM64 11.706c-.507-.652-1.418-1.123-2.396-1.123-1.957 0-3.842 1.775-3.842 7.03 0 4.93 1.631 6.669 3.66 6.669.907 0 1.853-.436 2.578-1.378V11.706zm6 12.286c0 .47-.026.58.3.87L72 27h-8v-3.697C62.913 25.804 60.951 27 58.632 27 54.5 27 51.5 23.738 51.5 17.795c0-5.582 3.254-9.314 7.784-9.314 2.356 0 3.919 1.123 4.716 2.899V3.878c0-.471-.077-.617-.403-.906L62 1.305 70 .29v23.702zM43.9 16c.037-.471.037-.67.037-.815 0-4.747-.937-5.435-2.437-5.435-1.5 0-2.854.995-2.927 6.25h5.328zm-5.327 1c0 4.711 2.392 6.63 5.183 6.63 2.174 0 4.313-.943 5.509-3.335h.072c-.942 4.566-3.77 6.705-8.01 6.705-4.566 0-8.879-2.755-8.879-9.133 0-6.705 4.277-9.386 9.097-9.386 3.842 0 7.937 1.811 7.937 7.646 0 .109 0 .438-.036.873H38.573zM31.5 27h-12l2.39-2.646c.084-.084.11-.399.11-.87V7l-7.866 20L5.581 8.372C5.364 7.9 5.181 7.285 5 6.777V20.62c0 .58-.035.653.364 1.196L9 27H0l3.64-5.183c.399-.543.36-.616.36-1.196V6.27c0-.617.095-.69-.195-1.051L1 1h8.495l7.355 16.3L23.24 1h8.26l-2.2 2.75c-.326.326-.3.599-.3 1.106v18.629c0 .47.005.75.138.87L31.5 27z" />
           </svg></span><span class="svgIcon svgIcon--logoWordmark svgIcon--122x45px is-flushLeft u-xs-show u-textColorDarker">
           <svg class="svgIcon-use" width="122" height="45" viewbox="0 0 122 45">
            <path d="M61.6 31.806c0 .412 0 .505.28.758l1.574 1.537v.065h-6.979v-2.95a4.852 4.852 0 0 1-4.627 3.203c-3.588 0-6.192-2.81-6.192-7.981 0-4.843 2.81-8.075 6.754-8.075a4.122 4.122 0 0 1 4.056 2.51v-6.51a.806.806 0 0 0-.319-.787l-1.499-1.443v-.065l6.951-.815v20.553zm-5.125-.937v-9.714a2.614 2.614 0 0 0-2.08-.975c-1.695 0-3.334 1.537-3.334 6.099 0 4.271 1.414 5.78 3.175 5.78a2.81 2.81 0 0 0 2.24-1.19zm9.752 3.297V21.051a.88.88 0 0 0-.281-.786L64.4 18.672v-.065h6.98v13.302c0 .412 0 .505.28.758l1.536 1.443v.066l-6.97-.01zm-.253-20.356a2.81 2.81 0 1 1 5.62 0 2.81 2.81 0 0 1-5.62 0zm24.234 17.967c0 .413 0 .534.281.787l1.574 1.537v.065h-7.017v-3.363a5.077 5.077 0 0 1-4.805 3.616c-3.11 0-4.778-2.267-4.778-6.557 0-2.07 0-4.337.066-6.885a.796.796 0 0 0-.281-.76l-1.546-1.545v-.065h6.923v8.552c0 2.81.412 4.684 2.173 4.684a2.81 2.81 0 0 0 2.267-1.415v-9.367a.88.88 0 0 0-.28-.787l-1.556-1.602v-.065h6.979v13.17zm23.756 2.39c0-.507.094-6.952.094-8.432 0-2.81-.44-4.75-2.417-4.75a3.138 3.138 0 0 0-2.482 1.35c.198.876.292 1.772.28 2.67 0 1.948-.065 4.43-.093 6.913a.796.796 0 0 0 .281.759l1.574 1.442v.066h-7.045c0-.468.094-6.95.094-8.431 0-2.857-.44-4.75-2.389-4.75a2.81 2.81 0 0 0-2.323 1.387v9.555c0 .412 0 .506.281.759l1.537 1.442v.066h-6.97V21.098a.88.88 0 0 0-.281-.787l-1.546-1.639v-.065h6.98v3.334a5.002 5.002 0 0 1 5.002-3.587c2.323 0 3.896 1.292 4.562 3.747a5.433 5.433 0 0 1 5.245-3.747c3.11 0 4.872 2.295 4.872 6.632 0 2.07-.066 4.43-.094 6.913a.75.75 0 0 0 .318.759l1.537 1.443v.065h-7.017zm-87.671-2.043l2.07 1.977v.065H17.862v-.065l2.107-1.977a.796.796 0 0 0 .281-.759V18.728c0-.534 0-1.255.094-1.873l-7.082 17.564h-.084L5.843 18.26c-.16-.402-.206-.43-.31-.702v10.595c-.087.71.034 1.429.348 2.07l2.95 3.879v.065H1v-.065l2.95-3.888a3.69 3.69 0 0 0 .347-2.06v-11.71a2.267 2.267 0 0 0-.487-1.602l-2.089-2.708v-.065h7.494l6.277 13.686 5.527-13.686h7.335v.065l-2.061 2.296a.806.806 0 0 0-.319.786v16.15a.75.75 0 0 0 .319.759zm8.215-6.332v.065c0 4.01 2.07 5.62 4.497 5.62a5.105 5.105 0 0 0 4.777-2.894h.066c-.844 3.963-3.298 5.836-6.97 5.836-3.962 0-7.7-2.389-7.7-7.925 0-5.817 3.747-8.14 7.887-8.14 3.335 0 6.886 1.573 6.886 6.632v.806h-9.443zm0-.806h4.618v-.815c0-4.122-.852-5.218-2.136-5.218-1.555 0-2.5 1.64-2.5 6.033h.018z" />
           </svg></span><span class="u-textScreenReader">Homepage</span></a>
        </div>
       </div>
       <div class="metabar-block u-flex0">
        <div class="buttonSet u-block u-margin0 u-flexCenter">
         <a class="button button--primary button--chromeless u-accentColor--buttonNormal is-inSiteNavBar js-signUpButton" href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40mbostock%2Fcommand-line-cartography-part-1-897aa8f8ca2c&amp;source=--------------------------nav_reg">Sign in / Sign up</a>
        </div>
       </div>
       <div class="u-absolute u-sizeFullWidth u-top0 u-right0 u-textAlignCenter js-metabarLogoCentered u-xs-hide">
        <a href="https://medium.com/" data-log-event="home" class="siteNav-logo"><span class="svgIcon svgIcon--logoWordmark svgIcon--138x27px is-flushLeft u-xs-hide u-textColorDarker">
          <svg class="svgIcon-use" width="138" height="27" viewbox="0 0 138 27">
           <path d="M130 27V16.96c0-3.26-.154-5.472-2.437-5.472-1.16 0-2.138.57-2.863 1.512.217.906.3 1.968.3 3.127 0 2.247.036 5.11 0 7.973 0 .472-.046.58.244.87L127 27h-8V16.96c0-3.297-.461-5.472-2.708-5.472-1.16 0-1.64.653-2.292 1.595V24.1c0 .472-.026.58.3.87L116 27h-8V11.56c0-.47-.07-.579-.36-.905L106 9h8v3.612c.906-2.537 2.437-4.112 5.372-4.112 2.682 0 4.494 1.466 5.255 4.257.834-2.392 3.008-4.257 6.053-4.257 3.588 0 5.32 2.626 5.32 7.627 0 2.392.036 5.11 0 7.973 0 .472.004.652.25.87L138 27h-8zm-27-3.045c0 .472-.149.617.178.906L105 27h-8v-4c-.906 2.465-2.956 4-5.637 4C87.775 27 86 24.39 86 19.461c0-2.391-.036-5 0-7.936 0-.471-.11-.58-.4-.87L84 9h8v9.628c0 3.225.269 5.4 2.298 5.4 1.16 0 2.086-.725 2.702-1.63V11.56c0-.471-.129-.58-.419-.906L95 9h8v14.955zM78.002.25A3.248 3.248 0 0 1 81.25 3.5 3.25 3.25 0 1 1 78.002.25zM75 27V11.56c0-.47.168-.579-.122-.905L73 9h8v15.1c0 .472-.01.678.24.9L83 27h-8zM64 11.706c-.507-.652-1.418-1.123-2.396-1.123-1.957 0-3.842 1.775-3.842 7.03 0 4.93 1.631 6.669 3.66 6.669.907 0 1.853-.436 2.578-1.378V11.706zm6 12.286c0 .47-.026.58.3.87L72 27h-8v-3.697C62.913 25.804 60.951 27 58.632 27 54.5 27 51.5 23.738 51.5 17.795c0-5.582 3.254-9.314 7.784-9.314 2.356 0 3.919 1.123 4.716 2.899V3.878c0-.471-.077-.617-.403-.906L62 1.305 70 .29v23.702zM43.9 16c.037-.471.037-.67.037-.815 0-4.747-.937-5.435-2.437-5.435-1.5 0-2.854.995-2.927 6.25h5.328zm-5.327 1c0 4.711 2.392 6.63 5.183 6.63 2.174 0 4.313-.943 5.509-3.335h.072c-.942 4.566-3.77 6.705-8.01 6.705-4.566 0-8.879-2.755-8.879-9.133 0-6.705 4.277-9.386 9.097-9.386 3.842 0 7.937 1.811 7.937 7.646 0 .109 0 .438-.036.873H38.573zM31.5 27h-12l2.39-2.646c.084-.084.11-.399.11-.87V7l-7.866 20L5.581 8.372C5.364 7.9 5.181 7.285 5 6.777V20.62c0 .58-.035.653.364 1.196L9 27H0l3.64-5.183c.399-.543.36-.616.36-1.196V6.27c0-.617.095-.69-.195-1.051L1 1h8.495l7.355 16.3L23.24 1h8.26l-2.2 2.75c-.326.326-.3.599-.3 1.106v18.629c0 .47.005.75.138.87L31.5 27z" />
          </svg></span><span class="svgIcon svgIcon--logoWordmark svgIcon--122x45px is-flushLeft u-xs-show u-textColorDarker">
          <svg class="svgIcon-use" width="122" height="45" viewbox="0 0 122 45">
           <path d="M61.6 31.806c0 .412 0 .505.28.758l1.574 1.537v.065h-6.979v-2.95a4.852 4.852 0 0 1-4.627 3.203c-3.588 0-6.192-2.81-6.192-7.981 0-4.843 2.81-8.075 6.754-8.075a4.122 4.122 0 0 1 4.056 2.51v-6.51a.806.806 0 0 0-.319-.787l-1.499-1.443v-.065l6.951-.815v20.553zm-5.125-.937v-9.714a2.614 2.614 0 0 0-2.08-.975c-1.695 0-3.334 1.537-3.334 6.099 0 4.271 1.414 5.78 3.175 5.78a2.81 2.81 0 0 0 2.24-1.19zm9.752 3.297V21.051a.88.88 0 0 0-.281-.786L64.4 18.672v-.065h6.98v13.302c0 .412 0 .505.28.758l1.536 1.443v.066l-6.97-.01zm-.253-20.356a2.81 2.81 0 1 1 5.62 0 2.81 2.81 0 0 1-5.62 0zm24.234 17.967c0 .413 0 .534.281.787l1.574 1.537v.065h-7.017v-3.363a5.077 5.077 0 0 1-4.805 3.616c-3.11 0-4.778-2.267-4.778-6.557 0-2.07 0-4.337.066-6.885a.796.796 0 0 0-.281-.76l-1.546-1.545v-.065h6.923v8.552c0 2.81.412 4.684 2.173 4.684a2.81 2.81 0 0 0 2.267-1.415v-9.367a.88.88 0 0 0-.28-.787l-1.556-1.602v-.065h6.979v13.17zm23.756 2.39c0-.507.094-6.952.094-8.432 0-2.81-.44-4.75-2.417-4.75a3.138 3.138 0 0 0-2.482 1.35c.198.876.292 1.772.28 2.67 0 1.948-.065 4.43-.093 6.913a.796.796 0 0 0 .281.759l1.574 1.442v.066h-7.045c0-.468.094-6.95.094-8.431 0-2.857-.44-4.75-2.389-4.75a2.81 2.81 0 0 0-2.323 1.387v9.555c0 .412 0 .506.281.759l1.537 1.442v.066h-6.97V21.098a.88.88 0 0 0-.281-.787l-1.546-1.639v-.065h6.98v3.334a5.002 5.002 0 0 1 5.002-3.587c2.323 0 3.896 1.292 4.562 3.747a5.433 5.433 0 0 1 5.245-3.747c3.11 0 4.872 2.295 4.872 6.632 0 2.07-.066 4.43-.094 6.913a.75.75 0 0 0 .318.759l1.537 1.443v.065h-7.017zm-87.671-2.043l2.07 1.977v.065H17.862v-.065l2.107-1.977a.796.796 0 0 0 .281-.759V18.728c0-.534 0-1.255.094-1.873l-7.082 17.564h-.084L5.843 18.26c-.16-.402-.206-.43-.31-.702v10.595c-.087.71.034 1.429.348 2.07l2.95 3.879v.065H1v-.065l2.95-3.888a3.69 3.69 0 0 0 .347-2.06v-11.71a2.267 2.267 0 0 0-.487-1.602l-2.089-2.708v-.065h7.494l6.277 13.686 5.527-13.686h7.335v.065l-2.061 2.296a.806.806 0 0 0-.319.786v16.15a.75.75 0 0 0 .319.759zm8.215-6.332v.065c0 4.01 2.07 5.62 4.497 5.62a5.105 5.105 0 0 0 4.777-2.894h.066c-.844 3.963-3.298 5.836-6.97 5.836-3.962 0-7.7-2.389-7.7-7.925 0-5.817 3.747-8.14 7.887-8.14 3.335 0 6.886 1.573 6.886 6.632v.806h-9.443zm0-.806h4.618v-.815c0-4.122-.852-5.218-2.136-5.218-1.555 0-2.5 1.64-2.5 6.033h.018z" />
          </svg></span><span class="u-textScreenReader">Homepage</span></a>
       </div>
      </div>
     </div>
     <div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div>
     <main role="main">
      <article class=" u-sizeViewHeightMin100 u-overflowHidden postArticle postArticle--full u-marginBottom40" lang="en">
       <header class="container u-maxWidth740">
        <div class="postMetaHeader u-paddingBottom10 row">
         <div class="col u-size12of12 js-postMetaLockup">
          <div class="postMetaLockup postMetaLockup--authorWithBio u-flex js-postMetaLockup">
           <div class="u-flex0">
            <a class="link avatar u-baseColor--link" href="https://medium.com/@mbostock?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="c918c478bb49" data-action-type="hover" data-user-id="c918c478bb49" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/120/120/0*ZZRowkjCcKUQ2dpE.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Mike Bostock"></a>
           </div>
           <div class="u-flex1 u-paddingLeft15 u-overflowHidden">
            <a class="link link link--darken link--darker u-baseColor--link" href="https://medium.com/@mbostock?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="c918c478bb49" data-action-type="hover" data-user-id="c918c478bb49" dir="auto">Mike Bostock</a>
            <span class="followState js-followState" data-user-id="c918c478bb49"><button class="button u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-marginTopNegative2 u-xs-hide" data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-marginTopNegative2 u-xs-hide" data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/c918c478bb49" data-action-source="post_header_lockup-c918c478bb49-------------------------follow_byline"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span>
            <div class="postMetaInline u-noWrapWithEllipsis u-xs-normalWrap u-xs-lineClamp2 u-xs-maxHeight2LineHeightBase">
             Code and data for humans. Creator of d3.express and #d3js. Former @nytgraphics editor. Pronounced BOSS-tock.
            </div>
            <div class="postMetaInline js-testPostMetaInlineSupplemental">
             <time datetime="2016-12-09T22:34:50.270Z">Dec 9, 2016</time>
             <span class="middotDivider u-fontSize12"></span>
             <span class="readingTime" title="5 min read"></span>
            </div>
           </div>
          </div>
         </div>
        </div>
       </header>
       <div class="postArticle-content js-postField js-notesSource js-trackedPost" data-post-id="897aa8f8ca2c" data-source="post_page" data-tracking-context="postPage">
        <section name="4036" class="section section--body section--first">
         <div class="section-divider">
          <hr class="section-divider">
         </div>
         <div class="section-content">
          <div class="section-inner sectionLayout--insetColumn">
           <h1 name="4ad9" id="4ad9" class="graf graf--h3 graf--leading graf--title">Command-Line Cartography, Part&nbsp;1</h1>
           <h2 name="85c8" id="85c8" class="graf graf--h4 graf-after--h3 graf--subtitle">A tour of d3-geo’s new command-line interface.</h2>
           <p name="7d72" id="7d72" class="graf graf--p graf-after--h4"><em class="markup--em markup--p-em">[This is Part 1 of a tutorial on making thematic maps. Read </em><a href="https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3" data-href="https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3" class="markup--anchor markup--p-anchor" target="_blank"><em class="markup--em markup--p-em">Part 2</em></a><em class="markup--em markup--p-em"> here.]</em></p>
           <p name="6cc1" id="6cc1" class="graf graf--p graf-after--p">This multipart tutorial will teach you to make a thematic map from the command line using <a href="https://github.com/d3/d3-geo" data-href="https://github.com/d3/d3-geo" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">d3-geo</a>, <a href="https://github.com/topojson" data-href="https://github.com/topojson" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">TopoJSON</a> and <a href="https://github.com/mbostock/ndjson-cli" data-href="https://github.com/mbostock/ndjson-cli" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">ndjson-cli</a>—free, open-source tools written in JavaScript. We’ll make a <a href="https://en.wikipedia.org/wiki/Choropleth_map" data-href="https://en.wikipedia.org/wiki/Choropleth_map" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">choropleth</a> of California’s population density. (For added challenge, substitute your state of choice!)</p>
          </div>
          <div class="section-inner sectionLayout--outsetColumn">
           <figure name="96d0" id="96d0" class="graf graf--figure graf--layoutOutsetCenter graf-after--p">
            <div class="aspectRatioPlaceholder is-locked" style="max-width: 1000px; max-height: 1000px;">
             <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100%;"></div>
             <div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*E3frfq0xjAKUVIEy_3UMgw.png" data-width="1920" data-height="1920" data-action="zoom" data-action-value="1*E3frfq0xjAKUVIEy_3UMgw.png">
              <img src="https://cdn-images-1.medium.com/freeze/max/60/1*E3frfq0xjAKUVIEy_3UMgw.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail">
              <canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas>
              <img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/2000/1*E3frfq0xjAKUVIEy_3UMgw.png">
              <noscript class="js-progressiveMedia-inner">
               <img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/2000/1*E3frfq0xjAKUVIEy_3UMgw.png">
              </noscript>
             </div>
            </div>
           </figure>
          </div>
          <div class="section-inner sectionLayout--insetColumn">
           <figure name="8eca" id="8eca" class="graf graf--figure graf-after--figure">
            <div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 76px;">
             <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 10.9%;"></div>
             <div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*PQD5RmdN2QHYmG3H6_D8cw.png" data-width="1320" data-height="144" data-action="zoom" data-action-value="1*PQD5RmdN2QHYmG3H6_D8cw.png">
              <img src="https://cdn-images-1.medium.com/freeze/max/60/1*PQD5RmdN2QHYmG3H6_D8cw.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail">
              <canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas>
              <img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*PQD5RmdN2QHYmG3H6_D8cw.png">
              <noscript class="js-progressiveMedia-inner">
               <img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*PQD5RmdN2QHYmG3H6_D8cw.png">
              </noscript>
             </div>
            </div>
            <figcaption class="imageCaption">
             Source: 
             <a href="http://www.census.gov/acs/www/" data-href="http://www.census.gov/acs/www/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">American Community Survey</a>, 2014 5-Year&nbsp;Estimate
            </figcaption>
           </figure>
           <p name="c0fd" id="c0fd" class="graf graf--p graf-after--figure">The first part of this tutorial focuses on getting geometry (polygons) and converting this geometry into a format that can be easily manipulated on the command-line and displayed in a web browser.</p>
           <p name="3199" id="3199" class="graf graf--p graf-after--p">The <a href="https://www.census.gov/" data-href="https://www.census.gov/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">U.S. Census Bureau</a> regularly publishes <a href="https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html" data-href="https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">cartographic boundary shapefiles</a>. Unlike <a href="https://www.census.gov/geo/maps-data/data/tiger.html" data-href="https://www.census.gov/geo/maps-data/data/tiger.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">TIGER</a>—the Census Bureau’s most-detailed and comprehensive geometry product—the “cartographic boundary files are simplified representations… specifically designed for small scale thematic mapping.” In other words, they’re perfect for a humble choropleth.</p>
           <p name="4f08" id="4f08" class="graf graf--p graf-after--p">The Census Bureau, as you might guess, also publishes data from their <a href="https://en.wikipedia.org/wiki/United_States_Census" data-href="https://en.wikipedia.org/wiki/United_States_Census" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">decennial census</a>, the more frequent <a href="https://en.wikipedia.org/wiki/American_Community_Survey" data-href="https://en.wikipedia.org/wiki/American_Community_Survey" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">American Community Survey</a>, and other surveys. To get a sense of the wealth of data the Census Bureau provides, visit the <a href="https://factfinder.census.gov/" data-href="https://factfinder.census.gov/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">American FactFinder</a> or the friendly <a href="https://censusreporter.org/" data-href="https://censusreporter.org/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Census Reporter</a>. Now we must choose a few parameters:</p>
           <ul class="postList">
            <li name="aadd" id="aadd" class="graf graf--li graf-after--p">A <em class="markup--em markup--li-em">metric</em> (<em class="markup--em markup--li-em">e.g.</em>, population density)</li>
            <li name="5a28" id="5a28" class="graf graf--li graf-after--li">A <em class="markup--em markup--li-em">geographic entity</em> (<em class="markup--em markup--li-em">e.g.</em>, census tract)</li>
            <li name="7e63" id="7e63" class="graf graf--li graf-after--li">A <em class="markup--em markup--li-em">source</em> (<em class="markup--em markup--li-em">e.g.</em>, ACS 2014 5-year estimate)</li>
           </ul>
           <p name="cc23" id="cc23" class="graf graf--p graf-after--li">It’s necessary to determine these parameters first because the geometry must match the data: if our population estimates are per census tract, we’ll need census tract polygons. More subtly, the year of the survey should match the geometry: while boundaries change relatively infrequently, they <em class="markup--em markup--p-em">do</em> change, especially with smaller entities such as tracts.</p>
           <p name="1f4a" id="1f4a" class="graf graf--p graf-after--p">The Census Bureau helpfully <a href="https://www.census.gov/programs-surveys/acs/guidance.html" data-href="https://www.census.gov/programs-surveys/acs/guidance.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">provides guidance</a> on picking the right data. Census tracts are small enough to produce a detailed map, but big enough to be easy to work with. We’ll use 5-year estimates, which are recommended for smaller entities and favor precision over currency. 2014 is the <a href="http://www.census.gov/programs-surveys/acs/news/data-releases/2015/release-schedule.html" data-href="http://www.census.gov/programs-surveys/acs/news/data-releases/2015/release-schedule.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">most recent release</a> at the time of writing.</p>
           <figure name="49b8" id="49b8" class="graf graf--figure graf-after--p">
            <div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 572px;">
             <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 81.69999999999999%;"></div>
             <div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*D9lhzkzoPqyyjxsPLklihQ.png" data-width="1366" data-height="1116" data-action="zoom" data-action-value="1*D9lhzkzoPqyyjxsPLklihQ.png">
              <img src="https://cdn-images-1.medium.com/freeze/max/60/1*D9lhzkzoPqyyjxsPLklihQ.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail">
              <canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas>
              <img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*D9lhzkzoPqyyjxsPLklihQ.png">
              <noscript class="js-progressiveMedia-inner">
               <img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*D9lhzkzoPqyyjxsPLklihQ.png">
              </noscript>
             </div>
            </div>
            <figcaption class="imageCaption">
             The Census Bureau’s 
             <a href="https://www.census.gov/geo/reference/hierarchy.html" data-href="https://www.census.gov/geo/reference/hierarchy.html" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">standard hierarchy of geographic entities</a>.
            </figcaption>
           </figure>
           <p name="1d70" id="1d70" class="graf graf--p graf-after--figure">Now we need a URL! That URL can be found through a series of clicks from the <a href="https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html" data-href="https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Census Bureau website</a>. But forget that, and just browse the 2014 cartographic boundary files here:</p>
           <pre name="05cf" id="05cf" class="graf graf--pre graf-after--p"><a href="http://www2.census.gov/geo/tiger/GENZ2014/shp/" data-href="http://www2.census.gov/geo/tiger/GENZ2014/shp/" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">http://www2.census.gov/geo/tiger/GENZ2014/shp/</a></pre>
           <p name="c156" id="c156" class="graf graf--p graf-after--pre">Given a state’s <a href="https://en.wikipedia.org/wiki/Federal_Information_Processing_Standard_state_code" data-href="https://en.wikipedia.org/wiki/Federal_Information_Processing_Standard_state_code" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">FIPS code</a> (06 for California), you can now use <a href="https://curl.haxx.se/" data-href="https://curl.haxx.se/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">curl</strong></a> to download the corresponding census tract polygons:</p>
           <pre name="2365" id="2365" class="graf graf--pre graf-after--p">curl '<a href="http://www2.census.gov/geo/tiger/GENZ2015/shp/cb_2015_06_tract_500k.zip" data-href="http://www2.census.gov/geo/tiger/GENZ2015/shp/cb_2015_06_tract_500k.zip" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">http://www2.census.gov/geo/tiger/GENZ2014/shp/cb_2014_06_tract_500k.zip</a>' -o cb_2014_06_tract_500k.zip</pre>
           <p name="2a4d" id="2a4d" class="graf graf--p graf-after--pre">Next, <a href="http://www.info-zip.org/pub/infozip/UnZip.html" data-href="http://www.info-zip.org/pub/infozip/UnZip.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">unzip</strong></a> the archive to extract the shapefile (.shp), and some other junk:</p>
           <pre name="8e9e" id="8e9e" class="graf graf--pre graf-after--p">unzip -o cb_2014_06_tract_500k.zip</pre>
           <p name="2731" id="2731" class="graf graf--p graf-after--pre">(You should already have curl and unzip installed, as these are included in most operating systems. You will also need <a href="https://nodejs.org/en/download/" data-href="https://nodejs.org/en/download/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">node</strong> and <strong class="markup--strong markup--p-strong">npm</strong></a>; on macOS, I recommend <a href="http://brew.sh/" data-href="http://brew.sh/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Homebrew</a> to install software.)</p>
           <p name="d183" id="d183" class="graf graf--p graf-after--p">A quick way to check what’s in a shapefile is to visit <a href="http://mapshaper.org/" data-href="http://mapshaper.org/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">mapshaper.org</a> and drag the shapefile into your browser. If you do that with the downloaded cb_2014_06_tract_500k.shp, you should see something like this:</p>
           <figure name="dec0" id="dec0" class="graf graf--figure graf-after--p">
            <div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 645px;">
             <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 92.10000000000001%;"></div>
             <div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*TD9qUJRdWRiUev3ek1hP0w.png" data-width="1113" data-height="1025" data-action="zoom" data-action-value="1*TD9qUJRdWRiUev3ek1hP0w.png">
              <img src="https://cdn-images-1.medium.com/freeze/max/60/1*TD9qUJRdWRiUev3ek1hP0w.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail">
              <canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas>
              <img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*TD9qUJRdWRiUev3ek1hP0w.png">
              <noscript class="js-progressiveMedia-inner">
               <img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*TD9qUJRdWRiUev3ek1hP0w.png">
              </noscript>
             </div>
            </div>
            <figcaption class="imageCaption">
             cb_2014_06_tract_500k.shp on 
             <a href="http://mapshaper.org" data-href="http://mapshaper.org" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">mapshaper.org</a>
            </figcaption>
           </figure>
           <p name="7286" id="7286" class="graf graf--p graf-after--figure">As Mapshaper demonstrates, it’s possible to view shapefiles directly <a href="https://bl.ocks.org/mbostock/2dd741099154a4da55a7db31fd96a892" data-href="https://bl.ocks.org/mbostock/2dd741099154a4da55a7db31fd96a892" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">in your browser</a>. But binary shapefiles can be difficult to work with, so we’ll convert to <a href="http://geojson.org/" data-href="http://geojson.org/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">GeoJSON</a>: a web-friendly, human-readable format. My <a href="https://github.com/mbostock/shapefile" data-href="https://github.com/mbostock/shapefile" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">shapefile parser</a> has a command-line interface, <a href="https://github.com/mbostock/shapefile/blob/master/README.md#shp2json" data-href="https://github.com/mbostock/shapefile/blob/master/README.md#shp2json" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">shp2json</strong></a>, for this purpose. (Warning: there’s an unrelated package of the same name on npm.) To install:</p>
           <pre name="49bf" id="49bf" class="graf graf--pre graf-after--p">npm install -g shapefile</pre>
           <p name="8f70" id="8f70" class="graf graf--p graf-after--pre">Now use <strong class="markup--strong markup--p-strong">shp2json </strong>to convert to GeoJSON:</p>
           <pre name="edc5" id="edc5" class="graf graf--pre graf-after--p">shp2json cb_2014_06_tract_500k.shp -o ca.json</pre>
           <p name="9d57" id="9d57" class="graf graf--p graf-after--pre">Note that this also reads cb_2014_06_tract_500k.dbf, a dBASE file, defining <a href="https://tools.ietf.org/html/rfc7946#section-3.2" data-href="https://tools.ietf.org/html/rfc7946#section-3.2" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">feature properties</a> on the resulting GeoJSON. The glorious result:</p>
          </div>
          <div class="section-inner sectionLayout--outsetColumn">
           <figure name="8927" id="8927" class="graf graf--figure graf--layoutOutsetCenter graf-after--p">
            <div class="aspectRatioPlaceholder is-locked" style="max-width: 1000px; max-height: 631px;">
             <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 63.1%;"></div>
             <div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*Kr8L0iBOKFamuORP3cnSvQ.png" data-width="2778" data-height="1754" data-action="zoom" data-action-value="1*Kr8L0iBOKFamuORP3cnSvQ.png">
              <img src="https://cdn-images-1.medium.com/freeze/max/60/1*Kr8L0iBOKFamuORP3cnSvQ.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail">
              <canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas>
              <img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/2000/1*Kr8L0iBOKFamuORP3cnSvQ.png">
              <noscript class="js-progressiveMedia-inner">
               <img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/2000/1*Kr8L0iBOKFamuORP3cnSvQ.png">
              </noscript>
             </div>
            </div>
            <figcaption class="imageCaption">
             Hey, it’s more “human-readable” than binary&nbsp;data.
            </figcaption>
           </figure>
          </div>
          <div class="section-inner sectionLayout--insetColumn">
           <p name="06f4" id="06f4" class="graf graf--p graf-after--figure">We could now display this in a browser using <a href="https://d3js.org" data-href="https://d3js.org" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">D3</a>, but first we should apply a geographic projection. By avoiding expensive trigonometric operations at runtime, the resulting GeoJSON renders much faster, especially on mobile devices. Pre-projecting also improves the efficacy of simplification, which we’ll cover in part 3. To install <a href="https://github.com/d3/d3-geo-projection" data-href="https://github.com/d3/d3-geo-projection" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">d3-geo-projection</a>’s command-line interface:</p>
           <pre name="35a3" id="35a3" class="graf graf--pre graf-after--p">npm install -g d3-geo-projection</pre>
           <p name="be02" id="be02" class="graf graf--p graf-after--pre">Now use <a href="https://github.com/d3/d3-geo-projection/blob/master/README.md#geoproject" data-href="https://github.com/d3/d3-geo-projection/blob/master/README.md#geoproject" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">geoproject</strong></a>:</p>
           <pre name="65ba" id="65ba" class="graf graf--pre graf-after--p">geoproject 'd3.geoConicEqualArea().parallels([34, 40.5]).rotate([120, 0]).fitSize([960, 960], d)' &lt; ca.json &gt; ca-albers.json</pre>
           <p name="61a2" id="61a2" class="graf graf--p graf-after--pre">This <a href="https://github.com/d3/d3-geo/blob/master/README.md#geoConicEqualArea" data-href="https://github.com/d3/d3-geo/blob/master/README.md#geoConicEqualArea" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">d3.geoConicEqualArea</a> projection is <a href="http://spatialreference.org/ref/epsg/nad83-california-albers/" data-href="http://spatialreference.org/ref/epsg/nad83-california-albers/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">California Albers</a>, and as its name suggests, is appropriate for showing California. It’s also equal-area, which is strongly recommended for choropleth maps as the projection will not distort the data. If you’re not sure <a href="https://github.com/d3/d3-geo-projection/blob/master/README.md" data-href="https://github.com/d3/d3-geo-projection/blob/master/README.md" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">what projection</a> to use, try <a href="https://github.com/veltman/d3-stateplane" data-href="https://github.com/veltman/d3-stateplane" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">d3-stateplane</a> or search <a href="http://spatialreference.org/" data-href="http://spatialreference.org/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">spatialreference.org</a>.</p>
           <p name="a71f" id="a71f" class="graf graf--p graf-after--p">The <em class="markup--em markup--p-em">projection</em> you specify to <strong class="markup--strong markup--p-strong">geoproject</strong> is an arbitrary JavaScript expression. That means that you can use <a href="https://github.com/d3/d3-geo/blob/master/README.md#projection_fitSize" data-href="https://github.com/d3/d3-geo/blob/master/README.md#projection_fitSize" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--p-em">projection</em>.fitSize</a> to fit the input geometry (represented by <em class="markup--em markup--p-em">d</em>) to the desired 960×960 bounding box!</p>
           <p name="23f2" id="23f2" class="graf graf--p graf-after--p">To preview the projected geometry, use d3-geo-projection’s <a href="https://github.com/d3/d3-geo-projection/blob/master/README.md#geo2svg" data-href="https://github.com/d3/d3-geo-projection/blob/master/README.md#geo2svg" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">geo2svg</strong></a>:</p>
           <pre name="8e48" id="8e48" class="graf graf--pre graf-after--p">geo2svg -w 960 -h 960 &lt; ca-albers.json &gt; ca-albers.svg</pre>
           <figure name="f104" id="f104" class="graf graf--figure graf-after--pre graf--trailing">
            <div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 700px;">
             <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100%;"></div>
             <div class="progressiveMedia js-progressiveMedia graf-image" data-image-id="1*8pRMOxXHs7NASEB7bZHtEw.png" data-width="960" data-height="960" data-action="zoom" data-action-value="1*8pRMOxXHs7NASEB7bZHtEw.png">
              <img src="https://cdn-images-1.medium.com/freeze/max/60/1*8pRMOxXHs7NASEB7bZHtEw.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail">
              <canvas class="progressiveMedia-canvas js-progressiveMedia-canvas"></canvas>
              <img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-1.medium.com/max/1600/1*8pRMOxXHs7NASEB7bZHtEw.png">
              <noscript class="js-progressiveMedia-inner">
               <img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-1.medium.com/max/1600/1*8pRMOxXHs7NASEB7bZHtEw.png">
              </noscript>
             </div>
            </div>
            <figcaption class="imageCaption">
             ca-albers.svg
            </figcaption>
           </figure>
          </div>
         </div>
        </section>
        <section name="9c51" class="section section--body">
         <div class="section-divider">
          <hr class="section-divider">
         </div>
         <div class="section-content">
          <div class="section-inner sectionLayout--insetColumn">
           <p name="c43b" id="c43b" class="graf graf--p graf--leading">If you followed along on the command line, you hopefully learned how to download and prepare geometry from the U.S. Census Bureau.</p>
           <p name="9b2a" id="9b2a" class="graf graf--p graf-after--p">In <a href="https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3" data-href="https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3" class="markup--anchor markup--p-anchor" target="_blank">part 2</a> of this tutorial, I’ll cover using <a href="https://github.com/mbostock/ndjson-cli" data-href="https://github.com/mbostock/ndjson-cli" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">ndjson-cli</a> to join the geometry with population estimates from the <a href="http://www.census.gov/developers/" data-href="http://www.census.gov/developers/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Census Bureau API</a> and to compute population density.</p>
           <p name="cf42" id="cf42" class="graf graf--p graf-after--p">In <a href="https://medium.com/@mbostock/command-line-cartography-part-3-1158e4c55a1e" data-href="https://medium.com/@mbostock/command-line-cartography-part-3-1158e4c55a1e" class="markup--anchor markup--p-anchor" target="_blank">part 3</a>, I’ll cover simplifying geometry and merging features using <a href="https://github.com/topojson/topojson-server" data-href="https://github.com/topojson/topojson-server" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">topojson-server</a>, <a href="https://github.com/topojson/topojson-simplify" data-href="https://github.com/topojson/topojson-simplify" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">topojson-simplify</a> and <a href="https://github.com/topojson/topojson-client" data-href="https://github.com/topojson/topojson-client" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">topojson-client</a>.</p>
           <p name="3819" id="3819" class="graf graf--p graf-after--p">In <a href="https://medium.com/@mbostock/command-line-cartography-part-4-82d0d26df0cf" data-href="https://medium.com/@mbostock/command-line-cartography-part-4-82d0d26df0cf" class="markup--anchor markup--p-anchor" target="_blank">part 4</a>, I’ll cover implementing effective color encodings using <a href="https://github.com/d3/d3-scale" data-href="https://github.com/d3/d3-scale" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">d3-scale</a>, and rendering the choropleth to SVG using <a href="https://github.com/d3/d3-geo" data-href="https://github.com/d3/d3-geo" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">d3-geo</a>.</p>
           <blockquote name="1fbd" id="1fbd" class="graf graf--pullquote graf-after--p graf--trailing">
            Ready for more? 
            <a href="https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3" data-href="https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3" class="markup--anchor markup--pullquote-anchor" target="_blank">Continue to Part&nbsp;2.</a>
           </blockquote>
          </div>
         </div>
        </section>
        <section name="5a5f" class="section section--body section--last">
         <div class="section-divider">
          <hr class="section-divider">
         </div>
         <div class="section-content">
          <div class="section-inner sectionLayout--insetColumn">
           <p name="e4ad" id="e4ad" class="graf graf--p graf--leading graf--trailing">Questions or comments? Reply below or <a href="https://twitter.com/mbostock" data-href="https://twitter.com/mbostock" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">on Twitter</a>. Thank you for reading!</p>
          </div>
         </div>
        </section>
       </div>
       <footer class="u-paddingTop10">
        <div class="container u-maxWidth740">
         <div class="row">
          <div class="col u-size12of12"></div>
         </div>
         <div class="row">
          <div class="col u-size12of12 js-postTags">
           <div class="u-paddingBottom10">
            <ul class="tags tags--postTags tags--borderless">
             <li><a class="link u-baseColor--link" href="https://medium.com/tag/javascript?source=post" data-action-source="post">JavaScript</a></li>
             <li><a class="link u-baseColor--link" href="https://medium.com/tag/maps?source=post" data-action-source="post">Maps</a></li>
             <li><a class="link u-baseColor--link" href="https://medium.com/tag/d3?source=post" data-action-source="post">D3</a></li>
             <li><a class="link u-baseColor--link" href="https://medium.com/tag/data-visualization?source=post" data-action-source="post">Data Visualization</a></li>
             <li><a class="link u-baseColor--link" href="https://medium.com/tag/programming?source=post" data-action-source="post">Programming</a></li>
            </ul>
           </div>
          </div>
         </div>
         <section class="u-paddingTop20 u-borderTopLightest u-marginTop10">
          <div class="u-textColorDarker u-fontSize22 u-marginBottom7">
           Show your support
          </div>
          <p class="u-textColorDark u-fontSize16">Clapping shows how much you appreciated Mike Bostock’s story.</p>
         </section>
         <div class="postActions u-flexCenter js-postActionsFooter">
          <div class="u-flex1">
           <div class="multirecommend js-actionMultirecommend u-flexCenter u-width60" data-post-id="897aa8f8ca2c" data-is-icon-29px="true" data-is-circle="true" data-has-recommend-list="true" data-source="post_actions_footer-----897aa8f8ca2c---------------------clap_footer">
            <div class="u-relative u-foreground">
             <button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/897aa8f8ca2c" data-action-source="post_actions_footer-----897aa8f8ca2c---------------------clap_footer" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0">
                <svg class="svgIcon-use" width="33" height="33" viewbox="0 0 33 33">
                 <path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd" />
                </svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0">
                <svg class="svgIcon-use" width="33" height="33" viewbox="0 0 33 33">
                 <g fill-rule="evenodd">
                  <path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z" />
                  <path d="M13.285.48l-1.916.881 2.37 2.837z" />
                  <path d="M21.719 1.361L19.79.501l-.44 3.697z" />
                  <path d="M16.502 3.298L15.481 0h2.043z" />
                 </g>
                </svg></span></span></button>
             <div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;">
              <button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight" data-action="multivote-undo" data-action-value="897aa8f8ca2c"><span class="svgIcon svgIcon--removeThin svgIcon--29px">
                <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
                 <path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd" />
                </svg></span></button>
             </div>
            </div>
            <span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-marginLeft10"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton" data-action="show-recommends" data-action-value="897aa8f8ca2c">432</button></span>
           </div>
          </div>
          <div class="u-flex0 buttonSet buttonSet--narrow">
           <div class="buttonSet-inner">
            <button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px">
              <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
               <path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z" />
              </svg></span></button>
            <button class="button button--chromeless u-baseColor--buttonNormal" data-action="scroll-to-responses">20</button>
           </div>
           <div class="buttonSet-inner u-xs-hide">
            <button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px">
              <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
               <path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z" />
              </svg></span></button>
           </div>
           <div class="buttonSet-inner u-xs-hide">
            <button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px">
              <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
               <path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4" />
              </svg></span></button>
           </div>
           <div class="buttonSet-inner u-xs-show">
            <button class="button button--large button--dark button--chromeless u-baseColor--buttonDark button--withIcon button--withSvgIcon js-shareStoryButton" title="Share this story on Twitter or Facebook" aria-label="Share this story on Twitter or Facebook" data-action="show-share-popover" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--share svgIcon--29px">
              <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
               <path d="M20.385 8H19a.5.5 0 1 0 .011 1h1.39c.43 0 .84.168 1.14.473.31.305.48.71.48 1.142v10.77c0 .43-.17.837-.47 1.142-.3.305-.71.473-1.14.473H8.62c-.43 0-.84-.168-1.144-.473a1.603 1.603 0 0 1-.473-1.142v-10.77c0-.43.17-.837.48-1.142A1.599 1.599 0 0 1 8.62 9H10a.502.502 0 0 0 0-1H8.615c-.67 0-1.338.255-1.85.766-.51.51-.765 1.18-.765 1.85v10.77c0 .668.255 1.337.766 1.848.51.51 1.18.766 1.85.766h11.77c.668 0 1.337-.255 1.848-.766.51-.51.766-1.18.766-1.85v-10.77c0-.668-.255-1.337-.766-1.848A2.61 2.61 0 0 0 20.384 8zm-8.67-2.508L14 3.207v8.362c0 .27.224.5.5.5s.5-.23.5-.5V3.2l2.285 2.285a.49.49 0 0 0 .704-.001.511.511 0 0 0 0-.708l-3.14-3.14a.504.504 0 0 0-.71 0L11 4.776a.501.501 0 0 0 .71.706" fill-rule="evenodd" />
              </svg></span></button>
           </div>
          </div>
         </div>
        </div>
        <div class="js-postPromotionWrapper postPromotionWrapper" data-location-id="footer_above_post_attribution"></div>
        <div class="u-maxWidth740 u-paddingTop20 u-marginTop10 u-borderTopLightest container u-paddingBottom20 u-xs-paddingBottom10 js-postAttributionFooterContainer">
         <div class="row js-postFooterInfo">
          <div class="col u-size12of12">
           <li class="u-block u-paddingBottom18 js-cardUser">
            <div class="u-marginLeft20 u-floatRight">
             <span class="followState js-followState" data-user-id="c918c478bb49"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton" data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton" data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/c918c478bb49" data-action-source="footer_card-c918c478bb49-------------------------follow_footer"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span>
            </div>
            <div class="u-tableCell ">
             <a class="link avatar u-baseColor--link" href="https://medium.com/@mbostock?source=footer_card" title="Go to the profile of Mike Bostock" aria-label="Go to the profile of Mike Bostock" data-action-source="footer_card" data-user-id="c918c478bb49" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/120/120/0*ZZRowkjCcKUQ2dpE.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Mike Bostock"></a>
            </div>
            <div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15">
             <h3 class="u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal" href="https://medium.com/@mbostock" property="cc:attributionName" title="Go to the profile of Mike Bostock" aria-label="Go to the profile of Mike Bostock" rel="author cc:attributionUrl" data-user-id="c918c478bb49" dir="auto">Mike Bostock</a></h3>
             <p class="u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Code and data for humans. Creator of d3.express and #d3js. Former <a href="http://twitter.com/nytgraphics" target="_blank" title="Twitter profile for @nytgraphics">@nytgraphics</a> editor. Pronounced BOSS-tock.</p>
            </div></li>
          </div>
         </div>
        </div>
        <div class="js-postFooterPlacements"></div>
        <div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div>
        <div class="supplementalPostContent js-heroPromo"></div>
       </footer>
      </article>
     </main>
     <div class="u-marginAuto u-maxWidth1000">
      <div class="js-postShareWidget u-foreground u-sm-hide u-transition--fadeOut300 u-fixed">
       <ul>
        <li class="u-textAlignCenter">
         <div class="multirecommend js-actionMultirecommend u-flexColumn u-marginBottom10 u-width60" data-post-id="897aa8f8ca2c" data-is-icon-29px="true" data-is-vertical="true" data-is-circle="true" data-is-compressed="true" data-has-recommend-list="true" data-source="post_share_widget-----897aa8f8ca2c---------------------clap_sidebar">
          <div class="u-relative u-foreground">
           <button class="button button--large button--circle button--withChrome u-baseColor--buttonNormal button--withIcon button--withSvgIcon clapButton js-actionMultirecommendButton clapButton--largePill u-relative u-foreground u-width60 u-height60 u-accentColor--textNormal u-accentColor--buttonNormal" data-action="sign-up-prompt" data-sign-in-action="multivote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/897aa8f8ca2c" data-action-source="post_share_widget-----897aa8f8ca2c---------------------clap_sidebar" aria-label="Clap"><span class="button-defaultState"><span class="svgIcon svgIcon--clap svgIcon--33px u-relative u-topNegative2 u-xs-top0">
              <svg class="svgIcon-use" width="33" height="33" viewbox="0 0 33 33">
               <path d="M28.86 17.342l-3.64-6.402c-.292-.433-.712-.729-1.163-.8a1.124 1.124 0 0 0-.889.213c-.63.488-.742 1.181-.33 2.061l1.222 2.587 1.4 2.46c2.234 4.085 1.511 8.007-2.145 11.663-.26.26-.526.49-.797.707 1.42-.084 2.881-.683 4.292-2.094 3.822-3.823 3.565-7.876 2.05-10.395zm-6.252 11.075c3.352-3.35 3.998-6.775 1.978-10.469l-3.378-5.945c-.292-.432-.712-.728-1.163-.8a1.122 1.122 0 0 0-.89.213c-.63.49-.742 1.182-.33 2.061l1.72 3.638a.502.502 0 0 1-.806.568l-8.91-8.91a1.335 1.335 0 0 0-1.887 1.886l5.292 5.292a.5.5 0 0 1-.707.707l-5.292-5.292-1.492-1.492c-.503-.503-1.382-.505-1.887 0a1.337 1.337 0 0 0 0 1.886l1.493 1.492 5.292 5.292a.499.499 0 0 1-.353.854.5.5 0 0 1-.354-.147L5.642 13.96a1.338 1.338 0 0 0-1.887 0 1.338 1.338 0 0 0 0 1.887l2.23 2.228 3.322 3.324a.499.499 0 0 1-.353.853.502.502 0 0 1-.354-.146l-3.323-3.324a1.333 1.333 0 0 0-1.886 0 1.325 1.325 0 0 0-.39.943c0 .356.138.691.39.943l6.396 6.397c3.528 3.53 8.86 5.313 12.821 1.353zM12.73 9.26l5.68 5.68-.49-1.037c-.518-1.107-.426-2.13.224-2.89l-3.303-3.304a1.337 1.337 0 0 0-1.886 0 1.326 1.326 0 0 0-.39.944c0 .217.067.42.165.607zm14.787 19.184c-1.599 1.6-3.417 2.392-5.353 2.392-.349 0-.7-.03-1.058-.082a7.922 7.922 0 0 1-3.667.887c-3.049 0-6.115-1.626-8.359-3.87l-6.396-6.397A2.315 2.315 0 0 1 2 19.724a2.327 2.327 0 0 1 1.923-2.296l-.875-.875a2.339 2.339 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.647l-.139-.139c-.91-.91-.91-2.39 0-3.3.884-.884 2.421-.882 3.301 0l.138.14a2.335 2.335 0 0 1 3.948-1.24l.093.092c.091-.423.291-.828.62-1.157a2.336 2.336 0 0 1 3.3 0l3.384 3.386a2.167 2.167 0 0 1 1.271-.173c.534.086 1.03.354 1.441.765.11-.549.415-1.034.911-1.418a2.12 2.12 0 0 1 1.661-.41c.727.117 1.385.565 1.853 1.262l3.652 6.423c1.704 2.832 2.025 7.377-2.205 11.607zM13.217.484l-1.917.882 2.37 2.837-.454-3.719zm8.487.877l-1.928-.86-.44 3.697 2.368-2.837zM16.5 3.293L15.478-.005h2.044L16.5 3.293z" fill-rule="evenodd" />
              </svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--clapFilled svgIcon--33px u-relative u-topNegative2 u-xs-top0">
              <svg class="svgIcon-use" width="33" height="33" viewbox="0 0 33 33">
               <g fill-rule="evenodd">
                <path d="M29.58 17.1l-3.854-6.78c-.365-.543-.876-.899-1.431-.989a1.491 1.491 0 0 0-1.16.281c-.42.327-.65.736-.7 1.207v.001l3.623 6.367c2.46 4.498 1.67 8.802-2.333 12.807-.265.265-.536.505-.81.728 1.973-.222 3.474-1.286 4.45-2.263 4.166-4.165 3.875-8.6 2.215-11.36zm-4.831.82l-3.581-6.3c-.296-.439-.725-.742-1.183-.815a1.105 1.105 0 0 0-.89.213c-.647.502-.755 1.188-.33 2.098l1.825 3.858a.601.601 0 0 1-.197.747.596.596 0 0 1-.77-.067L10.178 8.21c-.508-.506-1.393-.506-1.901 0a1.335 1.335 0 0 0-.393.95c0 .36.139.698.393.95v.001l5.61 5.61a.599.599 0 1 1-.848.847l-5.606-5.606c-.001 0-.002 0-.003-.002L5.848 9.375a1.349 1.349 0 0 0-1.902 0 1.348 1.348 0 0 0 0 1.901l1.582 1.582 5.61 5.61a.6.6 0 0 1-.848.848l-5.61-5.61c-.51-.508-1.393-.508-1.9 0a1.332 1.332 0 0 0-.394.95c0 .36.139.697.393.952l2.363 2.362c.002.001.002.002.002.003l3.52 3.52a.6.6 0 0 1-.848.847l-3.522-3.523h-.001a1.336 1.336 0 0 0-.95-.393 1.345 1.345 0 0 0-.949 2.295l6.779 6.78c3.715 3.713 9.327 5.598 13.49 1.434 3.527-3.528 4.21-7.13 2.086-11.015zM11.817 7.727c.06-.328.213-.64.466-.893.64-.64 1.755-.64 2.396 0l3.232 3.232c-.82.783-1.09 1.833-.764 2.992l-5.33-5.33z" />
                <path d="M13.285.48l-1.916.881 2.37 2.837z" />
                <path d="M21.719 1.361L19.79.501l-.44 3.697z" />
                <path d="M16.502 3.298L15.481 0h2.043z" />
               </g>
              </svg></span></span></button>
           <div class="clapUndo u-width60 u-round u-height32 u-absolute u-borderBox u-paddingRight5 u-transition--transform200Spring u-background--brandSageLighter js-clapUndo" style="top: 14px; padding: 2px;">
            <button class="button button--chromeless u-baseColor--buttonNormal button--withIcon button--withSvgIcon u-floatRight" data-action="multivote-undo" data-action-value="897aa8f8ca2c"><span class="svgIcon svgIcon--removeThin svgIcon--29px">
              <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
               <path d="M20.13 8.11l-5.61 5.61-5.609-5.61-.801.801 5.61 5.61-5.61 5.61.801.8 5.61-5.609 5.61 5.61.8-.801-5.609-5.61 5.61-5.61" fill-rule="evenodd" />
              </svg></span></button>
           </div>
          </div>
          <span class="u-textAlignCenter u-relative u-background js-actionMultirecommendCount u-flexOrderNegative1 u-height20 u-marginBottom7"><button class="button button--chromeless u-baseColor--buttonNormal js-multirecommendCountButton u-block u-marginAuto" data-action="show-recommends" data-action-value="897aa8f8ca2c">432</button></span>
         </div></li>
        <li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px">
           <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
            <path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z" />
           </svg></span></button></li>
        <li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon" title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px">
           <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
            <path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4" />
           </svg></span></button></li>
        <li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton" title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-up-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/897aa8f8ca2c" data-action-source="post_share_widget-----897aa8f8ca2c---------------------bookmark_sidebar"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px">
            <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
             <path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd" />
            </svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px">
            <svg class="svgIcon-use" width="29" height="29" viewbox="0 0 29 29">
             <path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd" />
            </svg></span></span></button></li>
       </ul>
      </div>
     </div>
     <div class="u-fixed u-bottom0 u-sizeFullWidth u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter">
      <div class="u-maxWidth700 u-marginAuto u-flexCenter">
       <div class="u-fontSize16 u-flex1 u-flexCenter">
        <div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10">
         <a class="link avatar u-inline u-baseColor--link" href="https://medium.com/@mbostock" data-action="show-user-card" data-action-value="c918c478bb49" data-action-type="hover" data-user-id="c918c478bb49" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/80/80/0*ZZRowkjCcKUQ2dpE.jpeg" class="avatar-image avatar-image--smaller" alt="Go to the profile of Mike Bostock"></a>
        </div>
        <div class="u-flex1 u-inlineBlock">
         <div class="u-xs-hide">
          Never miss a story from
          <strong> Mike Bostock</strong>, when you sign up for Medium. 
          <a class="link link--accent u-accentColor--textNormal u-accentColor--textDarken u-baseColor--link" href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a>
         </div>
         <div class="u-xs-show">
          Never miss a story from
          <strong> Mike Bostock</strong>
         </div>
        </div>
       </div>
       <div class="u-marginLeft50 u-xs-marginAuto">
        <span class="followState js-followState" data-user-id="c918c478bb49"><button class="button u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-uiTextSemibold u-textUppercase u-fontSize12" data-action="sign-up-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-redirect="https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c" data-action-source="sticky_footer"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary is-active u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-uiTextSemibold u-textUppercase u-fontSize12" data-action="sign-up-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/c918c478bb49" data-action-source="sticky_footer-c918c478bb49-------------------------follow_metabar"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Get updates</span></button></span>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <div class="loadingBar"></div>
  <script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script>
  <script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"30896-984552c","currentUser":{"userId":"lo_fcc556f1c238","isVerified":false,"subscriberEmail":"","hasPastMemberships":false,"isEnrolledInHightower":false,"isEligibleForHightower":false},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.Oty0kW8MpxxfXYEYUCl8gw.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.Nrpddu7_2oXRI1Nm7-OoBA.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.Fp2Qr5Lg9DQ7xqnIXdNWjg.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.b0FeKH3_Mcj-q_sQqwLfbw.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.1Y2yt5HlKRYFi3yxDJ2J5A.js","payments":"https://cdn-static-1.medium.com/_/fp/gen-js/main-payments.bundle.ocZz_d_UwVkyjO_n-YN7sQ.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.snQNwZGKeDjwgMI3E1_vDA.js","pubs":"https://cdn-static-1.medium.com/_/fp/gen-js/main-pubs.bundle.s3L1rX3BTbilWRdgiYuFug.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.YYXgqq3uOhmNJ5GwyXMVkg.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":true,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1507036556460:7659081e3148","useragent":{"browser":"chrome","family":"chrome","os":"windows","version":45,"supportsDesktopEdit":true,"supportsInteract":true,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":true,"isTier1":true,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":true,"supportsVhUnits":true,"ruinsViewportSections":false,"supportsHtml5Video":true,"supportsMagicUnderlines":true,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":true,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":false,"supportsVideoSections":false,"emojiSupportLevel":1,"supportsScrollableMetabar":true},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"enable_onboarding":true,"ios_custom_miro_url":"https://cdn-images-1.medium.com","reengagement_notification_duration":3,"enable_adsnative_integration":true,"browsable_stream_config_bucket":"curated-topics","ios_small_post_preview_truncation_length":5.5,"ios_large_post_preview_truncation_length":5.5,"disable_ios_catalog_badging":true,"enable_series_creation":true,"enable_your_series_pages":true,"enable_productionized_series":true,"enable_dedicated_series_tab_api_ios":true,"enable_clap_milestone_notifications":true,"enable_series_stats_page":true,"enable_post_import":true,"enable_sponsored_post_labelling":true,"enable_logged_in_follow_on_collection_post":true,"promoted_story_placement_locations":"POST_PAGE_FOOTER","enable_chunky_home_page":true,"retire_ranked_feed":true,"enable_export_members":true,"enable_series_card_background_creation":true,"available_membership_plans":"60e220181034","available_monthly_plan":"60e220181034","available_annual_plan":"2c754bcc2995","double_write_post_from_followed_tag_items":true,"enable_sms":true,"enable_series_in_user_profiles":true,"enable_new_logged_out_bento_operation":true,"is_not_medium_subscriber":true,"subs_landing_copy_experiments":"short","logged_out_homepage_promo":"content","enable_dynamic_topic_windows":true,"enable_emoji_in_editor":true,"enable_glyph":true,"glyph_font_set":"m","enable_branding":true,"enable_upsell_tracking":true,"enable_post_page_signin":true,"post_page_signin_copy_count":true,"enable_sequence_carousel":true,"enable_multirecommends":true,"enable_updated_homepage_order":true,"enable_auto_grid_on_new_from_your_network":true,"enable_unbundled_you_might_like":true,"enable_noteworthy_promo":true,"enable_interest_graph_vtwo_topic_suggestions":true,"enable_popchunks":true,"enable_hightower":true,"enable_user_post_metering":true,"max_premium_content_per_user_under_metering":3,"enable_welcome_email_v2":true,"enable_topic_writer_onboarding":true,"enable_hightower_onboarding_blinker":true,"enable_direct_signin":true,"enable_strong_graph_chp_reorder":true,"enable_post_page_cleanup":"remove_all_except_recirc"},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","fp":{"/icons/favicon.svg":"https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium.3Y6xpZ-0FSdWDnPM3hSBIA.ico","faviconImageId":"1*8I-HPL0bfoIzGied-dzOvA.png","fontSets":[{"id":8,"url":"https://glyph.medium.com/css/e/sr/latin/e/ssr/latin/e/ssb/latin/m.css"},{"id":9,"url":"https://glyph.medium.com/css/mkt.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-rebrand-medium-editor.3Y6xpZ-0FSdWDnPM3hSBIA.ico","glyphUrl":"https://glyph.medium.com"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"76d4bcb050b2dab7\",\"ot-tracer-traceid\":\"6ab4b17c1c7c760a\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]}},"mailingListArchiveUploadSizeMb":2,"availableMembershipPlans":["60e220181034"],"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","audioContentTopicId":"3792abbd134","brandedSequenceId":"7d337ddf1941","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com","buggle":{"url":"https://buggle.medium.com","videoUrl":"https://cdn-videos-1.medium.com","audioUrl":"https://cdn-audio-1.medium.com"}}
// ]]></script>
  <script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.Oty0kW8MpxxfXYEYUCl8gw.js" async></script>
  <script>// <![CDATA[
window["obvInit"]({"value":{"id":"897aa8f8ca2c","versionId":"3681a7c51d5e","creatorId":"c918c478bb49","creator":{"userId":"c918c478bb49","name":"Mike Bostock","username":"mbostock","createdAt":1356024174647,"lastPostCreatedAt":1502980882906,"imageId":"0*ZZRowkjCcKUQ2dpE.jpeg","backgroundImageId":"","bio":"Code and data for humans. Creator of d3.express and #d3js. Former @nytgraphics editor. Pronounced BOSS-tock.","twitterScreenName":"mbostock","socialStats":{"userId":"c918c478bb49","usersFollowedCount":154,"usersFollowedByCount":22108,"type":"SocialStats"},"social":{"userId":"lo_96d12600395e","targetUserId":"c918c478bb49","type":"Social"},"facebookAccountId":"","allowNotes":1,"type":"User"},"homeCollectionId":"","title":"Command-Line Cartography, Part 1","detectedLanguage":"en","latestVersion":"3681a7c51d5e","latestPublishedVersion":"3681a7c51d5e","hasUnpublishedEdits":false,"latestRev":2503,"createdAt":1478823580909,"updatedAt":1506945889705,"acceptedAt":0,"firstPublishedAt":1481322890270,"latestPublishedAt":1485470826924,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"A tour of d3-geo’s new command-line interface.","bodyModel":{"paragraphs":[{"name":"4ad9","type":3,"text":"Command-Line Cartography, Part 1","markups":[]},{"name":"85c8","type":13,"text":"A tour of d3-geo’s new command-line interface.","markups":[]},{"name":"7d72","type":1,"text":"[This is Part 1 of a tutorial on making thematic maps. Read Part 2 here.]","markups":[{"type":3,"start":60,"end":66,"href":"https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3","title":"","rel":"","anchorType":0},{"type":2,"start":0,"end":73}]},{"name":"6cc1","type":1,"text":"This multipart tutorial will teach you to make a thematic map from the command line using d3-geo, TopoJSON and ndjson-cli—free, open-source tools written in JavaScript. We’ll make a choropleth of California’s population density. (For added challenge, substitute your state of choice!)","markups":[{"type":3,"start":90,"end":96,"href":"https://github.com/d3/d3-geo","title":"","rel":"","anchorType":0},{"type":3,"start":98,"end":106,"href":"https://github.com/topojson","title":"","rel":"","anchorType":0},{"type":3,"start":111,"end":121,"href":"https://github.com/mbostock/ndjson-cli","title":"","rel":"","anchorType":0},{"type":3,"start":182,"end":192,"href":"https://en.wikipedia.org/wiki/Choropleth_map","title":"","rel":"","anchorType":0}]},{"name":"96d0","type":4,"text":"","markups":[],"layout":3,"metadata":{"id":"1*E3frfq0xjAKUVIEy_3UMgw.png","originalWidth":1920,"originalHeight":1920}},{"name":"8eca","type":4,"text":"Source: American Community Survey, 2014 5-Year Estimate","markups":[{"type":3,"start":8,"end":33,"href":"http://www.census.gov/acs/www/","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*PQD5RmdN2QHYmG3H6_D8cw.png","originalWidth":1320,"originalHeight":144}},{"name":"c0fd","type":1,"text":"The first part of this tutorial focuses on getting geometry (polygons) and converting this geometry into a format that can be easily manipulated on the command-line and displayed in a web browser.","markups":[]},{"name":"3199","type":1,"text":"The U.S. Census Bureau regularly publishes cartographic boundary shapefiles. Unlike TIGER—the Census Bureau’s most-detailed and comprehensive geometry product—the “cartographic boundary files are simplified representations… specifically designed for small scale thematic mapping.” In other words, they’re perfect for a humble choropleth.","markups":[{"type":3,"start":4,"end":22,"href":"https://www.census.gov/","title":"","rel":"","anchorType":0},{"type":3,"start":43,"end":75,"href":"https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html","title":"","rel":"","anchorType":0},{"type":3,"start":84,"end":89,"href":"https://www.census.gov/geo/maps-data/data/tiger.html","title":"","rel":"","anchorType":0}]},{"name":"4f08","type":1,"text":"The Census Bureau, as you might guess, also publishes data from their decennial census, the more frequent American Community Survey, and other surveys. To get a sense of the wealth of data the Census Bureau provides, visit the American FactFinder or the friendly Census Reporter. Now we must choose a few parameters:","markups":[{"type":3,"start":70,"end":86,"href":"https://en.wikipedia.org/wiki/United_States_Census","title":"","rel":"","anchorType":0},{"type":3,"start":106,"end":131,"href":"https://en.wikipedia.org/wiki/American_Community_Survey","title":"","rel":"","anchorType":0},{"type":3,"start":227,"end":246,"href":"https://factfinder.census.gov/","title":"","rel":"","anchorType":0},{"type":3,"start":263,"end":278,"href":"https://censusreporter.org/","title":"","rel":"","anchorType":0}]},{"name":"aadd","type":9,"text":"A metric (e.g., population density)","markups":[{"type":2,"start":2,"end":8},{"type":2,"start":10,"end":14}]},{"name":"5a28","type":9,"text":"A geographic entity (e.g., census tract)","markups":[{"type":2,"start":2,"end":19},{"type":2,"start":21,"end":25}]},{"name":"7e63","type":9,"text":"A source (e.g., ACS 2014 5-year estimate)","markups":[{"type":2,"start":2,"end":8},{"type":2,"start":10,"end":14}]},{"name":"cc23","type":1,"text":"It’s necessary to determine these parameters first because the geometry must match the data: if our population estimates are per census tract, we’ll need census tract polygons. More subtly, the year of the survey should match the geometry: while boundaries change relatively infrequently, they do change, especially with smaller entities such as tracts.","markups":[{"type":2,"start":294,"end":296}]},{"name":"1f4a","type":1,"text":"The Census Bureau helpfully provides guidance on picking the right data. Census tracts are small enough to produce a detailed map, but big enough to be easy to work with. We’ll use 5-year estimates, which are recommended for smaller entities and favor precision over currency. 2014 is the most recent release at the time of writing.","markups":[{"type":3,"start":28,"end":45,"href":"https://www.census.gov/programs-surveys/acs/guidance.html","title":"","rel":"","anchorType":0},{"type":3,"start":289,"end":308,"href":"http://www.census.gov/programs-surveys/acs/news/data-releases/2015/release-schedule.html","title":"","rel":"","anchorType":0}]},{"name":"49b8","type":4,"text":"The Census Bureau’s standard hierarchy of geographic entities.","markups":[{"type":3,"start":20,"end":61,"href":"https://www.census.gov/geo/reference/hierarchy.html","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*D9lhzkzoPqyyjxsPLklihQ.png","originalWidth":1366,"originalHeight":1116}},{"name":"1d70","type":1,"text":"Now we need a URL! That URL can be found through a series of clicks from the Census Bureau website. But forget that, and just browse the 2014 cartographic boundary files here:","markups":[{"type":3,"start":77,"end":98,"href":"https://www.census.gov/geo/maps-data/data/tiger-cart-boundary.html","title":"","rel":"","anchorType":0}]},{"name":"05cf","type":8,"text":"http://www2.census.gov/geo/tiger/GENZ2014/shp/","markups":[{"type":3,"start":0,"end":46,"href":"http://www2.census.gov/geo/tiger/GENZ2014/shp/","title":"","rel":"nofollow","anchorType":0}]},{"name":"c156","type":1,"text":"Given a state’s FIPS code (06 for California), you can now use curl to download the corresponding census tract polygons:","markups":[{"type":3,"start":16,"end":25,"href":"https://en.wikipedia.org/wiki/Federal_Information_Processing_Standard_state_code","title":"","rel":"","anchorType":0},{"type":3,"start":63,"end":67,"href":"https://curl.haxx.se/","title":"","rel":"","anchorType":0},{"type":1,"start":63,"end":67}]},{"name":"2365","type":8,"text":"curl 'http://www2.census.gov/geo/tiger/GENZ2014/shp/cb_2014_06_tract_500k.zip' -o cb_2014_06_tract_500k.zip","markups":[{"type":3,"start":6,"end":77,"href":"http://www2.census.gov/geo/tiger/GENZ2015/shp/cb_2015_06_tract_500k.zip","title":"","rel":"","anchorType":0}]},{"name":"2a4d","type":1,"text":"Next, unzip the archive to extract the shapefile (.shp), and some other junk:","markups":[{"type":3,"start":6,"end":11,"href":"http://www.info-zip.org/pub/infozip/UnZip.html","title":"","rel":"","anchorType":0},{"type":1,"start":6,"end":11}]},{"name":"8e9e","type":8,"text":"unzip -o cb_2014_06_tract_500k.zip","markups":[]},{"name":"2731","type":1,"text":"(You should already have curl and unzip installed, as these are included in most operating systems. You will also need node and npm; on macOS, I recommend Homebrew to install software.)","markups":[{"type":3,"start":119,"end":131,"href":"https://nodejs.org/en/download/","title":"","rel":"","anchorType":0},{"type":3,"start":155,"end":163,"href":"http://brew.sh/","title":"","rel":"","anchorType":0},{"type":1,"start":119,"end":123},{"type":1,"start":128,"end":131}]},{"name":"d183","type":1,"text":"A quick way to check what’s in a shapefile is to visit mapshaper.org and drag the shapefile into your browser. If you do that with the downloaded cb_2014_06_tract_500k.shp, you should see something like this:","markups":[{"type":3,"start":55,"end":68,"href":"http://mapshaper.org/","title":"","rel":"","anchorType":0}]},{"name":"dec0","type":4,"text":"cb_2014_06_tract_500k.shp on mapshaper.org","markups":[{"type":3,"start":29,"end":42,"href":"http://mapshaper.org","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*TD9qUJRdWRiUev3ek1hP0w.png","originalWidth":1113,"originalHeight":1025}},{"name":"7286","type":1,"text":"As Mapshaper demonstrates, it’s possible to view shapefiles directly in your browser. But binary shapefiles can be difficult to work with, so we’ll convert to GeoJSON: a web-friendly, human-readable format. My shapefile parser has a command-line interface, shp2json, for this purpose. (Warning: there’s an unrelated package of the same name on npm.) To install:","markups":[{"type":3,"start":69,"end":84,"href":"https://bl.ocks.org/mbostock/2dd741099154a4da55a7db31fd96a892","title":"","rel":"","anchorType":0},{"type":3,"start":159,"end":166,"href":"http://geojson.org/","title":"","rel":"","anchorType":0},{"type":3,"start":210,"end":226,"href":"https://github.com/mbostock/shapefile","title":"","rel":"","anchorType":0},{"type":3,"start":257,"end":265,"href":"https://github.com/mbostock/shapefile/blob/master/README.md#shp2json","title":"","rel":"","anchorType":0},{"type":1,"start":257,"end":265}]},{"name":"49bf","type":8,"text":"npm install -g shapefile","markups":[]},{"name":"8f70","type":1,"text":"Now use shp2json to convert to GeoJSON:","markups":[{"type":1,"start":8,"end":17}]},{"name":"edc5","type":8,"text":"shp2json cb_2014_06_tract_500k.shp -o ca.json","markups":[]},{"name":"9d57","type":1,"text":"Note that this also reads cb_2014_06_tract_500k.dbf, a dBASE file, defining feature properties on the resulting GeoJSON. The glorious result:","markups":[{"type":3,"start":76,"end":94,"href":"https://tools.ietf.org/html/rfc7946#section-3.2","title":"","rel":"","anchorType":0}]},{"name":"8927","type":4,"text":"Hey, it’s more “human-readable” than binary data.","markups":[],"layout":3,"metadata":{"id":"1*Kr8L0iBOKFamuORP3cnSvQ.png","originalWidth":2778,"originalHeight":1754}},{"name":"06f4","type":1,"text":"We could now display this in a browser using D3, but first we should apply a geographic projection. By avoiding expensive trigonometric operations at runtime, the resulting GeoJSON renders much faster, especially on mobile devices. Pre-projecting also improves the efficacy of simplification, which we’ll cover in part 3. To install d3-geo-projection’s command-line interface:","markups":[{"type":3,"start":45,"end":47,"href":"https://d3js.org","title":"","rel":"","anchorType":0},{"type":3,"start":333,"end":350,"href":"https://github.com/d3/d3-geo-projection","title":"","rel":"","anchorType":0}]},{"name":"35a3","type":8,"text":"npm install -g d3-geo-projection","markups":[]},{"name":"be02","type":1,"text":"Now use geoproject:","markups":[{"type":3,"start":8,"end":18,"href":"https://github.com/d3/d3-geo-projection/blob/master/README.md#geoproject","title":"","rel":"","anchorType":0},{"type":1,"start":8,"end":18}]},{"name":"65ba","type":8,"text":"geoproject 'd3.geoConicEqualArea().parallels([34, 40.5]).rotate([120, 0]).fitSize([960, 960], d)' \x3c ca.json \x3e ca-albers.json","markups":[]},{"name":"61a2","type":1,"text":"This d3.geoConicEqualArea projection is California Albers, and as its name suggests, is appropriate for showing California. It’s also equal-area, which is strongly recommended for choropleth maps as the projection will not distort the data. If you’re not sure what projection to use, try d3-stateplane or search spatialreference.org.","markups":[{"type":3,"start":5,"end":25,"href":"https://github.com/d3/d3-geo/blob/master/README.md#geoConicEqualArea","title":"","rel":"","anchorType":0},{"type":3,"start":40,"end":57,"href":"http://spatialreference.org/ref/epsg/nad83-california-albers/","title":"","rel":"","anchorType":0},{"type":3,"start":260,"end":275,"href":"https://github.com/d3/d3-geo-projection/blob/master/README.md","title":"","rel":"","anchorType":0},{"type":3,"start":288,"end":301,"href":"https://github.com/veltman/d3-stateplane","title":"","rel":"","anchorType":0},{"type":3,"start":312,"end":332,"href":"http://spatialreference.org/","title":"","rel":"","anchorType":0}]},{"name":"a71f","type":1,"text":"The projection you specify to geoproject is an arbitrary JavaScript expression. That means that you can use projection.fitSize to fit the input geometry (represented by d) to the desired 960×960 bounding box!","markups":[{"type":3,"start":108,"end":126,"href":"https://github.com/d3/d3-geo/blob/master/README.md#projection_fitSize","title":"","rel":"","anchorType":0},{"type":1,"start":30,"end":40},{"type":2,"start":4,"end":14},{"type":2,"start":108,"end":118},{"type":2,"start":169,"end":170}]},{"name":"23f2","type":1,"text":"To preview the projected geometry, use d3-geo-projection’s geo2svg:","markups":[{"type":3,"start":59,"end":66,"href":"https://github.com/d3/d3-geo-projection/blob/master/README.md#geo2svg","title":"","rel":"","anchorType":0},{"type":1,"start":59,"end":66}]},{"name":"8e48","type":8,"text":"geo2svg -w 960 -h 960 \x3c ca-albers.json \x3e ca-albers.svg","markups":[]},{"name":"f104","type":4,"text":"ca-albers.svg","markups":[],"layout":1,"metadata":{"id":"1*8pRMOxXHs7NASEB7bZHtEw.png","originalWidth":960,"originalHeight":960}},{"name":"c43b","type":1,"text":"If you followed along on the command line, you hopefully learned how to download and prepare geometry from the U.S. Census Bureau.","markups":[]},{"name":"9b2a","type":1,"text":"In part 2 of this tutorial, I’ll cover using ndjson-cli to join the geometry with population estimates from the Census Bureau API and to compute population density.","markups":[{"type":3,"start":3,"end":9,"href":"https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3","title":"","rel":"","anchorType":0},{"type":3,"start":45,"end":55,"href":"https://github.com/mbostock/ndjson-cli","title":"","rel":"","anchorType":0},{"type":3,"start":112,"end":129,"href":"http://www.census.gov/developers/","title":"","rel":"","anchorType":0}]},{"name":"cf42","type":1,"text":"In part 3, I’ll cover simplifying geometry and merging features using topojson-server, topojson-simplify and topojson-client.","markups":[{"type":3,"start":3,"end":9,"href":"https://medium.com/@mbostock/command-line-cartography-part-3-1158e4c55a1e","title":"","rel":"","anchorType":0},{"type":3,"start":70,"end":85,"href":"https://github.com/topojson/topojson-server","title":"","rel":"","anchorType":0},{"type":3,"start":87,"end":104,"href":"https://github.com/topojson/topojson-simplify","title":"","rel":"","anchorType":0},{"type":3,"start":109,"end":124,"href":"https://github.com/topojson/topojson-client","title":"","rel":"","anchorType":0}]},{"name":"3819","type":1,"text":"In part 4, I’ll cover implementing effective color encodings using d3-scale, and rendering the choropleth to SVG using d3-geo.","markups":[{"type":3,"start":3,"end":9,"href":"https://medium.com/@mbostock/command-line-cartography-part-4-82d0d26df0cf","title":"","rel":"","anchorType":0},{"type":3,"start":67,"end":75,"href":"https://github.com/d3/d3-scale","title":"","rel":"nofollow","anchorType":0},{"type":3,"start":119,"end":125,"href":"https://github.com/d3/d3-geo","title":"","rel":"nofollow","anchorType":0}]},{"name":"1fbd","type":7,"text":"Ready for more? Continue to Part 2.","markups":[{"type":3,"start":16,"end":35,"href":"https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3","title":"","rel":"","anchorType":0}]},{"name":"e4ad","type":1,"text":"Questions or comments? Reply below or on Twitter. Thank you for reading!","markups":[{"type":3,"start":38,"end":48,"href":"https://twitter.com/mbostock","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"4036","startIndex":0},{"name":"9c51","startIndex":39},{"name":"5a5f","startIndex":44}]},"postDisplay":{"coverless":true}},"virtuals":{"allowNotes":true,"previewImage":{"imageId":"1*E3frfq0xjAKUVIEy_3UMgw.png","filter":"","backgroundSize":"","originalWidth":1920,"originalHeight":1920,"strategy":"resample","height":0,"width":0},"wordCount":844,"imageCount":6,"readingTime":4.134905660377359,"subtitle":"A tour of d3-geo’s new command-line interface.","usersBySocialRecommends":[],"recommends":299,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"javascript","name":"JavaScript","postCount":43721,"virtuals":{"isFollowing":false},"metadata":{"followerCount":40409,"postCount":43721,"coverImage":{"id":"1*Pmm5N4hr9cANciDL5nbDpw.png","originalWidth":1363,"originalHeight":516}},"type":"Tag"},{"slug":"maps","name":"Maps","postCount":2313,"virtuals":{"isFollowing":false},"metadata":{"followerCount":412,"postCount":2313,"coverImage":{"id":"1*4kikTe4Y9eupO-a8BRccxA.png","originalWidth":1621,"originalHeight":767}},"type":"Tag"},{"slug":"d3","name":"D3","postCount":42,"virtuals":{"isFollowing":false},"metadata":{"followerCount":461,"postCount":42,"coverImage":{"id":"1*ki0wX2OqauNk5d7K1RFmqA.png","originalWidth":790,"originalHeight":655}},"type":"Tag"},{"slug":"data-visualization","name":"Data Visualization","postCount":6919,"virtuals":{"isFollowing":false},"metadata":{"followerCount":4762,"postCount":6919,"coverImage":{"id":"1*TNc8_lr52UFC2an7u9s4Tg.png","originalWidth":800,"originalHeight":600,"isFeatured":true}},"type":"Tag"},{"slug":"programming","name":"Programming","postCount":44602,"virtuals":{"isFollowing":false},"metadata":{"followerCount":47373,"postCount":44602,"coverImage":{"id":"1*ueWmI48uuShON-hX7LwI0w.png","originalWidth":1217,"originalHeight":689}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":20,"links":{"entries":[{"url":"https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3","alts":[{"type":2,"url":"medium://p/c3a82c5c0f3"},{"type":3,"url":"medium://p/c3a82c5c0f3"}]},{"url":"https://medium.com/@mbostock/command-line-cartography-part-3-1158e4c55a1e","alts":[{"type":2,"url":"medium://p/1158e4c55a1e"},{"type":3,"url":"medium://p/1158e4c55a1e"}]},{"url":"https://medium.com/@mbostock/command-line-cartography-part-4-82d0d26df0cf","alts":[{"type":2,"url":"medium://p/82d0d26df0cf"},{"type":3,"url":"medium://p/82d0d26df0cf"}]}],"version":"0.3","generatedAt":1485470828512},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":432,"sectionCount":3},"coverless":true,"slug":"command-line-cartography-part-1","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"command-line-cartography-part-1-897aa8f8ca2c","previewContent":{"bodyModel":{"paragraphs":[{"name":"4ad9","type":3,"text":"Command-Line Cartography, Part 1","markups":[],"alignment":1},{"name":"85c8","type":13,"text":"A tour of d3-geo’s new command-line interface.","markups":[],"alignment":1},{"name":"7d72","type":1,"text":"[This is Part 1 of a tutorial on making thematic maps. Read Part 2 here.]","markups":[{"type":3,"start":60,"end":66,"href":"https://medium.com/@mbostock/command-line-cartography-part-2-c3a82c5c0f3","title":"","rel":"","anchorType":0},{"type":2,"start":0,"end":73}],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c","approvedHomeCollectionId":"","newsletterId":"","webCanonicalUrl":"https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c","mediumUrl":"https://medium.com/@mbostock/command-line-cartography-part-1-897aa8f8ca2c","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"audioVersionDurationSec":0,"sequenceId":"","isNsfw":false,"isEligibleForRevenue":false,"isBlockedFromHightower":false,"type":"Post"},"mentionedUsers":[],"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"c918c478bb49":{"userId":"c918c478bb49","name":"Mike Bostock","username":"mbostock","createdAt":1356024174647,"lastPostCreatedAt":1502980882906,"imageId":"0*ZZRowkjCcKUQ2dpE.jpeg","backgroundImageId":"","bio":"Code and data for humans. Creator of d3.express and #d3js. Former @nytgraphics editor. Pronounced BOSS-tock.","twitterScreenName":"mbostock","socialStats":{"userId":"c918c478bb49","usersFollowedCount":154,"usersFollowedByCount":22108,"type":"SocialStats"},"social":{"userId":"lo_96d12600395e","targetUserId":"c918c478bb49","type":"Social"},"facebookAccountId":"","allowNotes":1,"type":"User"}},"Social":{"c918c478bb49":{"userId":"lo_96d12600395e","targetUserId":"c918c478bb49","type":"Social"}},"SocialStats":{"c918c478bb49":{"userId":"c918c478bb49","usersFollowedCount":154,"usersFollowedByCount":22108,"type":"SocialStats"}}}})
// ]]></script>
 </body>
</html>