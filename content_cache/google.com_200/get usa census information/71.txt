<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie ie6 lt-ie10 lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie ie7 lt-ie10 lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie ie8 lt-ie10 lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="no-js ie ie9 lt-ie10" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
 <!--<![endif]-->
 <head> 
  <meta charset="utf-8"> 
  <link rel="alternate" type="application/rss+xml" title="A List Apart: The Full Feed" href="/main/feed"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="shortcut icon" href="/components/assets/img/favicons/favicon.ico" type="image/x-icon"> 
  <link rel="apple-touch-icon" href="/components/assets/img/favicons/apple-touch-icon.png"> 
  <link rel="apple-touch-icon" sizes="57x57" href="/components/assets/img/favicons/apple-touch-icon-57x57.png"> 
  <link rel="apple-touch-icon" sizes="72x72" href="/components/assets/img/favicons/apple-touch-icon-72x72.png"> 
  <link rel="apple-touch-icon" sizes="76x76" href="/components/assets/img/favicons/apple-touch-icon-76x76.png"> 
  <link rel="apple-touch-icon" sizes="114x114" href="/components/assets/img/favicons/apple-touch-icon-114x114.png"> 
  <link rel="apple-touch-icon" sizes="120x120" href="/components/assets/img/favicons/apple-touch-icon-120x120.png"> 
  <link rel="apple-touch-icon" sizes="144x144" href="/components/assets/img/favicons/apple-touch-icon-144x144.png"> 
  <link rel="apple-touch-icon" sizes="152x152" href="/components/assets/img/favicons/apple-touch-icon-152x152.png"> 
  <meta name="application-name" content="A List Apart"> 
  <meta name="msapplication-TileColor" content="#222222"> 
  <meta name="msapplication-TileImage" content="/components/assets/img/favicons/windows-8-tile.png"> 
  <link href="https://plus.google.com/+alistapart/" rel="publisher"> 
  <meta http-equiv="imagetoolbar" content="false"> 
  <link rel="stylesheet" href="https://alistapart.com/d/_cache/60752e87345432991e7cd6b53c5d61e28e94f37f.1506604472.css"> 
  <script src="/components/assets/js/libs/modernizr-custom.js"></script> 
  <script src="/components/assets/js/libs/jquery-3.0.0.min.js"></script> 
  <script src="/components/assets/js/libs/jquery-migrate-1.4.1.min.js"></script> 
  <title>Take Control of Your Maps · An A List Apart Article</title> 
  <link rel="alternate" type="application/rss+xml" title="A feed for comments on this article" href="/comments/feed/takecontrolofyourmaps"> 
  <style>
	
	.member_116096 {
		border: 1px solid rgba(0,0,0,.4) !important;
	}
	
	
	.member_116096::before {
		/*box-shadow: inset 0 0 18px -8px rgba(255,161,161,.9);*/
		content: url(/components/assets/img/laurel-white-2.svg) !important;
		padding-top: 3px !important;
		height: 23px !important;
	}
	</style> 
  <link rel="canonical" href="https://alistapart.com/article/takecontrolofyourmaps"> 
  <meta name="description" content="It is now possible to replicate Google Maps’ functionality with open source software and produce high-quality mapping applications tailored to your design goals. Paul Smith shows how." class="entry-summary"> 
  <meta name="author" content="Paul Smith"> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:site" content="@alistapart"> 
  <meta name="twitter:title" content="Take Control of Your Maps"> 
  <meta name="twitter:description" content="It is now possible to replicate Google Maps’ functionality with open source software and produce high-quality mapping applications tailored to your design goals. Paul Smith shows how."> 
  <meta name="twitter:url" content="http://alistapart.com/article/takecontrolofyourmaps"> 
  <meta property="og:title" content="Take Control of Your Maps"> 
  <meta property="og:description" content="It is now possible to replicate Google Maps’ functionality with open source software and produce high-quality mapping applications tailored to your design goals. Paul Smith shows how."> 
  <meta property="og:url" content="http://alistapart.com/article/takecontrolofyourmaps"> 
  <meta property="og:image" content=""> 
 </head> 
 <body class="printable comments-exist" itemscope itemtype="http://schema.org/Article"> 
  <link itemprop="mainEntityOfPage" href="https://alistapart.com/article/takecontrolofyourmaps"> 
  <header class="logo-holder"> 
   <h1 name="top" class="killer-logo" itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><a href="https://alistapart.com" title="A List Apart home page" tabindex="-1" itemprop="url"><span itemprop="logo" itemscope itemtype="http://schema.org/ImageObject"><img itemprop="url" src="https://alistapart.com/components/assets/img/ala-logo-big.png" alt="A List Apart"></span></a><span class="screen-reader" itemprop="name">A List Apart</span></h1> 
  </header> 
  <a class="go-to-nav" href="#main-nav" title="skip to nav">Menu</a> 
  <nav class="global-nav" id="main-nav" role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement"> 
   <ul class="inline-items"> 
    <li><a href="/" title="Home" itemprop="url"><span itemprop="name">Home</span></a></li> 
    <li class="active"><a href="/articles" itemprop="url"><span itemprop="name">Articles</span></a></li> 
    <li><a href="/events" itemprop="url"><span itemprop="name">Events</span></a></li> 
    <li><a href="/topics" itemprop="url"><span itemprop="name">Topics</span></a></li> 
    <li><a href="/about/contribute" itemprop="url"><span itemprop="name">Write for us</span></a></li> 
    <li class="back-to-top"><a href="#top">Back to top</a></li> 
    <li class="head-east-young-man"> 
     <form id="main-search" class="main-search" data-action="/search" action="https://www.google.com/search" method="GET"> 
      <input type="hidden" name="sitesearch" value="alistapart.com"> 
      <label for="search-keywords"><input id="search-keywords" type="search" data-name="keywards" name="q" placeholder="Search" aria-label="Search" value="" required></label> 
      <input id="submit-search" name="submit" type="image" src="/components/assets/img/icon_magnify_v.svg" data-fallback="/components/assets/img/icon_magnify_v.png" alt="Submit"> 
     </form> </li> 
   </ul> 
  </nav> 
  <div role="main" class="main-wrapper"> 
   <article class="article-layout hentry"> 
    <header class="entry-header"> 
     <figure class="wide-hero" itemprop="image" itemscope itemtype="http://schema.org/ImageObject"> 
      <div class="illustration full left"> 
       <p><img src="/d/takecontrolofyourmaps/map.jpg" alt="Take Control of Your Maps"></p> 
      </div>
     </figure> 
     <h1 class="entry-title" itemprop="headline">Take Control of Your Maps</h1> 
     <p class="entry-details"> 
      <meta itemprop="description" content=""> <span itemprop="author" itemscope itemtype="http://schema.org/Person">by <a itemprop="sameAs" class="author" rel="author" href="/author/paulsmith"><span itemprop="name">Paul Smith</span></a></span> <time class="pubdate updated" datetime="2008-04-08T04:00:27-04:00" itemprop="datePublished">April 08, 2008</time> 
      <meta itemprop="dateModified" content="2012-08-02T21:48:28-04:00"> <span class="entry-meta optional-break"> Published in <a href="/topic/javascript"><span itemprop="about">JavaScript</span></a> </span> </p> 
    </header> 
    <div class="main-content" itemprop="articleBody"> 
     <p>We live in the era of Google Maps. What started off as an impressive refresh of Mapquest-style maps now fuels web mashups. With APIs official and unofficial, Google Maps is simple enough for front-end designers to embed and for back-end programmers to target. Along the way to becoming nearly ubiquitous, it has played a major role in the “<a href="http://www.nytimes.com/2005/12/11/magazine/11ideas1-13.html">democratization of mapping</a>.” For the practical developer who wants to add geospatial information to a site or application, the Google Maps <span class="caps">API</span> has been an easy call.</p> 
     <div class="aside-breaker">
      <b>Article Continues Below</b>
     </div> 
     <aside class="content-minutiae"> 
      <a href="#comments" class="comment-bubble comment-bubble-articles"> <span>30 comments</span> </a> 
      <div class="minutiae-block share-block"> 
       <h1 class="propagation-enablers" aria-hidden="true">Share this on</h1> 
       <ul class="propagation-enablers"> 
        <li class="circle-twitter"><a href="http://twitter.com/intent/tweet?url=http://alistapart.com/article/takecontrolofyourmaps&amp;text=Take+Control+of+Your+Maps&amp;via=alistapart" data-trackevent="Share: Twitter" title="share this on Twitter">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 274 224" enable-background="new 0 0 274 224" xml:space="preserve"> 
           <path d="M273.7,27.2c-10.1,4.5-20.9,7.5-32.2,8.8c11.6-6.9,20.5-17.9,24.7-31c-10.8,6.4-22.8,11.1-35.6,13.6
                           C220.3,7.7,205.7,0.9,189.6,0.9c-31,0-56.1,25.1-56.1,56.1c0,4.4,0.5,8.7,1.5,12.8C88.3,67.4,47,45.1,19.3,11.2
                           c-4.8,8.3-7.6,17.9-7.6,28.2c0,19.5,9.9,36.6,25,46.7c-9.2-0.3-17.8-2.8-25.4-7c0,0.2,0,0.5,0,0.7c0,27.2,19.3,49.8,45,55
                           c-4.7,1.3-9.7,2-14.8,2c-3.6,0-7.1-0.4-10.6-1c7.1,22.3,27.9,38.5,52.4,39c-19.2,15-43.4,24-69.7,24c-4.5,0-9-0.3-13.4-0.8
                           c24.8,15.9,54.3,25.2,86,25.2c103.2,0,159.6-85.5,159.6-159.6c0-2.4-0.1-4.9-0.2-7.3C256.7,48.3,266.2,38.5,273.7,27.2z" /> 
          </svg></a></li>
        <!--
                        -->
        <li class="circle-facebook"><a href="http://www.facebook.com/sharer.php?u=http://alistapart.com/article/takecontrolofyourmaps&amp;t=Take+Control+of+Your+Maps" data-trackevent="Share: Facebook" title="share this on Facebook">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="-95.6 286.6 114 220" enable-background="new -95.6 286.6 114 220" xml:space="preserve"> 
           <path id="f" d="M-21.6,505.9v-99.8h33.5l5-38.9h-38.5v-24.8c0-11.3,3.1-18.9,19.3-18.9l20.6,0v-34.8
                           c-3.6-0.5-15.8-1.5-30-1.5c-29.7,0-50,18.1-50,51.4v28.7h-33.6v38.9h33.6v99.8H-21.6z" /> 
          </svg></a></li>
        <!--
                        -->
        <li class="circle-google"><a href="https://plus.google.com/share?url=http://alistapart.com/article/takecontrolofyourmaps" data-trackevent="Share: Google+" title="share this on Google+">
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="-212.7 354.2 84 86" enable-background="new -212.7 354.2 84 86" xml:space="preserve"> 
           <g> 
            <g> 
             <path d="M-168.4,403.2l-4-3.1c-1.2-1-2.9-2.3-2.9-4.8c0-2.4,1.7-4,3.1-5.4c4.6-3.7,9.3-7.5,9.3-15.7
                                 c0-8.4-5.3-12.9-7.8-15h6.8l7.2-4.5h-21.8c-6,0-14.6,1.4-20.9,6.6c-4.8,4.1-7.1,9.8-7.1,14.8c0,8.6,6.6,17.4,18.3,17.4
                                 c1.1,0,2.3-0.1,3.5-0.2c-0.5,1.3-1.1,2.4-1.1,4.3c0,3.4,1.8,5.5,3.3,7.5c-5,0.3-14.3,0.9-21.1,5.1c-6.5,3.9-8.5,9.5-8.5,13.5
                                 c0,8.2,7.7,15.8,23.8,15.8c19,0,29.1-10.5,29.1-20.9C-159.1,411.1-163.5,407.3-168.4,403.2z M-182.9,390.5
                                 c-9.5,0-13.8-12.3-13.8-19.7c0-2.9,0.5-5.9,2.4-8.2c1.8-2.2,4.9-3.7,7.7-3.7c9.2,0,13.9,12.4,13.9,20.4c0,2-0.2,5.5-2.8,8.1
                                 C-177.2,389.1-180.1,390.5-182.9,390.5z M-182.8,435c-11.8,0-19.5-5.7-19.5-13.5c0-7.9,7.1-10.5,9.5-11.4
                                 c4.6-1.6,10.6-1.8,11.6-1.8c1.1,0,1.7,0,2.5,0.1c8.4,6,12.1,9,12.1,14.6C-166.5,429.9-172.2,435-182.8,435z" /> 
             <polygon points="-140.5,390.3 -140.5,379.2 -146,379.2 -146,390.3 -157,390.3 -157,395.8 -146,395.8 -146,407
                                 -140.5,407 -140.5,395.8 -129.4,395.8 -129.4,390.3 		" /> 
            </g> 
           </g> 
          </svg></a></li> 
       </ul> 
      </div> 
     </aside> 
     <div class="utility-side-bar">
      <div class="banner a-book-apart"> 
       <a href="https://abookapart.com"> <img class="banner-logo" src="https://alistapart.com/components/assets/img/logo_a-book-apart-color.png"> <p>A Book Apart:<br> Brief books for people who make websites.</p> </a> 
      </div> 
      <div class="banner"> 
       <a href="https://aneventapart.com/"> <img class="banner-logo" src="https://alistapart.com/components/assets/img/bsa-AEA-logo.png"> <p>An Event Apart:<br> 3 days of design, code, and content for web &amp; UX designers &amp; devs.</p> </a> 
      </div> 
     </div>
     <p>But, perhaps no longer. As websites mature and the demand for geographic applications grow, the old mashup arrangement is starting to chafe. Mapping components are more and more vital, and so we demand greater control, expressiveness, and functionality from them.</p> 
     <p>Fortunately, as in many aspects of internet technology, an ecology of open source online mapping tools has emerged alongside the market leader. It is now possible to replicate Google Maps’ functionality with open source software and produce high-quality mapping applications tailored to our design goals. The question becomes, then, how?</p>
     <h2>Google Maps is the best (right?)</h2> 
     <p>Google Maps is an impressive application. It’s fast, responsive, and nicely rendered, and it exposes a ton of functionality via its well-documented and well-understood <span class="caps">API</span>. Why on earth wouldn’t you outsource this bit of functionality to Google?</p> 
     <p>Ask yourself this question: why would you, as a website developer who controls all aspects of your site, from typography to layout, to color palette to photography, to UI functionality, allow a big, alien blob to be plopped down in the middle of your otherwise meticulously designed application? Think about it. You accept whatever colors, fonts, and map layers Google chooses for their map tiles. Sure, you try to rein it back in with custom markers and overlays, but at the root, the core component—the map itself—is out of your hands.</p> 
     <p>The result is Google Maps fatigue. We’ve all experienced it. It manifests not only when we yawn at <span class="caps">YAGMM </span>(Yet Another Google Maps Mashup), because there are high-quality web apps deploying the Google Maps <span class="caps">API</span> seamlessly and with great success. Despite this, and despite the fact that Google itself continues to refine and improve the base application, the fatigue remains. It’s the effect of seeing the same elements over and over again across the web. As web developers, we live with constraints, so to a certain extent, the Google Maps <span class="caps">API</span> is similar to Verdana and Georgia—they’re common components we know will work well. But if it were possible and practical to make a substitution, wouldn’t you do so?</p> 
     <p>Depending on your application, Google’s choices about what display on the map and how to display it might not work for you. On a general-purpose map, for example, it’s great to see the outlines of building footprints, as Google is starting to display in certain cities—but such outlines might only constitute visual clutter for your application. Google decides what information is conveyed to your users, but it’s not necessarily what they need or want.</p> 
     <p>Further, you’re only allowed to mess with Google’s maps within limits placed on you by the <span class="caps">API</span>’s terms and conditions—which you accept when you begin using it. You may not conduct post-processing or other manipulation. You may not obscure the copyright mark. Not that it would be practical to do so: part of the <span class="caps">API</span>’s appeal is a speedy response to requests for map tiles, so any on-the-fly mucking around would likely result in a sub-optimal user experience.</p> 
     <p>You’re also limited to the functionality Google decides to implement. To a degree, you can reverse-engineer the <span class="caps">API</span> to insert your own custom functionality (and hackers certainly have). But that can take serious JavaScript-fu, to say nothing of the inherent fragility of such a strategy.</p>
     <h3>If not Google Maps, then what?</h3> 
     <p>It’s easy to acknowledge your mapping solution doesn’t afford you all the design and development control you want. It’s quite another thing to consider tearing out that factory module (from an admittedly pretty impressive factory) and replacing it with your own finely tuned custom build. Rolling your own maps need not be an intimidating affair, provided you understand the problem and the tools to fix it.</p>
     <h2>The map stack</h2> 
     <p>The key to this kingdom is understanding the <em>map stack</em>. Modern online mapping applications all adhere to this architecture, which winds up in your user’s browser as the click-and-draggable view of the world we all know and love (the view, not always the world). There are four major layers in the map stack, from the highest to lowest level.</p>
     <div class="illustration half left"> 
      <p><img src="/d/takecontrolofyourmaps/webmapstack.png" alt="The web map stack"></p> 
     </div>
     <h3>Browser UI</h3> 
     <p>Users interact with your mapping application primarily through a JavaScript or Flash library that listens to user events, requests tiles from the map server, assembles tiles in the viewport, and draws additional elements on the map, such as popups, markers, and vector shapes. This is the layer in the stack where the Google Maps <span class="caps">API</span> sits.</p> 
     <p><a href="http://www.openlayers.org">OpenLayers</a> is one example of a browser mapping UI library written in JavaScript. It’s free software released under an open source license. Even though it’s still under heavy development, OpenLayers is a remarkably mature library that supports multiple projections and map server backends, geospatial data format reading and writing, event handling, and vector drawing. “View source” in <a href="http://openlayers.org/dev/examples/">these examples</a> to see what’s possible and how to integrate these features into your application.</p>
     <h3>Tile cache</h3> 
     <p>A tile cache is a server that sits between the browser and the map server. It checks to see if a requested map tile is already hanging around in a cache somewhere, where it can be served up quickly to short-circuit the call to the map server. If the map tile is not already generated, the tile cache gets it from the map server and saves it to speed up subsequent requests. For the most part, this layer should be all but transparent to the user, and is typically a simple set up and configuration. Instead of pointing the client to the map server, point it at the tile cache, and point the tile cache at the map server.</p> 
     <p>You can consider the tile cache as one half of a layer in the map stack, because it’s technically not required in order to close the loop from the user request for a tile to the response from the map server. However, in the real world, our sites are under loads that make constant, on-the-fly map tile generation expensive, impractical, and needlessly wasteful. The tile cache is the secret sauce which makes open source web mapping a viable alternative.</p> 
     <p>The aptly-named <a href="http://www.tilecache.org/">TileCache</a> is an open source tile caching server that’s simple to set up. It can store tiles on local disks, in <a href="http://memcached.org/">memcached</a>, or on Amazon’s <a href="http://aws.amazon.com/s3">S3</a> storage service.</p>
     <h3>Map server</h3> 
     <p>Here’s where you get to flex your design muscle. A map server is an application that takes geospatial data as input and renders graphical output. Specifically, for modern online mapping apps, it spits out a series of map tiles, which are uniformly sized graphic files (256×256 PNGs, for example) that are ultimately served to and assembled in the browser as the displayed map.</p> 
     <p>You can control the final appearance of your maps by styling the geospatial elements, in a manner not unlike <span class="caps">CSS</span>. The exact mechanism varies by implementation, but all map servers provide hooks for defining styles such as stroke width, stroke color, fill color, opacity, and layer stacking order.</p> 
     <p>Map servers can be exposed directly to the internet, where a well-defined interface takes <span class="caps">HTTP</span> requests representing specific geographic places and returns the corresponding tiles. However, map servers are usually hidden from direct access by the tile cache layer in the stack, for good reason.</p> 
     <p><a href="http://mapnik.org/">Mapnik</a> is an open source map server that renders beautifully and has a developer-friendly interface. At <a href="http://www.everyblock.com/">EveryBlock</a>, where I work, we use Mapnik to generate our map tiles, and we’ve been pleased with the <a href="http://chicago.everyblock.com/locations/neighborhoods/hyde-park/map/">results</a>.</p>
     <h3>Geospatial data</h3> 
     <p>The building blocks of any mapping application are the databases that define the points, lines, and polygons that represent real-world places, roads, and areas. Geospatial data connects geometric shapes with a coordinate system (latitude and longitude, most commonly) and with attribute or <em>feature</em> data such as school names, interstate designations, or congressional district numbers and representatives.</p> 
     <p>The big kahuna in the geospatial data world is a “streets” database. While not every mapping application needs it, most do, and users expect it as a primary way to orient themselves. Adding streets to your app is a key step that I’ll get into in more depth below.</p>
     <h2>Map yourself</h2> 
     <p>Now that you’re familiar with the building blocks of the web map stack, I’ll address some key considerations for putting your own stack together. Because there are several alternatives for each layer, depending on your platform, existing data and code, programming language, and application requirements, I won’t dive into too much detail, but I will try to provide general hints and tips that apply regardless of the specific choices you make.</p>
     <h3>Where to store the “where”</h3> 
     <p>Geospatial data is stored and transmitted in many different flavors: the open source <span class="caps">OGR</span> library, which is used to open, read, and write vector files such as these, lists over 30 supported formats. Fortunately, there are a few that are far more common than the rest. The Shapefile is the granddaddy of them all, and you’ll find many graphical information systems (GIS) organizations distribute their data in this format. Shapefiles are actually bundles of files: usually three of them, with the extensions <code>.shp</code>, <code>.shx</code>, and <code>.dbf</code>.</p> 
     <p>An increasingly popular format is <span class="caps">KML</span>, which is an <span class="caps">XML</span>-based format first used in Google Earth. Google Earth and Maps can both produce and consume <span class="caps">KML</span> files, making it a good format for interchange with these applications. Since it’s <span class="caps">XML</span>-based and therefore just text instead of the binary format of Shapefiles, the <span class="caps">KML</span> format is a bit verbose, but it’s easy to open in a text editor for a good, old-fashioned “view source” session.</p> 
     <p>If you use a relational database management system (RDBMS) in your application, you should consider using its built-in geometric data type, if it has one, or adding an extension that enables one. For example, <a href="http://postgis.refractions.net">PostGIS</a> is a library for <a href="http://www.postgresql.org">PostgreSQL</a> which provides a <code>geometry</code> type and functions that operate on it. You can then simply add an additional column to your tables and associate geospatial data with your existing rows. This gives you the ability to make <span class="caps">SQL</span> queries that include “spatial predicates.” Spatial predicates are statements like “within five miles of this latitude and longitude,” or “this line intersects with this line.”</p> 
     <p>No matter how you store your geospatial data, I recommend that you add the <a href="http://www.gdal.org/ogr/">OGR</a> library to your toolbox. It’s the Swiss Army knife of geospatial data, allowing you to translate between formats, change projections, and filter and combine datasets. There’s a command-line utility, <a href="http://www.gdal.org/ogr2ogr.html"><code>ogr2ogr</code></a>, that provides this functionality, and there are also <span class="caps">OGR</span> bindings for your favorite programming language. The great thing about <span class="caps">OGR</span> is that it smooths out the differences between the various geospatial data serializations. You don’t have to care about what format, or in what crazy projection, you’ve got your data layer—just translate it into the format that makes sense for the rest of your application and move on.</p>
     <h3>Just browsing</h3> 
     <p>One of the first things I do when I download a new geospatial dataset is get a rough visualization of it. I want to see, quickly, what kind of geometries—points, lines, polygons, or combinations thereof—it has, and where it is in relation to my other datasets. Basically, what will it look like, and how well does it match my expectations of what it should cover?</p> 
     <p>I’ve found that a <span class="caps">GIS</span> desktop application is a great tool for getting a quick look at a new Shapefile. <a href="http://qgis.org/">QGIS</a> is a cross-platform, open source app that fits the bill. Essentially, <span class="caps">QGIS</span> is the kind of application that web-based maps are emulating: click-and-drag and zoom, with layering. It gives you an opportunity to mock-up your custom map application and see how the various layers hang together. You can test things such as labeling and color palettes, or even edit the underlying data, which can be useful for one-off fixes and tweaks.</p>
     <h3>Street beat</h3> 
     <p>As I mentioned above, many mapping applications require a streets layer. Streets are a primary way that people orient themselves—the closest thing we have to a practical coordinate system in the world. As you might imagine, a database of streets is a large, complex, and valuable asset. Companies, such as <span class="caps">NAVTEQ</span> and TeleAtlas employ a fleet of vehicles to scour the world’s roads, arterials, and expressways, amassing the exact coordinates of each street they travel. You can purchase a license to use this type of commercial database for your own applications—usually at a per-page-view rate. It can be expensive, but if your organization can afford it, you’ll have the benefit of a constantly-updated, high-quality streets layer, with near-comprehensive coverage.</p> 
     <p>An alternative to a commercial streets database, at least in the United States, is the <a href="http://www.census.gov/geo/www/tiger/">TIGER/Line</a> dataset, produced by the U.S. Census Bureau. <span class="caps">TIGER</span>/Line is periodically updated to aid in the various programs of the Census and it’s free to download and use for your own applications. It has fairly comprehensive coverage of U.S. streets—it might not have the latest subdivision in your community, but it can be as good as the commercial products, especially in major metropolitan areas.</p> 
     <p>Many municipalities have <span class="caps">GIS</span> departments that publish Shapefiles of their streets. These are great datasets because they are often more up-to-date and more accurate than <span class="caps">TIGER</span>/Line, since they are used to provide city services.</p> 
     <p>An interesting project to keep your eye on is <a href="http://www.openstreetmap.org/">OpenStreetMap</a>, or <span class="caps">OSM</span>. It’s a kind of wiki for streets that allows anyone to upload their <span class="caps">GPS</span> traces or data from free sources like <span class="caps">TIGER</span>/Line. The great thing about <span class="caps">OSM</span> is that it aspires to be worldwide. This is a good thing, because unlike the United States, most countries don’t put their geospatial data in the public domain. While there’s still a long way to go, you can already start downloading and using <span class="caps">OSM</span> data, which is fairly complete in some areas, especially in Europe.</p>
     <h3>The scales fall from your eyes</h3> 
     <p>“Scale” is a key concept in maps: it’s the correspondence between a unit of measurement on the map and the thing being mapped, (usually the world, but it could be the moon, the solar system, or a blood cell). On the map, 1:10000 means that an inch on the map represents 10,000 inches in the world. Note that scales are unit-independent: 1:10000 also means 1 cubit on the map represents 10,000 cubits in the world.</p> 
     <p>For example, let’s say that the largest scale—in other words, the scale at which things in the map are as big as possible—is 1:10, and the smallest scale is 1:160. Typically, there is a doubling of the second number in the scale at each zoom, so in between we will have zoom levels at scales of 1:20, 1:40, and 1:80. Altogether then, we have five total scales, and five zoom levels. By convention, we give the smallest scale—which is the most-zoomed-out—zoom level number one, which in this case is 1:160. 1:80 would be two, 1:40 would be three, 1:20 would be four, and 1:10 would be zoom level five.</p> 
     <p>In the web map stack, it‘s helpful to determine the scales at which your maps will appear upfront. One way to think of this is the “zoom levels” in Google Maps: there are a fixed number of them, and each level represents a particular scale. In fact, in your application, there will be a one-to-one relationship between a zoom level and a scale.</p> 
     <p>Here’s why it’s important to define your scales in advance: the browser UI, the map server, and the tile cache work together best when they work with the same set of scales. For the browser UI, you’ll typically want to give your users a fixed number of zooms for consistency, as well as for fitting your application’s domain—if you only cover the United States, for instance, you don‘t need to zoom all the way out to see the rest of the world. For the map server, you’ll want a defined set of scales for your styling, because layers will turn on or off at certain scales, and different line widths and font sizes will apply at those scales. Finally, the tile cache will cache your tiles at each zoom level, which are determined by the allowable scales. Defining your scales is one way to reduce the complexity of your map application and improve coordination across the layers of the map stack.</p>
     <h3>Layers within layers</h3> 
     <p>In the previous section, I mentioned that defining your scales across your entire application helps when styling the map server. As you think about your web map application as a stack of layers, also think about the visible layers within the maps themselves: streets, parks, rivers and lakes, building footprints, neighborhood boundaries, <em>et cetera</em>. At each scale or zoom level, these layers come together in a certain way, one on top of the other, defined by your styles to render the final output. Each layer is styled for each scale so that all the elements come together harmoniously.</p> 
     <p>For example, at a city-wide scale, we might display only the major streets and label only the expressways:</p>
     <div class="illustration full left"> 
      <p><img src="/d/takecontrolofyourmaps/eb-zoom-1.png" alt="Screenshot of map tile at city-wide zoom"></p> 
      <p>Screenshot of map tile at city-wide zoom</p> 
     </div> 
     <p>We obviously wouldn’t want to label every street at this scale, regardless of size, or the map would be too cluttered to read.</p> 
     <p>As we zoom in to a neighborhood-wide scale, however, we add labels to the arterials, and display all the rest of the streets:</p>
     <div class="illustration full left"> 
      <p><img src="/d/takecontrolofyourmaps/eb-zoom-2.png" alt="Screenshot of map tile at neighborhood-wide zoom"></p> 
      <p>Screenshot of map tile at neighborhood-wide zoom</p> 
     </div> 
     <p>Notice too that we increase the thickness, in pixels, of all street segments, to convey their greater scale. Varying color intensity is another way to reduce or increase emphasis on elements at different scales. Which method you choose should depend on the nature of the layer.</p>
     <h3>Embrace and extend</h3> 
     <p>Browser mapping UI libraries such as OpenLayers are ready to use out of the box: just link up the requisite resource in your site’s <code>&lt;head&gt;</code> and start coding. Since you’re going through the trouble to replace the map stack because you wanted more control over its appearance, you’re probably not going to just accept the stock icons and other styles these libraries provide. As fond as I am of OpenLayers, its zoom, pan, and other widgets leave a lot to be desired.</p> 
     <p>Fortunately, we’re talking about JavaScript and <span class="caps">CSS</span>, which means we can override to our heart’s content. At EveryBlock, we wanted a simple zoom-in/zoom-out widget for <a href="http://chicago.everyblock.com/news-articles/locations/neighborhoods/logan-square/map/">our maps</a>. We started by defining our controls explicitly, overriding the default controls OpenLayers sets up:</p> 
     <pre><code>/* JavaScript */
var options = {
  ...
  controls: [],
  ...
};
var map = new OpenLayers.Map("map-div", options);
var customControls = [new OpenLayers.Control.DragPan(),
                      new OpenLayers.Control.PanZoom()];
for (var i=0; i
       <customcontrols.length; i++) { var c>
        ; map.addControl(control); control.activate(); }
       </customcontrols.length;></code></pre> 
     <p>The <code>DragPan</code> control gives you the click-and-drag interface we expect from online maps. <code>PanZoom</code> sets up the widget that allows you to click to zoom in and out, and pan by the cardinal directions. We’re not interested in panning with this widget, so we simply found the corresponding <span class="caps">CSS</span> styles and hid the panning elements:</p> 
     <pre><code>/* CSS */
#OpenLayers_Control_PanZoom_zoomworld,
#OpenLayers_Control_PanZoom_panup,
#OpenLayers_Control_PanZoom_panright,
#OpenLayers_Control_PanZoom_pandown,
#OpenLayers_Control_PanZoom_panleft { 
  display: none !important; 
}</code></pre> 
     <p>Finally, we replaced the zoom elements with our own, again simply overriding the <span class="caps">CSS </span>(Line wraps marked » —Ed.):</p> 
     <pre><code>/* CSS */
#OpenLayers_Control_PanZoom_zoomin {
  background: url(/img/zoom-plus-mini.png) no-repeat » 
  !important;
  height: 20px !important;
  width: 20px !important;
  top: 13px !important;
}
#OpenLayers_Control_PanZoom_zoomout {
  background: url(/img/zoom-minus-mini.png) no-repeat »
  !important;
  height: 20px !important;
  width: 20px !important;
  top: 37px !important;
}
#OpenLayers_Control_PanZoom_zoomin:hover {
  background-image: url(/img/zoom-plus-mini-over.png) »
  !important;
}
#OpenLayers_Control_PanZoom_zoomout:hover {
  background-image: url(/img/zoom-minus-mini-over.png) »
  !important;
}</code></pre> 
     <p>Note the use of the <code>!important</code> directive in each case. This is obviously not ideal, but unfortunately it’s necessary in this case, because OpenLayers hard-codes some style information in the JavaScript.</p> 
     <p>This is just an example, but it demonstrates how easy it is to use the vast functionality of these libraries and still exert control over the display.</p>
     <h2>Conclusion</h2> 
     <p>One of the great things about online mapping is that it straddles the line between the artistry and communication of cartography, and the precision and programmability of <span class="caps">GIS</span>. You can produce great-looking maps that are highly functional and integrate smoothly with your application. It’s my hope that this article demystified the web map stack and will get you thinking about how you can take control of the maps in your site.</p>
     <h3>Resources/external links</h3> 
     <p>There are many open source projects related to online mapping and <span class="caps">GIS</span>. This article touched on these:</p>
     <ul> 
      <li><a href="http://openlayers.org/">OpenLayers</a></li>
      <li><a href="http://www.tilecache.org/">TileCache</a></li> 
      <li><a href="http://mapnik.org/">Mapnik</a></li> 
      <li><a href="http://qgis.org/">QGIS</a></li> 
     </ul> 
     <p>In addition, just to name a few: <a href="http://modestmaps.com/">Modest Maps</a> and <a href="http://www.mapstraction.com/">Mapstraction</a> are browser UI libraries similar to OpenLayers, in Flash and JavaScript, respectively. <a href="http://geoserver.org/display/GEOS/GeoServer+Home">GeoServer</a> and <a href="http://mapserver.gis.umn.edu/">MapServer</a> are alternatives to Mapnik in the map rendering department. You owe it to yourself to investigate these alternatives, as they each excel in different ways and one may meet your needs better than the others.</p> 
     <!-- START RELATED SIDEBAR --> 
     <aside id="related" class="sidebar var1 nocontent"> 
      <i class="widget-branding ala"></i> 
      <!-- if this article does not have a follow up, and the issue has two articles show the other article --> 
      <section> 
       <h1>Also in Issue ?&nbsp;256</h1> 
       <article> 
        <h1><a href="/article/accessibledatavisualization" data-trackevent="Related sidebar: Also in issue">Accessible Data Visualization with Web Standards</a></h1> 
        <p>When designing interfaces for browsing data-driven sites, creating navigation elements that are also visualization tools helps…</p> 
       </article> 
      </section> 
      <!-- end first block --> 
      <!-- show categories --> 
      <section class="related-articles"> 
       <h1 class="primary-cat-header"> Further reading about <a href="/topic/code" data-trackevent="Related sidebar: Related by category">Code</a> </h1> 
       <article> 
        <h2><a href="https://alistapart.com/article/responsive-comping-obtaining-signoff-with-mockups">Responsive Comping: Obtaining Signoff without Mockups</a></h2> 
        <p>If you’re making websites, chances are you’ve given some thought to what constitutes a responsive-friendly design…</p>
        <h2><a href="https://alistapart.com/article/mo-pixels-mo-problems">Mo’ Pixels Mo’ Problems</a></h2> 
        <p>Mobile devices are shipping with higher and higher PPI, and desktops and laptops are following the trend as well. There’s no…</p> 
       </article> 
      </section> 
     </aside> 
     <!-- END RELATED SIDEBAR --> 
     <footer class="entry-footer nocontent"> 
      <h1>About the Author</h1> 
      <div class="byline author vcard"> 
       <h2><a class="fn" href="/author/paulsmith">Paul Smith</a></h2> 
       <div class="author-bio">
        <a href="http://www.pauladamsmith.com/">Paul Smith</a> is a co-founder and developer at 
        <a href="http://www.everyblock.com/">EveryBlock</a>. He has been creating sites and applications on the Web since 1994. He’s also co-creator of the 
        <a href="http://www.electiondayadventcalendar.com/">Election Day Advent Calendar</a>, and a founding member of 
        <a href="http://www.bloomingdaletrail.org/">Friends of the Bloomingdale Trail</a>. He lives in Chicago, Illinois.
       </div>  
      </div> 
     </footer> 
     <aside class="promo-box email-promo"> 
      <b>Get our latest articles in your inbox.</b> 
      <a href="/email-signup" data-trackevent="Post-article: email promo">Sign up for email alerts</a>. 
     </aside> 
    </div> 
    <div class="post-article"> 
     <div class="column-holder unequal-columns"> 
      <section id="comments" class="column comment-holder"> 
       <h1 class="classy" itemprop="commentCount" data-url-title="takecontrolofyourmaps"> <span>30 Reader Comments</span> </h1> 
       <a href="/comments/takecontrolofyourmaps" class="load-comments-no-js buttonish">Load Comments</a> 
       <span id="load-comments" data-url-title="takecontrolofyourmaps"></span> 
       <div class="comment-form-wrapper"> 
        <ol class="article-comments form"> 
         <li id="commenter-signin" class="commenter-signin "> <h3 class="form-heading">Got something to say?</h3> 
          <div class="outer-ajax-container"> 
           <div class="ajax-container"> 
            <form id="login_form" class="sign-in-form" name="login_form" method="post" action="https://alistapart.com?ACT=159"> 
             <div class="hiddenFields"> 
              <input type="hidden" name="ACT" value="159"> 
              <input type="hidden" name="site_id" value="1"> 
              <input type="hidden" name="csrf_token" value="de1bfe023ac5843c062653c21df958ddd6c77d65"> 
             </div> 
             <fieldset> 
              <legend class="center">Sign in to add your voice to the discussion.</legend> 
              <p> <label for="login-name-here">Email (<a id="register" class="history-nav" data-tabto="forgot-password" href="/tools/register" target="_blank">Need an account?</a>)</label> <input type="text" id="login-name-here" name="username" data-validate="onblur" data-type="any" data-isvalid="" data-error="What’s your email address?" data-tabmaster="true" data-tabto="login_password" required> </p> 
              <p class="password-field"> <label for="login_password">Password (<a id="forgot-password" class="history-nav" data-tabto="comment-submit" href="/tools/forgot-password" target="_blank">Forgot?</a>)</label> <input type="password" id="login_password" name="password" required data-validate="onblur" data-type="any" data-isvalid="" data-error="What’s your password?" data-tabmaster="true" data-tabto="register"> </p> 
              <p class="screen-reader"> <label for="honeepot">Don't put anything here</label> <input type="text" id="honeepot" name="honeepot" data-tabmaster="false"> </p> 
              <p id="comment-submit-holder"> <input type="submit" id="comment-submit" data-tabmaster="true" class="button primary float-left" value="Submit"> </p> 
             </fieldset> 
            </form> 
            <script type="text/javascript">
$(document).ready(function(){
    $('#login_form').on('submit', function(event){
        event.preventDefault();
        if (!supports_history_api()) { return; }
        AlaAuth.spinnerStart();
           
            $.post(
                'https://alistapart.com?ACT=159',
                $('#login_form').serialize(),
                function(msg) {
                    AlaAuth.spinnerStop();
        
            if (msg.indexOf('You are now logged in.') >= 0)
            {    
           
                $.get('https://alistapart.com/ajax/comment-form/14935/article/takecontrolofyourmaps', 
                function(ret){
                    ajaxContainer.replaceWith(ret);
                });
                AlaPostLoad.loadTranslations();
                history.pushState(
                    states.commentform, '', states.site_url + states.segments + '/' + states.commentform 
                );
              
                } else {
                    var out = /<div id="ee-errors"><ul>[\s\S]*<\/ul><\/div>/.exec(msg);
                    if ($('.error-message.none').length == $('.error-message').length) {
                        if(out === null) {
                            AlaAuth.alertMsg('This form has expired. Please refresh and try again.');
                            $.get('https://alistapart.com/ajax/comment-form/14935/article/takecontrolofyourmaps', 
                            function(ret){
                                ajaxContainer.replaceWith(ret);
                            });
                            $('.custom-modal').remove();
                        }else {
                            AlaAuth.alertMsg(out);
                        }
                    }                   
                }
                return false;
            }
        );
        return false;
    });
});
</script> 
            <script src="https://alistapart.com/components/assets/js/ajax-functions.js"></script> 
            <script type="text/javascript">

		var states = {
			//globals
			commentsignin: 'comment-sign-in',
			register: 'register',
			password: 'forgot-password',
			commentform: 'comment-form',
			//segments
			site_url: 'https://alistapart.com',
			
			
			segments: '/article/takecontrolofyourmaps', 
			
			tmpl_path: /ajax/,
			entry_id: '14935',
			page: 'article'
		}

		</script> 
           </div> 
           <div class="placeholder loader"> 
            <div class="top-header animated-background"></div> 
            <div class="label animated-background">
             label
            </div> 
            <div class="field">
             field
            </div> 
            <div class="label animated-background">
             label
            </div> 
            <div class="field">
             field
            </div> 
            <!-- <div class="button primary">Submit</div> --> 
           </div> 
          </div> <script type="text/javascript">

	AlaAuth.loadTemplate (
		states.commentsignin
	);

	</script> </li> 
        </ol> 
       </div> 
      </section> 
      <aside class="column more-content"> 
       <h1 class="classy">More from ALA</h1> 
       <article class="item-summary article"> 
        <h4 class="summary-title"><a href="/article/what-i-talk-about-when-i-talk-about-sorting">What I Talk About When I Talk About Sorting: Untangling Array#sort</a></h4> 
        <p class="aside-author"> by <a class="author" href="/author/claudiahernandez">Claudia Hernández</a> </p> 
        <p>Sorting seems like it should be simple and straightforward, but it turns out there’s a lot more going on than meets the eye.</p> 
        <footer class="byline"> 
         <a href="/topic/javascript">JavaScript</a> · 
         <time class="pubdate updated" datetime="2017-09-28T08:47:00-04:00"><a href="article/what-i-talk-about-when-i-talk-about-sorting">September 28, 2017</a></time> 
        </footer> 
       </article>
       <article class="item-summary article"> 
        <h4 class="summary-title"><a href="/article/considering-open-source-licenses">Considering Open Source Licenses</a></h4> 
        <p class="aside-author"> by <a class="author" href="/author/phillipikuvbogie">Phillip Ikuvbogie</a> </p> 
        <p>Explore the differences between various open source licenses and how they can affect your project.</p> 
        <footer class="byline"> 
         <a href="/topic/business">Business</a> · 
         <time class="pubdate updated" datetime="2017-09-26T10:00:00-04:00"><a href="article/considering-open-source-licenses">September 26, 2017</a></time> 
        </footer> 
       </article>
       <article class="item-summary article"> 
        <h4 class="summary-title"><a href="/article/gauging-the-perception-of-lossy-images-a-study">How People Perceive Lossy Image Quality: A Study</a></h4> 
        <p class="aside-author"> by <a class="author" href="/author/jeremy-wagner">Jeremy Wagner</a> </p> 
        <p>Our very own Jeremy Wagner is researching lossy image quality and wants your feedback.</p> 
        <footer class="byline"> 
         <a href="/topic/user-experience">User Experience</a> · 
         <time class="pubdate updated" datetime="2017-09-21T08:30:00-04:00"><a href="article/gauging-the-perception-of-lossy-images-a-study">September 21, 2017</a></time> 
        </footer> 
       </article>
       <article class="item-summary article"> 
        <h4 class="summary-title"><a href="/article/the-ten-essentials-for-good-api-documentation">The Ten Essentials for Good API Documentation</a></h4> 
        <p class="aside-author"> by <a class="author" href="/author/dianalakatos">Diana Lakatos</a> </p> 
        <p>Building an API? Software documentation expert Diana Lakatos has some great advice for you.</p> 
        <footer class="byline"> 
         <a href="/topic/the-server-side">The Server Side</a> · 
         <time class="pubdate updated" datetime="2017-09-19T09:00:00-04:00"><a href="article/the-ten-essentials-for-good-api-documentation">September 19, 2017</a></time> 
        </footer> 
       </article>
       <article class="item-summary article"> 
        <h4 class="summary-title"><a href="/article/project-management-for-humans">Project Management for Humans</a></h4> 
        <p class="aside-author"> by <a class="author" href="/author/brettharned">Brett Harned</a> </p> 
        <p>Staffing teams can feel a bit like a game of Tetris, but don’t forget your teams are human beings.</p> 
        <footer class="byline"> 
         <a href="/topic/project-management">Project Management</a> · 
         <time class="pubdate updated" datetime="2017-09-14T14:40:00-04:00"><a href="article/project-management-for-humans">September 14, 2017</a></time> 
        </footer> 
       </article>
       <article class="item-summary article"> 
        <h4 class="summary-title"><a href="/article/a-list-apart-volunteer-update">A List Apart volunteer update</a></h4> 
        <p class="aside-author"> by <a class="author" href="/author/zeldman">Jeffrey Zeldman</a> </p> 
        <p>If you volunteered to help <cite>A List Apart</cite> and haven’t heard back from us yet, here’s what’s up.</p> 
        <footer class="byline"> 
         <time class="pubdate updated" datetime="2017-09-13T09:08:00-04:00"><a href="article/a-list-apart-volunteer-update">September 13, 2017</a></time> 
        </footer> 
       </article> 
       <!-- 	<div id="bsap_1032" class="bsaPROrocks ad" data-serve="C67DL2E"></div> --> 
      </aside> 
     </div> 
    </div> 
   </article> 
  </div> 
  <footer class="global-footer" role="navigation" aria-label="Footer" itemscope itemtype="https://schema.org/WebPage"> 
   <meta itemprop="headline" content="A List Apart"> 
   <p class="deadly-subtitle" itemprop="alternativeHeadline">For people who make websites.</p> 
   <ul class="inline-items" itemscope itemtype="http://schema.org/SiteNavigationElement"> 
    <li><a href="/about" itemprop="url">About</a></li> 
    <li><a href="/authors" itemprop="url">Authors</a></li> 
    <li><a href="/about/masthead" itemprop="url">Masthead</a></li> 
    <li><a href="/about/style-guide" itemprop="url">Style Guide</a></li> 
    <li><a href="/contact" itemprop="url">Contact</a></li> 
    <li><a href="/about/sponsor" itemprop="url">Sponsorships</a></li> 
    <li class="head-east-young-man"> Follow us: <a href="/about/rss">RSS</a> · <a href="/email-signup/">Email</a> · <span itemscope itemtype="http://schema.org/Organization"> <a href="http://www.facebook.com/alistapart" itemprop="sameAs">Facebook</a> · <a href="https://plus.google.com/107749003388305496076" rel="publisher" itemprop="sameAs">Google+</a> · <a href="http://www.twitter.com/alistapart" itemprop="sameAs">Twitter</a> </span> </li> 
   </ul> 
   <aside class="promo-holder" aria-label="A List Apart partners"> 
    <ul class="partner-promos"> 
     <li> <a href="http://abookapart.com"> <img src="/components/assets/img/promo_aba.png" alt=""> <p class="promo-title">A Book Apart</p> <p>Mobile First &amp; Responsive Web Design bundle.</p> <p>Buy both and save!</p> <p class="arrow">Order now</p> </a> </li>
     <!--

					-->
     <li> <a href="http://aneventapart.com"> <img src="/components/assets/img/promo_aea.png" alt=""> <p class="promo-title">An Event Apart</p> <p>Three days of design, code, and content for people who make websites.</p> <p class="arrow">See the 2016 schedule</p> </a> </li> 
    </ul> 
   </aside> 
   <ul class="inline-items copyright"> 
    <li> <small>ISSN 1534-0295 · Copyright © <span itemprop="copyrightYear">1998–2017</span> <span itemprop="copyrightHolder">A List Apart &amp; Our Authors</span></small> <small><a href="/about/copyright">Permissions &amp; Copyright</a> · <a href="http://webtype.com">Fonts by Webtype</a><span class="logged-in"> · </span><span class="logged-out"><a href="/tools/log-in">Log In</a> · <a href="/tools/register">Register</a></span></small></li> 
    <li class="affiliates head-east-young-man"> <a class="ala" href="http://alistapart.com" title="A List Apart" itemprop="sameAs">A List Apart</a> <a class="aea" href="http://aneventapart.com" title="An Event Apart" itemprop="relatedLink">An Event Apart</a> <a class="aba" href="http://abookapart.com" title="A Book Apart" itemprop="relatedLink">A Book Apart</a> <a class="arcus" href="https://arcustech.com" title="Hosting provided by Arcustech" itemprop="provider">Arcustech</a> </li> 
   </ul> 
  </footer> 
  <div id="bsap_1031" class="bsaPROrocks ad" data-serve="C67DL2V"></div> 
  <!-- facebook login: remove the fragment #_=_ that facebook adds to the redirect_uri | remove this after social login module update --> 
  <script>
		if (window.location.hash && window.location.hash == '#_=_') {
		    if (window.history && history.pushState) {
		        window.history.pushState("", document.title, window.location.pathname);
		        
		        	window.location.hash = '#comment-form';
		        
		    } else {
		        // Prevent scrolling by storing the page's current scroll offset
		        var scroll = {
		            top: document.body.scrollTop,
		            left: document.body.scrollLeft
		        };
		        window.location.hash = '';
		        // Restore the scroll offset, should be flicker free
		        document.body.scrollTop = scroll.top;
		        document.body.scrollLeft = scroll.left;
		    }
		}
	</script> 
  <script src="https://alistapart.com/d/_cache/e8952a1f4e9e5593cdc3ceff2271ef14a9300c64.1482327043.js"></script> 
  <script>
	if ($("#job-board-target").length > 0 || $("#deck-target").length > 0) {
	  	$.getScript("/components/assets/js/postscribe-init.js")
			.done(function() {
				//BuySell Ads
				(function(){var bsa = document.createElement('script');bsa.type = 'text/javascript';bsa.async = true;bsa.src = '//cdn.buysellads.com/ac/pro.js';document.getElementsByTagName('head')[0].appendChild(bsa);})();
		});
	} else {
		(function(){var bsa = document.createElement('script');bsa.type = 'text/javascript';bsa.async = true;bsa.src = '//cdn.buysellads.com/ac/pro.js';document.getElementsByTagName('head')[0].appendChild(bsa);})();
	}
	</script> 
  <script>
	var _qevents = _qevents || [];

	(function() {
	var elem = document.createElement('script');
	elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
	elem.async = true;
	elem.type = "text/javascript";
	var scpt = document.getElementsByTagName('script')[0];
	scpt.parentNode.insertBefore(elem, scpt);
	})();

	_qevents.push({qacct:"p-0Gb-D0fnDnm2s"});
	</script> 
  <noscript> 
   <div style="display:none;"> 
    <img src="//pixel.quantserve.com/pixel/p-0Gb-D0fnDnm2s.gif" height="1" width="1" alt=""> 
   </div> 
  </noscript> 
  <script>
	var _gaq=[['_setAccount','UA-11757054-1'],['_trackPageview']];
	(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
	g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
	s.parentNode.insertBefore(g,s)}(document,'script'));
	</script> 
  <!-- start Mixpanel -->
  <script type="text/javascript">(function(e,b){if(!b.__SV){var a,f,i,g;window.mixpanel=b;a=e.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"===e.location.protocol?"https:":"http:")+'//cdn.mxpnl.com/libs/mixpanel-2.2.min.js';f=e.getElementsByTagName("script")[0];f.parentNode.insertBefore(a,f);b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==
	typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");for(g=0;g<i.length;g++)f(c,i[g]);
	b._i.push([a,e,d])};b.__SV=1.2}})(document,window.mixpanel||[]);
	mixpanel.init("204b563994d022408e4b540a66fe6136");</script>
  <!-- end Mixpanel --> 
  <script type="text/javascript">
  WebFontConfig = {
    custom: { families: [ 'Franklin ITC:regular,bold',
                  'Franklin ITC Light:regular,italic' ],
    urls: [ '//cloud.webtype.com/css/789ea108-396c-4a3c-b0d2-f1974589df48.css' ]}
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
        '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script> 
  <!--Adblock Check--> 
  <script type="text/javascript" src="/components/assets/js/adchecka.js"></script> 
  <script type="text/javascript"> jQuery(document).ready(checkAds()); function checkAds(){ if (document.getElementById('adsense')!=undefined){document.write("<script>_gaq.push(['_trackEvent', 'Adblock', 'Unblocked', 'false',,true]);</sc" + "ript>");}else{document.write("<script>_gaq.push(['_trackEvent', 'Adblock', 'Blocked', 'true',,true]);</sc" + "ript>");}} </script> 
  <!--End Adblock Check-->  
 </body>
</html>