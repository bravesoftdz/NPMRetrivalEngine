<!doctype html>
<html>
 <head> 
  <meta charset="utf-8"> 
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info = {"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"6946e72e94","applicationID":"6432694","transactionName":"YQRSYUUHXkcAV0IMXVhOZUdeSVFECBlAVh1fD1RQT0hYQAxY","queueTime":1,"applicationTime":1,"ttGuid":"93C903143116950C","agent":""}</script>
  <script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(2),u=e(3),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}finally{f.emit("fn-end",[c.now()],t)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now()])}},{}],2:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],3:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],4:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=m(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){v[e]=m(e).concat(n)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(t)}function g(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var v={},y={},b={on:l,emit:t,get:w,listeners:m,context:n,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(2),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!x++){var e=h.info=NREUM.info,n=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+h.offset],null,"api");var t=d.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===d.readyState&&i()}function i(){f("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),f=e("handle"),c=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1044.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=n.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),f("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script> 
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> 
  <meta name="description" content="Details of the eWAY Rapid API with Responsive Shared Page, Transparent Redirect, Direct Connection, Token and Recurring Payments"> 
  <title>eWAY Rapid API Reference</title> 
  <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style> 
  <link href="stylesheets/screen.css" rel="stylesheet" media="screen"> 
  <link href="stylesheets/print.css" rel="stylesheet" media="print"> 
  <script src="javascripts/all.js"></script> 
 </head> 
 <body class="index" data-languages="[&quot;shell&quot;,&quot;xml&quot;,&quot;php&quot;,&quot;java&quot;,&quot;csharp&quot;,&quot;javascript&quot;,&quot;ruby&quot;]"> 
  <a href="#" id="nav-button"> <span> NAV <img src="images/navbar.png" alt="Navigation Menu"> </span> </a> 
  <div class="tocify-wrapper"> 
   <img src="images/logo.png" alt="eWAY"> 
   <div class="lang-selector"> 
    <a href="#" data-language-name="shell">cURL (JSON)</a> 
    <a href="#" data-language-name="xml">SOAP</a> 
    <a href="#" data-language-name="php">PHP</a> 
    <a href="#" data-language-name="java">Java</a> 
    <a href="#" data-language-name="csharp">.NET</a> 
    <a href="#" data-language-name="javascript">Node.js</a> 
    <a href="#" data-language-name="ruby">Ruby</a> 
   </div> 
   <div class="search"> 
    <input type="text" class="search" id="input-search" placeholder="Search"> 
   </div> 
   <ul class="search-results"></ul> 
   <div id="toc"> 
   </div> 
   <ul class="toc-footer"> 
    <li><a href="https://www.eway.com.au">eWAY Home</a></li> 
    <li><a href="https://www.eway.com.au/developers">Become an eWAY Partner</a></li> 
   </ul> 
  </div> 
  <div class="page-wrapper"> 
   <div class="dark-box"></div> 
   <div class="content"> 
    <h1 id="introduction">Introduction</h1> 
    <p>Combining all the most popular payment solutions in a single package, eWAY’s Rapid API includes fraud prevention, hosted payments, transparent redirect, and direct connection to help developers create secure, perfectly rendered payment pages on all devices. </p> 
    <p>This API reference outlines the expected requests and responses to use eWAY's Rapid API. </p> 
    <h2 id="getting-started">Getting started</h2>
    <pre class="highlight shell tab-shell"><code><span class="c"># Below in this column are example requests and responses of connecting to the </span>
<span class="c"># eWAY Rapid REST API using JSON.</span>
<span class="c">#</span>
<span class="c"># The requests are written as cURL commands that can be copied into a terminal.</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="c">&lt;!-- The examples in this column demonstrate requests and responses when connecting to the eWAY Rapid API SOAP gateway. --&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code>// Below in this column are examples of making requests and handling responses to
// eWAY's Rapid API using the eWAY Rapid PHP SDK.
//
// See the Rapid SDKs section for instructions on installing the eWAY Rapid PHP SDK
</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// Below in this column are examples of making requests and handling responses to</span>
<span class="c1">// eWAY's Rapid API using the eWAY Rapid Java SDK.</span>
<span class="c1">//</span>
<span class="c1">// See the Rapid SDKs section for instructions on installing the eWAY Rapid Java SDK</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="c1">// Below in this column are examples of making requests and handling responses to</span>
<span class="c1">// eWAY's Rapid API using the eWAY Rapid .NET SDK.</span>
<span class="c1">//</span>
<span class="c1">// See the Rapid SDKs section for instructions on installing the eWAY Rapid .NET SDK</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="c1">// Below in this column are examples of making requests and handling responses to</span>
<span class="c1">// eWAY's Rapid API using the eWAY Rapid Node.js SDK.</span>
<span class="c1">//</span>
<span class="c1">// See the Rapid SDKs section for instructions on installing the eWAY Rapid Node.js SDK</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="c1"># Below in this column are examples of making requests and handling responses to</span>
<span class="c1"># eWAY's Rapid API using the eWAY Rapid Ruby Gem.</span>
<span class="c1">#</span>
<span class="c1"># See the Rapid SDKs section for instructions on installing the eWAY Rapid Ruby Gem</span>
</code></pre> 
    <p>Rapid API provides a number of ways of connecting and formatting requests, so you can choose what works best for your platform. </p> 
    <ul> 
     <li>REST (JSON) - recommended</li> 
     <li>SOAP</li> 
     <li>HTTP POST (JSON or XML)</li> 
     <li>RPC (XML or JSON)</li> 
    </ul> 
    <p>This reference focusses on REST using JSON and SOAP in examples. The other interfaces follow the same structure and the endpoints are provided for each.</p> 
    <p>To process a transaction, Rapid API provides a choice of five methods (as well as the pre-coded <a href="#eway-pay-now-button">Pay Now button</a>). Choosing which one will depend on the system and features required. </p> 
    <ul> 
     <li><p><strong><a href="#direct-connection">Direct Connection</a></strong> - This method involves a simple, single server side call to process a transaction. Since card data is passed via the server, it either must be PCI compliant or use <a href="#client-side-encryption">Client Side Encryption</a>. Direct Connection can be easiest to implement, however it does not support 3D Secure, PayPal or MasterPass integration. Visa Checkout and AMEX Express Checkout are supported.</p></li> 
     <li><p><strong><a href="#transparent-redirect">Transparent Redirect</a></strong> - Using this method, the customer enters their payment information into a form on the merchant's website. This is then submitted directly and securely to eWAY, protecting the merchant's systems from handling any card data. Transparent Redirect also supports 3D Secure, PayPal, MasterPass, Visa Checkout and AMEX Express Checkout.</p></li> 
     <li><p><strong><a href="#responsive-shared-page">Responsive Shared Page</a></strong> - Provides an eWAY hosted payment form for the customer to enter their card details. This removes the payment process entirely from the merchant's systems, while also providing easy support for 3D Secure, PayPal, MasterPass, Visa Checkout and AMEX Express Checkout. The Responsive Shared Page also supports adding a surcharge to credit card payments.</p></li> 
     <li><p><strong><a href="#iframe">IFrame</a></strong> - Displays the Responsive Shared Page as a modal iframe so the customer doesn't leave the merchant's website. This method does not support PayPal, MasterPass, Visa Checkout nor AMEX Express Checkout at this time.</p></li> 
     <li><p><strong><a href="#secure-fields">Secure Fields</a></strong> - Inserts eWAY hosted secure iframes into the card fields on the merchant's website. This provides the security of a solution hosted by eWAY, with the flexibility of keeping the customer on the same website. Secure Fields does not support 3D Secure or other wallets such as PayPal or MasterPass.</p></li> 
     <li><p><strong><a href="#secure-panel">Secure Panel</a></strong> - Inserts a single secure, eWAY hosted iframe into the merchant's website to collect card details. Secure Panel does not support 3D Secure or other wallets such as PayPal or MasterPass.</p></li> 
    </ul> 
    <p>Once you've worked out what is best for you, be sure to read through the rest of this Getting Started section and <a href="#authentication">Authentication</a> before diving in!</p> 
    <h2 id="transaction-types">Transaction types</h2> 
    <p>Each transaction request to eWAY Rapid API needs to include the Transaction Type in the <code>TransactionType</code> field. This should be one of:</p> 
    <p><strong>Purchase</strong>: This is the default transaction type and refers to a standard eCommerce transaction using CVN and 3D Secure if available. </p> 
    <p><strong>MOTO</strong>: Allows a merchant to process transactions through their system on behalf of the customer. Used in situations such as manual orders through a shopping cart admin area when taking a payment over the phone.</p> 
    <p><strong>Recurring</strong>: When using an automated billing system you must flag transactions as recurring. This means that the CVN is not required to process the transaction. Note that usually the merchants bank requires that they have already processed a fully authorised transaction with CVN for that credit card for a recurring transaction to be approved. </p> 
    <h2 id="payment-methods">Payment Methods</h2> 
    <p>A transaction request should also contain a <code>Method</code> which determines the action being taken with the request. </p> 
    <p>When using a <a href="#rapid-sdks">Rapid SDK library</a>, setting this field isn't required as it is determined by the method called. </p> 
    <p>This field should be one of:</p> 
    <p><strong>ProcessPayment</strong>: This method allows merchants to process a standard payment.</p> 
    <p><strong>Authorise</strong>: This transaction type will hold an amount on the customer's card without charging it until a <a href="#capture-a-payment">Capture</a> request is sent. More details are available in the <a href="#pre-auth">Pre-Auth</a> documentation. Currently only available for Australian, New Zealand, Singapore, Malaysian &amp; Hong Kong merchants.</p> 
    <p>When using an eWAY Rapid SDK this is automatically set when the <code>Capture</code> field is set to <code>false</code>.</p> 
    <p><strong>TokenPayment</strong>: This method allows merchants to process payments using Token customers they have stored with eWAY. Merchants can either load an existing token customer by passing in their TokenCustomerID in the initial request, or create a new Token customer by leaving the TokenCustomerID field blank (Transparent Redirect and Responsive Shared Page only). </p> 
    <p>Any values passed in the Customer part of the initial request will be used to either create or update the Token customer, depending on the TokenCustomerID value. </p> 
    <p>When loading an existing Token customer, the customer’s details will be returned by eWAY, including the masked credit card details. The masked card can be sent back to eWAY when the payment is processed if the customer wants to process the payment using the card on file.</p> 
    <p>When using an eWAY Rapid SDK, if a TokenCustomerID is used for the transaction, or if <code>SaveCustomer</code> is set to <code>true</code>, this method is used.</p> 
    <p><strong>CreateTokenCustomer</strong>: This method allows merchants to create token customers without processing a payment.</p> 
    <p>When using an eWAY Rapid SDK this is automatically set when creating a customer.</p> 
    <p><strong>UpdateTokenCustomer</strong>: This method allows merchants to update existing token customers without processing a payment.</p> 
    <p>When using an eWAY Rapid SDK this is automatically set when updating a customer.</p> 
    <h2 id="payment-types">Payment types</h2> 
    <p>In addition to card transactions, Rapid supports payments through the digital wallets PayPal, MasterCard MasterPass, Visa Checkout and AMEX Express Checkout.</p> 
    <p><strong>Credit Card</strong>: A standard transaction through the various card networks (Visa, MasterCard, American Express, Diners, JCB) </p> 
    <p><strong>PayPal</strong>: After sending the payment details through eWAY, transfers the customer to the PayPal website to process a PayPal payment. The transactions will display in eWAY’s reporting as PayPal transactions. Supported through <a href="#transparent-redirect">Transparent Redirect</a> and <a href="#responsive-shared-page">Responsive Shared Page</a>. For more details, see the <a href="#paypal">PayPal</a> section.</p> 
    <p><strong>MasterCard MasterPass</strong>: After sending the payment details through eWAY, transfers the customer to the MasterPass website to process a MasterPass payment. Supported through <a href="#transparent-redirect">Transparent Redirect</a> and <a href="#responsive-shared-page">Responsive Shared Page</a>. For more details, see the <a href="#masterpass">MasterPass</a> section.</p> 
    <p><strong>Visa Checkout</strong>: After the payment details are sent through eWAY, the customer is presented with a Visa Checkout window to enter their details. Supported through <a href="#direct-connection">Direct Connection</a>, <a href="#transparent-redirect">Transparent Redirect</a> and <a href="#responsive-shared-page">Responsive Shared Page</a>. For more details, see the <a href="#visa-checkout">Visa Checkout</a> section.</p> 
    <p><strong>AMEX Express Checkout</strong>: After the payment details are sent through eWAY, the customer is presented with an AMEX Express Checkout window to enter their details. Supported through <a href="#direct-connection">Direct Connection</a>, <a href="#transparent-redirect">Transparent Redirect</a> and <a href="#responsive-shared-page">Responsive Shared Page</a>. For more details, see the <a href="#amex-express-checkout">AMEX Express Checkout</a> section.</p> 
    <h2 id="errors">Errors</h2>
    <pre class="highlight php tab-php"><code>foreach ($response-&gt;getErrors() as $error) {
    echo "Error message: ".\Eway\Rapid::getMessage($error)."<span class="nt">&lt;br&gt;</span>";
}
</code></pre>
    <pre class="highlight java tab-java"><code><span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error Message: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">,</span> <span class="s">"en"</span><span class="o">));</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">response</span><span class="p">.</span><span class="n">Errors</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Error message: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Error Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">"Response message: "</span> <span class="o">+</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">user_display_message</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">}</span>
</code></pre> 
    <p>If there is a problem with a request to eWAY, there are two possible responses that should be handled by the connecting system</p> 
    <ul> 
     <li><p><strong>Authentication Failure</strong> - if the API credentials are incorrect, then the HTTP status code will not be 200 - instead a 401, 403 or 404 will be returned.</p></li> 
     <li><p><strong>Validation Error</strong> - if data is missing or invalid in a request, the API will return a response with one or more comma separated Error Codes in the "Errors" field. These can be translated using the <a href="#response-amp-error-codes">response and error codes</a> list at the end of this reference.</p></li> 
    </ul> 
    <p>If you are using an <a href="#rapid-sdks">eWAY Rapid SDK</a>, the errors will usually be returned in an <code>Errors</code> field or property. A function is provided to assist with translating the error code to human friendly text.</p> 
    <h1 id="authentication">Authentication</h1> 
    <p>All requests to eWAY's Rapid API need to be authenticated using <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">basic authentication</a>. This uses the eWAY API Key and Password in the username and password fields respectively. </p> 
    <p>This authentication is sent in the HTTP header, most frameworks and libraries provide a way to set these. The eWAY SDKs accept the API key &amp; password along with the endpoint (<code>sandbox</code> or <code>production</code>) when they are initialised.</p> 
    <pre class="highlight shell tab-shell"><code><span class="c"># Sample Basic Authentication with cURL</span>
curl --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction/
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$apiKey</span> <span class="o">=</span> <span class="s1">'60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR'</span><span class="p">;</span>
<span class="nv">$apiPassword</span> <span class="o">=</span> <span class="s1">'API-P4ss'</span><span class="p">;</span>
<span class="nv">$apiEndpoint</span> <span class="o">=</span> <span class="nx">\Eway\Rapid\Client</span><span class="o">::</span><span class="na">MODE_SANDBOX</span><span class="p">;</span> <span class="c1">// Use \Eway\Rapid\Client::MODE_PRODUCTION when you go live </span><span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">String</span> <span class="n">apiKey</span> <span class="o">=</span> <span class="s">"60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">"API-P4ss"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">rapidEndpoint</span> <span class="o">=</span> <span class="s">"Sandbox"</span><span class="o">;</span> <span class="c1">// Use "Production" when you go live</span>

<span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="kt">string</span> <span class="n">apiKey</span> <span class="p">=</span> <span class="s">"60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR"</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">password</span> <span class="p">=</span> <span class="s">"API-P4ss"</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">rapidEndpoint</span> <span class="p">=</span> <span class="s">"Sandbox"</span><span class="p">;</span> <span class="c1">// Use "Production" when you go live</span>

<span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">rapid</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'eway-rapid'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">apiKey</span>   <span class="o">=</span> <span class="s1">'60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR'</span><span class="p">,</span>
    <span class="nx">password</span> <span class="o">=</span> <span class="s1">'API-P4ss'</span><span class="p">,</span>
    <span class="nx">rapidEndpoint</span> <span class="o">=</span> <span class="s1">'Sandbox'</span><span class="p">;</span> <span class="c1">// Use 'Production' when you go live</span>

<span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'eway_rapid'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s1">'60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR'</span>
<span class="n">password</span> <span class="o">=</span> <span class="s1">'API-P4ss'</span>
<span class="n">endpoint</span> <span class="o">=</span> <span class="s1">'Sandbox'</span> <span class="c1"># Use 'Production' when you go live</span>

<span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>
</code></pre>
    <h3 id="creating-an-eway-sandbox-api-key">Creating an eWAY Sandbox API key</h3> 
    <p>1. You will need an eWAY Partner Account - if you don't have an account, <a href="https://www.eway.com.au/about-eway/partners/partner-application">sign up for free</a>! </p> 
    <p>2. Navigate to the Sandbox using the link below for your country </p> 
    <ul> 
     <li><a href="https://sandbox.myeway.com.au">Sandbox Australia</a></li> 
     <li><a href="https://sandbox.myeway.co.nz">Sandbox New Zealand</a></li> 
    </ul> 
    <p>3. Go to <strong>My Account</strong> &gt; <strong>API Key</strong></p> 
    <p>4. Your Rapid API Key will be displayed in the <strong>API Key</strong> field</p> 
    <p>5. Click <strong>Generate Password</strong> to create a password for the key. A password can only be viewed <em>once</em> after it has been generated - if you forget it a new one can be generated by clicking <strong>Generate Password</strong> again (the old one will no longer work).</p> 
    <p>More detailed instructions for managing your eWAY Rapid API credentials are available in <a href="https://go.eway.io/s/article/How-do-I-set-up-my-Sandbox-API-Key-and-password">this eWAY Community article</a></p> 
    <aside class="notice">
      Note: In some Rapid API modules and sample code the API Key field is named as ‘Username’. You must use your API Key, not your Email address for Rapid API. 
    </aside> 
    <h1 id="versions">Versions</h1> 
    <blockquote> 
     <p>Sample of setting the version</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --request GET <span class="se">\</span>
    --header <span class="s2">"X-EWAY-APIVERSION: 40"</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction/11259580
</code></pre>
    <pre class="highlight xml tab-xml"><code>SOAP does not support Rapid Versions at this time
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>
<span class="nv">$client</span><span class="o">-&gt;</span><span class="na">setVersion</span><span class="p">(</span><span class="mi">40</span><span class="p">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>
<span class="n">ewayClient</span><span class="p">.</span><span class="nf">SetVersion</span><span class="p">(</span><span class="m">40</span><span class="p">);</span>
</code></pre> 
    <p>Major changes to Rapid API (such as adding or removing fields) are made to new versions of Rapid API in order to prevent these changes from breaking existing integrations. Versioning of Rapid API is supported for all endpoints except for SOAP at this time.</p> 
    <p>To access an specific version of Rapid API, an additional header must be sent with the request to eWAY: <code>X-EWAY-APIVERSION: &lt;number&gt;</code>. See the "cURL(JSON)" tab for an example. Some eWAY SDKs support setting the version in the client, check the appropriate tab for an example.</p> 
    <h2 id="available-versions">Available Versions</h2> 
    <table> 
     <thead> 
      <tr> 
       <th>Version Number</th> 
       <th>Changes</th> 
      </tr> 
     </thead> 
     <tbody> 
      <tr> 
       <td>31</td> 
       <td>Original Rapid API version - default if no header is used.</td> 
      </tr> 
      <tr> 
       <td>40</td> 
       <td>Provides additional fields to <a href="#transaction-query">Transaction Query</a> 
        <ul> 
         <li>TransactionDateTime</li> 
         <li>FraudAction</li> 
         <li>TransactionCaptured</li> 
         <li>TransactionType</li> 
         <li>CurrencyCode</li> 
         <li>Source</li> 
         <li>MaxRefund</li> 
         <li>OriginalTransactionId </li> 
        </ul> and <a href="#transparent-redirect">Transparent Redirect</a> 
        <ul> 
         <li>AmexECEncryptedData</li> 
        </ul> </td> 
      </tr> 
     </tbody> 
    </table> 
    <h1 id="rapid-sdks">Rapid SDKs</h1> 
    <p>To make development even faster and easier, eWAY provides Software Development Kits for popular languages - including PHP, Java, .NET (C#) and Node.js. These provide native structures and functions to do the heavy lifting for you.</p> 
    <p>All eWAY SDKs are free, MIT licensed and open source. Sample code for supported eWAY Rapid methods can be found by using the tabs on the top right of this page. Bug reports, suggestions and improvements are welcome via either the relevant SDK's <a href="https://github.com/eWAYPayment">GitHub</a> page or the <a href="https://go.eway.io/s/">eWAY Community</a>!</p> 
    <h2 id="php">PHP</h2>
    <pre class="highlight php tab-php"><code>$ composer require eway/eway-rapid-php
</code></pre> 
    <p>The eWAY Rapid PHP library requires PHP 5.4.0 or greater, with the curl, json and openssl extensions.</p> 
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'vendor/autoload.php'</span><span class="p">);</span>
</code></pre> 
    <p>It can be quickly installed using <a href="https://getcomposer.org/">Composer</a>, a PHP package manager. Once installed, simply include the Composer autoloader to access the library's functions.</p> 
    <p>Examples for most functions can be found by clicking the "PHP" tab at the top right of this page.</p> 
    <p><img src="images/GitHub-Mark-32px.png" alt="GitHub Logo"> The source code can be viewed, forked, pushed and pulled on GitHub: <a href="https://github.com/eWAYPayment/eway-rapid-php">https://github.com/eWAYPayment/eway-rapid-php</a></p> 
    <h2 id="java">Java</h2>
    <pre class="highlight java tab-java"><code><span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">com</span><span class="o">.</span><span class="na">ewaypayments</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">eway</span><span class="o">-</span><span class="n">rapid</span><span class="o">-</span><span class="n">java</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span><span class="n">LATEST</span><span class="o">&lt;/</span><span class="n">version</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span>
</code></pre> 
    <p>To use the eWAY Rapid Java library add the dependency to your Maven project's pom.xml - this will add the library to your project, along with the required dependencies.</p> 
    <p>Examples for most functions can be found by clicking the "Java" tab at the top right of this page.</p> 
    <p><img src="images/GitHub-Mark-32px.png" alt="GitHub Logo"> The source code can be viewed, forked, pushed and pulled on GitHub: <a href="https://github.com/eWAYPayment/eway-rapid-java">https://github.com/eWAYPayment/eway-rapid-java</a></p> 
    <h2 id="net">.NET</h2>
    <pre class="highlight csharp tab-csharp"><code><span class="n">PM</span><span class="p">&gt;</span> <span class="n">Install</span><span class="p">-</span><span class="n">Package</span> <span class="n">eWAY</span><span class="p">.</span><span class="n">Rapid</span>
</code></pre> 
    <p>The eWAY Rapid C# .NET package is available in <a href="https://www.nuget.org/packages/eWAY.Rapid/">NuGet</a> - it can be added using Visual Studio's package manager. Simply search for "eWAY" and add the package to your project. Alternatively you can use the <a href="http://docs.nuget.org/consume/package-manager-console">Package Manager Console</a> and run <code>Install-Package eWAY.Rapid</code>. NuGet will automatically include the required dependencies.</p> 
    <p>Examples for most functions can be found by clicking the ".NET" tab at the top right of this page.</p> 
    <p><img src="images/GitHub-Mark-32px.png" alt="GitHub Logo"> The source code can be viewed, forked, pushed and pulled on GitHub: <a href="https://github.com/eWAYPayment/eway-rapid-net">https://github.com/eWAYPayment/eway-rapid-net</a></p> 
    <h2 id="node-js">Node.js</h2>
    <pre class="highlight javascript tab-javascript"><code><span class="nx">npm</span> <span class="nx">install</span> <span class="nx">eway</span><span class="o">-</span><span class="nx">rapid</span>
</code></pre> 
    <p>The eWAY Rapid Node.js module can be easily installed using <a href="https://www.npmjs.com/">npm</a>, the Node.js Package Manager. It can be installed in your project either via the command line (as shown on the right) or by adding <code>"eway-rapid"</code> directly to your project's <code>package.json</code>.</p> 
    <p>Examples for most functions can be found by clicking the "Node.js" tab at the top right of this page.</p> 
    <p><img src="images/GitHub-Mark-32px.png" alt="GitHub Logo"> The source code can be viewed, forked, pushed and pulled on GitHub: <a href="https://github.com/eWAYPayment/eway-rapid-node">https://github.com/eWAYPayment/eway-rapid-node</a></p> 
    <h2 id="ruby">Ruby</h2>
    <pre class="highlight ruby tab-ruby"><code><span class="n">gem</span> <span class="n">install</span> <span class="n">eway_rapid</span>
</code></pre> 
    <p>The eWAY Rapid Ruby Gem can be easily installed using <a href="https://rubygems.org/">RubyGems</a>, the Ruby Package Manager. It can be installed in your project either via the command line (as shown on the right) or by adding <code>gem 'eway_rapid'</code> directly to your project's <code>Gemfile</code>.</p> 
    <p>Examples for most functions can be found by clicking the "Ruby" tab at the top right of this page.</p> 
    <p><img src="images/GitHub-Mark-32px.png" alt="GitHub Logo"> The source code can be viewed, forked, pushed and pulled on GitHub: <a href="https://github.com/eWAYPayment/eway-rapid-ruby">https://github.com/eWAYPayment/eway-rapid-ruby</a></p> 
    <h2 id="ios">iOS</h2> 
    <p>The eWAY Rapid iOS Mobile SDK can be easily installed using <a href="https://cocoapods.org/">CocoaPods</a>, a dependency manager for Swift and Objective-C Cocoa projects. It can be installed in your project by adding the following line to your iOS project's Podfile:</p> 
    <p><code>pod 'eWAYPaymentsSDK'</code></p> 
    <p>Then run the following in a terminal window </p> 
    <p><code>pod install</code></p> 
    <p>This API reference focusses on the server side API functions, for details of using the iOS SDK, please see our <a href="https://www.eway.com.au/developers/sdk/ios">eWAY iOS SDK Getting Started guide</a>.</p> 
    <h2 id="android">Android</h2> 
    <p>The eWAY Rapid Android Mobile SDK can be easily installed using <a href="https://gradle.org/">Gradle</a>, a dependency manager for Java projects. It can be installed in two steps:</p> 
    <ol> 
     <li>Add the repository to the project's build gradle file under all projects:</li> 
    </ol> 
    <p><code> repositories {</code><br> <code>jcenter()</code><br> <code>maven { url "http://dl.bintray.com/webactive/maven" }</code><br> <code>} </code></p> 
    <ol> 
     <li>Then add the dependency to the dependencies section of app’s build gradle:</li> 
    </ol> 
    <p><code> dependencies {</code><br><code> ...</code><br><code> compile "com.eway.payment:android-sdk:1.+"</code><br><code> } </code></p> 
    <p>This API reference focusses on the server side API functions, for details of using the Android SDK, please see our <a href="https://www.eway.com.au/developers/sdk/android">eWAY Android SDK Getting Started guide</a>.</p> 
    <h1 id="api-reference">API Reference</h1>
    <h2 id="transparent-redirect">Transparent Redirect</h2> 
    <p>If you want the superior user experience of keeping customers on your website as well as the security of keeping card data off your own systems, eWAY's Transparent Redirect is the way to go. </p> 
    <p>Since the payment form is displayed on the site, it is important that an SSL is used to secure the page and provide reassurance to customers, increasing your basket conversion.</p> 
    <p>Implementing Transparent Redirect is a three step process:</p> 
    <ol> 
     <li>Pass the customer and transaction details to eWAY to generate an Access Code.</li> 
     <li>Display a payment form on your site using the Access Code and URL provided by eWAY - this form submits directly to eWAY's secure servers. After processing the transaction, the customer is directed (transparently!) straight back to the nominated Redirect URL.</li> 
     <li>Once the transaction has been processed, request the results from eWAY using the Access Code.</li> 
    </ol> 
    <h3 id="step-1-create-a-new-access-code">Step 1: Create a new access code</h3>
    <h4 id="live-endpoints">Live endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.ewaypayments.com/AccessCodes</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.ewaypayments.com/CreateAccessCode.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.ewaypayments.com/CreateAccessCode.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="sandbox-endpoints">Sandbox endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.sandbox.ewaypayments.com/AccessCodes</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/CreateAccessCode.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/CreateAccessCode.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <blockquote> 
     <p>Basic Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Payment": { "TotalAmount": 100 }, "RedirectUrl": "http://www.eway.com.au", "Method": "ProcessPayment", "TransactionType": "Purchase" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/AccessCodes
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;CreateAccessCode</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;RedirectUrl&gt;</span>http://www.eway.com.au<span class="nt">&lt;/RedirectUrl&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/CreateAccessCode&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'RedirectUrl'</span> <span class="o">=&gt;</span> <span class="s1">'http://www.eway.com.au'</span><span class="p">,</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">PURCHASE</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">TRANSPARENT_REDIRECT</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setRedirectURL</span><span class="o">(</span><span class="s">"http://www.eway.com.au"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Purchase</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">TransparentRedirect</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span>
    <span class="p">},</span>
    <span class="n">RedirectURL</span> <span class="p">=</span> <span class="s">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Purchase</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">TransparentRedirect</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">TRANSPARENT_REDIRECT</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">100</span>
    <span class="p">},</span>
    <span class="s2">"RedirectUrl"</span><span class="p">:</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Purchase"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>

</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">redirect_url</span> <span class="o">=</span> <span class="s1">'http://www.eway.com.au'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">PURCHASE</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">TRANSPARENT_REDIRECT</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>
</code></pre> 
    <blockquote> 
     <p>Complete Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Customer": { "Reference": "A12345", "Title": "Mr.", "FirstName": "John", "LastName": "Smith", "CompanyName": "Demo Shop 123", "JobDescription": "Developer", "Street1": "Level 5", "Street2": "369 Queen Street", "City": "Sydney", "State": "NSW", "PostalCode": "2000", "Country": "au", "Phone": "09 889 0986", "Mobile": "09 889 6542", "Email": "demo@example.org", "Url": "http://www.ewaypayments.com" }, "ShippingAddress": { "ShippingMethod": "NextDay", "FirstName": "John", "LastName": "Smith", "Street1": "Level 5", "Street2": "369 Queen Street", "City": "Sydney", "State": "NSW", "Country": "au", "PostalCode": "2000", "Phone": "09 889 0986" }, "Items": [ { "SKU": "12345678901234567890", "Description": "Item Description 1", "Quantity": 1, "UnitCost": 400, "Tax": 100, "Total": 500 }, { "SKU": "123456789012", "Description": "Item Description 2", "Quantity": 1, "UnitCost": 400, "Tax": 100, "Total": 500 } ], "Options": [ { "Value": "Option1" }, { "Value": "Option2" } ], "Payment": { "TotalAmount": 1000, "InvoiceNumber": "Inv 21540", "InvoiceDescription": "Individual Invoice Description", "InvoiceReference": "513456", "CurrencyCode": "AUD" }, "RedirectUrl": "http://www.eway.com.au", "Method": "ProcessPayment", "DeviceID": "D1234", "CustomerIP": "127.0.0.1", "PartnerID": "ID", "TransactionType": "Purchase" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/AccessCodes
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;CreateAccessCode</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Customer&gt;</span>
                    <span class="nt">&lt;Reference&gt;</span>A12345<span class="nt">&lt;/Reference&gt;</span>
                    <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;CompanyName&gt;</span>Demo Shop 123<span class="nt">&lt;/CompanyName&gt;</span>
                    <span class="nt">&lt;JobDescription&gt;</span>Developer<span class="nt">&lt;/JobDescription&gt;</span>
                    <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                    <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                    <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                    <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                    <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
                    <span class="nt">&lt;Mobile&gt;</span>0289712345<span class="nt">&lt;/Mobile&gt;</span>
                    <span class="nt">&lt;Comments&gt;</span>Customer comments<span class="nt">&lt;/Comments&gt;</span>
                    <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
                    <span class="nt">&lt;Url&gt;</span>http://www.ewaypayments.com<span class="nt">&lt;/Url&gt;</span>
                <span class="nt">&lt;/Customer&gt;</span>
                <span class="nt">&lt;ShippingAddress&gt;</span>
                    <span class="nt">&lt;ShippingMethod&gt;</span>NextDay<span class="nt">&lt;/ShippingMethod&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                    <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                    <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                    <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                    <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
                    <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
                <span class="nt">&lt;/ShippingAddress&gt;</span>
                <span class="nt">&lt;Items&gt;</span>
                    <span class="nt">&lt;LineItem&gt;</span>
                        <span class="nt">&lt;SKU&gt;</span>12345678901234567890<span class="nt">&lt;/SKU&gt;</span>
                        <span class="nt">&lt;Description&gt;</span>Item Description 1<span class="nt">&lt;/Description&gt;</span>
                        <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
                        <span class="nt">&lt;UnitCost&gt;</span>400<span class="nt">&lt;/UnitCost&gt;</span>
                        <span class="nt">&lt;Tax&gt;</span>100<span class="nt">&lt;/Tax&gt;</span>
                        <span class="nt">&lt;Total&gt;</span>500<span class="nt">&lt;/Total&gt;</span>
                    <span class="nt">&lt;/LineItem&gt;</span>
                    <span class="nt">&lt;LineItem&gt;</span>
                        <span class="nt">&lt;SKU&gt;</span>123456789012<span class="nt">&lt;/SKU&gt;</span>
                        <span class="nt">&lt;Description&gt;</span>Item Description 2<span class="nt">&lt;/Description&gt;</span>
                        <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
                        <span class="nt">&lt;UnitCost&gt;</span>400<span class="nt">&lt;/UnitCost&gt;</span>
                        <span class="nt">&lt;Tax&gt;</span>100<span class="nt">&lt;/Tax&gt;</span>
                        <span class="nt">&lt;Total&gt;</span>500<span class="nt">&lt;/Total&gt;</span>
                    <span class="nt">&lt;/LineItem&gt;</span>
                <span class="nt">&lt;/Items&gt;</span>
                <span class="nt">&lt;Options&gt;</span>
                    <span class="nt">&lt;Option&gt;</span>
                        <span class="nt">&lt;Value&gt;</span>Option1<span class="nt">&lt;/Value&gt;</span>
                    <span class="nt">&lt;/Option&gt;</span>
                    <span class="nt">&lt;Option&gt;</span>
                        <span class="nt">&lt;Value&gt;</span>Option2<span class="nt">&lt;/Value&gt;</span>
                    <span class="nt">&lt;/Option&gt;</span>
                <span class="nt">&lt;/Options&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                    <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
                    <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
                    <span class="nt">&lt;InvoiceReference&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceReference&gt;</span>
                    <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;RedirectUrl&gt;</span>http://www.eway.com.au<span class="nt">&lt;/RedirectUrl&gt;</span>
                <span class="nt">&lt;CustomerIP&gt;</span>127.0.0.1<span class="nt">&lt;/CustomerIP&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
                <span class="nt">&lt;DeviceID&gt;</span>D1234<span class="nt">&lt;/DeviceID&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/CreateAccessCode&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Customer'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'Reference'</span> <span class="o">=&gt;</span> <span class="s1">'A12345'</span><span class="p">,</span>
        <span class="s1">'Title'</span> <span class="o">=&gt;</span> <span class="s1">'Mr.'</span><span class="p">,</span>
        <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
        <span class="s1">'CompanyName'</span> <span class="o">=&gt;</span> <span class="s1">'Demo Shop 123'</span><span class="p">,</span>
        <span class="s1">'JobDescription'</span> <span class="o">=&gt;</span> <span class="s1">'PHP Developer'</span><span class="p">,</span>
        <span class="s1">'Street1'</span> <span class="o">=&gt;</span> <span class="s1">'Level 5'</span><span class="p">,</span>
        <span class="s1">'Street2'</span> <span class="o">=&gt;</span> <span class="s1">'369 Queen Street'</span><span class="p">,</span>
        <span class="s1">'City'</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span><span class="p">,</span>
        <span class="s1">'State'</span> <span class="o">=&gt;</span> <span class="s1">'NSW'</span><span class="p">,</span>
        <span class="s1">'PostalCode'</span> <span class="o">=&gt;</span> <span class="s1">'2000'</span><span class="p">,</span>
        <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
        <span class="s1">'Phone'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 0986'</span><span class="p">,</span>
        <span class="s1">'Mobile'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 6542'</span><span class="p">,</span>
        <span class="s1">'Email'</span> <span class="o">=&gt;</span> <span class="s1">'demo@example.org'</span><span class="p">,</span>
        <span class="s2">"Url"</span> <span class="o">=&gt;</span> <span class="s2">"http://www.ewaypayments.com"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'ShippingAddress'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'ShippingMethod'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\ShippingMethod</span><span class="o">::</span><span class="na">NEXT_DAY</span><span class="p">,</span>
        <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
        <span class="s1">'Street1'</span> <span class="o">=&gt;</span> <span class="s1">'Level 5'</span><span class="p">,</span>
        <span class="s1">'Street2'</span> <span class="o">=&gt;</span> <span class="s1">'369 Queen Street'</span><span class="p">,</span>
        <span class="s1">'City'</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span><span class="p">,</span>
        <span class="s1">'State'</span> <span class="o">=&gt;</span> <span class="s1">'NSW'</span><span class="p">,</span>
        <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
        <span class="s1">'PostalCode'</span> <span class="o">=&gt;</span> <span class="s1">'2000'</span><span class="p">,</span>
        <span class="s1">'Phone'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 0986'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'Items'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'SKU'</span> <span class="o">=&gt;</span> <span class="s1">'12345678901234567890'</span><span class="p">,</span>
            <span class="s1">'Description'</span> <span class="o">=&gt;</span> <span class="s1">'Item Description 1'</span><span class="p">,</span>
            <span class="s1">'Quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">'UnitCost'</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">'Tax'</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
            <span class="c1">// Total is calculated automatically </span>        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'SKU'</span> <span class="o">=&gt;</span> <span class="s1">'123456789012'</span><span class="p">,</span>
            <span class="s1">'Description'</span> <span class="o">=&gt;</span> <span class="s1">'Item Description 2'</span><span class="p">,</span>
            <span class="s1">'Quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">'UnitCost'</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">'Tax'</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">'Options'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'Value'</span> <span class="o">=&gt;</span> <span class="s1">'Option1'</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'Value'</span> <span class="o">=&gt;</span> <span class="s1">'Option2'</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s1">'InvoiceNumber'</span> <span class="o">=&gt;</span> <span class="s1">'Inv 21540'</span><span class="p">,</span>
        <span class="s1">'InvoiceDescription'</span> <span class="o">=&gt;</span> <span class="s1">'Individual Invoice Description'</span><span class="p">,</span>
        <span class="s1">'InvoiceReference'</span> <span class="o">=&gt;</span> <span class="s1">'513456'</span><span class="p">,</span>
        <span class="s1">'CurrencyCode'</span> <span class="o">=&gt;</span> <span class="s1">'AUD'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'RedirectUrl'</span> <span class="o">=&gt;</span> <span class="s1">'http://www.eway.com.au'</span><span class="p">,</span>
    <span class="s1">'DeviceID'</span> <span class="o">=&gt;</span> <span class="s1">'D1234'</span><span class="p">,</span>
    <span class="s1">'CustomerIP'</span> <span class="o">=&gt;</span> <span class="s1">'127.0.0.1'</span><span class="p">,</span>
    <span class="s1">'PartnerID'</span> <span class="o">=&gt;</span> <span class="s1">'ID'</span><span class="p">,</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">PURCHASE</span><span class="p">,</span>
    <span class="s1">'Capture'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">TRANSPARENT_REDIRECT</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Customer</span><span class="o">();</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setReference</span><span class="o">(</span><span class="s">"A12345"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Mr."</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCompanyName</span><span class="o">(</span><span class="s">"eWay"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setJobDescription</span><span class="o">(</span><span class="s">"Java Developer"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"09 889 0986"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setMobile</span><span class="o">(</span><span class="s">"09 889 6542"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setUrl</span><span class="o">(</span><span class="s">"http://ewaypayments.com"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCustomerDeviceIP</span><span class="o">(</span><span class="s">"127.0.0.1"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"demo@example.org"</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address</span><span class="o">.</span><span class="na">setStreet1</span><span class="o">(</span><span class="s">"Level 5"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setStreet2</span><span class="o">(</span><span class="s">"369 Queen Street"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Sydney"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"NSW"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"2000"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="n">address</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCustomer</span><span class="o">(</span><span class="n">customer</span><span class="o">);</span>

<span class="n">ShippingDetails</span> <span class="n">shippingDetail</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ShippingDetails</span><span class="o">();</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"09 889 0986"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setShippingMethod</span><span class="o">(</span><span class="n">ShippingMethod</span><span class="o">.</span><span class="na">LowCost</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">shipAddress</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setStreet1</span><span class="o">(</span><span class="s">"Level 5"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setStreet2</span><span class="o">(</span><span class="s">"369 Queen Street"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Sydney"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"NSW"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"2000"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setShippingAddress</span><span class="o">(</span><span class="n">shipAddress</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setShippingDetails</span><span class="o">(</span><span class="n">shippingDetail</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">LineItem</span><span class="o">&gt;</span> <span class="n">items</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">LineItem</span> <span class="n">item1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LineItem</span><span class="o">();</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setSku</span><span class="o">(</span><span class="s">"12345678901234567890"</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Item Description 1"</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setUnitCost</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
<span class="n">items</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item1</span><span class="o">);</span>

<span class="n">LineItem</span> <span class="n">item2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LineItem</span><span class="o">();</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setSku</span><span class="o">(</span><span class="s">"123456789012"</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Item Description 2"</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setUnitCost</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
<span class="n">items</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item2</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setLineItems</span><span class="o">(</span><span class="n">items</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">options</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Option1"</span><span class="o">);</span>
<span class="n">options</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Option2"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setOptions</span><span class="o">(</span><span class="n">options</span><span class="o">);</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setCurrencyCode</span><span class="o">(</span><span class="s">"AUD"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceDescription</span><span class="o">(</span><span class="s">"Individual Invoice Description"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceNumber</span><span class="o">(</span><span class="s">"Inv 21540"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceReference</span><span class="o">(</span><span class="s">"513456"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setPartnerID</span><span class="o">(</span><span class="s">"ID"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCapture</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setRedirectURL</span><span class="o">(</span><span class="s">"http://www.eway.com.au"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setDeviceID</span><span class="o">(</span><span class="s">"D1234"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Purchase</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setSaveCustomer</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">TransparentRedirect</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Customer</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Reference</span> <span class="p">=</span> <span class="s">"A12345"</span><span class="p">,</span>
        <span class="n">Title</span> <span class="p">=</span> <span class="s">"Mr."</span><span class="p">,</span>
        <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
        <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
        <span class="n">CompanyName</span> <span class="p">=</span> <span class="s">"Demo Shop 123"</span><span class="p">,</span>
        <span class="n">JobDescription</span> <span class="p">=</span> <span class="s">"C# Developer"</span><span class="p">,</span>
        <span class="n">Phone</span> <span class="p">=</span> <span class="s">"09 889 0986"</span><span class="p">,</span>
        <span class="n">Mobile</span> <span class="p">=</span> <span class="s">"09 889 6542"</span><span class="p">,</span>
        <span class="n">Url</span> <span class="p">=</span> <span class="s">"http://www.ewaypayments.com"</span><span class="p">,</span>
        <span class="n">Address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Street1</span> <span class="p">=</span> <span class="s">"Level 5"</span><span class="p">,</span>
            <span class="n">Street2</span> <span class="p">=</span> <span class="s">"369 Queen Street"</span><span class="p">,</span>
            <span class="n">City</span> <span class="p">=</span> <span class="s">"Sydney"</span><span class="p">,</span>
            <span class="n">State</span> <span class="p">=</span> <span class="s">"NSW"</span><span class="p">,</span>
            <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span><span class="p">,</span>
            <span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"2000"</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">ShippingDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShippingDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
        <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
        <span class="n">Phone</span> <span class="p">=</span> <span class="s">"09 889 0986"</span><span class="p">,</span>
        <span class="n">ShippingAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Street1</span> <span class="p">=</span> <span class="s">"Level 5"</span><span class="p">,</span>
            <span class="n">Street2</span> <span class="p">=</span> <span class="s">"369 Queen Street"</span><span class="p">,</span>
            <span class="n">City</span> <span class="p">=</span> <span class="s">"Sydney"</span><span class="p">,</span>
            <span class="n">State</span> <span class="p">=</span> <span class="s">"NSW"</span><span class="p">,</span>
            <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span><span class="p">,</span>
            <span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"2000"</span>
        <span class="p">},</span>
        <span class="n">ShippingMethod</span> <span class="p">=</span> <span class="n">ShippingMethod</span><span class="p">.</span><span class="n">NextDay</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">LineItems</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> 
    <span class="p">{</span>
        <span class="k">new</span> <span class="nf">LineItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">SKU</span> <span class="p">=</span> <span class="s">"12345678901234567890"</span><span class="p">,</span> 
            <span class="n">Description</span> <span class="p">=</span> <span class="s">"Item Description 1"</span><span class="p">,</span>
            <span class="n">Quantity</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">UnitCost</span> <span class="p">=</span> <span class="m">400</span>
        <span class="p">},</span>
        <span class="k">new</span> <span class="nf">LineItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">SKU</span> <span class="p">=</span> <span class="s">"123456789012"</span><span class="p">,</span> 
            <span class="n">Description</span> <span class="p">=</span> <span class="s">"Item Description 2"</span><span class="p">,</span>
            <span class="n">Quantity</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">UnitCost</span> <span class="p">=</span> <span class="m">400</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}.</span><span class="nf">ToList</span><span class="p">(),</span>
    <span class="n">Options</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> 
    <span class="p">{</span>
        <span class="s">"Option1"</span><span class="p">,</span> 
        <span class="s">"Option2"</span> 
    <span class="p">}.</span><span class="nf">ToList</span><span class="p">(),</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span><span class="p">,</span>
        <span class="n">InvoiceNumber</span> <span class="p">=</span> <span class="s">"Inv 21540"</span><span class="p">,</span>
        <span class="n">InvoiceDescription</span> <span class="p">=</span> <span class="s">"Individual Invoice Description"</span><span class="p">,</span>
        <span class="n">InvoiceReference</span> <span class="p">=</span> <span class="s">"513456"</span><span class="p">,</span>
        <span class="n">CurrencyCode</span> <span class="p">=</span> <span class="s">"AUD"</span>
    <span class="p">},</span>
    <span class="n">RedirectURL</span> <span class="p">=</span> <span class="s">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="n">DeviceID</span> <span class="p">=</span> <span class="s">"D1234"</span><span class="p">,</span>
    <span class="n">PartnerID</span> <span class="p">=</span> <span class="s">"ID"</span><span class="p">,</span>
    <span class="n">CustomerIP</span> <span class="p">=</span> <span class="s">"127.0.0.1"</span><span class="p">,</span>
    <span class="n">Capture</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
    <span class="n">SaveCustomer</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Purchase</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">TransparentRedirect</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">TRANSPARENT_REDIRECT</span><span class="p">,{</span>
    <span class="s2">"Customer"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"Reference"</span><span class="p">:</span> <span class="s2">"A12345"</span><span class="p">,</span>
       <span class="s2">"Title"</span><span class="p">:</span> <span class="s2">"Mr."</span><span class="p">,</span>
       <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
       <span class="s2">"CompanyName"</span><span class="p">:</span> <span class="s2">"Demo Shop 123"</span><span class="p">,</span>
       <span class="s2">"JobDescription"</span><span class="p">:</span> <span class="s2">"Developer"</span><span class="p">,</span>
       <span class="s2">"Street1"</span><span class="p">:</span> <span class="s2">"Level 5"</span><span class="p">,</span>
       <span class="s2">"Street2"</span><span class="p">:</span> <span class="s2">"369 Queen Street"</span><span class="p">,</span>
       <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Sydney"</span><span class="p">,</span>
       <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"NSW"</span><span class="p">,</span>
       <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"2000"</span><span class="p">,</span>
       <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
       <span class="s2">"Phone"</span><span class="p">:</span> <span class="s2">"09 889 0986"</span><span class="p">,</span>
       <span class="s2">"Mobile"</span><span class="p">:</span> <span class="s2">"09 889 6542"</span><span class="p">,</span>
       <span class="s2">"Email"</span><span class="p">:</span> <span class="s2">"demo@example.org"</span><span class="p">,</span>
       <span class="s2">"Url"</span><span class="p">:</span> <span class="s2">"http://www.ewaypayments.com"</span>
    <span class="p">},</span>
    <span class="s2">"ShippingAddress"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"ShippingMethod"</span><span class="p">:</span> <span class="s2">"NextDay"</span><span class="p">,</span>
       <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
       <span class="s2">"Street1"</span><span class="p">:</span> <span class="s2">"Level 5"</span><span class="p">,</span>
       <span class="s2">"Street2"</span><span class="p">:</span> <span class="s2">"369 Queen Street"</span><span class="p">,</span>
       <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Sydney"</span><span class="p">,</span>
       <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"NSW"</span><span class="p">,</span>
       <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
       <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"2000"</span><span class="p">,</span>
       <span class="s2">"Phone"</span><span class="p">:</span> <span class="s2">"09 889 0986"</span>
    <span class="p">},</span>
    <span class="s2">"Items"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"SKU"</span><span class="p">:</span> <span class="s2">"12345678901234567890"</span><span class="p">,</span>
       <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Item Description 1"</span><span class="p">,</span>
       <span class="s2">"Quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"UnitCost"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
       <span class="s2">"Tax"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"Total"</span><span class="p">:</span> <span class="mi">500</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"SKU"</span><span class="p">:</span> <span class="s2">"123456789012"</span><span class="p">,</span>
       <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Item Description 2"</span><span class="p">,</span>
       <span class="s2">"Quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"UnitCost"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
       <span class="s2">"Tax"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"Total"</span><span class="p">:</span> <span class="mi">500</span>
     <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"Options"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"Value"</span><span class="p">:</span> <span class="s2">"Option1"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"Value"</span><span class="p">:</span> <span class="s2">"Option2"</span>
     <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
       <span class="s2">"InvoiceNumber"</span><span class="p">:</span> <span class="s2">"Inv 21540"</span><span class="p">,</span>
       <span class="s2">"InvoiceDescription"</span><span class="p">:</span> <span class="s2">"Individual Invoice Description"</span><span class="p">,</span>
       <span class="s2">"InvoiceReference"</span><span class="p">:</span> <span class="s2">"513456"</span><span class="p">,</span>
       <span class="s2">"CurrencyCode"</span><span class="p">:</span> <span class="s2">"AUD"</span>
    <span class="p">},</span>
    <span class="s2">"RedirectUrl"</span><span class="p">:</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s2">"DeviceID"</span><span class="p">:</span> <span class="s2">"D1234"</span><span class="p">,</span>
    <span class="s2">"CustomerIP"</span><span class="p">:</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>
    <span class="s2">"PartnerID"</span><span class="p">:</span> <span class="s2">"ID"</span><span class="p">,</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Purchase"</span><span class="p">,</span>
    <span class="s2">"Capture"</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>

<span class="n">customer</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Customer</span><span class="p">.</span><span class="nf">new</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">reference</span> <span class="o">=</span> <span class="s1">'A12345'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s1">'Mr.'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">company_name</span> <span class="o">=</span> <span class="s1">'Company'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">job_description</span> <span class="o">=</span> <span class="s1">'Ruby Developer'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">phone</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">mobile</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">fax</span> <span class="o">=</span> <span class="s1">'09 654 1234'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">url</span> <span class="o">=</span> <span class="s1">'http://www.ewaypayments.com'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">comments</span> <span class="o">=</span> <span class="s1">'customer comment'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">customer_device_ip</span> <span class="o">=</span> <span class="s1">'127.0.0.1'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">email</span> <span class="o">=</span> <span class="s1">'demo@example.org'</span>

<span class="n">address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">address</span><span class="p">.</span><span class="nf">street1</span> <span class="o">=</span> <span class="s1">'Level 5'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">street2</span> <span class="o">=</span> <span class="s1">'369 Queen Street'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">city</span> <span class="o">=</span> <span class="s1">'Sydney'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">state</span> <span class="o">=</span> <span class="s1">'NSW'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">postal_code</span> <span class="o">=</span> <span class="s1">'2000'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">address</span> <span class="o">=</span> <span class="n">address</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">customer</span> <span class="o">=</span> <span class="n">customer</span>

<span class="n">shipping_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">ShippingDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">shipping_address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">street1</span> <span class="o">=</span> <span class="s1">'Level 5'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">street2</span> <span class="o">=</span> <span class="s1">'369 Queen Street'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">city</span> <span class="o">=</span> <span class="s1">'Sydney'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">state</span> <span class="o">=</span> <span class="s1">'NSW'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">postal_code</span> <span class="o">=</span> <span class="s1">'2000'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">shipping_address</span> <span class="o">=</span> <span class="n">shipping_address</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">phone</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">shipping_method</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">ShippingMethod</span><span class="o">::</span><span class="no">LOW_COST</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">shipping_details</span> <span class="o">=</span> <span class="n">shipping_details</span>

<span class="n">line_item</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'12345678901234567890'</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 1'</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_item1</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'12345678901234567890'</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 1'</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_item2</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'123456789012'</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 2'</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_items</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">line_items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">line_item1</span><span class="p">)</span>
<span class="n">line_items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">line_item2</span><span class="p">)</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">line_items</span> <span class="o">=</span> <span class="n">line_items</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">options</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="s1">'Option1'</span><span class="p">)</span>
<span class="n">options</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="s1">'Option2'</span><span class="p">)</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">options</span> <span class="o">=</span> <span class="n">options</span>

<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_number</span> <span class="o">=</span> <span class="s1">'Inv 21540'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_description</span> <span class="o">=</span> <span class="s1">'Individual Invoice Description'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_reference</span> <span class="o">=</span> <span class="s1">'513456'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">currency_code</span> <span class="o">=</span> <span class="s1">'AUD'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">redirect_url</span> <span class="o">=</span> <span class="s1">'http://www.eway.com.au'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">device_id</span> <span class="o">=</span> <span class="s1">'D1234'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">partner_id</span> <span class="o">=</span> <span class="s1">'ID'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">capture</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">PURCHASE</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">TRANSPARENT_REDIRECT</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>
</code></pre> 
    <p>To request an Access Code, make a server-side call to the CreateAccessCode method of Rapid API. The service will respond with an Access Code, a Form Action URL and the customer data. </p> 
    <p>If the request involves an existing Token customer, their details will be returned in the response including the masked credit card number. </p> 
    <p>If Token Payments are not in use for this transaction, the returned customer data will be an echo of the data in the request.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>RedirectUrl</td> 
       <td>R</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The web address the customer is redirected to with the result of the action.<br><em>Note that the eWAY AccessCode is appended as a query string parameter to the RedirectUrl – existing query string parameters are preserved.</em></td> 
      </tr> 
      <tr> 
       <td>CustomerIP</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's IP address. <br>When this field is present along with the Customer Country field, any transaction will be processed using Beagle Fraud Alerts</td> 
      </tr> 
      <tr> 
       <td>Method</td> 
       <td>R</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The action to perform with this request (see <a href="#payment-methods">Payment Methods</a> for more information).<br>One of: <code>ProcessPayment</code>, <code>CreateTokenCustomer</code>, <code>UpdateTokenCustomer</code>, <code>TokenPayment</code>, <code>Authorise</code></td> 
      </tr> 
      <tr> 
       <td>TransactionType</td> 
       <td>R</td> 
       <td>Int</td> 
       <td>enum</td> 
       <td>The type of transaction you're performing (see <a href="#transaction-types">Transaction Types</a>). Values: <code>Purchase</code>, <code>MOTO</code>, <code>Recurring</code></td> 
      </tr> 
      <tr> 
       <td>DeviceID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The identification name/number for the device or application used to process the transaction.</td> 
      </tr> 
      <tr> 
       <td>PartnerID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The partner ID generated from an eWAY partner agreement.</td> 
      </tr> 
      <tr> 
       <td>CheckoutPayment</td> 
       <td>O</td> 
       <td>6</td> 
       <td>boolean</td> 
       <td>Setting this to "true" will process a <a href="#paypal-checkout-payment">PayPal Checkout payment</a>.</td> 
      </tr> 
      <tr> 
       <td>CheckoutUrl</td> 
       <td>O</td> 
       <td>512</td> 
       <td>string</td> 
       <td>When <code>CheckoutPayment</code> is set to "true" you must specify a <code>CheckoutURL</code> for the customer to be returned to after logging in to their PayPal account.</td> 
      </tr> 
      <tr> 
       <td>Capture</td> 
       <td>O</td> 
       <td>6</td> 
       <td>boolean</td> 
       <td><strong>Rapid SDK Libraries Only</strong> Set to true to capture funds immediately (default), set to false to perform an <a href="#pre-auth">authorisation</a> and only hold funds.</td> 
      </tr> 
      <tr> 
       <td>SaveCustomer</td> 
       <td>O</td> 
       <td>6</td> 
       <td>boolean</td> 
       <td><strong>Rapid SDK Libraries Only</strong> Set to true to create a token customer when the transaction is complete</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field types: R – Required, O – Optional </p> 
    <h4 id="payment">Payment</h4> 
    <p>This set of fields contains the details of the payment being processed. This section is required when the Method field is set to <code>ProcessPayment</code> or <code>TokenPayment</code>.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TotalAmount</td> 
       <td>R</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount of the transaction in the lowest denomination for the currency (e.g. a $27.00 transaction would have a TotalAmount value of '2700').<br>The value of this field must be 0 for the <code>CreateTokenCustomer</code> and <code>UpdateTokenCustomer</code> methods. This field is required when the Action is <code>ProcessPayment</code> or <code>TokenPayment</code>.</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>O</td> 
       <td>12</td> 
       <td>string</td> 
       <td>The merchant's invoice number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>InvoiceDescription</td> 
       <td>O</td> 
       <td>64</td> 
       <td>string</td> 
       <td>A short description of the purchase that the customer is making.</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>O</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction is to be processed in. If no value for this field is provided, the merchant's default currency is used. This should be in uppercase.<br>e.g. Australian Dollars = <code>AUD</code></td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="customer">Customer</h4> 
    <p>This set of fields contains the details of the customer.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>C</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY-issued ID that represents the Token customer to be loaded for this action. <br><em>Required for UpdateTokenCustomer method</em></td> 
      </tr> 
      <tr> 
       <td>Reference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference for this customer.</td> 
      </tr> 
      <tr> 
       <td>Title†</td> 
       <td>C</td> 
       <td>5</td> 
       <td>string</td> 
       <td>The customer's title, empty string allowed, which will default to Mr.<br>One of: <code>Mr.</code>, <code>Ms.</code>, <code>Mrs.</code>, <code>Miss</code>, <code>Dr.</code>, <code>Sir.</code>, <code>Prof.</code></td> 
      </tr> 
      <tr> 
       <td>FirstName†</td> 
       <td>C</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name.</td> 
      </tr> 
      <tr> 
       <td>LastName†</td> 
       <td>C</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's company name.</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country†</td> 
       <td>C</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's country. This should be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>. This field must be lower case.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address, which must be correctly formatted if present.</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's phone number.</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's mobile phone number.</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments the merchant wishes to add about the customer.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number.</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>O</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The customer's website, which must be correctly formatted if present.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field Types: O – Optional, C – Conditionally Required </p> 
    <p>† When creating a new Token customer, all conditional fields(†)are required </p> 
    <h4 id="shipping-address">Shipping Address</h4> 
    <p>The ShippingAddress section is optional. It is used by Beagle Fraud Alerts (Enterprise) to calculate a risk score for this transaction.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>ShippingMethod</td> 
       <td>C</td> 
       <td>16</td> 
       <td>long</td> 
       <td>The method used to ship the customer's order.<br>One of: <code>Unknown</code>, <code>LowCost</code>, <code>DesignatedByCustomer</code>, <code>International</code>, <code>Military</code>, <code>NextDay</code>, <code>StorePickup</code>, <code>TwoDayService</code>, <code>ThreeDayService</code>, <code>Other</code></td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The first name of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The last name of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address of the shipping location.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's shipping city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's shipping state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's shipping post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country†</td> 
       <td>C</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's shipping country. This should be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>. This field must be lower case.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's shipping email address, which must be correctly formatted if present.</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The phone number of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The fax number of the shipping location.</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="items">Items</h4> 
    <p>The Items section is optional. If provided, it should contain a list of line items purchased by the customer, up to a maximum of 99 items. It is used by Beagle Fraud Alerts (Enterprise) to calculate a risk score for this transaction, and by the Responsive Shared page and PayPal to display the order to the customer. </p> 
    <p>Items have the following fields:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SKU</td> 
       <td>O</td> 
       <td>12</td> 
       <td>string</td> 
       <td>The stock keeping unit or name used to identify this line item.</td> 
      </tr> 
      <tr> 
       <td>Description</td> 
       <td>O</td> 
       <td>26</td> 
       <td>string</td> 
       <td>A brief description of the product.</td> 
      </tr> 
      <tr> 
       <td>Quantity</td> 
       <td>O</td> 
       <td>6</td> 
       <td>int</td> 
       <td>The purchased quantity.</td> 
      </tr> 
      <tr> 
       <td>UnitCost</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The pre-tax cost per unit of the product in the lowest denomination<br>(e.g. 500 for $5.00)</td> 
      </tr> 
      <tr> 
       <td>Tax</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The tax amount that applies to this line item in the lowest denomination<br>(e.g. 500 for $5.00)</td> 
      </tr> 
      <tr> 
       <td>Total</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The total amount charged for this line item in the lowest denomination<br>(e.g. 500 for $5.00)</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="options">Options</h4> 
    <p>This section is optional. Anything appearing in this section is not displayed to the customer, but it is returned to the merchant in the result. Up to 99 options can be defined. Each option has just one field:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Value</td> 
       <td>O</td> 
       <td>254</td> 
       <td>string</td> 
       <td>This field is not displayed to the customer but is returned in the result. Anything can be used here, which can be useful for tracking transactions. <em>Additional characters are truncated at 254</em></td> 
      </tr> 
     </tbody>
    </table> 
    <blockquote> 
     <p>Example Response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"AccessCode"</span>: <span class="s2">"A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"TokenCustomerID"</span>: null,
        <span class="s2">"Reference"</span>: <span class="s2">"A12345"</span>,
        <span class="s2">"Title"</span>: <span class="s2">"Mr."</span>,
        <span class="s2">"FirstName"</span>: <span class="s2">"John"</span>,
        <span class="s2">"LastName"</span>: <span class="s2">"Smith"</span>,
        <span class="s2">"CompanyName"</span>: <span class="s2">"Demo Shop 123"</span>,
        <span class="s2">"JobDescription"</span>: <span class="s2">"Developer"</span>,
        <span class="s2">"Street1"</span>: <span class="s2">"Level 5"</span>,
        <span class="s2">"Street2"</span>: <span class="s2">"369 Queen Street"</span>,
        <span class="s2">"City"</span>: <span class="s2">"Sydney"</span>,
        <span class="s2">"State"</span>: <span class="s2">"NSW"</span>,
        <span class="s2">"PostalCode"</span>: <span class="s2">"2000"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"au"</span>,
        <span class="s2">"Email"</span>: <span class="s2">""</span>,
        <span class="s2">"Phone"</span>: <span class="s2">"09 889 0986"</span>,
        <span class="s2">"Mobile"</span>: <span class="s2">"09 889 6542"</span>,
        <span class="s2">"Comments"</span>: <span class="s2">""</span>,
        <span class="s2">"Fax"</span>: <span class="s2">""</span>,
        <span class="s2">"Url"</span>: <span class="s2">""</span>,
        <span class="s2">"CardNumber"</span>: <span class="s2">""</span>,
        <span class="s2">"CardStartMonth"</span>: <span class="s2">""</span>,
        <span class="s2">"CardStartYear"</span>: <span class="s2">""</span>,
        <span class="s2">"CardIssueNumber"</span>: <span class="s2">""</span>,
        <span class="s2">"CardName"</span>: <span class="s2">""</span>,
        <span class="s2">"CardExpiryMonth"</span>: <span class="s2">""</span>,
        <span class="s2">"CardExpiryYear"</span>: <span class="s2">""</span>,
        <span class="s2">"IsActive"</span>: <span class="nb">false</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"TotalAmount"</span>: 1000,
        <span class="s2">"InvoiceNumber"</span>: <span class="s2">"Inv 21540"</span>,
        <span class="s2">"InvoiceDescription"</span>: <span class="s2">"Individual Invoice Description"</span>,
        <span class="s2">"InvoiceReference"</span>: <span class="s2">"513456"</span>,
        <span class="s2">"CurrencyCode"</span>: <span class="s2">"AUD"</span>
    <span class="o">}</span>,
    <span class="s2">"FormActionURL"</span>: <span class="s2">"https://secure-au.sandbox.ewaypayments.com/AccessCode/A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto"</span>,
    <span class="s2">"CompleteCheckoutURL"</span>: null,
    <span class="s2">"Errors"</span>: null
<span class="o">}</span>

</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;CreateAccessCodeResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;CreateAccessCodeResult&gt;</span>
            <span class="nt">&lt;AccessCode&gt;</span>A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto<span class="nt">&lt;/AccessCode&gt;</span>
            <span class="nt">&lt;Customer&gt;</span>
               <span class="nt">&lt;TokenCustomerID</span> <span class="na">xsi:nil=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
               <span class="nt">&lt;Reference&gt;</span>A12345<span class="nt">&lt;/Reference&gt;</span>
               <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
               <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
               <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
               <span class="nt">&lt;CompanyName&gt;</span>Demo Shop 123<span class="nt">&lt;/CompanyName&gt;</span>
               <span class="nt">&lt;JobDescription&gt;</span>Developer<span class="nt">&lt;/JobDescription&gt;</span>
               <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
               <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
               <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
               <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
               <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
               <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
               <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
               <span class="nt">&lt;Mobile&gt;</span>0289712345<span class="nt">&lt;/Mobile&gt;</span>
               <span class="nt">&lt;Comments&gt;</span>Customer comments<span class="nt">&lt;/Comments&gt;</span>
               <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
               <span class="nt">&lt;Url&gt;</span>http://www.ewaypayments.com<span class="nt">&lt;/Url&gt;</span>
               <span class="nt">&lt;CardNumber/&gt;</span>
               <span class="nt">&lt;CardStartMonth/&gt;</span>
               <span class="nt">&lt;CardStartYear/&gt;</span>
               <span class="nt">&lt;CardIssueNumber/&gt;</span>
               <span class="nt">&lt;CardName/&gt;</span>
               <span class="nt">&lt;CardExpiryMonth/&gt;</span>
               <span class="nt">&lt;CardExpiryYear/&gt;</span>
               <span class="nt">&lt;IsActive&gt;</span>false<span class="nt">&lt;/IsActive&gt;</span>
            <span class="nt">&lt;/Customer&gt;</span>
            <span class="nt">&lt;Payment&gt;</span>
               <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
               <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
               <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
               <span class="nt">&lt;InvoiceReference&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceReference&gt;</span>
               <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
            <span class="nt">&lt;/Payment&gt;</span>
            <span class="nt">&lt;FormActionURL&gt;</span>https://secure-au.sandbox.ewaypayments.com/Process<span class="nt">&lt;/FormActionURL&gt;</span>
         <span class="nt">&lt;/CreateAccessCodeResult&gt;</span>
      <span class="nt">&lt;/CreateAccessCodeResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available $response properties </span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">())</span> <span class="p">{</span>
    <span class="nv">$accessCode</span> <span class="o">=</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">AccessCode</span><span class="p">;</span>
    <span class="nv">$formUrl</span> <span class="o">=</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">FormActionURL</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Error: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nv">$error</span><span class="p">)</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">().</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">accessCode</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getAccessCode</span><span class="o">();</span>
    <span class="n">String</span> <span class="n">formUrl</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getFormActionUrl</span><span class="o">();</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Response Messages: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">,</span> <span class="s">"en"</span><span class="o">));</span>
    <span class="o">};</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Errors</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">string</span> <span class="n">accessCode</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">AccessCode</span><span class="p">;</span>
    <span class="kt">string</span> <span class="n">formUrl</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">FormActionUrl</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">response</span><span class="p">.</span><span class="n">Errors</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Response Messages: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">accessCode</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'AccessCode'</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">formUrl</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'FormActionURL'</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="c1"># See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">empty?</span>
  <span class="n">access_code</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">access_code</span>
  <span class="n">form_url</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">form_action_url</span>
<span class="k">else</span>
  <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">"Response message: "</span><span class="o">+</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">user_display_message</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>

</code></pre>
    <h3 id="response">Response</h3> 
    <p>The response received from eWAY will contain the Access Code that should be used for all further requests associated with this transaction. </p> 
    <p>The response will also contain the <code>FormActionURL</code>. This is the URL that the form should be posted to in Step 2 of the process. </p> 
    <p>Depending on the <code>Method</code> being used for this request, some additional information will be returned in the response. </p> 
    <p>If processing a payment, the response will also include an echo of the payment information submitted in the request. </p> 
    <p>If using an existing Token customer, the customer's masked card data will be included in the response. This enables existing Token customers to elect to pay without having to enter their card details again, with the exception of the CVN, which cannot be stored.</p> 
    <h4 id="response-field-descriptions">Response field descriptions</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AccessCode</td> 
       <td>512</td> 
       <td>string</td> 
       <td>A unique access code that is used to identify this transaction with Rapid API. This code will need to be present for all future requests associated with this transaction.</td> 
      </tr> 
      <tr> 
       <td>FormActionURL</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The URL that the form should be POSTed to in Step 2</td> 
      </tr> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount of the transaction in the lowest denomination, as passed in the original request.<br>e.g. $25.00 = 2500</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>16</td> 
       <td>string</td> 
       <td>The merchant's invoice number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>InvoiceDescription</td> 
       <td>64</td> 
       <td>string</td> 
       <td>A description of the purchase that the customer is making.</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction is to be processed in. If no value for this field is provided, the merchant's default currency is used.</td> 
      </tr> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>16</td> 
       <td>long</td> 
       <td>The token customer's unique Token Customer ID. Only returned if included in the request with <code>TokenPayment</code> and <code>UpdateTokenCustomer</code> methods</td> 
      </tr> 
      <tr> 
       <td>Reference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference for this customer.</td> 
      </tr> 
      <tr> 
       <td>Title</td> 
       <td>5</td> 
       <td>string</td> 
       <td>The customer's title empty string allowed.</td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name.</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name.</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's company name.</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's country, formatted as a two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>.</td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address, which must be correctly formatted if present.</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's phone number.</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's mobile phone number.</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments the merchant wishes to add about the customer.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number.</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The customer's website.</td> 
      </tr> 
      <tr> 
       <td>CardNumber</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The Token customer's masked credit card number.</td> 
      </tr> 
      <tr> 
       <td>CardName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The Token customer's card holder name.</td> 
      </tr> 
      <tr> 
       <td>CardExpiryMonth</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer's card expiry month.</td> 
      </tr> 
      <tr> 
       <td>CardExpiryYear</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer's card expiry year.</td> 
      </tr> 
      <tr> 
       <td>CardStartMonth*</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer's card valid from month.</td> 
      </tr> 
      <tr> 
       <td>CardStartYear*</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer's card valid from year.</td> 
      </tr> 
      <tr> 
       <td>CardIssueNumber*</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer's card issue number.</td> 
      </tr> 
      <tr> 
       <td>AmexECEncryptedData</td> 
       <td>512</td> 
       <td>string</td> 
       <td><strong>v40+</strong> (see <a href="#versions">versions</a>) A token used to configure <a href="#amex-express-checkout">AMEX Express Checkout</a></td> 
      </tr> 
     </tbody>
    </table> 
    <p>*<em>Applies to UK only</em></p> 
    <h3 id="step-2-customer-submits-card-details-direct-to-eway">Step 2: Customer submits card details direct to eWAY</h3> 
    <p>Once the merchant receives the Access Code response, the customer must be redirected to a secure page that contains an HTML form. eWAY will only accept data from forms that use the POST method. Any data posted from a form that has the method attribute set to GET will be rejected.</p> 
    <p>This request does not require the "Authorization" HTTP header, authentication is instead performed using the Access Code.</p> 
    <p>The form's action attribute must be set to the URL returned in the <code>FormActionURL</code> of the response returned in Step 1. </p> 
    <aside class="warning">
      Note: When using Transparent Redirect you **must submit the card data in a client side form post.** This form post **must not be handled in a server side call.** If you use a server side call this disrupts our fraud prevention and 3dSecure as well as removing the PCI-DSS compliance benefits of using Transparent Redirect. 
    </aside> 
    <p>The merchant's form will need to contain the following input fields:</p> 
    <blockquote> 
     <p>Example HTML form</p> 
    </blockquote> 
    <pre class="highlight html tab-html"><code><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"POST"</span> <span class="na">action=</span><span class="s">"&lt;&lt;FormActionURL Goes Here&gt;&gt;"</span> <span class="na">id=</span><span class="s">"payment_form"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"EWAY_ACCESSCODE"</span> <span class="na">value=</span><span class="s">"&lt;&lt;AccessCode Goes Here&gt;&gt;"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"EWAY_PAYMENTTYPE"</span> <span class="na">value=</span><span class="s">"Credit Card"</span> <span class="nt">/&gt;</span>
  Card Name: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"EWAY_CARDNAME"</span> <span class="nt">/&gt;</span>
  Card Number: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"EWAY_CARDNUMBER"</span> <span class="nt">/&gt;</span>
  Card Expiry Month: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"EWAY_CARDEXPIRYMONTH"</span> <span class="nt">/&gt;</span>
  Card Expiry Year: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"EWAY_CARDEXPIRYYEAR"</span> <span class="nt">/&gt;</span>
  Card Start Date: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"EWAY_CARDSTARTMONTH"</span> <span class="nt">/&gt;</span>
  Card Start Year: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"EWAY_CARDSTARTYEAR"</span> <span class="nt">/&gt;</span>
  Card Issue Number: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"EWAY_CARDISSUENUMBER"</span> <span class="nt">/&gt;</span>
  Card CVN: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"EWAY_CARDCVN"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"Process"</span> <span class="na">text=</span><span class="s">"Process"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span> 
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>EWAY_ACCESSCODE</td> 
       <td>R</td> 
       <td>The Access Code returned in Step 1. The Access Code is case sensitive.</td> 
      </tr> 
      <tr> 
       <td>EWAY_PAYMENTTYPE</td> 
       <td>O</td> 
       <td>The type of payment you are processing. If this value is not present the payment is assumed to be a credit card payment and all values necessary to perform a credit card transaction are required.<br>One of: <code>Credit Card</code>, <code>PayPal</code>, <code>MasterPass</code>, <code>VisaCheckout</code></td> 
      </tr> 
      <tr> 
       <td>EWAY_CARDNAME</td> 
       <td>C</td> 
       <td>The name of the card holder.<br><em>Not required if PaymentType is not <code>Credit Card</code>.</em></td> 
      </tr> 
      <tr> 
       <td>EWAY_CARDNUMBER</td> 
       <td>C</td> 
       <td>The card number that is to be processed for this transaction.<br><em>Not required if PaymentType is not <code>Credit Card</code>.</em></td> 
      </tr> 
      <tr> 
       <td>EWAY_CARDEXPIRYMONTH</td> 
       <td>C</td> 
       <td>The month that the card expires.<br><em>Not required if PaymentType is not <code>Credit Card</code>.</em></td> 
      </tr> 
      <tr> 
       <td>EWAY_CARDEXPIRYYEAR</td> 
       <td>C</td> 
       <td>The year that the card expires.<br><em>Not required if PaymentType is not <code>Credit Card</code>.</em></td> 
      </tr> 
      <tr> 
       <td>EWAY_CARDSTARTMONTH*</td> 
       <td>O</td> 
       <td>The month that the card is valid from.<br> <em>Not required if PaymentType is not <code>Credit Card</code>.</em></td> 
      </tr> 
      <tr> 
       <td>EWAY_CARDSTARTYEAR*</td> 
       <td>O</td> 
       <td>The year that the card is valid from.<br><em>Not required if PaymentType is not <code>Credit Card</code>.</em></td> 
      </tr> 
      <tr> 
       <td>EWAY_CARDISSUENUMBER*</td> 
       <td>O</td> 
       <td>The card's issue number<br><em>Not required if PaymentType is not <code>Credit Card</code>.</em></td> 
      </tr> 
      <tr> 
       <td>EWAY_CARDCVN</td> 
       <td>C</td> 
       <td>The Card Verification Number.<br><em>Only required when TransactionType is <code>Purchase</code> or not sent.</em></td> 
      </tr> 
      <tr> 
       <td>EWAY_ISREFERENCETRANSACTION</td> 
       <td>O</td> 
       <td>Indicates if this payment should be stored by PayPal for future use as a reference transaction. This field is Boolean.</td> 
      </tr> 
      <tr> 
       <td>EWAY_BILLINGAGREEMENTID</td> 
       <td>O</td> 
       <td>Indicates the billing agreement id to use for this transaction.</td> 
      </tr> 
      <tr> 
       <td>EWAY_NEWSHIPPINGTOTAL</td> 
       <td>O</td> 
       <td>If you have used <a href="#paypal-checkout-payment">PayPal Checkout</a> you may submit a new shipping total based off the customer's PayPal address.</td> 
      </tr> 
      <tr> 
       <td>VISA_CHECKOUT_CALLID†</td> 
       <td>C</td> 
       <td>Used to pass the Visa Checkout Call ID when implementing <a href="#integration-steps-transparent-redirect">Visa Checkout</a></td> 
      </tr> 
      <tr> 
       <td>VISA_CHECKOUT_EVENTTYPE</td> 
       <td>O</td> 
       <td>Used to inform Visa if the Visa Checkout Call ID will be used.<br>One of <code>Capture</code> or <code>Cancel</code> (defaults to <code>Capture</code>)</td> 
      </tr> 
      <tr> 
       <td>VISA_CHECKOUT_RESPONSE</td> 
       <td>O</td> 
       <td>If supplied then should be the response from the Visa Checkout lightbox in JSON format.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field Types: R – Required, O – Optional, C – Conditionally Required</p> 
    <p>*<em>Applies to UK only</em></p> 
    <p>†<em>Required when using Visa Checkout</em></p> 
    <p>Once the customer has entered their card details, the form is submitted directly to eWAY. </p> 
    <p>What happens next depends on the <code>Method</code> selected by the merchant in the initial request. </p> 
    <ul> 
     <li>For <strong>ProcessPayment</strong>, the transaction will be sent to the bank network for authorisation. eWAY will then store the outcome of the transaction. </li> 
     <li>For <strong>TokenPayment</strong>, the transaction is also sent to the bank network for authorisation. eWAY will then store the outcome of the transaction, and link it to the specified Token customer. </li> 
     <li>For <strong>CreateTokenCustomer</strong> and <strong>UpdateTokenCustomer</strong>, eWAY will store the customer's details. </li> 
    </ul> 
    <p>In all cases, the customer's browser will then be redirected to the URL specified in the RedirectURL field of the initial request. </p> 
    <h3 id="ajax-with-jsonp">AJAX with JSONP</h3> 
    <blockquote> 
     <p>Example Script </p> 
    </blockquote> 
    <pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
  <span class="c1">// Add the submit handler</span>
  <span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"payment_form"</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">form</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//Modern browsers</span>
    <span class="nx">form</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"submit"</span><span class="p">,</span> <span class="nx">ewayAjax</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>  
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">form</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//Old IE</span>
    <span class="nx">form</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s1">'onsubmit'</span><span class="p">,</span> <span class="nx">ewayAjax</span><span class="p">);</span>            
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">ewayAjax</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// call eWAY to process the request </span>
    <span class="nx">eWAY</span><span class="p">.</span><span class="nx">process</span><span class="p">(</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"payment_form"</span><span class="p">),</span> 
      <span class="p">{</span> 
        <span class="na">autoRedirect</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> 
        <span class="na">onComplete</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span> 
          <span class="c1">// this is a callback to hook into when the requests completes </span>
          <span class="nx">alert</span><span class="p">(</span><span class="s1">'The JSONP request has completed.'</span><span class="p">);</span> 
          <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">Is3DSecure</span><span class="p">)</span> <span class="p">{</span> 
            <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">RedirectUrl</span><span class="p">);</span> 
          <span class="p">}</span> 
        <span class="p">},</span> 
        <span class="na">onError</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> 
          <span class="c1">// this is a callback you can hook into when an error occurs </span>
          <span class="nx">alert</span><span class="p">(</span><span class="s1">'There was an error processing the request'</span><span class="p">);</span> 
        <span class="p">},</span> 
        <span class="na">onTimeout</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> 
          <span class="c1">// this is a callback you can hook into when the request times out</span>
          <span class="nx">alert</span><span class="p">(</span><span class="s1">'The request has timed out.'</span><span class="p">);</span> 
        <span class="p">}</span> 
      <span class="p">}</span>
    <span class="p">);</span>
    <span class="c1">// Stop the form from submitting</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
  <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre> 
    <p>Transparent Redirect can be incorporated into an AJAX page using the JSONP submission script. To utilise JSONP, load the scripts into the page as follows: </p> 
    <p><code>&lt;script type="text/javascript" src="https://api.ewaypayments.com/JSONP/v3/js"&gt;&lt;/script&gt;</code></p> 
    <p>Then, to use JSONP in the form submission process a call to the method <code>eWAY.process()</code> is required. This should be called when the submit button is pressed, overriding the form's default submission.</p> 
    <p><code>eWAY.process()</code> takes two parameters: </p> 
    <ul> 
     <li>the form that is being submitted</li> 
     <li>an options object that defines the behaviour of the method and the functions to be executed for the available callbacks (see below). </li> 
    </ul> 
    <h4 id="available-options-and-callbacks">Available Options and Callbacks</h4> 
    <p><strong>autoRedirect</strong>: Whether the page should redirect automatically to the returned RedirectUrl once the callback function has completed. The default value for this is true.</p> 
    <p><strong>onComplete</strong>: The callback to run when the request completes successfully. In this callback, a data object is available that has the following properties: <code>RedirectUrl</code>, <code>Is3DSecure</code>, <code>AccessCode</code></p> 
    <p>Note: When Is3Dsecure is set to true, the customer must be redirected to the RedirectUrl or they will not be able to successfully complete the transaction. </p> 
    <p><strong>onError</strong>: The callback to run when an error occurs. </p> 
    <p><strong>onTimeout</strong>: The callback to run when a timeout occurs. The timeout length is 90 seconds. </p> 
    <p>When an error or timeout occurs, the form should not be resubmitted. Instead, the merchant should proceed to step 3 and retrieve the results as a transaction may have occurred. </p> 
    <h3 id="step-3-request-the-results">Step 3: Request the Results</h3> 
    <p>Once the customer has been redirected to the final page, request the results from eWAY by calling the GetAccessCodeResult method of the Rapid API web service. </p> 
    <p>The final page will have the Access Code for the transaction appended RedirectUrl as the query string (as <code>?AccessCode=</code>).</p> 
    <aside class="notice">
      An Access Code can only be queried for one week after it has been created. After that [Transaction Query](#transaction-query) can be used to fetch the results. 
    </aside> 
    <h4 id="live-endpoints-2">Live endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.ewaypayments.com/AccessCode/{AccessCode}</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.ewaypayments.com/GetAccessCodeResult.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.ewaypayments.com/GetAccessCodeResult.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="sandbox-endpoints-2">Sandbox endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.sandbox.ewaypayments.com/AccessCode/{AccessCode}</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/GetAccessCodeResult.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/GetAccessCodeResult.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <blockquote> 
     <p>Example request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/AccessCode/A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;GetAccessCodeResult</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;request&gt;</span>
            <span class="nt">&lt;AccessCode&gt;</span>A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto<span class="nt">&lt;/AccessCode&gt;</span>
         <span class="nt">&lt;/request&gt;</span>
      <span class="nt">&lt;/GetAccessCodeResult&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">queryTransaction</span><span class="p">(</span><span class="s1">'A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto'</span><span class="p">);</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">QueryTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">queryTransaction</span><span class="o">(</span><span class="s">"A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto"</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">QueryTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">QueryTransaction</span><span class="p">(</span><span class="s">"A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto"</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">queryTransaction</span><span class="p">(</span><span class="s2">"A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">query_transaction_by_access_code</span><span class="p">(</span><span class="s1">'A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto'</span><span class="p">)</span>
</code></pre>
    <h3 id="request-field-descriptions">Request Field Descriptions</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td><strong>AccessCode</strong></td> 
       <td>R</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The Access Code</td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field Types: R – Required</em></p> 
    <p>If a transaction has been processed, the response received from eWAY will contain all relevant details such as the bank authorisation code and a unique number that identifies the transaction in eWAY's database (<code>TransactionID</code>). </p> 
    <p>If a Token customer was involved, the ID that eWAY uses to identify that customer will also be returned. </p> 
    <p>All responses will contain a response code and response message that represents the result of the action performed. </p> 
    <p>If applicable, the response will also contain information about the payment that has been processed, as well as the results of any Beagle risk analysis that was performed.</p> 
    <blockquote> 
     <p>Example response </p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"AccessCode"</span>: <span class="s2">"A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto"</span>,
  <span class="s2">"AuthorisationCode"</span>: <span class="s2">"849311"</span>,
  <span class="s2">"ResponseCode"</span>: <span class="s2">"00"</span>,
  <span class="s2">"ResponseMessage"</span>: <span class="s2">"A2000"</span>,
  <span class="s2">"InvoiceNumber"</span>: <span class="s2">"Inv 21540"</span>,
  <span class="s2">"InvoiceReference"</span>: <span class="s2">"513456"</span>,
  <span class="s2">"TotalAmount"</span>: 1000,
  <span class="s2">"TransactionID"</span>: 11237905,
  <span class="s2">"TransactionStatus"</span>: <span class="nb">true</span>,
  <span class="s2">"TokenCustomerID"</span>: null,
  <span class="s2">"BeagleScore"</span>: 0,
  <span class="s2">"Options"</span>: <span class="o">[{</span>
    <span class="s2">"Value"</span>: <span class="s2">"Option1"</span>
  <span class="o">}</span>, <span class="o">{</span>
    <span class="s2">"Value"</span>: <span class="s2">"Option2"</span>
  <span class="o">}]</span>,
  <span class="s2">"Verification"</span>: <span class="o">{</span>
    <span class="s2">"CVN"</span>: 0,
    <span class="s2">"Address"</span>: 0,
    <span class="s2">"Email"</span>: 0,
    <span class="s2">"Mobile"</span>: 0,
    <span class="s2">"Phone"</span>: 0
  <span class="o">}</span>,
  <span class="s2">"BeagleVerification"</span>: <span class="o">{</span>
    <span class="s2">"Email"</span>: 0,
    <span class="s2">"Phone"</span>: 0
  <span class="o">}</span>,
  <span class="s2">"Errors"</span>: null
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;GetAccessCodeResultResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;GetAccessCodeResultResult&gt;</span>
            <span class="nt">&lt;AccessCode&gt;</span>A10012yIV2-MEEfkk7b7oYZqtulwNHv2dAFLv7T2guZEpjwBMHJoU-KxQihXVV10unFYbOUJ9Ob58oALLxn88_rzWDJhyq1-qW_hZ-xYjS3kdsCSNLtFHVESfDRVPWZqisLto<span class="nt">&lt;/AccessCode&gt;</span>
            <span class="nt">&lt;AuthorisationCode&gt;</span>849311<span class="nt">&lt;/AuthorisationCode&gt;</span>
            <span class="nt">&lt;ResponseCode&gt;</span>00<span class="nt">&lt;/ResponseCode&gt;</span>
            <span class="nt">&lt;ResponseMessage&gt;</span>A2000<span class="nt">&lt;/ResponseMessage&gt;</span>
            <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
            <span class="nt">&lt;InvoiceReference&gt;</span>513456<span class="nt">&lt;/InvoiceReference&gt;</span>
            <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
            <span class="nt">&lt;TransactionID&gt;</span>11237905<span class="nt">&lt;/TransactionID&gt;</span>
            <span class="nt">&lt;TransactionStatus&gt;</span>true<span class="nt">&lt;/TransactionStatus&gt;</span>
            <span class="nt">&lt;TokenCustomerID</span> <span class="na">xsi:nil=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;BeagleScore&gt;</span>0<span class="nt">&lt;/BeagleScore&gt;</span>
            <span class="nt">&lt;Options&gt;</span>
               <span class="nt">&lt;Option&gt;</span>
                  <span class="nt">&lt;Value&gt;</span>Option1<span class="nt">&lt;/Value&gt;</span>
               <span class="nt">&lt;/Option&gt;</span>
               <span class="nt">&lt;Option&gt;</span>
                  <span class="nt">&lt;Value&gt;</span>Option2<span class="nt">&lt;/Value&gt;</span>
               <span class="nt">&lt;/Option&gt;</span>
            <span class="nt">&lt;/Options&gt;</span>
            <span class="nt">&lt;Verification&gt;</span>
               <span class="nt">&lt;CVN&gt;</span>Unchecked<span class="nt">&lt;/CVN&gt;</span>
               <span class="nt">&lt;Address&gt;</span>Unchecked<span class="nt">&lt;/Address&gt;</span>
               <span class="nt">&lt;Email&gt;</span>Unchecked<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Mobile&gt;</span>Unchecked<span class="nt">&lt;/Mobile&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>Unchecked<span class="nt">&lt;/Phone&gt;</span>
            <span class="nt">&lt;/Verification&gt;</span>
            <span class="nt">&lt;BeagleVerification&gt;</span>
               <span class="nt">&lt;Email&gt;</span>NotVerified<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>NotVerified<span class="nt">&lt;/Phone&gt;</span>
            <span class="nt">&lt;/BeagleVerification&gt;</span>
         <span class="nt">&lt;/GetAccessCodeResultResult&gt;</span>
      <span class="nt">&lt;/GetAccessCodeResultResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available properties </span>
<span class="nv">$transactionResponse</span> <span class="o">=</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">Transactions</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$transactionResponse</span><span class="o">-&gt;</span><span class="na">TransactionStatus</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Payment successful! ID: '</span><span class="o">.</span><span class="nv">$transactionResponse</span><span class="o">-&gt;</span><span class="na">TransactionID</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nv">$errors</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">,</span> <span class="nv">$transactionResponse</span><span class="o">-&gt;</span><span class="na">ResponseMessage</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$errors</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Payment failed: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nv">$error</span><span class="p">)</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">isStatus</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Payment successful! ID: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getTransactionID</span><span class="o">());</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="n">String</span><span class="o">[]</span> <span class="n">errorcodes</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getProcessingDetails</span><span class="o">().</span><span class="na">getResponseMessage</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s">","</span><span class="o">);</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">errorcodes</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Response Messages: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">.</span><span class="na">trim</span><span class="o">(),</span> <span class="s">"en"</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="k">if</span> <span class="p">((</span><span class="kt">bool</span><span class="p">)</span><span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">Status</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Payment successful! ID: "</span> <span class="p">+</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">TransactionID</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="kt">string</span><span class="p">[]</span> <span class="n">errorCodes</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">ProcessingDetails</span><span class="p">.</span><span class="nf">getResponseMessages</span><span class="p">();</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">errorCodes</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Response Message: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].TransactionStatus'</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Payment successful! ID: '</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].TransactionID'</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">errorCodes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].ResponseMessage'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">);</span>
        <span class="nx">errorCodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Message: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>

</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">status?</span>
  <span class="nb">puts</span> <span class="s2">"Payment successful! ID: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">transaction_id</span><span class="p">.</span><span class="nf">to_s</span><span class="si">}</span><span class="s2">"</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"Failed! Message </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">processing_details</span><span class="p">.</span><span class="nf">response_message</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>

</code></pre>
    <h3 id="response-field-descriptions-2">Response field Descriptions</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AccessCode</td> 
       <td>512</td> 
       <td>string</td> 
       <td>An echo of the access code used in the request</td> 
      </tr> 
      <tr> 
       <td>AuthorisationCode</td> 
       <td>6</td> 
       <td>string</td> 
       <td>The authorisation code for this transaction as returned by the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseCode</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The two digit response code returned from the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseMessage</td> 
       <td>512</td> 
       <td>string</td> 
       <td>One or more <a href="#response-amp-error-codes">Response Codes</a> that describes the result of the action performed.<br>If a Beagle Alert is triggered, this may contain multiple codes: <br>e.g. <code>D4405, F7003</code></td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the merchant's invoice number for this transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the merchant's reference number for this transaction</td> 
      </tr> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount that was authorised for this transaction</td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>8</td> 
       <td>int</td> 
       <td>A unique identifier that represents the transaction in eWAY's system</td> 
      </tr> 
      <tr> 
       <td>TransactionStatus</td> 
       <td>16</td> 
       <td>boolean</td> 
       <td>A Boolean value that indicates whether the transaction was successful or not</td> 
      </tr> 
      <tr> 
       <td>TokenCustomerID‡</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY-issued ID that represents the Token customer that was loaded or created for this transaction (if applicable)</td> 
      </tr> 
      <tr> 
       <td>BeagleScore**</td> 
       <td>6</td> 
       <td>string</td> 
       <td>Fraud score representing the estimated probability that the order is fraud. A value between 0.01 to 100.00 representing the % risk the transaction is fraudulent. On Sandbox the score will be -1 unless it is configured to fail for Risk Score, in which case the value will be 101.</td> 
      </tr> 
      <tr> 
       <td>Errors</td> 
       <td>512</td> 
       <td>string</td> 
       <td>A comma separated list of any error encountered, these can be looked up in the <a href="#response-amp-error-codes">Response Codes</a> section.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>** <em>This field is only present if the transaction was processed using Beagle Free</em> </p> 
    <p>‡ <em>This field is only present if processing a Token transaction, creating or updating a Token customer</em> </p> 
    <h3 id="options-2">Options</h3> 
    <p>The Options collection passed in the original request will be echoed back in the response here. </p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Value</td> 
       <td>255</td> 
       <td>string</td> 
       <td>An echo of the option submitted for this transaction</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="verification">Verification</h3> 
    <p>These fields are currently unused</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CVN</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Address</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="beagle-verification">Beagle Verification</h3> 
    <p>This will contain the results of the Beagle Verification identification checks that may have been performed. These will be returned are only active with the <a href="#responsive-shared-page">Responsive Shared Page</a>.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Email</td> 
       <td>11</td> 
       <td>string</td> 
       <td>The result of the email verification</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>11</td> 
       <td>string</td> 
       <td>The result of the phone verification</td> 
      </tr> 
     </tbody>
    </table> 
    <h2 id="direct-connection">Direct Connection</h2> 
    <p>The Direct Connection API allows for purchases to be submitted directly to eWAY from your server. This allows processing of transactions in one, simple server side call.</p> 
    <p>Since card data is passed via the server, one of the following must be used to ensure compliance with card data regulations:</p> 
    <ul> 
     <li>Provide proof to eWAY of PCI-DSS compliance of the merchant's environment</li> 
     <li>Use <a href="#client-side-encryption">Client Side Encryption</a> to encrypt the card data on the customer's browser</li> 
     <li>Use <a href="#secure-fields">Secure Fields</a> to collect the card data, then use <code>SecuredCardData</code> to complete the transaction</li> 
    </ul> 
    <p>Transactions not involving credit card data (such as a recurring token payment) may be processed without proof of compliance. In the eWAY Sandbox, PCI compliance can be enabled via the Sandbox Settings.</p> 
    <aside class="notice">
      Please note that Direct Connection is not compatible with 3D Secure - to use this feature please use [Transparent Redirect](#transparent-redirect) or the [Responsive Shared Page](#responsive-shared-page). 
    </aside> 
    <h3 id="live-endpoints">Live endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.ewaypayments.com/Transaction</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.ewaypayments.com/DirectPayment.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.ewaypayments.com/DirectPayment.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="sandbox-endpoints">Sandbox endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.sandbox.ewaypayments.com/Transaction</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/DirectPayment.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/DirectPayment.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="request-field-descriptions">Request field descriptions</h3> 
    <blockquote> 
     <p>Basic Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Customer": { "CardDetails": { "Name": "John Smith", "Number": "4444333322221111", "ExpiryMonth": "12", "ExpiryYear": "25", "CVN": "123" } }, "Payment": { "TotalAmount": 1000 }, "Method": "ProcessPayment", "TransactionType": "Purchase" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DirectPayment</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Customer&gt;</span>
                    <span class="nt">&lt;CardDetails&gt;</span>
                        <span class="nt">&lt;Number&gt;</span>4444333322221111<span class="nt">&lt;/Number&gt;</span>
                        <span class="nt">&lt;Name&gt;</span>John Smith<span class="nt">&lt;/Name&gt;</span>
                        <span class="nt">&lt;ExpiryMonth&gt;</span>12<span class="nt">&lt;/ExpiryMonth&gt;</span>
                        <span class="nt">&lt;ExpiryYear&gt;</span>25<span class="nt">&lt;/ExpiryYear&gt;</span>
                        <span class="nt">&lt;CVN&gt;</span>123<span class="nt">&lt;/CVN&gt;</span>
                    <span class="nt">&lt;/CardDetails&gt;</span>
                <span class="nt">&lt;/Customer&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/DirectPayment&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Customer'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'CardDetails'</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">'Name'</span> <span class="o">=&gt;</span> <span class="s1">'John Smith'</span><span class="p">,</span>
            <span class="s1">'Number'</span> <span class="o">=&gt;</span> <span class="s1">'4444333322221111'</span><span class="p">,</span>
            <span class="s1">'ExpiryMonth'</span> <span class="o">=&gt;</span> <span class="s1">'12'</span><span class="p">,</span>
            <span class="s1">'ExpiryYear'</span> <span class="o">=&gt;</span> <span class="s1">'25'</span><span class="p">,</span>
            <span class="s1">'CVN'</span> <span class="o">=&gt;</span> <span class="s1">'123'</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">PURCHASE</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">DIRECT</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>
<span class="n">Customer</span> <span class="n">customer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Customer</span><span class="o">();</span>

<span class="n">CardDetails</span> <span class="n">cardDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CardDetails</span><span class="o">();</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"John Smith"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setNumber</span><span class="o">(</span><span class="s">"4444333322221111"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setExpiryMonth</span><span class="o">(</span><span class="s">"12"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setExpiryYear</span><span class="o">(</span><span class="s">"25"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setCVN</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCardDetails</span><span class="o">(</span><span class="n">cardDetails</span><span class="o">);</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setCustomer</span><span class="o">(</span><span class="n">customer</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Purchase</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">Direct</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Customer</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">CardDetails</span>  <span class="p">=</span> <span class="k">new</span> <span class="nf">CardDetails</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"John Smith"</span><span class="p">,</span>
            <span class="n">Number</span> <span class="p">=</span> <span class="s">"4444333322221111"</span><span class="p">,</span>
            <span class="n">ExpiryMonth</span> <span class="p">=</span> <span class="s">"11"</span><span class="p">,</span>
            <span class="n">ExpiryYear</span> <span class="p">=</span> <span class="s">"25"</span><span class="p">,</span>
            <span class="n">CVN</span> <span class="p">=</span> <span class="s">"123"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span>
    <span class="p">},</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Purchase</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">Direct</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">DIRECT</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Customer"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"CardDetails"</span><span class="p">:</span> <span class="p">{</span>
         <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"John Smith"</span><span class="p">,</span>
         <span class="s2">"Number"</span><span class="p">:</span> <span class="s2">"4444333322221111"</span><span class="p">,</span>
         <span class="s2">"ExpiryMonth"</span><span class="p">:</span> <span class="s2">"12"</span><span class="p">,</span>
         <span class="s2">"ExpiryYear"</span><span class="p">:</span> <span class="s2">"25"</span><span class="p">,</span>
         <span class="s2">"CVN"</span><span class="p">:</span> <span class="s2">"123"</span>
       <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">1000</span>
    <span class="p">},</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Purchase"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">customer</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Customer</span><span class="p">.</span><span class="nf">new</span>
<span class="n">card_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">CardDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s1">'John Smith'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">number</span> <span class="o">=</span> <span class="s1">'4444333322221111'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">expiry_month</span> <span class="o">=</span> <span class="s1">'05'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">expiry_year</span> <span class="o">=</span> <span class="s1">'25'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">cvn</span> <span class="o">=</span> <span class="s1">'123'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">customer</span><span class="p">.</span><span class="nf">card_details</span> <span class="o">=</span> <span class="n">card_details</span>

<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">PURCHASE</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">DIRECT</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>

</code></pre> 
    <blockquote> 
     <p>Complete Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Customer": { "Reference": "A12345", "Title": "Mr.", "FirstName": "John", "LastName": "Smith", "CompanyName": "Demo Shop 123", "JobDescription": "Developer", "Street1": "Level 5", "Street2": "369 Queen Street", "City": "Sydney", "State": "NSW", "PostalCode": "2000", "Country": "au", "Phone": "09 889 0986", "Mobile": "09 889 6542", "Email": "demo@example.org", "Url": "http://www.ewaypayments.com", "CardDetails": { "Name": "John Smith", "Number": "4444333322221111", "ExpiryMonth": "12", "ExpiryYear": "25", "StartMonth" : "01", "StartYear" : "13", "IssueNumber": "01", "CVN": "123" } }, "ShippingAddress": { "ShippingMethod": "NextDay", "FirstName": "John", "LastName": "Smith", "Street1": "Level 5", "Street2": "369 Queen Street", "City": "Sydney", "State": "NSW", "Country": "au", "PostalCode": "2000", "Phone": "09 889 0986" }, "Items": [ { "SKU": "12345678901234567890", "Description": "Item Description 1", "Quantity": 1, "UnitCost": 400, "Tax": 100, "Total": 500 }, { "SKU": "123456789012", "Description": "Item Description 2", "Quantity": 1, "UnitCost": 400, "Tax": 100, "Total": 500 } ], "Options": [ { "Value": "Option1" }, { "Value": "Option2" } ], "Payment": { "TotalAmount": 1000, "InvoiceNumber": "Inv 21540", "InvoiceDescription": "Individual Invoice Description", "InvoiceReference": "513456", "CurrencyCode": "AUD" }, "Method": "ProcessPayment", "DeviceID": "D1234", "CustomerIP": "127.0.0.1", "PartnerID": "ID", "TransactionType": "Purchase" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DirectPayment</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Customer&gt;</span>
                    <span class="nt">&lt;Reference&gt;</span>A12345<span class="nt">&lt;/Reference&gt;</span>
                    <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;CompanyName&gt;</span>Demo Shop 123<span class="nt">&lt;/CompanyName&gt;</span>
                    <span class="nt">&lt;JobDescription&gt;</span>Developer<span class="nt">&lt;/JobDescription&gt;</span>
                    <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                    <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                    <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                    <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                    <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
                    <span class="nt">&lt;Mobile&gt;</span>0289712345<span class="nt">&lt;/Mobile&gt;</span>
                    <span class="nt">&lt;Comments&gt;</span>Customer comments<span class="nt">&lt;/Comments&gt;</span>
                    <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
                    <span class="nt">&lt;Url&gt;</span>http://www.ewaypayments.com<span class="nt">&lt;/Url&gt;</span>
                    <span class="nt">&lt;CardDetails&gt;</span>
                        <span class="nt">&lt;Number&gt;</span>4444333322221111<span class="nt">&lt;/Number&gt;</span>
                        <span class="nt">&lt;Name&gt;</span>John Smith<span class="nt">&lt;/Name&gt;</span>
                        <span class="nt">&lt;ExpiryMonth&gt;</span>12<span class="nt">&lt;/ExpiryMonth&gt;</span>
                        <span class="nt">&lt;ExpiryYear&gt;</span>25<span class="nt">&lt;/ExpiryYear&gt;</span>
                        <span class="nt">&lt;CVN&gt;</span>123<span class="nt">&lt;/CVN&gt;</span>
                    <span class="nt">&lt;/CardDetails&gt;</span>
                <span class="nt">&lt;/Customer&gt;</span>
                <span class="nt">&lt;ShippingAddress&gt;</span>
                    <span class="nt">&lt;ShippingMethod&gt;</span>NextDay<span class="nt">&lt;/ShippingMethod&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                    <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                    <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                    <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                    <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
                    <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
                <span class="nt">&lt;/ShippingAddress&gt;</span>
                <span class="nt">&lt;Items&gt;</span>
                    <span class="nt">&lt;LineItem&gt;</span>
                        <span class="nt">&lt;SKU&gt;</span>12345678901234567890<span class="nt">&lt;/SKU&gt;</span>
                        <span class="nt">&lt;Description&gt;</span>Item Description 1<span class="nt">&lt;/Description&gt;</span>
                        <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
                        <span class="nt">&lt;UnitCost&gt;</span>400<span class="nt">&lt;/UnitCost&gt;</span>
                        <span class="nt">&lt;Tax&gt;</span>100<span class="nt">&lt;/Tax&gt;</span>
                        <span class="nt">&lt;Total&gt;</span>500<span class="nt">&lt;/Total&gt;</span>
                    <span class="nt">&lt;/LineItem&gt;</span>
                    <span class="nt">&lt;LineItem&gt;</span>
                        <span class="nt">&lt;SKU&gt;</span>123456789012<span class="nt">&lt;/SKU&gt;</span>
                        <span class="nt">&lt;Description&gt;</span>Item Description 2<span class="nt">&lt;/Description&gt;</span>
                        <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
                        <span class="nt">&lt;UnitCost&gt;</span>400<span class="nt">&lt;/UnitCost&gt;</span>
                        <span class="nt">&lt;Tax&gt;</span>100<span class="nt">&lt;/Tax&gt;</span>
                        <span class="nt">&lt;Total&gt;</span>500<span class="nt">&lt;/Total&gt;</span>
                    <span class="nt">&lt;/LineItem&gt;</span>
                <span class="nt">&lt;/Items&gt;</span>
                <span class="nt">&lt;Options&gt;</span>
                    <span class="nt">&lt;Option&gt;</span>
                        <span class="nt">&lt;Value&gt;</span>Option1<span class="nt">&lt;/Value&gt;</span>
                    <span class="nt">&lt;/Option&gt;</span>
                    <span class="nt">&lt;Option&gt;</span>
                        <span class="nt">&lt;Value&gt;</span>Option2<span class="nt">&lt;/Value&gt;</span>
                    <span class="nt">&lt;/Option&gt;</span>
                <span class="nt">&lt;/Options&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                    <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
                    <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
                    <span class="nt">&lt;InvoiceReference&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceReference&gt;</span>
                    <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;CustomerIP&gt;</span>127.0.0.1<span class="nt">&lt;/CustomerIP&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
                <span class="nt">&lt;DeviceID&gt;</span>D1234<span class="nt">&lt;/DeviceID&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/DirectPayment&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Customer'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'Reference'</span> <span class="o">=&gt;</span> <span class="s1">'A12345'</span><span class="p">,</span>
        <span class="s1">'Title'</span> <span class="o">=&gt;</span> <span class="s1">'Mr.'</span><span class="p">,</span>
        <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
        <span class="s1">'CompanyName'</span> <span class="o">=&gt;</span> <span class="s1">'Demo Shop 123'</span><span class="p">,</span>
        <span class="s1">'JobDescription'</span> <span class="o">=&gt;</span> <span class="s1">'Developer'</span><span class="p">,</span>
        <span class="s1">'Street1'</span> <span class="o">=&gt;</span> <span class="s1">'Level 5'</span><span class="p">,</span>
        <span class="s1">'Street2'</span> <span class="o">=&gt;</span> <span class="s1">'369 Queen Street'</span><span class="p">,</span>
        <span class="s1">'City'</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span><span class="p">,</span>
        <span class="s1">'State'</span> <span class="o">=&gt;</span> <span class="s1">'NSW'</span><span class="p">,</span>
        <span class="s1">'PostalCode'</span> <span class="o">=&gt;</span> <span class="s1">'2000'</span><span class="p">,</span>
        <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
        <span class="s1">'Phone'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 0986'</span><span class="p">,</span>
        <span class="s1">'Mobile'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 6542'</span><span class="p">,</span>
        <span class="s1">'Email'</span> <span class="o">=&gt;</span> <span class="s1">'demo@example.org'</span><span class="p">,</span>
        <span class="s2">"Url"</span> <span class="o">=&gt;</span> <span class="s2">"http://www.ewaypayments.com"</span><span class="p">,</span>
        <span class="s1">'CardDetails'</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">'Name'</span> <span class="o">=&gt;</span> <span class="s1">'John Smith'</span><span class="p">,</span>
            <span class="s1">'Number'</span> <span class="o">=&gt;</span> <span class="s1">'4444333322221111'</span><span class="p">,</span>
            <span class="s1">'ExpiryMonth'</span> <span class="o">=&gt;</span> <span class="s1">'12'</span><span class="p">,</span>
            <span class="s1">'ExpiryYear'</span> <span class="o">=&gt;</span> <span class="s1">'25'</span><span class="p">,</span>
            <span class="s1">'CVN'</span> <span class="o">=&gt;</span> <span class="s1">'123'</span><span class="p">,</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="s1">'ShippingAddress'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'ShippingMethod'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\ShippingMethod</span><span class="o">::</span><span class="na">NEXT_DAY</span><span class="p">,</span>
        <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
        <span class="s1">'Street1'</span> <span class="o">=&gt;</span> <span class="s1">'Level 5'</span><span class="p">,</span>
        <span class="s1">'Street2'</span> <span class="o">=&gt;</span> <span class="s1">'369 Queen Street'</span><span class="p">,</span>
        <span class="s1">'City'</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span><span class="p">,</span>
        <span class="s1">'State'</span> <span class="o">=&gt;</span> <span class="s1">'NSW'</span><span class="p">,</span>
        <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
        <span class="s1">'PostalCode'</span> <span class="o">=&gt;</span> <span class="s1">'2000'</span><span class="p">,</span>
        <span class="s1">'Phone'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 0986'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'Items'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'SKU'</span> <span class="o">=&gt;</span> <span class="s1">'12345678901234567890'</span><span class="p">,</span>
            <span class="s1">'Description'</span> <span class="o">=&gt;</span> <span class="s1">'Item Description 1'</span><span class="p">,</span>
            <span class="s1">'Quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">'UnitCost'</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">'Tax'</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
            <span class="c1">// Total is calculated automatically </span>        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'SKU'</span> <span class="o">=&gt;</span> <span class="s1">'123456789012'</span><span class="p">,</span>
            <span class="s1">'Description'</span> <span class="o">=&gt;</span> <span class="s1">'Item Description 2'</span><span class="p">,</span>
            <span class="s1">'Quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">'UnitCost'</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">'Tax'</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">'Options'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'Value'</span> <span class="o">=&gt;</span> <span class="s1">'Option1'</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'Value'</span> <span class="o">=&gt;</span> <span class="s1">'Option2'</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s1">'InvoiceNumber'</span> <span class="o">=&gt;</span> <span class="s1">'Inv 21540'</span><span class="p">,</span>
        <span class="s1">'InvoiceDescription'</span> <span class="o">=&gt;</span> <span class="s1">'Individual Invoice Description'</span><span class="p">,</span>
        <span class="s1">'InvoiceReference'</span> <span class="o">=&gt;</span> <span class="s1">'513456'</span><span class="p">,</span>
        <span class="s1">'CurrencyCode'</span> <span class="o">=&gt;</span> <span class="s1">'AUD'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'DeviceID'</span> <span class="o">=&gt;</span> <span class="s1">'D1234'</span><span class="p">,</span>
    <span class="s1">'CustomerIP'</span> <span class="o">=&gt;</span> <span class="s1">'127.0.0.1'</span><span class="p">,</span>
    <span class="s1">'PartnerID'</span> <span class="o">=&gt;</span> <span class="s1">'ID'</span><span class="p">,</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">PURCHASE</span><span class="p">,</span>
    <span class="s1">'Capture'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">DIRECT</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Customer</span><span class="o">();</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setReference</span><span class="o">(</span><span class="s">"A12345"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Mr."</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCompanyName</span><span class="o">(</span><span class="s">"eWay"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setJobDescription</span><span class="o">(</span><span class="s">"Java Developer"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"09 889 0986"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setMobile</span><span class="o">(</span><span class="s">"09 889 6542"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setUrl</span><span class="o">(</span><span class="s">"http://ewaypayments.com"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCustomerDeviceIP</span><span class="o">(</span><span class="s">"127.0.0.1"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"demo@example.org"</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address</span><span class="o">.</span><span class="na">setStreet1</span><span class="o">(</span><span class="s">"Level 5"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setStreet2</span><span class="o">(</span><span class="s">"369 Queen Street"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Sydney"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"NSW"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"2000"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="n">address</span><span class="o">);</span>

<span class="n">CardDetails</span> <span class="n">cardDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CardDetails</span><span class="o">();</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"John Smith"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setNumber</span><span class="o">(</span><span class="s">"4444333322221111"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setExpiryMonth</span><span class="o">(</span><span class="s">"12"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setExpiryYear</span><span class="o">(</span><span class="s">"25"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setStartMonth</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setStartYear</span><span class="o">(</span><span class="s">"13"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setIssueNumber</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setCVN</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCardDetails</span><span class="o">(</span><span class="n">cardDetails</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCustomer</span><span class="o">(</span><span class="n">customer</span><span class="o">);</span>

<span class="n">ShippingDetails</span> <span class="n">shippingDetail</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ShippingDetails</span><span class="o">();</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"09 889 0986"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setShippingMethod</span><span class="o">(</span><span class="n">ShippingMethod</span><span class="o">.</span><span class="na">LowCost</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">shipAddress</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setStreet1</span><span class="o">(</span><span class="s">"Level 5"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setStreet2</span><span class="o">(</span><span class="s">"369 Queen Street"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Sydney"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"NSW"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"2000"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setShippingAddress</span><span class="o">(</span><span class="n">shipAddress</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setShippingDetails</span><span class="o">(</span><span class="n">shippingDetail</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">LineItem</span><span class="o">&gt;</span> <span class="n">items</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">LineItem</span> <span class="n">item1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LineItem</span><span class="o">();</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setSku</span><span class="o">(</span><span class="s">"12345678901234567890"</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Item Description 1"</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setUnitCost</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
<span class="n">items</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item1</span><span class="o">);</span>

<span class="n">LineItem</span> <span class="n">item2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LineItem</span><span class="o">();</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setSku</span><span class="o">(</span><span class="s">"123456789012"</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Item Description 2"</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setUnitCost</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
<span class="n">items</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item2</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setLineItems</span><span class="o">(</span><span class="n">items</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">options</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Option1"</span><span class="o">);</span>
<span class="n">options</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Option2"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setOptions</span><span class="o">(</span><span class="n">options</span><span class="o">);</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setCurrencyCode</span><span class="o">(</span><span class="s">"AUD"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceDescription</span><span class="o">(</span><span class="s">"Individual Invoice Description"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceNumber</span><span class="o">(</span><span class="s">"Inv 21540"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceReference</span><span class="o">(</span><span class="s">"513456"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setPartnerID</span><span class="o">(</span><span class="s">"ID"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCapture</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setDeviceID</span><span class="o">(</span><span class="s">"D1234"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Purchase</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">Direct</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Customer</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Reference</span> <span class="p">=</span> <span class="s">"A12345"</span><span class="p">,</span>
        <span class="n">Title</span> <span class="p">=</span> <span class="s">"Mr."</span><span class="p">,</span>
        <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
        <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
        <span class="n">CompanyName</span> <span class="p">=</span> <span class="s">"Demo Shop 123"</span><span class="p">,</span>
        <span class="n">JobDescription</span> <span class="p">=</span> <span class="s">"C# Developer"</span><span class="p">,</span>
        <span class="n">Phone</span> <span class="p">=</span> <span class="s">"09 889 0986"</span><span class="p">,</span>
        <span class="n">Mobile</span> <span class="p">=</span> <span class="s">"09 889 6542"</span><span class="p">,</span>
        <span class="n">Url</span> <span class="p">=</span> <span class="s">"http://www.ewaypayments.com"</span><span class="p">,</span>
        <span class="n">Address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Street1</span> <span class="p">=</span> <span class="s">"Level 5"</span><span class="p">,</span>
            <span class="n">Street2</span> <span class="p">=</span> <span class="s">"369 Queen Street"</span><span class="p">,</span>
            <span class="n">City</span> <span class="p">=</span> <span class="s">"Sydney"</span><span class="p">,</span>
            <span class="n">State</span> <span class="p">=</span> <span class="s">"NSW"</span><span class="p">,</span>
            <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span><span class="p">,</span>
            <span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"2000"</span><span class="p">,</span>

        <span class="p">},</span>
        <span class="n">CardDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CardDetails</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Name</span> <span class="p">=</span> <span class="s">"John Smith"</span><span class="p">,</span>
            <span class="n">Number</span> <span class="p">=</span> <span class="s">"4444333322221111"</span><span class="p">,</span>
            <span class="n">ExpiryMonth</span> <span class="p">=</span> <span class="s">"11"</span><span class="p">,</span>
            <span class="n">ExpiryYear</span> <span class="p">=</span> <span class="s">"25"</span><span class="p">,</span>
            <span class="n">StartMonth</span> <span class="p">=</span> <span class="s">"01"</span><span class="p">,</span>
            <span class="n">StartYear</span> <span class="p">=</span> <span class="s">"13"</span><span class="p">,</span>
            <span class="n">IssueNumber</span> <span class="p">=</span> <span class="s">"01"</span><span class="p">,</span>
            <span class="n">CVN</span> <span class="p">=</span> <span class="s">"123"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">ShippingDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShippingDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
        <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
        <span class="n">Phone</span> <span class="p">=</span> <span class="s">"09 889 0986"</span><span class="p">,</span>
        <span class="n">ShippingAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Street1</span> <span class="p">=</span> <span class="s">"Level 5"</span><span class="p">,</span>
            <span class="n">Street2</span> <span class="p">=</span> <span class="s">"369 Queen Street"</span><span class="p">,</span>
            <span class="n">City</span> <span class="p">=</span> <span class="s">"Sydney"</span><span class="p">,</span>
            <span class="n">State</span> <span class="p">=</span> <span class="s">"NSW"</span><span class="p">,</span>
            <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span><span class="p">,</span>
            <span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"2000"</span>
        <span class="p">},</span>
        <span class="n">ShippingMethod</span> <span class="p">=</span> <span class="n">ShippingMethod</span><span class="p">.</span><span class="n">NextDay</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">LineItems</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> 
    <span class="p">{</span> 
        <span class="k">new</span> <span class="nf">LineItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">SKU</span> <span class="p">=</span> <span class="s">"12345678901234567890"</span><span class="p">,</span> 
            <span class="n">Description</span> <span class="p">=</span> <span class="s">"Item Description 1"</span><span class="p">,</span>
            <span class="n">Quantity</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">UnitCost</span> <span class="p">=</span> <span class="m">400</span>
        <span class="p">},</span>
        <span class="k">new</span> <span class="nf">LineItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">SKU</span> <span class="p">=</span> <span class="s">"123456789012"</span><span class="p">,</span> 
            <span class="n">Description</span> <span class="p">=</span> <span class="s">"Item Description 2"</span><span class="p">,</span>
            <span class="n">Quantity</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">UnitCost</span> <span class="p">=</span> <span class="m">400</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}.</span><span class="nf">ToList</span><span class="p">(),</span>
    <span class="n">Options</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> 
    <span class="p">{</span> 
        <span class="s">"Option1"</span><span class="p">,</span> 
        <span class="s">"Option2"</span> 
    <span class="p">}.</span><span class="nf">ToList</span><span class="p">(),</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span><span class="p">,</span>
        <span class="n">InvoiceNumber</span> <span class="p">=</span> <span class="s">"Inv 21540"</span><span class="p">,</span>
        <span class="n">InvoiceDescription</span> <span class="p">=</span> <span class="s">"Individual Invoice Description"</span><span class="p">,</span>
        <span class="n">InvoiceReference</span> <span class="p">=</span> <span class="s">"513456"</span><span class="p">,</span>
        <span class="n">CurrencyCode</span> <span class="p">=</span> <span class="s">"AUD"</span>
    <span class="p">},</span>
    <span class="n">DeviceID</span> <span class="p">=</span> <span class="s">"D1234"</span><span class="p">,</span>
    <span class="n">PartnerID</span> <span class="p">=</span> <span class="s">"ID"</span><span class="p">,</span>
    <span class="n">CustomerIP</span> <span class="p">=</span> <span class="s">"127.0.0.1"</span><span class="p">,</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Purchase</span><span class="p">,</span>
    <span class="n">Capture</span> <span class="p">=</span> <span class="k">true</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">Direct</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">DIRECT</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Customer"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"Reference"</span><span class="p">:</span> <span class="s2">"A12345"</span><span class="p">,</span>
       <span class="s2">"Title"</span><span class="p">:</span> <span class="s2">"Mr."</span><span class="p">,</span>
       <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
       <span class="s2">"CompanyName"</span><span class="p">:</span> <span class="s2">"Demo Shop 123"</span><span class="p">,</span>
       <span class="s2">"JobDescription"</span><span class="p">:</span> <span class="s2">"Developer"</span><span class="p">,</span>
       <span class="s2">"Street1"</span><span class="p">:</span> <span class="s2">"Level 5"</span><span class="p">,</span>
       <span class="s2">"Street2"</span><span class="p">:</span> <span class="s2">"369 Queen Street"</span><span class="p">,</span>
       <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Sydney"</span><span class="p">,</span>
       <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"NSW"</span><span class="p">,</span>
       <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"2000"</span><span class="p">,</span>
       <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
       <span class="s2">"Phone"</span><span class="p">:</span> <span class="s2">"09 889 0986"</span><span class="p">,</span>
       <span class="s2">"Mobile"</span><span class="p">:</span> <span class="s2">"09 889 6542"</span><span class="p">,</span>
       <span class="s2">"Email"</span><span class="p">:</span> <span class="s2">"demo@example.org"</span><span class="p">,</span>
       <span class="s2">"Url"</span><span class="p">:</span> <span class="s2">"http://www.ewaypayments.com"</span><span class="p">,</span>
        <span class="s2">"CardDetails"</span><span class="p">:</span> <span class="p">{</span>
         <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"John Smith"</span><span class="p">,</span>
         <span class="s2">"Number"</span><span class="p">:</span> <span class="s2">"4444333322221111"</span><span class="p">,</span>
         <span class="s2">"ExpiryMonth"</span><span class="p">:</span> <span class="s2">"12"</span><span class="p">,</span>
         <span class="s2">"ExpiryYear"</span><span class="p">:</span> <span class="s2">"25"</span><span class="p">,</span>
         <span class="s2">"StartMonth"</span> <span class="p">:</span> <span class="s2">"01"</span><span class="p">,</span>
         <span class="s2">"StartYear"</span> <span class="p">:</span> <span class="s2">"13"</span><span class="p">,</span>
         <span class="s2">"IssueNumber"</span><span class="p">:</span> <span class="s2">"01"</span><span class="p">,</span>
         <span class="s2">"CVN"</span><span class="p">:</span> <span class="s2">"123"</span>
       <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">"ShippingAddress"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"ShippingMethod"</span><span class="p">:</span> <span class="s2">"NextDay"</span><span class="p">,</span>
       <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
       <span class="s2">"Street1"</span><span class="p">:</span> <span class="s2">"Level 5"</span><span class="p">,</span>
       <span class="s2">"Street2"</span><span class="p">:</span> <span class="s2">"369 Queen Street"</span><span class="p">,</span>
       <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Sydney"</span><span class="p">,</span>
       <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"NSW"</span><span class="p">,</span>
       <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
       <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"2000"</span><span class="p">,</span>
       <span class="s2">"Phone"</span><span class="p">:</span> <span class="s2">"09 889 0986"</span>
    <span class="p">},</span>
    <span class="s2">"Items"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"SKU"</span><span class="p">:</span> <span class="s2">"12345678901234567890"</span><span class="p">,</span>
       <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Item Description 1"</span><span class="p">,</span>
       <span class="s2">"Quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"UnitCost"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
       <span class="s2">"Tax"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"Total"</span><span class="p">:</span> <span class="mi">500</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"SKU"</span><span class="p">:</span> <span class="s2">"123456789012"</span><span class="p">,</span>
       <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Item Description 2"</span><span class="p">,</span>
       <span class="s2">"Quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"UnitCost"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
       <span class="s2">"Tax"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"Total"</span><span class="p">:</span> <span class="mi">500</span>
     <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"Options"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"Value"</span><span class="p">:</span> <span class="s2">"Option1"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"Value"</span><span class="p">:</span> <span class="s2">"Option2"</span>
     <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
       <span class="s2">"InvoiceNumber"</span><span class="p">:</span> <span class="s2">"Inv 21540"</span><span class="p">,</span>
       <span class="s2">"InvoiceDescription"</span><span class="p">:</span> <span class="s2">"Individual Invoice Description"</span><span class="p">,</span>
       <span class="s2">"InvoiceReference"</span><span class="p">:</span> <span class="s2">"513456"</span><span class="p">,</span>
       <span class="s2">"CurrencyCode"</span><span class="p">:</span> <span class="s2">"AUD"</span>
    <span class="p">},</span>
    <span class="s2">"DeviceID"</span><span class="p">:</span> <span class="s2">"D1234"</span><span class="p">,</span>
    <span class="s2">"CustomerIP"</span><span class="p">:</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>
    <span class="s2">"PartnerID"</span><span class="p">:</span> <span class="s2">"ID"</span><span class="p">,</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Purchase"</span><span class="p">,</span>
    <span class="s2">"Capture"</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>

<span class="n">customer</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Customer</span><span class="p">.</span><span class="nf">new</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">reference</span> <span class="o">=</span> <span class="s1">'A12345'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s1">'Mr.'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">company_name</span> <span class="o">=</span> <span class="s1">'Company'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">job_description</span> <span class="o">=</span> <span class="s1">'Ruby Developer'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">phone</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">mobile</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">fax</span> <span class="o">=</span> <span class="s1">'09 654 1234'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">url</span> <span class="o">=</span> <span class="s1">'http://www.ewaypayments.com'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">comments</span> <span class="o">=</span> <span class="s1">'customer comment'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">customer_device_ip</span> <span class="o">=</span> <span class="s1">'127.0.0.1'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">email</span> <span class="o">=</span> <span class="s1">'demo@example.org'</span>

<span class="n">card_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">CardDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s1">'John Smith'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">number</span> <span class="o">=</span> <span class="s1">'4444333322221111'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">expiry_month</span> <span class="o">=</span> <span class="s1">'05'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">expiry_year</span> <span class="o">=</span> <span class="s1">'25'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">cvn</span> <span class="o">=</span> <span class="s1">'123'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">card_details</span> <span class="o">=</span> <span class="n">card_details</span>

<span class="n">address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">address</span><span class="p">.</span><span class="nf">street1</span> <span class="o">=</span> <span class="s1">'Level 5'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">street2</span> <span class="o">=</span> <span class="s1">'369 Queen Street'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">city</span> <span class="o">=</span> <span class="s1">'Sydney'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">state</span> <span class="o">=</span> <span class="s1">'NSW'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">postal_code</span> <span class="o">=</span> <span class="s1">'2000'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">address</span> <span class="o">=</span> <span class="n">address</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">customer</span> <span class="o">=</span> <span class="n">customer</span>

<span class="n">shipping_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">ShippingDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">shipping_address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">street1</span> <span class="o">=</span> <span class="s1">'Level 5'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">street2</span> <span class="o">=</span> <span class="s1">'369 Queen Street'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">city</span> <span class="o">=</span> <span class="s1">'Sydney'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">state</span> <span class="o">=</span> <span class="s1">'NSW'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">postal_code</span> <span class="o">=</span> <span class="s1">'2000'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">shipping_address</span> <span class="o">=</span> <span class="n">shipping_address</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">phone</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">shipping_method</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">ShippingMethod</span><span class="o">::</span><span class="no">LOW_COST</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">shipping_details</span> <span class="o">=</span> <span class="n">shipping_details</span>

<span class="n">line_item</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'12345678901234567890'</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 1'</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_item1</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'12345678901234567890'</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 1'</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_item2</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'123456789012'</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 2'</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_items</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">line_items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">line_item1</span><span class="p">)</span>
<span class="n">line_items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">line_item2</span><span class="p">)</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">line_items</span> <span class="o">=</span> <span class="n">line_items</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">options</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="s1">'Option1'</span><span class="p">)</span>
<span class="n">options</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="s1">'Option2'</span><span class="p">)</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">options</span> <span class="o">=</span> <span class="n">options</span>

<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_number</span> <span class="o">=</span> <span class="s1">'Inv 21540'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_description</span> <span class="o">=</span> <span class="s1">'Individual Invoice Description'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_reference</span> <span class="o">=</span> <span class="s1">'513456'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">currency_code</span> <span class="o">=</span> <span class="s1">'AUD'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">device_id</span> <span class="o">=</span> <span class="s1">'D1234'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">partner_id</span> <span class="o">=</span> <span class="s1">'ID'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">capture</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">PURCHASE</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">DIRECT</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CustomerIP**</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's IP address</td> 
      </tr> 
      <tr> 
       <td>Method</td> 
       <td>R</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The action to perform with this request (see <a href="#payment-methods">Payment Methods</a> for more information).<br>One of: <code>ProcessPayment</code>, <code>CreateTokenCustomer</code>, <code>UpdateTokenCustomer</code>, <code>TokenPayment</code>, <code>Authorise</code></td> 
      </tr> 
      <tr> 
       <td>TransactionType</td> 
       <td>R</td> 
       <td>20</td> 
       <td>enum</td> 
       <td>The type of transaction you're performing (see <a href="#transaction-types">Transaction Types</a>).<br> One of: <code>Purchase</code>, <code>MOTO</code>, <code>Recurring</code></td> 
      </tr> 
      <tr> 
       <td>DeviceID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The identification name/number for the device or application used to process the transaction</td> 
      </tr> 
      <tr> 
       <td>PartnerID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The partner ID generated from an eWAY partner agreement</td> 
      </tr> 
      <tr> 
       <td>ThirdPartyWalletID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>This field has been deprecated, please use <code>SecuredCardData</code> instead</td> 
      </tr> 
      <tr> 
       <td>SecuredCardData</td> 
       <td>O</td> 
       <td>500</td> 
       <td>string</td> 
       <td>Card data ID, used for <a href="#secure-fields">Secure Fields</a>, <a href="#integration-steps-direct-api">Visa Checkout</a>, <a href="#amex-express-checkout">AMEX Express Checkout</a> and Android Pay</td> 
      </tr> 
      <tr> 
       <td>Capture</td> 
       <td>O</td> 
       <td>6</td> 
       <td>boolean</td> 
       <td><strong>Rapid SDK Libraries Only</strong> Set to true to capture funds immediately (default), set to false to perform an <a href="#pre-auth">authorisation</a> and only hold funds.</td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field types: R – Required, O – Optional</em></p> 
    <p>**<em>When this field is present along with the Customer Country field, any transaction will be processed using Beagle Fraud Alerts</em></p> 
    <h3 id="payment">Payment</h3> 
    <p>This set of fields contains the details of the payment being processed. This section is required when the Method field is set to <code>ProcessPayment</code> or <code>TokenPayment</code>. </p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TotalAmount^</td> 
       <td>R</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount of the transaction in the lowest denomination for the currency (e.g. a $27.00 transaction would have a TotalAmount value of <code>2700</code>).<br>The value of this field must be <code>0</code> for the CreateTokenCustomer and UpdateTokenCustomer methods</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>O</td> 
       <td>12</td> 
       <td>string</td> 
       <td>The merchant's invoice number for this transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceDescription</td> 
       <td>O</td> 
       <td>64</td> 
       <td>string</td> 
       <td>A description of the purchase that the customer is making</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference number for this transaction</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>O</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction is to be processed in. If no value for this field is provided, the merchant's default currency is used. This should be in uppercase.<br>e.g. Australian Dollars = <code>AUD</code></td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field types: R – Required, C – Conditionally Required, O – Optional</em> </p> 
    <p><em>^ This field is required when the Action is ProcessPayment or TokenPayment</em> </p> 
    <h3 id="customer">Customer</h3> 
    <p>This set of fields contains the details of the merchant's customer. These are used when creating and updating Token customers.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>C</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY issued ID that represents the Token customer to be loaded for this action.<br><em>Required for UpdateTokenCustomer method</em></td> 
      </tr> 
      <tr> 
       <td>Reference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference for this customer</td> 
      </tr> 
      <tr> 
       <td>Title†</td> 
       <td>C</td> 
       <td>5</td> 
       <td>string</td> 
       <td>The customer's title, empty string allowed.<br>One of: <code>Mr.</code>, <code>Ms.</code>, <code>Mrs.</code>, <code>Miss</code>, <code>Dr.</code>, <code>Sir.</code>, <code>Prof.</code></td> 
      </tr> 
      <tr> 
       <td>FirstName†</td> 
       <td>C</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name</td> 
      </tr> 
      <tr> 
       <td>LastName†</td> 
       <td>C</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's company name</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's city / town / suburb</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state / county</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's post / zip code</td> 
      </tr> 
      <tr> 
       <td>Country†**</td> 
       <td>C</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's country. This should be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>. This field must be lower case.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address, which must be correctly formatted if present</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's phone number</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments the merchant wishes to add about the customer</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>O</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The customer's website, which must be correctly formatted if present</td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field Types: O – Optional, C – Conditionally Required</em> </p> 
    <p><em>† When creating a new Token customer, all conditional fields(†)are required</em> </p> 
    <p>**<em>When this field is present, along with the customer's IP address, any transaction will be processed using Beagle</em> </p> 
    <h3 id="card-details">Card Details</h3> 
    <p>The card details section is within the Customer section and is used to pass the customer's card details for the transaction. </p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Name</td> 
       <td>C</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The name of the card holder</td> 
      </tr> 
      <tr> 
       <td>Number</td> 
       <td>C</td> 
       <td>50</td> 
       <td>int</td> 
       <td>The card number that is to be processed for this transaction. (Not required when processing using an existing CustomerTokenID with TokenPayment method). This should be the encrypted value if using <a href="#client-side-encryption">Client Side Encryption</a>.</td> 
      </tr> 
      <tr> 
       <td>ExpiryMonth</td> 
       <td>C</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The month that the card expires.<br>(Not required when processing using an existing Customer TokenID with TokenPayment method)</td> 
      </tr> 
      <tr> 
       <td>ExpiryYear</td> 
       <td>C</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The year that the card expires.<br>(Not required when processing using an existing CustomerTokenID with TokenPayment method)</td> 
      </tr> 
      <tr> 
       <td>StartMonth*</td> 
       <td>O</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The month that the card is valid from</td> 
      </tr> 
      <tr> 
       <td>StartYear*</td> 
       <td>O</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The year that the card is valid from</td> 
      </tr> 
      <tr> 
       <td>IssueNumber*</td> 
       <td>O</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The card's issue number</td> 
      </tr> 
      <tr> 
       <td>CVN</td> 
       <td>C</td> 
       <td>4</td> 
       <td>int</td> 
       <td>The Card Verification Number. This should be the encrypted value if using <a href="#client-side-encryption">Client Side Encryption</a>. (Required if the <code>TransactionTye</code> is <code>Purchase</code>)</td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field Types: R – Required, O – Optional, C – Conditionally Required</em> </p> 
    <p>*<em>Applies to UK only</em></p> 
    <h3 id="shipping-address">Shipping Address</h3> 
    <p>The ShippingAddress section is optional. It is used by Beagle Fraud Alerts (Enterprise) to calculate a risk score for this transaction.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>ShippingMethod</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The method used to ship the customer's order<br>One of: <code>Unknown</code>, <code>LowCost</code>, <code>DesignatedByCustomer</code>, <code>International</code>, <code>Military</code>, <code>NextDay</code>, <code>StorePickup</code>, <code>TwoDayService</code>, <code>ThreeDayService</code>, <code>Other</code></td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The first name of the person the order is shipped to</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>last name of the person the order is shipped to</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address the order is shipped to</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address of the shipping location</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The city / suburb of the shipping location</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The state / county of the shipping location</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The post / zip code of the shipping location</td> 
      </tr> 
      <tr> 
       <td>Country</td> 
       <td>C</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The country of the shipping location. This should be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>. This field must be lower case.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The email address of the person the order is shipped to, which must be correctly formatted if present.</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The phone number of the person the order is shipped to</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The fax number of the shipping location</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="items">Items</h3> 
    <p>The Items section is optional. If provided, it should contain a list of line items purchased by the customer, up to a maximum of 99 items. It is used by Beagle Fraud Alerts (Enterprise) to calculate a risk score for this transaction. LineItems have the following fields:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SKU</td> 
       <td>O</td> 
       <td>12</td> 
       <td>string</td> 
       <td>The stock keeping unit used to identify this line item</td> 
      </tr> 
      <tr> 
       <td>Description</td> 
       <td>O</td> 
       <td>26</td> 
       <td>string</td> 
       <td>A brief description of the product</td> 
      </tr> 
      <tr> 
       <td>Quantity</td> 
       <td>O</td> 
       <td>6</td> 
       <td>int</td> 
       <td>The purchased quantity</td> 
      </tr> 
      <tr> 
       <td>UnitCost</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The pre-tax cost per unit of the product in the lowest denomination</td> 
      </tr> 
      <tr> 
       <td>Tax</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The tax amount that applies to this line item in the lowest denomination</td> 
      </tr> 
      <tr> 
       <td>Total</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The total amount charged for this line item in the lowest denomination</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="options">Options</h3> 
    <p>This section is optional. Anything appearing in this section is not displayed to the customer. Up to 99 options can be defined. Each option has just one field:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Value</td> 
       <td>O</td> 
       <td>254</td> 
       <td>string</td> 
       <td>This field is not displayed to the customer. Anything can be used here, which can be useful for tracking transactions. <em>Additional characters are truncated at 254</em></td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="response">Response</h3> 
    <blockquote> 
     <p>Example Response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>
<span class="o">{</span>
    <span class="s2">"Errors"</span>: null,
    <span class="s2">"AuthorisationCode"</span>: <span class="s2">"592654"</span>,
    <span class="s2">"ResponseCode"</span>: <span class="s2">"00"</span>,
    <span class="s2">"ResponseMessage"</span>: <span class="s2">"A2000"</span>,
    <span class="s2">"TransactionID"</span>: 11259550,
    <span class="s2">"TransactionStatus"</span>: <span class="nb">true</span>,
    <span class="s2">"TransactionType"</span>: <span class="s2">"Purchase"</span>,
    <span class="s2">"BeagleScore"</span>: 0,
    <span class="s2">"Verification"</span>: <span class="o">{</span>
        <span class="s2">"CVN"</span>: 0,
        <span class="s2">"Address"</span>: 0,
        <span class="s2">"Email"</span>: 0,
        <span class="s2">"Mobile"</span>: 0,
        <span class="s2">"Phone"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"CardDetails"</span>: <span class="o">{</span>
            <span class="s2">"Number"</span>: <span class="s2">"444433XXXXXX1111"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"John Smith"</span>,
            <span class="s2">"ExpiryMonth"</span>: <span class="s2">"12"</span>,
            <span class="s2">"ExpiryYear"</span>: <span class="s2">"25"</span>,
            <span class="s2">"StartMonth"</span>: <span class="s2">"01"</span>,
            <span class="s2">"StartYear"</span>: <span class="s2">"13"</span>,
            <span class="s2">"IssueNumber"</span>: <span class="s2">"01"</span>
        <span class="o">}</span>,
        <span class="s2">"TokenCustomerID"</span>: null,
        <span class="s2">"Reference"</span>: <span class="s2">"A12345"</span>,
        <span class="s2">"Title"</span>: <span class="s2">"Mr."</span>,
        <span class="s2">"FirstName"</span>: <span class="s2">"John"</span>,
        <span class="s2">"LastName"</span>: <span class="s2">"Smith"</span>,
        <span class="s2">"CompanyName"</span>: <span class="s2">"Demo Shop 123"</span>,
        <span class="s2">"JobDescription"</span>: <span class="s2">"Developer"</span>,
        <span class="s2">"Street1"</span>: <span class="s2">"Level 5"</span>,
        <span class="s2">"Street2"</span>: <span class="s2">"369 Queen Street"</span>,
        <span class="s2">"City"</span>: <span class="s2">"Sydney"</span>,
        <span class="s2">"State"</span>: <span class="s2">"NSW"</span>,
        <span class="s2">"PostalCode"</span>: <span class="s2">"2000"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"au"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"demo@example.org"</span>,
        <span class="s2">"Phone"</span>: <span class="s2">"09 889 0986"</span>,
        <span class="s2">"Mobile"</span>: <span class="s2">"09 889 6542"</span>,
        <span class="s2">"Comments"</span>: <span class="s2">""</span>,
        <span class="s2">"Fax"</span>: <span class="s2">""</span>,
        <span class="s2">"Url"</span>: <span class="s2">"http://www.ewaypayments.com"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"TotalAmount"</span>: 1000,
        <span class="s2">"InvoiceNumber"</span>: <span class="s2">"Inv 21540"</span>,
        <span class="s2">"InvoiceDescription"</span>: <span class="s2">"Individual Invoice Description"</span>,
        <span class="s2">"InvoiceReference"</span>: <span class="s2">"513456"</span>,
        <span class="s2">"CurrencyCode"</span>: <span class="s2">"AUD"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;DirectPaymentResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;DirectPaymentResult&gt;</span>
            <span class="nt">&lt;AuthorisationCode&gt;</span>592654<span class="nt">&lt;/AuthorisationCode&gt;</span>
            <span class="nt">&lt;ResponseCode&gt;</span>00<span class="nt">&lt;/ResponseCode&gt;</span>
            <span class="nt">&lt;ResponseMessage&gt;</span>A2000<span class="nt">&lt;/ResponseMessage&gt;</span>
            <span class="nt">&lt;TransactionID&gt;</span>11259550<span class="nt">&lt;/TransactionID&gt;</span>
            <span class="nt">&lt;TransactionStatus&gt;</span>true<span class="nt">&lt;/TransactionStatus&gt;</span>
            <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
            <span class="nt">&lt;BeagleScore&gt;</span>0<span class="nt">&lt;/BeagleScore&gt;</span>
            <span class="nt">&lt;Verification&gt;</span>
               <span class="nt">&lt;CVN&gt;</span>Unchecked<span class="nt">&lt;/CVN&gt;</span>
               <span class="nt">&lt;Address&gt;</span>Unchecked<span class="nt">&lt;/Address&gt;</span>
               <span class="nt">&lt;Email&gt;</span>Unchecked<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Mobile&gt;</span>Unchecked<span class="nt">&lt;/Mobile&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>Unchecked<span class="nt">&lt;/Phone&gt;</span>
            <span class="nt">&lt;/Verification&gt;</span>
            <span class="nt">&lt;Customer&gt;</span>
               <span class="nt">&lt;TokenCustomerID</span> <span class="na">xsi:nil=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
               <span class="nt">&lt;Reference&gt;</span>A12345<span class="nt">&lt;/Reference&gt;</span>
               <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
               <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
               <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
               <span class="nt">&lt;CompanyName&gt;</span>Demo Shop 123<span class="nt">&lt;/CompanyName&gt;</span>
               <span class="nt">&lt;JobDescription&gt;</span>Developer<span class="nt">&lt;/JobDescription&gt;</span>
               <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
               <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
               <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
               <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
               <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
               <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
               <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
               <span class="nt">&lt;Mobile&gt;</span>0289712345<span class="nt">&lt;/Mobile&gt;</span>
               <span class="nt">&lt;Comments&gt;</span>Customer comments<span class="nt">&lt;/Comments&gt;</span>
               <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
               <span class="nt">&lt;Url&gt;</span>http://www.ewaypayments.com<span class="nt">&lt;/Url&gt;</span>
               <span class="nt">&lt;CardDetails&gt;</span>
                  <span class="nt">&lt;Number&gt;</span>444433XXXXXX1111<span class="nt">&lt;/Number&gt;</span>
                  <span class="nt">&lt;Name&gt;</span>John Smith<span class="nt">&lt;/Name&gt;</span>
                  <span class="nt">&lt;ExpiryMonth&gt;</span>12<span class="nt">&lt;/ExpiryMonth&gt;</span>
                  <span class="nt">&lt;ExpiryYear&gt;</span>25<span class="nt">&lt;/ExpiryYear&gt;</span>
               <span class="nt">&lt;/CardDetails&gt;</span>
            <span class="nt">&lt;/Customer&gt;</span>
            <span class="nt">&lt;Payment&gt;</span>
               <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
               <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
               <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
               <span class="nt">&lt;InvoiceReference&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceReference&gt;</span>
               <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
            <span class="nt">&lt;/Payment&gt;</span>
         <span class="nt">&lt;/DirectPaymentResult&gt;</span>
      <span class="nt">&lt;/DirectPaymentResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available $response properties </span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">TransactionStatus</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Payment successful! ID: '</span><span class="o">.</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">TransactionID</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="s2">"Error: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nv">$error</span><span class="p">)</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Sorry, your payment was declined'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">isStatus</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Payment successful! ID: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getTransactionID</span><span class="o">());</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="n">String</span><span class="o">[]</span> <span class="n">errorcodes</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getProcessingDetails</span><span class="o">().</span><span class="na">getResponseMessage</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s">","</span><span class="o">);</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">errorcodes</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Response Messages: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">.</span><span class="na">trim</span><span class="o">(),</span> <span class="s">"en"</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Errors</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">response</span><span class="p">.</span><span class="n">Errors</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Error message: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">((</span><span class="kt">bool</span><span class="p">)</span><span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">Status</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Payment successful! ID: "</span> <span class="p">+</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">TransactionID</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'TransactionStatus'</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Payment successful! ID: '</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'TransactionID'</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">errorCodes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'ResponseMessage'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">);</span>
        <span class="nx">errorCodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Message: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="c1"># See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">empty?</span>
  <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">status?</span>
    <span class="nb">puts</span> <span class="s2">"Payment successful! ID: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">transaction_id</span><span class="p">.</span><span class="nf">to_s</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"Failed! Message </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">processing_details</span><span class="p">.</span><span class="nf">response_message</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">else</span>
  <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">"Response message: "</span> <span class="o">+</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">user_display_message</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre> 
    <p>The response from eWAY will contain all relevant details such as the bank authorisation code and a unique number that identifies the transaction in eWAY's database (<code>TransactionID</code>).</p> 
    <p>If a Token customer was involved, the ID that eWAY uses to identify that customer will also be returned. </p> 
    <p>All responses will contain a response code and response message that represents the result of the action performed. </p> 
    <p>If applicable, the response will also contain information about the payment that has been processed, as well as the results of any Beagle risk analysis that was performed. </p> 
    <h3 id="response-fields-descriptions">Response Fields Descriptions</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AuthorisationCode</td> 
       <td>6</td> 
       <td>string</td> 
       <td>The authorisation code for this transaction as returned by the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseCode</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The two digit response code returned from the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseMessage</td> 
       <td>512</td> 
       <td>string</td> 
       <td>A code that describes the result of the action performed</td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>8</td> 
       <td>int</td> 
       <td>A unique identifier that represents the transaction in eWAY's system</td> 
      </tr> 
      <tr> 
       <td>TransactionStatus</td> 
       <td></td> 
       <td>boolean</td> 
       <td>A Boolean value that indicates whether the transaction was successful or not</td> 
      </tr> 
      <tr> 
       <td>TransactionType</td> 
       <td></td> 
       <td>enum</td> 
       <td>The transaction type that this transaction was processed under.<br>One of: <code>Purchase</code>, <code>MOTO</code>, <code>Recurring</code></td> 
      </tr> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount that was authorised for this transaction</td> 
      </tr> 
      <tr> 
       <td>BeagleScore**</td> 
       <td>6</td> 
       <td>string</td> 
       <td>Fraud score representing the estimated probability that the order is fraud. A value between 0.01 to 100.00 representing the % risk the transaction is fraudulent. On Sandbox the score will be -1 unless it is configured to fail for Risk Score, in which case the value will be 101.</td> 
      </tr> 
      <tr> 
       <td>Errors</td> 
       <td>512</td> 
       <td>string</td> 
       <td>A comma separated list of any error encountered, these can be looked up in the <a href="#response-amp-error-codes">Response Codes</a> section.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>**<em>This field is only present if the transaction was processed using Beagle Free</em> </p> 
    <p><em>‡ This field is only present if processing a token transaction, creating or updating a token customer</em> </p> 
    <h3 id="verification">Verification</h3> 
    <p>These fields are currently unused</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CVN</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Address</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="payment-2">Payment</h3> 
    <p>This set of fields contains the details of the payment which was processed. </p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount of the transaction in the lowest denomination for the currency<br>(e.g. a $27.00 transaction would have a TotalAmount value of '2700').</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>12</td> 
       <td>string</td> 
       <td>An echo of the merchant's invoice number for this transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceDescription</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the purchase that the customer is making</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the merchant's reference number for this transaction</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction was processed in.</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="customer-2">Customer</h3> 
    <p>This set of fields contains the details of the merchant's customer.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY issued ID that represents the Token customer to be loaded for this action</td> 
      </tr> 
      <tr> 
       <td>Reference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the merchant's reference for this customer</td> 
      </tr> 
      <tr> 
       <td>Title</td> 
       <td>5</td> 
       <td>string</td> 
       <td>An echo of the customer's title</td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's first name</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's last name</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's company name</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's job description / title</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's street address</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's street address</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's city / town / suburb</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's state / county</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>30</td> 
       <td>string</td> 
       <td>An echo of the customer's post / zip code</td> 
      </tr> 
      <tr> 
       <td>Country</td> 
       <td>2</td> 
       <td>string</td> 
       <td>An echo of the customer's country. This will be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's email address</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>32</td> 
       <td>string</td> 
       <td>An echo of the customer's phone number</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>32</td> 
       <td>string</td> 
       <td>An echo of the customer's fax number</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>255</td> 
       <td>string</td> 
       <td>An echo of any comments</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>32</td> 
       <td>string</td> 
       <td>An echo of the customer's fax number</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>512</td> 
       <td>string</td> 
       <td>An echo of the customer's website</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="card-details-2">Card Details</h3> 
    <p>The card details section is within the Customer section</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Name</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the name of the card holder</td> 
      </tr> 
      <tr> 
       <td>Number</td> 
       <td>50</td> 
       <td>int</td> 
       <td>A masked echo of the card number</td> 
      </tr> 
      <tr> 
       <td>ExpiryMonth</td> 
       <td>2</td> 
       <td>int</td> 
       <td>An echo of the month that the card expires</td> 
      </tr> 
      <tr> 
       <td>ExpiryYear</td> 
       <td>2</td> 
       <td>int</td> 
       <td>An echo of the year that the card expires</td> 
      </tr> 
      <tr> 
       <td>StartMonth*</td> 
       <td>2</td> 
       <td>int</td> 
       <td>An echo of the month that the card is valid from</td> 
      </tr> 
      <tr> 
       <td>StartYear*</td> 
       <td>2</td> 
       <td>int</td> 
       <td>An echo of the year that the card is valid from</td> 
      </tr> 
      <tr> 
       <td>IssueNumber*</td> 
       <td></td> 
       <td>int</td> 
       <td>An echo of the card's issue number</td> 
      </tr> 
     </tbody>
    </table> 
    <p>*<em>Applies to UK only</em></p> 
    <h2 id="responsive-shared-page">Responsive Shared Page</h2> 
    <p>For a simple, good looking integration, eWAY's Responsive Shared Page API provides a hosted form for entering payment information. The form is hosted on eWAY's PCI DSS compliant, industry leading infrastructure for your and your customer's peace of mind. There are a number of themes to customise the look of the form, plus it responds to screen size to be suitable for devices from mobiles to PCs.</p> 
    <p>The Responsive Shared Page also comes with built in integration with 3D Secure, PayPal, MasterPass, Visa Checkout and AMEX Express Checkout - no further development required!</p> 
    <p>Implementing the Responsive Shared Page API is a three step process:</p> 
    <ol> 
     <li>Pass the customer and transaction details to eWAY to generate an Responsive Shared Page URL.</li> 
     <li>Redirect the customer to the provided URL to enter their payment information. After processing the transaction, the customer is directed back to the nominated Redirect URL.</li> 
     <li>Once the transaction has been processed, request the results from eWAY using the Access Code.</li> 
    </ol> 
    <h3 id="step-1-create-an-access-code">Step 1: Create an Access Code</h3> 
    <p>To request an Access Code, make a server-side call to the CreateAccessCodeShared method of Rapid API. The service will respond with an Access Code and return the customer data. </p> 
    <p>If the request involves an existing Token customer, their details will be returned in the response including the masked credit card number. </p> 
    <p>If Token Payments are not in use for this transaction, the returned customer data will be an echo of the data in the request.</p> 
    <h4 id="live-endpoints">Live endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.ewaypayments.com/AccessCodesShared</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.ewaypayments.com/CreateAccessCodeShared.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.ewaypayments.com/CreateAccessCodeShared.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="sandbox-endpoints">Sandbox endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.sandbox.ewaypayments.com/AccessCodesShared</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/CreateAccessCodeShared.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/CreateAccessCodeShared.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="request-field-descriptions">Request Field Descriptions</h4> 
    <blockquote> 
     <p>Basic Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Payment": { "TotalAmount": 100 }, "RedirectUrl": "http://www.eway.com.au", "CancelUrl": "http://www.eway.com.au", "Method": "ProcessPayment", "TransactionType": "Purchase" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/AccessCodesShared
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;CreateAccessCodeShared</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;RedirectUrl&gt;</span>http://www.eway.com.au<span class="nt">&lt;/RedirectUrl&gt;</span>
                <span class="nt">&lt;CancelUrl&gt;</span>http://www.eway.com.au<span class="nt">&lt;/CancelUrl&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/CreateAccessCodeShared&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'RedirectUrl'</span> <span class="o">=&gt;</span> <span class="s1">'http://www.eway.com.au'</span><span class="p">,</span>
    <span class="s1">'CancelUrl'</span> <span class="o">=&gt;</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">PURCHASE</span><span class="p">,</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setRedirectURL</span><span class="o">(</span><span class="s">"http://www.eway.com.au"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCancelURL</span><span class="o">(</span><span class="s">"http://www.eway.com.au"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Purchase</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">ResponsiveShared</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span>
    <span class="p">},</span>
    <span class="n">RedirectURL</span> <span class="p">=</span> <span class="s">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="n">CancelURL</span> <span class="p">=</span> <span class="s">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Purchase</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">ResponsiveShared</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">100</span>
    <span class="p">},</span>
    <span class="s2">"RedirectUrl"</span><span class="p">:</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s2">"CancelUrl"</span><span class="p">:</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Purchase"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>

</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">redirect_url</span> <span class="o">=</span> <span class="s1">'http://www.eway.com.au'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">cancel_url</span> <span class="o">=</span> <span class="s1">'http://www.eway.com.au'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">PURCHASE</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>
</code></pre> 
    <blockquote> 
     <p>Complete Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Customer": { "Reference": "A12345", "Title": "Mr.", "FirstName": "John", "LastName": "Smith", "CompanyName": "Demo Shop 123", "JobDescription": "Developer", "Street1": "Level 5", "Street2": "369 Queen Street", "City": "Sydney", "State": "NSW", "PostalCode": "2000", "Country": "au", "Phone": "09 889 0986", "Mobile": "09 889 6542", "Email": "demo@example.org", "Url": "http://www.ewaypayments.com" }, "ShippingAddress": { "ShippingMethod": "NextDay", "FirstName": "John", "LastName": "Smith", "Street1": "Level 5", "Street2": "369 Queen Street", "City": "Sydney", "State": "NSW", "Country": "au", "PostalCode": "2000", "Phone": "09 889 0986" }, "Items": [ { "SKU": "12345678901234567890", "Description": "Item Description 1", "Quantity": 1, "UnitCost": 400, "Tax": 100, "Total": 500 }, { "SKU": "123456789012", "Description": "Item Description 2", "Quantity": 1, "UnitCost": 400, "Tax": 100, "Total": 500 } ], "Options": [ { "Value": "Option1" }, { "Value": "Option2" } ], "Payment": { "TotalAmount": 1000, "InvoiceNumber": "Inv 21540", "InvoiceDescription": "Individual Invoice Description", "InvoiceReference": "513456", "CurrencyCode": "AUD" }, "RedirectUrl": "http://www.eway.com.au", "CancelUrl": "http://www.eway.com.au", "Method": "ProcessPayment", "DeviceID": "D1234", "CustomerIP": "127.0.0.1", "PartnerID": "ID", "TransactionType": "Purchase", "LogoUrl": "https://mysite.com/images/logo4eway.jpg", "HeaderText": "My Site Header Text", "Language": "EN", "CustomerReadOnly": true, "CustomView": "bootstrap", "VerifyCustomerPhone": false, "VerifyCustomerEmail": false }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/AccessCodesShared
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;CreateAccessCodeShared</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Customer&gt;</span>
                    <span class="nt">&lt;Reference&gt;</span>A12345<span class="nt">&lt;/Reference&gt;</span>
                    <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;CompanyName&gt;</span>Demo Shop 123<span class="nt">&lt;/CompanyName&gt;</span>
                    <span class="nt">&lt;JobDescription&gt;</span>Developer<span class="nt">&lt;/JobDescription&gt;</span>
                    <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                    <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                    <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                    <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                    <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
                    <span class="nt">&lt;Mobile&gt;</span>0289712345<span class="nt">&lt;/Mobile&gt;</span>
                    <span class="nt">&lt;Comments&gt;</span>Customer comments<span class="nt">&lt;/Comments&gt;</span>
                    <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
                    <span class="nt">&lt;Url&gt;</span>http://www.ewaypayments.com<span class="nt">&lt;/Url&gt;</span>
                <span class="nt">&lt;/Customer&gt;</span>
                <span class="nt">&lt;ShippingAddress&gt;</span>
                    <span class="nt">&lt;ShippingMethod&gt;</span>NextDay<span class="nt">&lt;/ShippingMethod&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                    <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                    <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                    <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                    <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
                    <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
                <span class="nt">&lt;/ShippingAddress&gt;</span>
                <span class="nt">&lt;Items&gt;</span>
                    <span class="nt">&lt;LineItem&gt;</span>
                        <span class="nt">&lt;SKU&gt;</span>12345678901234567890<span class="nt">&lt;/SKU&gt;</span>
                        <span class="nt">&lt;Description&gt;</span>Item Description 1<span class="nt">&lt;/Description&gt;</span>
                        <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
                        <span class="nt">&lt;UnitCost&gt;</span>400<span class="nt">&lt;/UnitCost&gt;</span>
                        <span class="nt">&lt;Tax&gt;</span>100<span class="nt">&lt;/Tax&gt;</span>
                        <span class="nt">&lt;Total&gt;</span>500<span class="nt">&lt;/Total&gt;</span>
                    <span class="nt">&lt;/LineItem&gt;</span>
                    <span class="nt">&lt;LineItem&gt;</span>
                        <span class="nt">&lt;SKU&gt;</span>123456789012<span class="nt">&lt;/SKU&gt;</span>
                        <span class="nt">&lt;Description&gt;</span>Item Description 2<span class="nt">&lt;/Description&gt;</span>
                        <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
                        <span class="nt">&lt;UnitCost&gt;</span>400<span class="nt">&lt;/UnitCost&gt;</span>
                        <span class="nt">&lt;Tax&gt;</span>100<span class="nt">&lt;/Tax&gt;</span>
                        <span class="nt">&lt;Total&gt;</span>500<span class="nt">&lt;/Total&gt;</span>
                    <span class="nt">&lt;/LineItem&gt;</span>
                <span class="nt">&lt;/Items&gt;</span>
                <span class="nt">&lt;Options&gt;</span>
                    <span class="nt">&lt;Option&gt;</span>
                        <span class="nt">&lt;Value&gt;</span>Option1<span class="nt">&lt;/Value&gt;</span>
                    <span class="nt">&lt;/Option&gt;</span>
                    <span class="nt">&lt;Option&gt;</span>
                        <span class="nt">&lt;Value&gt;</span>Option2<span class="nt">&lt;/Value&gt;</span>
                    <span class="nt">&lt;/Option&gt;</span>
                <span class="nt">&lt;/Options&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                    <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
                    <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
                    <span class="nt">&lt;InvoiceReference&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceReference&gt;</span>
                    <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;RedirectUrl&gt;</span>http://www.eway.com.au<span class="nt">&lt;/RedirectUrl&gt;</span>
                <span class="nt">&lt;CancelUrl&gt;</span>http://www.eway.com.au<span class="nt">&lt;/CancelUrl&gt;</span>
                <span class="nt">&lt;CustomerIP&gt;</span>127.0.0.1<span class="nt">&lt;/CustomerIP&gt;</span>
                <span class="nt">&lt;DeviceID&gt;</span>D1234<span class="nt">&lt;/DeviceID&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
                <span class="nt">&lt;CheckoutPayment&gt;</span>false<span class="nt">&lt;/CheckoutPayment&gt;</span>
                <span class="nt">&lt;CustomerReadOnly&gt;</span>true<span class="nt">&lt;/CustomerReadOnly&gt;</span>
                <span class="nt">&lt;VerifyCustomerPhone&gt;</span>false<span class="nt">&lt;/VerifyCustomerPhone&gt;</span>
                <span class="nt">&lt;VerifyCustomerEmail&gt;</span>false<span class="nt">&lt;/VerifyCustomerEmail&gt;</span>
                <span class="nt">&lt;LogoUrl&gt;</span>https://mysite.com/images/logo4eway.jpg<span class="nt">&lt;/LogoUrl&gt;</span>
                <span class="nt">&lt;HeaderText&gt;</span>My Site Header Text<span class="nt">&lt;/HeaderText&gt;</span>
                <span class="nt">&lt;Language&gt;</span>EN<span class="nt">&lt;/Language&gt;</span>
                <span class="nt">&lt;CustomView&gt;</span>Bootstrap<span class="nt">&lt;/CustomView&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/CreateAccessCodeShared&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Customer'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'Reference'</span> <span class="o">=&gt;</span> <span class="s1">'A12345'</span><span class="p">,</span>
        <span class="s1">'Title'</span> <span class="o">=&gt;</span> <span class="s1">'Mr.'</span><span class="p">,</span>
        <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
        <span class="s1">'CompanyName'</span> <span class="o">=&gt;</span> <span class="s1">'Demo Shop 123'</span><span class="p">,</span>
        <span class="s1">'JobDescription'</span> <span class="o">=&gt;</span> <span class="s1">'Developer'</span><span class="p">,</span>
        <span class="s1">'Street1'</span> <span class="o">=&gt;</span> <span class="s1">'Level 5'</span><span class="p">,</span>
        <span class="s1">'Street2'</span> <span class="o">=&gt;</span> <span class="s1">'369 Queen Street'</span><span class="p">,</span>
        <span class="s1">'City'</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span><span class="p">,</span>
        <span class="s1">'State'</span> <span class="o">=&gt;</span> <span class="s1">'NSW'</span><span class="p">,</span>
        <span class="s1">'PostalCode'</span> <span class="o">=&gt;</span> <span class="s1">'2000'</span><span class="p">,</span>
        <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
        <span class="s1">'Phone'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 0986'</span><span class="p">,</span>
        <span class="s1">'Mobile'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 6542'</span><span class="p">,</span>
        <span class="s1">'Email'</span> <span class="o">=&gt;</span> <span class="s1">'demo@example.org'</span><span class="p">,</span>
        <span class="s2">"Url"</span> <span class="o">=&gt;</span> <span class="s2">"http://www.ewaypayments.com"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'ShippingAddress'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'ShippingMethod'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\ShippingMethod</span><span class="o">::</span><span class="na">NEXT_DAY</span><span class="p">,</span>
        <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
        <span class="s1">'Street1'</span> <span class="o">=&gt;</span> <span class="s1">'Level 5'</span><span class="p">,</span>
        <span class="s1">'Street2'</span> <span class="o">=&gt;</span> <span class="s1">'369 Queen Street'</span><span class="p">,</span>
        <span class="s1">'City'</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span><span class="p">,</span>
        <span class="s1">'State'</span> <span class="o">=&gt;</span> <span class="s1">'NSW'</span><span class="p">,</span>
        <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
        <span class="s1">'PostalCode'</span> <span class="o">=&gt;</span> <span class="s1">'2000'</span><span class="p">,</span>
        <span class="s1">'Phone'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 0986'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'Items'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'SKU'</span> <span class="o">=&gt;</span> <span class="s1">'12345678901234567890'</span><span class="p">,</span>
            <span class="s1">'Description'</span> <span class="o">=&gt;</span> <span class="s1">'Item Description 1'</span><span class="p">,</span>
            <span class="s1">'Quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">'UnitCost'</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">'Tax'</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
            <span class="c1">// Total is calculated automatically </span>        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'SKU'</span> <span class="o">=&gt;</span> <span class="s1">'123456789012'</span><span class="p">,</span>
            <span class="s1">'Description'</span> <span class="o">=&gt;</span> <span class="s1">'Item Description 2'</span><span class="p">,</span>
            <span class="s1">'Quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">'UnitCost'</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">'Tax'</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">'Options'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'Value'</span> <span class="o">=&gt;</span> <span class="s1">'Option1'</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'Value'</span> <span class="o">=&gt;</span> <span class="s1">'Option2'</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s1">'InvoiceNumber'</span> <span class="o">=&gt;</span> <span class="s1">'Inv 21540'</span><span class="p">,</span>
        <span class="s1">'InvoiceDescription'</span> <span class="o">=&gt;</span> <span class="s1">'Individual Invoice Description'</span><span class="p">,</span>
        <span class="s1">'InvoiceReference'</span> <span class="o">=&gt;</span> <span class="s1">'513456'</span><span class="p">,</span>
        <span class="s1">'CurrencyCode'</span> <span class="o">=&gt;</span> <span class="s1">'AUD'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'RedirectUrl'</span> <span class="o">=&gt;</span> <span class="s1">'http://www.eway.com.au'</span><span class="p">,</span>
    <span class="s1">'CancelUrl'</span> <span class="o">=&gt;</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s1">'DeviceID'</span> <span class="o">=&gt;</span> <span class="s1">'D1234'</span><span class="p">,</span>
    <span class="s1">'CustomerIP'</span> <span class="o">=&gt;</span> <span class="s1">'127.0.0.1'</span><span class="p">,</span>
    <span class="s1">'PartnerID'</span> <span class="o">=&gt;</span> <span class="s1">'ID'</span><span class="p">,</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">PURCHASE</span><span class="p">,</span>
    <span class="s1">'Capture'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s1">'LogoUrl'</span> <span class="o">=&gt;</span> <span class="s1">'https://mysite.com/images/logo4eway.jpg'</span><span class="p">,</span>
    <span class="s1">'HeaderText'</span> <span class="o">=&gt;</span> <span class="s1">'My Site Header Text'</span><span class="p">,</span>
    <span class="s1">'Language'</span> <span class="o">=&gt;</span> <span class="s1">'EN'</span><span class="p">,</span>
    <span class="s1">'CustomerReadOnly'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Customer</span><span class="o">();</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setReference</span><span class="o">(</span><span class="s">"A12345"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Mr."</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCompanyName</span><span class="o">(</span><span class="s">"eWay"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setJobDescription</span><span class="o">(</span><span class="s">"Java Developer"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"09 889 0986"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setMobile</span><span class="o">(</span><span class="s">"09 889 6542"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setUrl</span><span class="o">(</span><span class="s">"http://ewaypayments.com"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCustomerDeviceIP</span><span class="o">(</span><span class="s">"127.0.0.1"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"demo@example.org"</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address</span><span class="o">.</span><span class="na">setStreet1</span><span class="o">(</span><span class="s">"Level 5"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setStreet2</span><span class="o">(</span><span class="s">"369 Queen Street"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Sydney"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"NSW"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"2000"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="n">address</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCustomer</span><span class="o">(</span><span class="n">customer</span><span class="o">);</span>

<span class="n">ShippingDetails</span> <span class="n">shippingDetail</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ShippingDetails</span><span class="o">();</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"09 889 0986"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setShippingMethod</span><span class="o">(</span><span class="n">ShippingMethod</span><span class="o">.</span><span class="na">LowCost</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">shipAddress</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setStreet1</span><span class="o">(</span><span class="s">"Level 5"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setStreet2</span><span class="o">(</span><span class="s">"369 Queen Street"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Sydney"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"NSW"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"2000"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setShippingAddress</span><span class="o">(</span><span class="n">shipAddress</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setShippingDetails</span><span class="o">(</span><span class="n">shippingDetail</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">LineItem</span><span class="o">&gt;</span> <span class="n">items</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">LineItem</span> <span class="n">item1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LineItem</span><span class="o">();</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setSku</span><span class="o">(</span><span class="s">"12345678901234567890"</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Item Description 1"</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setUnitCost</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
<span class="n">items</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item1</span><span class="o">);</span>

<span class="n">LineItem</span> <span class="n">item2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LineItem</span><span class="o">();</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setSku</span><span class="o">(</span><span class="s">"123456789012"</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Item Description 2"</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setUnitCost</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
<span class="n">items</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item2</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setLineItems</span><span class="o">(</span><span class="n">items</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">options</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Option1"</span><span class="o">);</span>
<span class="n">options</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Option2"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setOptions</span><span class="o">(</span><span class="n">options</span><span class="o">);</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setCurrencyCode</span><span class="o">(</span><span class="s">"AUD"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceDescription</span><span class="o">(</span><span class="s">"Individual Invoice Description"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceNumber</span><span class="o">(</span><span class="s">"Inv 21540"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceReference</span><span class="o">(</span><span class="s">"513456"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setPartnerID</span><span class="o">(</span><span class="s">"ID"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCapture</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setRedirectURL</span><span class="o">(</span><span class="s">"http://www.eway.com.au"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCancelURL</span><span class="o">(</span><span class="s">"http://www.eway.com.au"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setDeviceID</span><span class="o">(</span><span class="s">"D1234"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Purchase</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setLogoUrl</span><span class="o">(</span><span class="s">"https://mysite.com/images/logo4eway.jpg"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setHeaderText</span><span class="o">(</span><span class="s">"My Site Header Text"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setLanguage</span><span class="o">(</span><span class="s">"EN"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCustomerReadOnly</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCustomView</span><span class="o">(</span><span class="s">"bootstrap"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setVerifyCustomerPhone</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setVerifyCustomerEmail</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setSaveCustomer</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">ResponsiveShared</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Customer</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Reference</span> <span class="p">=</span> <span class="s">"A12345"</span><span class="p">,</span>
        <span class="n">Title</span> <span class="p">=</span> <span class="s">"Mr."</span><span class="p">,</span>
        <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
        <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
        <span class="n">CompanyName</span> <span class="p">=</span> <span class="s">"Demo Shop 123"</span><span class="p">,</span>
        <span class="n">JobDescription</span> <span class="p">=</span> <span class="s">"C# Developer"</span><span class="p">,</span>
        <span class="n">Phone</span> <span class="p">=</span> <span class="s">"09 889 0986"</span><span class="p">,</span>
        <span class="n">Mobile</span> <span class="p">=</span> <span class="s">"09 889 6542"</span><span class="p">,</span>
        <span class="n">Url</span> <span class="p">=</span> <span class="s">"http://www.ewaypayments.com"</span><span class="p">,</span>
        <span class="n">Address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Street1</span> <span class="p">=</span> <span class="s">"Level 5"</span><span class="p">,</span>
            <span class="n">Street2</span> <span class="p">=</span> <span class="s">"369 Queen Street"</span><span class="p">,</span>
            <span class="n">City</span> <span class="p">=</span> <span class="s">"Sydney"</span><span class="p">,</span>
            <span class="n">State</span> <span class="p">=</span> <span class="s">"NSW"</span><span class="p">,</span>
            <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span><span class="p">,</span>
            <span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"2000"</span><span class="p">,</span>

        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">ShippingDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShippingDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
        <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
        <span class="n">Phone</span> <span class="p">=</span> <span class="s">"09 889 0986"</span><span class="p">,</span>
        <span class="n">ShippingAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Street1</span> <span class="p">=</span> <span class="s">"Level 5"</span><span class="p">,</span>
            <span class="n">Street2</span> <span class="p">=</span> <span class="s">"369 Queen Street"</span><span class="p">,</span>
            <span class="n">City</span> <span class="p">=</span> <span class="s">"Sydney"</span><span class="p">,</span>
            <span class="n">State</span> <span class="p">=</span> <span class="s">"NSW"</span><span class="p">,</span>
            <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span><span class="p">,</span>
            <span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"2000"</span>
        <span class="p">},</span>
        <span class="n">ShippingMethod</span> <span class="p">=</span> <span class="n">ShippingMethod</span><span class="p">.</span><span class="n">NextDay</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">LineItems</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> 
    <span class="p">{</span> 
        <span class="k">new</span> <span class="nf">LineItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">SKU</span> <span class="p">=</span> <span class="s">"12345678901234567890"</span><span class="p">,</span> 
            <span class="n">Description</span> <span class="p">=</span> <span class="s">"Item Description 1"</span><span class="p">,</span>
            <span class="n">Quantity</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">UnitCost</span> <span class="p">=</span> <span class="m">400</span><span class="p">,</span>
            <span class="n">Tax</span> <span class="p">=</span> <span class="m">100</span><span class="p">,</span>
            <span class="n">Total</span> <span class="p">=</span> <span class="m">400</span>
        <span class="p">},</span>
        <span class="k">new</span> <span class="nf">LineItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">SKU</span> <span class="p">=</span> <span class="s">"123456789012"</span><span class="p">,</span> 
            <span class="n">Description</span> <span class="p">=</span> <span class="s">"Item Description 2"</span><span class="p">,</span>
            <span class="n">Quantity</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">UnitCost</span> <span class="p">=</span> <span class="m">400</span><span class="p">,</span>
            <span class="n">Tax</span> <span class="p">=</span> <span class="m">100</span><span class="p">,</span>
            <span class="n">Total</span> <span class="p">=</span> <span class="m">400</span>
        <span class="p">}</span>
    <span class="p">}.</span><span class="nf">ToList</span><span class="p">(),</span>
    <span class="n">Options</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> 
    <span class="p">{</span> 
        <span class="s">"Option1"</span><span class="p">,</span> 
        <span class="s">"Option2"</span> 
    <span class="p">}.</span><span class="nf">ToList</span><span class="p">(),</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span><span class="p">,</span>
        <span class="n">InvoiceNumber</span> <span class="p">=</span> <span class="s">"Inv 21540"</span><span class="p">,</span>
        <span class="n">InvoiceDescription</span> <span class="p">=</span> <span class="s">"Individual Invoice Description"</span><span class="p">,</span>
        <span class="n">InvoiceReference</span> <span class="p">=</span> <span class="s">"513456"</span><span class="p">,</span>
        <span class="n">CurrencyCode</span> <span class="p">=</span> <span class="s">"AUD"</span>
    <span class="p">},</span>
    <span class="n">RedirectURL</span> <span class="p">=</span> <span class="s">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="n">CancelURL</span> <span class="p">=</span> <span class="s">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="n">DeviceID</span> <span class="p">=</span> <span class="s">"D1234"</span><span class="p">,</span>
    <span class="n">PartnerID</span> <span class="p">=</span> <span class="s">"ID"</span><span class="p">,</span>
    <span class="n">CustomerIP</span> <span class="p">=</span> <span class="s">"127.0.0.1"</span><span class="p">,</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Purchase</span><span class="p">,</span>
    <span class="n">LogoUrl</span> <span class="p">=</span> <span class="s">"https://mysite.com/images/logo4eway.jpg"</span><span class="p">,</span>
    <span class="n">HeaderText</span> <span class="p">=</span> <span class="s">"My Site Header Text"</span><span class="p">,</span>
    <span class="n">Language</span> <span class="p">=</span> <span class="s">"EN"</span><span class="p">,</span>
    <span class="n">CustomerReadOnly</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
    <span class="n">CustomView</span> <span class="p">=</span> <span class="s">"bootstrap"</span><span class="p">,</span>
    <span class="n">VerifyCustomerPhone</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
    <span class="n">VerifyCustomerEmail</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span>
    <span class="n">Capture</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
    <span class="n">SaveCustomer</span> <span class="p">=</span> <span class="k">false</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">ResponsiveShared</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Customer"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"Reference"</span><span class="p">:</span> <span class="s2">"A12345"</span><span class="p">,</span>
       <span class="s2">"Title"</span><span class="p">:</span> <span class="s2">"Mr."</span><span class="p">,</span>
       <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
       <span class="s2">"CompanyName"</span><span class="p">:</span> <span class="s2">"Demo Shop 123"</span><span class="p">,</span>
       <span class="s2">"JobDescription"</span><span class="p">:</span> <span class="s2">"Developer"</span><span class="p">,</span>
       <span class="s2">"Street1"</span><span class="p">:</span> <span class="s2">"Level 5"</span><span class="p">,</span>
       <span class="s2">"Street2"</span><span class="p">:</span> <span class="s2">"369 Queen Street"</span><span class="p">,</span>
       <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Sydney"</span><span class="p">,</span>
       <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"NSW"</span><span class="p">,</span>
       <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"2000"</span><span class="p">,</span>
       <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
       <span class="s2">"Phone"</span><span class="p">:</span> <span class="s2">"09 889 0986"</span><span class="p">,</span>
       <span class="s2">"Mobile"</span><span class="p">:</span> <span class="s2">"09 889 6542"</span><span class="p">,</span>
       <span class="s2">"Email"</span><span class="p">:</span> <span class="s2">"demo@example.org"</span><span class="p">,</span>
       <span class="s2">"Url"</span><span class="p">:</span> <span class="s2">"http://www.ewaypayments.com"</span>
    <span class="p">},</span>
    <span class="s2">"ShippingAddress"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"ShippingMethod"</span><span class="p">:</span> <span class="s2">"NextDay"</span><span class="p">,</span>
       <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
       <span class="s2">"Street1"</span><span class="p">:</span> <span class="s2">"Level 5"</span><span class="p">,</span>
       <span class="s2">"Street2"</span><span class="p">:</span> <span class="s2">"369 Queen Street"</span><span class="p">,</span>
       <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Sydney"</span><span class="p">,</span>
       <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"NSW"</span><span class="p">,</span>
       <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
       <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"2000"</span><span class="p">,</span>
       <span class="s2">"Phone"</span><span class="p">:</span> <span class="s2">"09 889 0986"</span>
    <span class="p">},</span>
    <span class="s2">"Items"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"SKU"</span><span class="p">:</span> <span class="s2">"12345678901234567890"</span><span class="p">,</span>
       <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Item Description 1"</span><span class="p">,</span>
       <span class="s2">"Quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"UnitCost"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
       <span class="s2">"Tax"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"Total"</span><span class="p">:</span> <span class="mi">500</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"SKU"</span><span class="p">:</span> <span class="s2">"123456789012"</span><span class="p">,</span>
       <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Item Description 2"</span><span class="p">,</span>
       <span class="s2">"Quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"UnitCost"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
       <span class="s2">"Tax"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"Total"</span><span class="p">:</span> <span class="mi">500</span>
     <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"Options"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"Value"</span><span class="p">:</span> <span class="s2">"Option1"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"Value"</span><span class="p">:</span> <span class="s2">"Option2"</span>
     <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
       <span class="s2">"InvoiceNumber"</span><span class="p">:</span> <span class="s2">"Inv 21540"</span><span class="p">,</span>
       <span class="s2">"InvoiceDescription"</span><span class="p">:</span> <span class="s2">"Individual Invoice Description"</span><span class="p">,</span>
       <span class="s2">"InvoiceReference"</span><span class="p">:</span> <span class="s2">"513456"</span><span class="p">,</span>
       <span class="s2">"CurrencyCode"</span><span class="p">:</span> <span class="s2">"AUD"</span>
    <span class="p">},</span>
    <span class="s2">"RedirectUrl"</span><span class="p">:</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s2">"CancelUrl"</span><span class="p">:</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s2">"DeviceID"</span><span class="p">:</span> <span class="s2">"D1234"</span><span class="p">,</span>
    <span class="s2">"CustomerIP"</span><span class="p">:</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>
    <span class="s2">"PartnerID"</span><span class="p">:</span> <span class="s2">"ID"</span><span class="p">,</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Purchase"</span><span class="p">,</span>
    <span class="s2">"LogoUrl"</span><span class="p">:</span> <span class="s2">"https://mysite.com/images/logo4eway.jpg"</span><span class="p">,</span>
    <span class="s2">"HeaderText"</span><span class="p">:</span> <span class="s2">"My Site Header Text"</span><span class="p">,</span>
    <span class="s2">"Language"</span><span class="p">:</span> <span class="s2">"EN"</span><span class="p">,</span>
    <span class="s2">"CustomerReadOnly"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"CustomView"</span><span class="p">:</span> <span class="s2">"bootstrap"</span><span class="p">,</span>
    <span class="s2">"VerifyCustomerPhone"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"VerifyCustomerEmail"</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>

</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>

<span class="n">customer</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Customer</span><span class="p">.</span><span class="nf">new</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">reference</span> <span class="o">=</span> <span class="s1">'A12345'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s1">'Mr.'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">company_name</span> <span class="o">=</span> <span class="s1">'Company'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">job_description</span> <span class="o">=</span> <span class="s1">'Ruby Developer'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">phone</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">mobile</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">fax</span> <span class="o">=</span> <span class="s1">'09 654 1234'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">url</span> <span class="o">=</span> <span class="s1">'http://www.ewaypayments.com'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">comments</span> <span class="o">=</span> <span class="s1">'customer comment'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">customer_device_ip</span> <span class="o">=</span> <span class="s1">'127.0.0.1'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">email</span> <span class="o">=</span> <span class="s1">'demo@example.org'</span>

<span class="n">address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">address</span><span class="p">.</span><span class="nf">street1</span> <span class="o">=</span> <span class="s1">'Level 5'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">street2</span> <span class="o">=</span> <span class="s1">'369 Queen Street'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">city</span> <span class="o">=</span> <span class="s1">'Sydney'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">state</span> <span class="o">=</span> <span class="s1">'NSW'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">postal_code</span> <span class="o">=</span> <span class="s1">'2000'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">address</span> <span class="o">=</span> <span class="n">address</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">customer</span> <span class="o">=</span> <span class="n">customer</span>

<span class="n">shipping_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">ShippingDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">shipping_address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">street1</span> <span class="o">=</span> <span class="s1">'Level 5'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">street2</span> <span class="o">=</span> <span class="s1">'369 Queen Street'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">city</span> <span class="o">=</span> <span class="s1">'Sydney'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">state</span> <span class="o">=</span> <span class="s1">'NSW'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">postal_code</span> <span class="o">=</span> <span class="s1">'2000'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">shipping_address</span> <span class="o">=</span> <span class="n">shipping_address</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">phone</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">shipping_method</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">ShippingMethod</span><span class="o">::</span><span class="no">LOW_COST</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">shipping_details</span> <span class="o">=</span> <span class="n">shipping_details</span>

<span class="n">line_item</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'12345678901234567890'</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 1'</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_item1</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'12345678901234567890'</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 1'</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_item2</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'123456789012'</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 2'</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_items</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">line_items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">line_item1</span><span class="p">)</span>
<span class="n">line_items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">line_item2</span><span class="p">)</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">line_items</span> <span class="o">=</span> <span class="n">line_items</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">options</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="s1">'Option1'</span><span class="p">)</span>
<span class="n">options</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="s1">'Option2'</span><span class="p">)</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">options</span> <span class="o">=</span> <span class="n">options</span>

<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_number</span> <span class="o">=</span> <span class="s1">'Inv 21540'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_description</span> <span class="o">=</span> <span class="s1">'Individual Invoice Description'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_reference</span> <span class="o">=</span> <span class="s1">'513456'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">currency_code</span> <span class="o">=</span> <span class="s1">'AUD'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">redirect_url</span> <span class="o">=</span> <span class="s1">'http://www.eway.com.au'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">cancel_url</span> <span class="o">=</span> <span class="s1">'http://www.eway.com.au'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">device_id</span> <span class="o">=</span> <span class="s1">'D1234'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">partner_id</span> <span class="o">=</span> <span class="s1">'ID'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">capture</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">logo_url</span> <span class="o">=</span> <span class="s1">'https://mysite.com/images/logo4eway.jpg'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">header_text</span> <span class="o">=</span> <span class="s1">'My Site Header Text'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">language</span> <span class="o">=</span> <span class="s1">'EN'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">customer_read_only</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">custom_view</span> <span class="o">=</span> <span class="s1">'bootstrap'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">verify_customer_phone</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">verify_customer_email</span> <span class="o">=</span> <span class="kp">false</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">PURCHASE</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CustomerIP**</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's IP address</td> 
      </tr> 
      <tr> 
       <td>Method</td> 
       <td>R</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The action to perform with this request (see <a href="#payment-methods">Payment Methods</a> for more information).<br>One of: <code>ProcessPayment</code>, <code>CreateTokenCustomer</code>, <code>UpdateTokenCustomer</code>, <code>TokenPayment</code>, <code>Authorise</code></td> 
      </tr> 
      <tr> 
       <td>TransactionType</td> 
       <td>R</td> 
       <td>Int</td> 
       <td>enum</td> 
       <td>The type of transaction you're performing (see <a href="#transaction-types">Transaction Types</a>).<br>One of: <code>Purchase</code>, <code>MOTO</code>, <code>Recurring</code></td> 
      </tr> 
      <tr> 
       <td>DeviceID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The identification name/number for the device or application used to process the transaction</td> 
      </tr> 
      <tr> 
       <td>PartnerID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The partner ID generated from an eWAY partner agreement</td> 
      </tr> 
      <tr> 
       <td>RedirectUrl</td> 
       <td>R</td> 
       <td>512</td> 
       <td>string, URL</td> 
       <td>The URL that the shared page redirects to after a payment is processed</td> 
      </tr> 
      <tr> 
       <td>CancelUrl</td> 
       <td>R</td> 
       <td>512</td> 
       <td>string, URL</td> 
       <td>The URL that the shared page redirects to if a customer cancels the transaction</td> 
      </tr> 
      <tr> 
       <td>LogoUrl</td> 
       <td>O</td> 
       <td>512</td> 
       <td>string, URL</td> 
       <td>The URL of the merchant's logo to display on the shared page. This must start with <code>https://</code>. If blank or omitted, the logo defined in the Shared Page settings in MYeWAY will be used.</td> 
      </tr> 
      <tr> 
       <td>HeaderText</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Short text description to be placed under the logo on the shared page. If blank or omitted, the text defined in the Shared Page settings in MYeWAY will be used.</td> 
      </tr> 
      <tr> 
       <td>Language</td> 
       <td>O</td> 
       <td>5</td> 
       <td>string</td> 
       <td>Language code determines the language that the shared page will be displayed in.<br>One of: <code>EN</code> (English, default), <code>ES</code> (Spanish)</td> 
      </tr> 
      <tr> 
       <td>CustomerReadOnly</td> 
       <td>O</td> 
       <td></td> 
       <td>boolean</td> 
       <td>When set to false, cardholders will be able to edit the information on the shared page, even if it's sent through in the server side request. To fetch the details the customer entered, do a <a href="#transaction-query">Transaction Query</a> once the transaction is complete.</td> 
      </tr> 
      <tr> 
       <td>CustomView</td> 
       <td>O</td> 
       <td></td> 
       <td>string</td> 
       <td>Set the theme of the Responsive Shared Page from 12 available themes:<br><code>Bootstrap</code>, <code>BootstrapAmelia</code>, <code>BootstrapCerulean</code>, <code>BootstrapCosmo</code>, <code>BootstrapCyborg</code>, <code>BootstrapFlatly</code>, <code>BootstrapJournal</code>, <code>BootstrapReadable</code>, <code>BootstrapSimplex</code>, <code>BootstrapSlate</code>, <code>BootstrapSpacelab</code>, <code>BootstrapUnited</code></td> 
      </tr> 
      <tr> 
       <td>VerifyCustomerPhone</td> 
       <td>O</td> 
       <td></td> 
       <td>boolean</td> 
       <td>Set whether the customer's phone number should be confirmed using Beagle Verify</td> 
      </tr> 
      <tr> 
       <td>VerifyCustomerEmail</td> 
       <td>O</td> 
       <td></td> 
       <td>boolean</td> 
       <td>Set whether the customer's email should be confirmed using Beagle Verify</td> 
      </tr> 
      <tr> 
       <td>Capture</td> 
       <td>O</td> 
       <td>6</td> 
       <td>boolean</td> 
       <td><strong>Rapid SDK Libraries Only</strong> Set to true to capture funds immediately (default), set to false to perform an <a href="#pre-auth">authorisation</a> and only hold funds.</td> 
      </tr> 
      <tr> 
       <td>SaveCustomer</td> 
       <td>O</td> 
       <td>6</td> 
       <td>boolean</td> 
       <td><strong>Rapid SDK Libraries Only</strong> Set to true to create a token customer when the transaction is complete</td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field types: R – Required, O – Optional</em> </p> 
    <p><em>1 Note that the eWAY AccessCode is appended as a querystring parameter to the RedirectURL – existing querystring parameters are preserved.</em> </p> 
    <p>**<em>When this field is present along with the Customer Country field, any transaction will be processed using Beagle Fraud Alerts</em></p> 
    <h4 id="payment">Payment</h4> 
    <p>This set of fields contains the details of the payment being processed. This section is required when the Method field is set to ProcessPayment or TokenPayment.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TotalAmount</td> 
       <td>R</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount of the transaction in the lowest denomination for the currency (e.g. a $27.00 transaction would have a TotalAmount value of '2700').<br>The value of this field must be 0 for the CreateTokenCustomer andUpdateTokenCustomer methods. This field is required when the Action is ProcessPayment or TokenPayment.</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>O</td> 
       <td>12</td> 
       <td>string</td> 
       <td>The merchant's invoice number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>InvoiceDescription</td> 
       <td>O</td> 
       <td>64</td> 
       <td>string</td> 
       <td>A short description of the purchase that the customer is making.</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>O</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction is to be processed in. If no value for this field is provided, the merchant's default currency is used. This should be in uppercase.<br>e.g. Australian Dollars = <code>AUD</code></td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="customer">Customer</h4> 
    <p>This set of fields contains the details of the merchant's customer. These are used when creating and updating token customers. </p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>C</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY-issued ID that represents the Token customer to be loaded for this action.<br><em>Required for UpdateTokenCustomer method</em></td> 
      </tr> 
      <tr> 
       <td>Reference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference for this customer.</td> 
      </tr> 
      <tr> 
       <td>Title†</td> 
       <td>C</td> 
       <td>5</td> 
       <td>string</td> 
       <td>The customer's title, empty string allowed, which will default to Mr.<br>One of: <code>Mr.</code>, <code>Ms.</code>, <code>Mrs.</code>, <code>Miss</code>, <code>Dr.</code>, <code>Sir.</code>, <code>Prof.</code></td> 
      </tr> 
      <tr> 
       <td>FirstName†</td> 
       <td>C</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name.</td> 
      </tr> 
      <tr> 
       <td>LastName†</td> 
       <td>C</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's company name.</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country†</td> 
       <td>C</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's country. This should be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>. This field must be lower case.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address, which must be correctly formatted if present</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's phone number.</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's mobile phone number.</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments the merchant wishes to add about the customer.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number.</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>O</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The customer's website, which must be correctly formatted if present.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field Types: O – Optional, C – Conditionally Required </p> 
    <p>† When creating a new Token customer, all conditional fields(†)are required </p> 
    <h4 id="shipping-address">Shipping Address</h4> 
    <p>The ShippingAddress section is optional. It is used by Beagle Fraud Alerts (Enterprise) to calculate a risk score for this transaction.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>ShippingMethod</td> 
       <td>C</td> 
       <td>16</td> 
       <td>long</td> 
       <td>The method used to ship the customer's order.<br>One of: <code>Unknown</code>, <code>LowCost</code>, <code>DesignatedByCustomer</code>, <code>International</code>, <code>Military</code>, <code>NextDay</code>, <code>StorePickup</code>, <code>TwoDayService</code>, <code>ThreeDayService</code>, <code>Other</code></td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The first name of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The last name of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address of the shipping location.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The shipping city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The shipping state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The shipping post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country†</td> 
       <td>C</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The shipping's country. This should be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>. This field must be lower case.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The shipping email address, which must be correctly formatted if present.</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The phone number of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The fax number of the shipping location.</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="items">Items</h4> 
    <p>The Items section is optional. If provided, it should contain a list of line items purchased by the customer, up to a maximum of 99 items. It is used by Beagle Fraud Alerts (Enterprise) to calculate a risk score for this transaction. Items have the following fields:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SKU</td> 
       <td>O</td> 
       <td>12</td> 
       <td>string</td> 
       <td>The stock keeping unit used to identify this line item</td> 
      </tr> 
      <tr> 
       <td>Description</td> 
       <td>O</td> 
       <td>26</td> 
       <td>string</td> 
       <td>A brief description of the product</td> 
      </tr> 
      <tr> 
       <td>Quantity</td> 
       <td>O</td> 
       <td>6</td> 
       <td>int</td> 
       <td>The purchased quantity</td> 
      </tr> 
      <tr> 
       <td>UnitCost</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The pre-tax cost per unit of the product in the lowest denomination</td> 
      </tr> 
      <tr> 
       <td>Tax</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The tax amount that applies to this line item in the lowest denomination</td> 
      </tr> 
      <tr> 
       <td>Total</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The total amount charged for this line item in the lowest denomination</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="options">Options</h4> 
    <p>This section is optional. Anything appearing in this section is not displayed to the customer, but it is returned to the merchant in the result. Up to 99 options can be defined. Each option has just one field:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Value</td> 
       <td>O</td> 
       <td>254</td> 
       <td>string</td> 
       <td>This field is not displayed to the customer but is returned in the result. Anything can be used here, which can be useful for tracking transactions. <em>Additional characters are truncated at 254</em></td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field types: O – Optional</em></p> 
    <h4 id="response-fields-descriptions">Response Fields Descriptions</h4> 
    <blockquote> 
     <p>Example Response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"SharedPaymentUrl"</span>: <span class="s2">"https://secure-au.sandbox.ewaypayments.com/sharedpage/sharedpayment?AccessCode=44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span>,
    <span class="s2">"AccessCode"</span>: <span class="s2">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"CardNumber"</span>: <span class="s2">""</span>,
        <span class="s2">"CardStartMonth"</span>: <span class="s2">""</span>,
        <span class="s2">"CardStartYear"</span>: <span class="s2">""</span>,
        <span class="s2">"CardIssueNumber"</span>: <span class="s2">""</span>,
        <span class="s2">"CardName"</span>: <span class="s2">""</span>,
        <span class="s2">"CardExpiryMonth"</span>: <span class="s2">""</span>,
        <span class="s2">"CardExpiryYear"</span>: <span class="s2">""</span>,
        <span class="s2">"IsActive"</span>: <span class="nb">false</span>,
        <span class="s2">"TokenCustomerID"</span>: null,
        <span class="s2">"Reference"</span>: <span class="s2">"A12345"</span>,
        <span class="s2">"Title"</span>: <span class="s2">"Mr."</span>,
        <span class="s2">"FirstName"</span>: <span class="s2">"John"</span>,
        <span class="s2">"LastName"</span>: <span class="s2">"Smith"</span>,
        <span class="s2">"CompanyName"</span>: <span class="s2">"Demo Shop 123"</span>,
        <span class="s2">"JobDescription"</span>: <span class="s2">"Developer"</span>,
        <span class="s2">"Street1"</span>: <span class="s2">"Level 5"</span>,
        <span class="s2">"Street2"</span>: <span class="s2">"369 Queen Street"</span>,
        <span class="s2">"City"</span>: <span class="s2">"Sydney"</span>,
        <span class="s2">"State"</span>: <span class="s2">"NSW"</span>,
        <span class="s2">"PostalCode"</span>: <span class="s2">"2000"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"au"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"demo@example.org"</span>,
        <span class="s2">"Phone"</span>: <span class="s2">"09 889 0986"</span>,
        <span class="s2">"Mobile"</span>: <span class="s2">"09 889 6542"</span>,
        <span class="s2">"Comments"</span>: <span class="s2">""</span>,
        <span class="s2">"Fax"</span>: <span class="s2">""</span>,
        <span class="s2">"Url"</span>: <span class="s2">"http://www.ewaypayments.com"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"TotalAmount"</span>: 1000,
        <span class="s2">"InvoiceNumber"</span>: <span class="s2">"Inv 21540"</span>,
        <span class="s2">"InvoiceDescription"</span>: <span class="s2">"Individual Invoice Description"</span>,
        <span class="s2">"InvoiceReference"</span>: <span class="s2">"513456"</span>,
        <span class="s2">"CurrencyCode"</span>: <span class="s2">"AUD"</span>
    <span class="o">}</span>,
    <span class="s2">"FormActionURL"</span>: <span class="s2">"https://secure-au.sandbox.ewaypayments.com/AccessCode/44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span>,
    <span class="s2">"CompleteCheckoutURL"</span>: null,
    <span class="s2">"Errors"</span>: null
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;CreateAccessCodeSharedResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;CreateAccessCodeSharedResult&gt;</span>
            <span class="nt">&lt;AccessCode&gt;</span>44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2<span class="nt">&lt;/AccessCode&gt;</span>
            <span class="nt">&lt;Customer&gt;</span>
               <span class="nt">&lt;TokenCustomerID</span> <span class="na">xsi:nil=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
               <span class="nt">&lt;Reference&gt;</span>A12345<span class="nt">&lt;/Reference&gt;</span>
               <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
               <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
               <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
               <span class="nt">&lt;CompanyName&gt;</span>Demo Shop 123<span class="nt">&lt;/CompanyName&gt;</span>
               <span class="nt">&lt;JobDescription&gt;</span>Developer<span class="nt">&lt;/JobDescription&gt;</span>
               <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
               <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
               <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
               <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
               <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
               <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
               <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
               <span class="nt">&lt;Mobile&gt;</span>0289712345<span class="nt">&lt;/Mobile&gt;</span>
               <span class="nt">&lt;Comments&gt;</span>Customer comments<span class="nt">&lt;/Comments&gt;</span>
               <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
               <span class="nt">&lt;Url&gt;</span>http://www.ewaypayments.com<span class="nt">&lt;/Url&gt;</span>
               <span class="nt">&lt;CardNumber/&gt;</span>
               <span class="nt">&lt;CardStartMonth/&gt;</span>
               <span class="nt">&lt;CardStartYear/&gt;</span>
               <span class="nt">&lt;CardIssueNumber/&gt;</span>
               <span class="nt">&lt;CardName/&gt;</span>
               <span class="nt">&lt;CardExpiryMonth/&gt;</span>
               <span class="nt">&lt;CardExpiryYear/&gt;</span>
               <span class="nt">&lt;IsActive&gt;</span>false<span class="nt">&lt;/IsActive&gt;</span>
            <span class="nt">&lt;/Customer&gt;</span>
            <span class="nt">&lt;Payment&gt;</span>
               <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
               <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
               <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
               <span class="nt">&lt;InvoiceReference&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceReference&gt;</span>
               <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
            <span class="nt">&lt;/Payment&gt;</span>
            <span class="nt">&lt;FormActionURL&gt;</span>https://secure-au.sandbox.ewaypayments.com/Process<span class="nt">&lt;/FormActionURL&gt;</span>            <span class="nt">&lt;SharedPaymentUrl&gt;</span>https://secure-au.sandbox.ewaypayments.com/sharedpage/sharedpayment?AccessCode=44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2<span class="nt">&lt;/SharedPaymentUrl&gt;</span>
         <span class="nt">&lt;/CreateAccessCodeSharedResult&gt;</span>
      <span class="nt">&lt;/CreateAccessCodeSharedResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available $response properties </span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">())</span> <span class="p">{</span>
    <span class="c1">// Redirect to the Responsive Shared Page </span>    <span class="nb">header</span><span class="p">(</span><span class="s1">'Location: '</span><span class="o">.</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">SharedPaymentUrl</span><span class="p">);</span>
    <span class="k">die</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Error: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nv">$error</span><span class="p">)</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">().</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
    <span class="c1">// Redirect the user to this location</span>
    <span class="n">$redirectURL</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getSharedPaymentUrl</span><span class="o">();</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Response Messages: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">,</span> <span class="s">"en"</span><span class="o">));</span>
    <span class="o">};</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Errors</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Response</span><span class="p">.</span><span class="nf">Redirect</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">SharedPaymentUrl</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">response</span><span class="p">.</span><span class="n">Errors</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Response Messages: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">redirectURL</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'SharedPaymentUrl'</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="c1"># See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">empty?</span>
  <span class="n">redirect_url</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">shared_payment_url</span>
<span class="k">else</span>
  <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">"Response message: "</span><span class="o">+</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">user_display_message</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>

</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SharedPaymentUrl</td> 
       <td>512</td> 
       <td>String</td> 
       <td>The URL to redirect the customer to enter their card details</td> 
      </tr> 
      <tr> 
       <td>AccessCode</td> 
       <td>512</td> 
       <td>String</td> 
       <td>A unique Access Code that is used to identify this transaction with Rapid API. This code will need to be present for all future requests associated with this transaction</td> 
      </tr> 
      <tr> 
       <td>Errors</td> 
       <td>512</td> 
       <td>String</td> 
       <td>Any error codes associates with the request, these can be looked up in the <a href="#response-amp-error-codes">Response Codes</a> section.</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="customer-2">Customer</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CardNumber</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The Token customer’s masked credit card number</td> 
      </tr> 
      <tr> 
       <td>CardName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The Token customer’s card holder name</td> 
      </tr> 
      <tr> 
       <td>CardExpiryMonth</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer’s card expiry month</td> 
      </tr> 
      <tr> 
       <td>CardExpiryYear</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer’s card expiry year</td> 
      </tr> 
      <tr> 
       <td>CardStartMonth*</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer’s card valid from month</td> 
      </tr> 
      <tr> 
       <td>CardStartYear*</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer’s card valid from year</td> 
      </tr> 
      <tr> 
       <td>CardIssueNumber*</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer’s card issue number</td> 
      </tr> 
      <tr> 
       <td>IsActive</td> 
       <td></td> 
       <td>boolean</td> 
       <td>If the Token customer is active</td> 
      </tr> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>16</td> 
       <td>long</td> 
       <td>The Token customer’s unique Token Customer ID <em>Only returned if included in the CreateAccessCodeRequest on TokenPayment and UpdateTokenCustomer methods</em></td> 
      </tr> 
      <tr> 
       <td>Reference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant’s reference for this customer</td> 
      </tr> 
      <tr> 
       <td>Title</td> 
       <td>5</td> 
       <td>string</td> 
       <td>The customer's title.</td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name.</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's company name.</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's country formatted as a two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's phone number.</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's mobile phone number.</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments merchant added about the customer.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number.</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The customer's website.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>*<em>Applies to UK only</em></p> 
    <h4 id="payment-2">Payment</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount of the transaction in cents, as passed in original request.</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>16</td> 
       <td>string</td> 
       <td>The merchant's invoice number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>InvoiceDescription</td> 
       <td>64</td> 
       <td>string</td> 
       <td>A short description of the purchase that the customer is making.</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction is to be processed in.</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="step-2-redirect-customer-to-eway">Step 2: Redirect customer to eWAY</h3> 
    <p>Using the <code>SharedPaymentUrl</code> you must now redirect the customer's browser to eWAY to process their credit card details.</p> 
    <aside class="notice">
      Note that if no settings were provided in `LogoUrl`, `HeaderText`, `Language` and `CustomerReadOnly` then their values will be pulled from your MYeWAY Shared Page settings. If there are no values set in my MYeWAY they will default to the standard shared page values. 
    </aside> 
    <h3 id="step-3-request-results">Step 3: Request results</h3> 
    <p>Once the customer has been redirected to the final page (as specified by the <code>RedirectUrl</code>), the merchant will need to request the results from eWAY by calling the GetAccessCodeResult method of the Rapid API web service. </p> 
    <p>The Access Code will be appended to the Redirect URL as a query string (i.e. <code>?AccessCode=</code>).</p> 
    <p>If <code>CustomerReadOnly</code> was set to <code>false</code>, the details the customer entered on the Responsive Shared Page can be fetched using <a href="#transaction-query">Transaction Query</a>.</p> 
    <aside class="notice">
      An Access Code can only be queried for one week after it has been created. After that [Transaction Query](#transaction-query) can be used to fetch the results. 
    </aside> 
    <h4 id="live-endpoints-2">Live endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.ewaypayments.com/AccessCode/{AccessCode}</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.ewaypayments.com/GetAccessCodeResult.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.ewaypayments.com/GetAccessCodeResult.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="sandbox-endpoints-2">Sandbox endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.sandbox.ewaypayments.com/AccessCode/{AccessCode}</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/GetAccessCodeResult.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/GetAccessCodeResult.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="request-field-descriptions-2">Request Field Descriptions</h4> 
    <blockquote> 
     <p>Example request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/AccessCode/44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;GetAccessCodeResult</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;request&gt;</span>
            <span class="nt">&lt;AccessCode&gt;</span>44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2<span class="nt">&lt;/AccessCode&gt;</span>
         <span class="nt">&lt;/request&gt;</span>
      <span class="nt">&lt;/GetAccessCodeResult&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">queryTransaction</span><span class="p">(</span><span class="s1">'44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2'</span><span class="p">);</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">QueryTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">queryTransaction</span><span class="o">(</span><span class="s">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">QueryTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">QueryTransaction</span><span class="p">(</span><span class="s">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">queryTransaction</span><span class="p">(</span><span class="s2">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">query_transaction_by_access_code</span><span class="p">(</span><span class="s1">'44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2'</span><span class="p">)</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AccessCode</td> 
       <td>R</td> 
       <td>512</td> 
       <td>string</td> 
       <td>Access Code returned in Step 1.</td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field Types: R – Required</em> </p> 
    <p>If a transaction has been processed, the response received from eWAY will contain all relevant details such as the bank authorisation code and a unique number that identifies the transaction in eWAY's database (<code>TransactionID</code>). </p> 
    <p>If a Token customer was involved, the ID that eWAY uses to identify that customer will also be returned. </p> 
    <p>All responses will contain a response code and response message that represents the result of the action performed. </p> 
    <p>If applicable, the response will also contain information about the payment that has been processed, as well as the results of any Beagle risk analysis that was performed.</p> 
    <h3 id="response-field-descriptions">Response Field Descriptions</h3> 
    <blockquote> 
     <p>Example response </p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"AccessCode"</span>: <span class="s2">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span>,
    <span class="s2">"AuthorisationCode"</span>: <span class="s2">"522587"</span>,
    <span class="s2">"ResponseCode"</span>: <span class="s2">"00"</span>,
    <span class="s2">"ResponseMessage"</span>: <span class="s2">"A2000"</span>,
    <span class="s2">"InvoiceNumber"</span>: <span class="s2">"Inv 21540"</span>,
    <span class="s2">"InvoiceReference"</span>: <span class="s2">"513456"</span>,
    <span class="s2">"TotalAmount"</span>: 1000,
    <span class="s2">"TransactionID"</span>: 11259580,
    <span class="s2">"TransactionStatus"</span>: <span class="nb">true</span>,
    <span class="s2">"TokenCustomerID"</span>: null,
    <span class="s2">"BeagleScore"</span>: 0,
    <span class="s2">"Options"</span>: <span class="o">[{</span>
        <span class="s2">"Value"</span>: <span class="s2">"Option1"</span>
    <span class="o">}</span>, <span class="o">{</span>
        <span class="s2">"Value"</span>: <span class="s2">"Option2"</span>
    <span class="o">}]</span>,
    <span class="s2">"Verification"</span>: <span class="o">{</span>
        <span class="s2">"CVN"</span>: 0,
        <span class="s2">"Address"</span>: 0,
        <span class="s2">"Email"</span>: 0,
        <span class="s2">"Mobile"</span>: 0,
        <span class="s2">"Phone"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"BeagleVerification"</span>: <span class="o">{</span>
        <span class="s2">"Email"</span>: 0,
        <span class="s2">"Phone"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"Errors"</span>: null
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;GetAccessCodeResultResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;GetAccessCodeResultResult&gt;</span>
            <span class="nt">&lt;AccessCode&gt;</span>44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2<span class="nt">&lt;/AccessCode&gt;</span>
            <span class="nt">&lt;AuthorisationCode&gt;</span>522587<span class="nt">&lt;/AuthorisationCode&gt;</span>
            <span class="nt">&lt;ResponseCode&gt;</span>00<span class="nt">&lt;/ResponseCode&gt;</span>
            <span class="nt">&lt;ResponseMessage&gt;</span>A2000<span class="nt">&lt;/ResponseMessage&gt;</span>
            <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
            <span class="nt">&lt;InvoiceReference&gt;</span>513456<span class="nt">&lt;/InvoiceReference&gt;</span>
            <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
            <span class="nt">&lt;TransactionID&gt;</span>11259580<span class="nt">&lt;/TransactionID&gt;</span>
            <span class="nt">&lt;TransactionStatus&gt;</span>true<span class="nt">&lt;/TransactionStatus&gt;</span>
            <span class="nt">&lt;TokenCustomerID</span> <span class="na">xsi:nil=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;BeagleScore&gt;</span>0<span class="nt">&lt;/BeagleScore&gt;</span>
            <span class="nt">&lt;Options&gt;</span>
               <span class="nt">&lt;Option&gt;</span>
                  <span class="nt">&lt;Value&gt;</span>Option1<span class="nt">&lt;/Value&gt;</span>
               <span class="nt">&lt;/Option&gt;</span>
               <span class="nt">&lt;Option&gt;</span>
                  <span class="nt">&lt;Value&gt;</span>Option2<span class="nt">&lt;/Value&gt;</span>
               <span class="nt">&lt;/Option&gt;</span>
            <span class="nt">&lt;/Options&gt;</span>
            <span class="nt">&lt;Verification&gt;</span>
               <span class="nt">&lt;CVN&gt;</span>Unchecked<span class="nt">&lt;/CVN&gt;</span>
               <span class="nt">&lt;Address&gt;</span>Unchecked<span class="nt">&lt;/Address&gt;</span>
               <span class="nt">&lt;Email&gt;</span>Unchecked<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Mobile&gt;</span>Unchecked<span class="nt">&lt;/Mobile&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>Unchecked<span class="nt">&lt;/Phone&gt;</span>
            <span class="nt">&lt;/Verification&gt;</span>
            <span class="nt">&lt;BeagleVerification&gt;</span>
               <span class="nt">&lt;Email&gt;</span>NotVerified<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>NotVerified<span class="nt">&lt;/Phone&gt;</span>
            <span class="nt">&lt;/BeagleVerification&gt;</span>
         <span class="nt">&lt;/GetAccessCodeResultResult&gt;</span>
      <span class="nt">&lt;/GetAccessCodeResultResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available properties </span>
<span class="nv">$transactionResponse</span> <span class="o">=</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">Transactions</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$transactionResponse</span><span class="o">-&gt;</span><span class="na">TransactionStatus</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Payment successful! ID: '</span><span class="o">.</span><span class="nv">$transactionResponse</span><span class="o">-&gt;</span><span class="na">TransactionID</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nv">$errors</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span> <span class="nv">$transactionResponse</span><span class="o">-&gt;</span><span class="na">ResponseMessage</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$errors</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Payment failed: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nb">trim</span><span class="p">(</span><span class="nv">$error</span><span class="p">))</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">isStatus</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Payment successful! ID: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getTransactionID</span><span class="o">());</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="n">String</span><span class="o">[]</span> <span class="n">errorcodes</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getProcessingDetails</span><span class="o">().</span><span class="na">getResponseMessage</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s">","</span><span class="o">);</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">errorcodes</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Response Messages: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">.</span><span class="na">trim</span><span class="o">(),</span> <span class="s">"en"</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="k">if</span> <span class="p">((</span><span class="kt">bool</span><span class="p">)</span><span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">Status</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Payment successful! ID: "</span> <span class="p">+</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">TransactionID</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="kt">string</span><span class="p">[]</span> <span class="n">errorCodes</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">ProcessingDetails</span><span class="p">.</span><span class="nf">getResponseMessages</span><span class="p">();</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">errorCodes</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Response Message: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].TransactionStatus'</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Payment successful! ID: '</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].TransactionID'</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">errorCodes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].ResponseMessage'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">);</span>
        <span class="nx">errorCodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Message: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>

</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">status?</span>
  <span class="nb">puts</span> <span class="s2">"Payment successful! ID: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">transaction_id</span><span class="p">.</span><span class="nf">to_s</span><span class="si">}</span><span class="s2">"</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"Failed! Message </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">processing_details</span><span class="p">.</span><span class="nf">response_message</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>

</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AccessCode</td> 
       <td>512</td> 
       <td>string</td> 
       <td>An echo of the access code used in the request</td> 
      </tr> 
      <tr> 
       <td>AuthorisationCode</td> 
       <td>6</td> 
       <td>string</td> 
       <td>The authorisation code for this transaction as returned by the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseCode</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The two digit response code returned from the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseMessage</td> 
       <td>512</td> 
       <td>string</td> 
       <td>One or more <a href="#response-amp-error-codes">Response Codes</a> that describes the result of the action performed.<br>If a Beagle Alert is triggered, this may contain multiple codes: <br>e.g. <code>D4405, F7003</code></td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the merchant's invoice number for this transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the merchant's reference number for this transaction</td> 
      </tr> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount that was authorised for this transaction. If card surcharge is enabled, the TotalAmount will include the surcharge.</td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>8</td> 
       <td>int</td> 
       <td>A unique identifier that represents the transaction in eWAY's system</td> 
      </tr> 
      <tr> 
       <td>TransactionStatus</td> 
       <td>16</td> 
       <td>boolean</td> 
       <td>A Boolean value that indicates whether the transaction was successful or not</td> 
      </tr> 
      <tr> 
       <td>TokenCustomerID‡</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY-issued ID that represents the Token customer that was loaded or created for this transaction (if applicable)</td> 
      </tr> 
      <tr> 
       <td>BeagleScore**</td> 
       <td>6</td> 
       <td>string</td> 
       <td>Fraud score representing the estimated probability that the order is fraud. A value between 0.01 to 100.00 representing the % risk the transaction is fraudulent. On Sandbox the score will be -1 unless it is configured to fail for Risk Score, in which case the value will be 101.</td> 
      </tr> 
      <tr> 
       <td>Errors</td> 
       <td>512</td> 
       <td>string</td> 
       <td>A comma separated list of any error encountered, these can be looked up in the <a href="#response-amp-error-codes">Response Codes</a> section.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>*<em>This field is only present if the transaction was processed using Beagle Free</em> </p> 
    <p>‡ <em>This field is only present if processing a Token transaction, creating or updating a Token customer</em> </p> 
    <h4 id="options-2">Options</h4> 
    <p>The Options collection passed in the original request will be echoed back in the response here.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Value</td> 
       <td>255</td> 
       <td>string</td> 
       <td>An echo of the option submitted for this transaction</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="verification">Verification</h4> 
    <p>These fields are currently unused</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CVN</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Address</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="beagle-verification">Beagle Verification</h3> 
    <p>This will contain the results of the Beagle Verification fraud checks that may have been performed.</p> 
    <p>For all fields, the available return options are <code>NotVerified</code>, <code>Attempted</code>, <code>Verified</code> or <code>Failed</code>.</p> 
    <p>When using the REST API, a number will be returned which maps as follows:</p> 
    <ul> 
     <li>0 = NotVerified</li> 
     <li>1 = Attempted</li> 
     <li>2 = Verified</li> 
     <li>3 = Failed</li> 
    </ul> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Email</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The result of the Email verification</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The result of the Phone verification</td> 
      </tr> 
     </tbody>
    </table> 
    <h2 id="iframe">IFrame</h2> 
    <p>The Responsive Shared Page can be displayed on your site as a modal iframe. This provides the security and reduced PCI compliance scope of the Responsive Shared Page with the advantage of customers never leaving your site.</p> 
    <p>Implementing the Rapid IFrame API is a three step process:</p> 
    <ol> 
     <li>Pass the customer and transaction details to eWAY to generate a Shared Payment URL.</li> 
     <li>Use the eWAY JavaScript to display the eWAY Rapid IFrame to accept the payment.</li> 
     <li>Once the transaction has been processed, request the results from eWAY using the Access Code.</li> 
    </ol> 
    <h3 id="step-1-create-a-shared-payment-url">Step 1: Create a Shared Payment URL</h3> 
    <p>To request a Shared Payment URL, make a server-side call to the CreateAccessCodeShared method of Rapid API. The service will respond with a Shared Payment URL, an Access Code and return the customer data.</p> 
    <p>If the request involves an existing Token customer, their details will be returned in the response including the masked credit card number. </p> 
    <p>If Token Payments are not in use for this transaction, the returned customer data will be an echo of the data in the request.</p> 
    <h4 id="live-endpoints">Live endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.ewaypayments.com/AccessCodesShared</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.ewaypayments.com/CreateAccessCodeShared.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.ewaypayments.com/CreateAccessCodeShared.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="sandbox-endpoints">Sandbox endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.sandbox.ewaypayments.com/AccessCodesShared</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/CreateAccessCodeShared.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/CreateAccessCodeShared.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="request-field-descriptions">Request Field Descriptions</h4> 
    <blockquote> 
     <p>Basic Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Payment": { "TotalAmount": 100 }, "RedirectUrl": "http://www.example.org", "CancelUrl": "http://www.example.org", "Method": "ProcessPayment", "TransactionType": "Purchase" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/AccessCodesShared
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;CreateAccessCodeShared</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;RedirectUrl&gt;</span>http://www.example.org<span class="nt">&lt;/RedirectUrl&gt;</span>
                <span class="nt">&lt;CancelUrl&gt;</span>http://www.example.org<span class="nt">&lt;/CancelUrl&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/CreateAccessCodeShared&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'RedirectUrl'</span> <span class="o">=&gt;</span> <span class="s1">'http://www.eway.com.au'</span><span class="p">,</span>
    <span class="s1">'CancelUrl'</span> <span class="o">=&gt;</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">PURCHASE</span><span class="p">,</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setRedirectURL</span><span class="o">(</span><span class="s">"http://www.eway.com.au"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCancelURL</span><span class="o">(</span><span class="s">"http://www.eway.com.au"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Purchase</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">ResponsiveShared</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span>
    <span class="p">},</span>
    <span class="n">RedirectURL</span> <span class="p">=</span> <span class="s">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="n">CancelURL</span> <span class="p">=</span> <span class="s">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Purchase</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">ResponsiveShared</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">100</span>
    <span class="p">},</span>
    <span class="s2">"RedirectUrl"</span><span class="p">:</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s2">"CancelUrl"</span><span class="p">:</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Purchase"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>

</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">redirect_url</span> <span class="o">=</span> <span class="s1">'http://www.eway.com.au'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">cancel_url</span> <span class="o">=</span> <span class="s1">'http://www.eway.com.au'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">PURCHASE</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>
</code></pre> 
    <blockquote> 
     <p>Complete Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Customer": { "Reference": "A12345", "Title": "Mr.", "FirstName": "John", "LastName": "Smith", "CompanyName": "Demo Shop 123", "JobDescription": "Developer", "Street1": "Level 5", "Street2": "369 Queen Street", "City": "Sydney", "State": "NSW", "PostalCode": "2000", "Country": "au", "Phone": "09 889 0986", "Mobile": "09 889 6542", "Email": "demo@example.org", "Url": "http://www.eway.com.au" }, "ShippingAddress": { "ShippingMethod": "NextDay", "FirstName": "John", "LastName": "Smith", "Street1": "Level 5", "Street2": "369 Queen Street", "City": "Sydney", "State": "NSW", "Country": "au", "PostalCode": "2000", "Phone": "09 889 0986" }, "Items": [ { "SKU": "12345678901234567890", "Description": "Item Description 1", "Quantity": 1, "UnitCost": 400, "Tax": 100, "Total": 500 }, { "SKU": "123456789012", "Description": "Item Description 2", "Quantity": 1, "UnitCost": 400, "Tax": 100, "Total": 500 } ], "Options": [ { "Value": "Option1" }, { "Value": "Option2" } ], "Payment": { "TotalAmount": 1000, "InvoiceNumber": "Inv 21540", "InvoiceDescription": "Individual Invoice Description", "InvoiceReference": "513456", "CurrencyCode": "AUD" }, "RedirectUrl": "http://www.example.org", "CancelUrl": "http://www.example.org", "Method": "ProcessPayment", "DeviceID": "D1234", "CustomerIP": "127.0.0.1", "PartnerID": "ID", "TransactionType": "Purchase", "LogoUrl": "https://mysite.com/images/logo4eway.jpg", "Language": "EN", "CustomerReadOnly": true }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/AccessCodesShared
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;CreateAccessCodeShared</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Customer&gt;</span>
                    <span class="nt">&lt;Reference&gt;</span>A12345<span class="nt">&lt;/Reference&gt;</span>
                    <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;CompanyName&gt;</span>Demo Shop 123<span class="nt">&lt;/CompanyName&gt;</span>
                    <span class="nt">&lt;JobDescription&gt;</span>Developer<span class="nt">&lt;/JobDescription&gt;</span>
                    <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                    <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                    <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                    <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                    <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
                    <span class="nt">&lt;Mobile&gt;</span>0289712345<span class="nt">&lt;/Mobile&gt;</span>
                    <span class="nt">&lt;Comments&gt;</span>Customer comments<span class="nt">&lt;/Comments&gt;</span>
                    <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
                    <span class="nt">&lt;Url&gt;</span>http://www.ewaypayments.com<span class="nt">&lt;/Url&gt;</span>
                <span class="nt">&lt;/Customer&gt;</span>
                <span class="nt">&lt;ShippingAddress&gt;</span>
                    <span class="nt">&lt;ShippingMethod&gt;</span>NextDay<span class="nt">&lt;/ShippingMethod&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                    <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                    <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                    <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                    <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
                    <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
                <span class="nt">&lt;/ShippingAddress&gt;</span>
                <span class="nt">&lt;Items&gt;</span>
                    <span class="nt">&lt;LineItem&gt;</span>
                        <span class="nt">&lt;SKU&gt;</span>12345678901234567890<span class="nt">&lt;/SKU&gt;</span>
                        <span class="nt">&lt;Description&gt;</span>Item Description 1<span class="nt">&lt;/Description&gt;</span>
                        <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
                        <span class="nt">&lt;UnitCost&gt;</span>400<span class="nt">&lt;/UnitCost&gt;</span>
                        <span class="nt">&lt;Tax&gt;</span>100<span class="nt">&lt;/Tax&gt;</span>
                        <span class="nt">&lt;Total&gt;</span>500<span class="nt">&lt;/Total&gt;</span>
                    <span class="nt">&lt;/LineItem&gt;</span>
                    <span class="nt">&lt;LineItem&gt;</span>
                        <span class="nt">&lt;SKU&gt;</span>123456789012<span class="nt">&lt;/SKU&gt;</span>
                        <span class="nt">&lt;Description&gt;</span>Item Description 2<span class="nt">&lt;/Description&gt;</span>
                        <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
                        <span class="nt">&lt;UnitCost&gt;</span>400<span class="nt">&lt;/UnitCost&gt;</span>
                        <span class="nt">&lt;Tax&gt;</span>100<span class="nt">&lt;/Tax&gt;</span>
                        <span class="nt">&lt;Total&gt;</span>500<span class="nt">&lt;/Total&gt;</span>
                    <span class="nt">&lt;/LineItem&gt;</span>
                <span class="nt">&lt;/Items&gt;</span>
                <span class="nt">&lt;Options&gt;</span>
                    <span class="nt">&lt;Option&gt;</span>
                        <span class="nt">&lt;Value&gt;</span>Option1<span class="nt">&lt;/Value&gt;</span>
                    <span class="nt">&lt;/Option&gt;</span>
                    <span class="nt">&lt;Option&gt;</span>
                        <span class="nt">&lt;Value&gt;</span>Option2<span class="nt">&lt;/Value&gt;</span>
                    <span class="nt">&lt;/Option&gt;</span>
                <span class="nt">&lt;/Options&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                    <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
                    <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
                    <span class="nt">&lt;InvoiceReference&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceReference&gt;</span>
                    <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;RedirectUrl&gt;</span>http://www.example.org<span class="nt">&lt;/RedirectUrl&gt;</span>
                <span class="nt">&lt;CancelUrl&gt;</span>http://www.example.org<span class="nt">&lt;/CancelUrl&gt;</span>
                <span class="nt">&lt;CustomerIP&gt;</span>127.0.0.1<span class="nt">&lt;/CustomerIP&gt;</span>
                <span class="nt">&lt;DeviceID&gt;</span>D1234<span class="nt">&lt;/DeviceID&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
                <span class="nt">&lt;CustomerReadOnly&gt;</span>true<span class="nt">&lt;/CustomerReadOnly&gt;</span>
                <span class="nt">&lt;LogoUrl&gt;</span>https://mysite.com/images/logo4eway.jpg<span class="nt">&lt;/LogoUrl&gt;</span>
                <span class="nt">&lt;Language&gt;</span>EN<span class="nt">&lt;/Language&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/CreateAccessCodeShared&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Customer'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'Reference'</span> <span class="o">=&gt;</span> <span class="s1">'A12345'</span><span class="p">,</span>
        <span class="s1">'Title'</span> <span class="o">=&gt;</span> <span class="s1">'Mr.'</span><span class="p">,</span>
        <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
        <span class="s1">'CompanyName'</span> <span class="o">=&gt;</span> <span class="s1">'Demo Shop 123'</span><span class="p">,</span>
        <span class="s1">'JobDescription'</span> <span class="o">=&gt;</span> <span class="s1">'Developer'</span><span class="p">,</span>
        <span class="s1">'Street1'</span> <span class="o">=&gt;</span> <span class="s1">'Level 5'</span><span class="p">,</span>
        <span class="s1">'Street2'</span> <span class="o">=&gt;</span> <span class="s1">'369 Queen Street'</span><span class="p">,</span>
        <span class="s1">'City'</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span><span class="p">,</span>
        <span class="s1">'State'</span> <span class="o">=&gt;</span> <span class="s1">'NSW'</span><span class="p">,</span>
        <span class="s1">'PostalCode'</span> <span class="o">=&gt;</span> <span class="s1">'2000'</span><span class="p">,</span>
        <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
        <span class="s1">'Phone'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 0986'</span><span class="p">,</span>
        <span class="s1">'Mobile'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 6542'</span><span class="p">,</span>
        <span class="s1">'Email'</span> <span class="o">=&gt;</span> <span class="s1">'demo@example.org'</span><span class="p">,</span>
        <span class="s2">"Url"</span> <span class="o">=&gt;</span> <span class="s2">"http://www.ewaypayments.com"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'ShippingAddress'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'ShippingMethod'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\ShippingMethod</span><span class="o">::</span><span class="na">NEXT_DAY</span><span class="p">,</span>
        <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
        <span class="s1">'Street1'</span> <span class="o">=&gt;</span> <span class="s1">'Level 5'</span><span class="p">,</span>
        <span class="s1">'Street2'</span> <span class="o">=&gt;</span> <span class="s1">'369 Queen Street'</span><span class="p">,</span>
        <span class="s1">'City'</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span><span class="p">,</span>
        <span class="s1">'State'</span> <span class="o">=&gt;</span> <span class="s1">'NSW'</span><span class="p">,</span>
        <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
        <span class="s1">'PostalCode'</span> <span class="o">=&gt;</span> <span class="s1">'2000'</span><span class="p">,</span>
        <span class="s1">'Phone'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 0986'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'Items'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'SKU'</span> <span class="o">=&gt;</span> <span class="s1">'12345678901234567890'</span><span class="p">,</span>
            <span class="s1">'Description'</span> <span class="o">=&gt;</span> <span class="s1">'Item Description 1'</span><span class="p">,</span>
            <span class="s1">'Quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">'UnitCost'</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">'Tax'</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
            <span class="c1">// Total is calculated automatically </span>        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'SKU'</span> <span class="o">=&gt;</span> <span class="s1">'123456789012'</span><span class="p">,</span>
            <span class="s1">'Description'</span> <span class="o">=&gt;</span> <span class="s1">'Item Description 2'</span><span class="p">,</span>
            <span class="s1">'Quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">'UnitCost'</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">'Tax'</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">'Options'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'Value'</span> <span class="o">=&gt;</span> <span class="s1">'Option1'</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'Value'</span> <span class="o">=&gt;</span> <span class="s1">'Option2'</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
        <span class="s1">'InvoiceNumber'</span> <span class="o">=&gt;</span> <span class="s1">'Inv 21540'</span><span class="p">,</span>
        <span class="s1">'InvoiceDescription'</span> <span class="o">=&gt;</span> <span class="s1">'Individual Invoice Description'</span><span class="p">,</span>
        <span class="s1">'InvoiceReference'</span> <span class="o">=&gt;</span> <span class="s1">'513456'</span><span class="p">,</span>
        <span class="s1">'CurrencyCode'</span> <span class="o">=&gt;</span> <span class="s1">'AUD'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'RedirectUrl'</span> <span class="o">=&gt;</span> <span class="s1">'http://www.example.org'</span><span class="p">,</span>
    <span class="s1">'CancelUrl'</span> <span class="o">=&gt;</span> <span class="s2">"http://www.example.org"</span><span class="p">,</span>
    <span class="s1">'DeviceID'</span> <span class="o">=&gt;</span> <span class="s1">'D1234'</span><span class="p">,</span>
    <span class="s1">'CustomerIP'</span> <span class="o">=&gt;</span> <span class="s1">'127.0.0.1'</span><span class="p">,</span>
    <span class="s1">'PartnerID'</span> <span class="o">=&gt;</span> <span class="s1">'ID'</span><span class="p">,</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">PURCHASE</span><span class="p">,</span>
    <span class="s1">'Capture'</span> <span class="o">=&gt;</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s1">'LogoUrl'</span> <span class="o">=&gt;</span> <span class="s1">'https://mysite.com/images/logo4eway.jpg'</span><span class="p">,</span>
    <span class="s1">'Language'</span> <span class="o">=&gt;</span> <span class="s1">'EN'</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Customer</span><span class="o">();</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setReference</span><span class="o">(</span><span class="s">"A12345"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Mr."</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCompanyName</span><span class="o">(</span><span class="s">"eWay"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setJobDescription</span><span class="o">(</span><span class="s">"Java Developer"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"09 889 0986"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setMobile</span><span class="o">(</span><span class="s">"09 889 6542"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setUrl</span><span class="o">(</span><span class="s">"http://ewaypayments.com"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCustomerDeviceIP</span><span class="o">(</span><span class="s">"127.0.0.1"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"demo@example.org"</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address</span><span class="o">.</span><span class="na">setStreet1</span><span class="o">(</span><span class="s">"Level 5"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setStreet2</span><span class="o">(</span><span class="s">"369 Queen Street"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Sydney"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"NSW"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"2000"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="n">address</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCustomer</span><span class="o">(</span><span class="n">customer</span><span class="o">);</span>

<span class="n">ShippingDetails</span> <span class="n">shippingDetail</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ShippingDetails</span><span class="o">();</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"09 889 0986"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setShippingMethod</span><span class="o">(</span><span class="n">ShippingMethod</span><span class="o">.</span><span class="na">LowCost</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">shipAddress</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setStreet1</span><span class="o">(</span><span class="s">"Level 5"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setStreet2</span><span class="o">(</span><span class="s">"369 Queen Street"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Sydney"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"NSW"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"2000"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setShippingAddress</span><span class="o">(</span><span class="n">shipAddress</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setShippingDetails</span><span class="o">(</span><span class="n">shippingDetail</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">LineItem</span><span class="o">&gt;</span> <span class="n">items</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">LineItem</span> <span class="n">item1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LineItem</span><span class="o">();</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setSku</span><span class="o">(</span><span class="s">"12345678901234567890"</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Item Description 1"</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setUnitCost</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
<span class="n">items</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item1</span><span class="o">);</span>

<span class="n">LineItem</span> <span class="n">item2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LineItem</span><span class="o">();</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setSku</span><span class="o">(</span><span class="s">"123456789012"</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Item Description 2"</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setUnitCost</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
<span class="n">items</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item2</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setLineItems</span><span class="o">(</span><span class="n">items</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">options</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Option1"</span><span class="o">);</span>
<span class="n">options</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Option2"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setOptions</span><span class="o">(</span><span class="n">options</span><span class="o">);</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setCurrencyCode</span><span class="o">(</span><span class="s">"AUD"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceDescription</span><span class="o">(</span><span class="s">"Individual Invoice Description"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceNumber</span><span class="o">(</span><span class="s">"Inv 21540"</span><span class="o">);</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setInvoiceReference</span><span class="o">(</span><span class="s">"513456"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setPartnerID</span><span class="o">(</span><span class="s">"ID"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCapture</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setRedirectURL</span><span class="o">(</span><span class="s">"http://www.eway.com.au"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCancelURL</span><span class="o">(</span><span class="s">"http://www.eway.com.au"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setDeviceID</span><span class="o">(</span><span class="s">"D1234"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Purchase</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setSaveCustomer</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">ResponsiveShared</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Customer</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Reference</span> <span class="p">=</span> <span class="s">"A12345"</span><span class="p">,</span>
        <span class="n">Title</span> <span class="p">=</span> <span class="s">"Mr."</span><span class="p">,</span>
        <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
        <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
        <span class="n">CompanyName</span> <span class="p">=</span> <span class="s">"Demo Shop 123"</span><span class="p">,</span>
        <span class="n">JobDescription</span> <span class="p">=</span> <span class="s">"C# Developer"</span><span class="p">,</span>
        <span class="n">Phone</span> <span class="p">=</span> <span class="s">"09 889 0986"</span><span class="p">,</span>
        <span class="n">Mobile</span> <span class="p">=</span> <span class="s">"09 889 6542"</span><span class="p">,</span>
        <span class="n">Url</span> <span class="p">=</span> <span class="s">"http://www.ewaypayments.com"</span><span class="p">,</span>
        <span class="n">Address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Street1</span> <span class="p">=</span> <span class="s">"Level 5"</span><span class="p">,</span>
            <span class="n">Street2</span> <span class="p">=</span> <span class="s">"369 Queen Street"</span><span class="p">,</span>
            <span class="n">City</span> <span class="p">=</span> <span class="s">"Sydney"</span><span class="p">,</span>
            <span class="n">State</span> <span class="p">=</span> <span class="s">"NSW"</span><span class="p">,</span>
            <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span><span class="p">,</span>
            <span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"2000"</span><span class="p">,</span>

        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">ShippingDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShippingDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
        <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
        <span class="n">Phone</span> <span class="p">=</span> <span class="s">"09 889 0986"</span><span class="p">,</span>
        <span class="n">ShippingAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Street1</span> <span class="p">=</span> <span class="s">"Level 5"</span><span class="p">,</span>
            <span class="n">Street2</span> <span class="p">=</span> <span class="s">"369 Queen Street"</span><span class="p">,</span>
            <span class="n">City</span> <span class="p">=</span> <span class="s">"Sydney"</span><span class="p">,</span>
            <span class="n">State</span> <span class="p">=</span> <span class="s">"NSW"</span><span class="p">,</span>
            <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span><span class="p">,</span>
            <span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"2000"</span>
        <span class="p">},</span>
        <span class="n">ShippingMethod</span> <span class="p">=</span> <span class="n">ShippingMethod</span><span class="p">.</span><span class="n">NextDay</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">LineItems</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> 
    <span class="p">{</span> 
        <span class="k">new</span> <span class="nf">LineItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">SKU</span> <span class="p">=</span> <span class="s">"12345678901234567890"</span><span class="p">,</span> 
            <span class="n">Description</span> <span class="p">=</span> <span class="s">"Item Description 1"</span><span class="p">,</span>
            <span class="n">Quantity</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">UnitCost</span> <span class="p">=</span> <span class="m">400</span>
        <span class="p">},</span>
        <span class="k">new</span> <span class="nf">LineItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">SKU</span> <span class="p">=</span> <span class="s">"123456789012"</span><span class="p">,</span> 
            <span class="n">Description</span> <span class="p">=</span> <span class="s">"Item Description 2"</span><span class="p">,</span>
            <span class="n">Quantity</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">UnitCost</span> <span class="p">=</span> <span class="m">400</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}.</span><span class="nf">ToList</span><span class="p">(),</span>
    <span class="n">Options</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> 
    <span class="p">{</span> 
        <span class="s">"Option1"</span><span class="p">,</span> 
        <span class="s">"Option2"</span> 
    <span class="p">}.</span><span class="nf">ToList</span><span class="p">(),</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span><span class="p">,</span>
        <span class="n">InvoiceNumber</span> <span class="p">=</span> <span class="s">"Inv 21540"</span><span class="p">,</span>
        <span class="n">InvoiceDescription</span> <span class="p">=</span> <span class="s">"Individual Invoice Description"</span><span class="p">,</span>
        <span class="n">InvoiceReference</span> <span class="p">=</span> <span class="s">"513456"</span><span class="p">,</span>
        <span class="n">CurrencyCode</span> <span class="p">=</span> <span class="s">"AUD"</span>
    <span class="p">},</span>
    <span class="n">RedirectURL</span> <span class="p">=</span> <span class="s">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="n">CancelURL</span> <span class="p">=</span> <span class="s">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="n">DeviceID</span> <span class="p">=</span> <span class="s">"D1234"</span><span class="p">,</span>
    <span class="n">PartnerID</span> <span class="p">=</span> <span class="s">"ID"</span><span class="p">,</span>
    <span class="n">CustomerIP</span> <span class="p">=</span> <span class="s">"127.0.0.1"</span><span class="p">,</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Purchase</span><span class="p">,</span>
    <span class="n">Capture</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
    <span class="n">SaveCustomer</span> <span class="p">=</span> <span class="k">false</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">ResponsiveShared</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Customer"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"Reference"</span><span class="p">:</span> <span class="s2">"A12345"</span><span class="p">,</span>
       <span class="s2">"Title"</span><span class="p">:</span> <span class="s2">"Mr."</span><span class="p">,</span>
       <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
       <span class="s2">"CompanyName"</span><span class="p">:</span> <span class="s2">"Demo Shop 123"</span><span class="p">,</span>
       <span class="s2">"JobDescription"</span><span class="p">:</span> <span class="s2">"Developer"</span><span class="p">,</span>
       <span class="s2">"Street1"</span><span class="p">:</span> <span class="s2">"Level 5"</span><span class="p">,</span>
       <span class="s2">"Street2"</span><span class="p">:</span> <span class="s2">"369 Queen Street"</span><span class="p">,</span>
       <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Sydney"</span><span class="p">,</span>
       <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"NSW"</span><span class="p">,</span>
       <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"2000"</span><span class="p">,</span>
       <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
       <span class="s2">"Phone"</span><span class="p">:</span> <span class="s2">"09 889 0986"</span><span class="p">,</span>
       <span class="s2">"Mobile"</span><span class="p">:</span> <span class="s2">"09 889 6542"</span><span class="p">,</span>
       <span class="s2">"Email"</span><span class="p">:</span> <span class="s2">"demo@example.org"</span><span class="p">,</span>
       <span class="s2">"Url"</span><span class="p">:</span> <span class="s2">"http://www.ewaypayments.com"</span>
    <span class="p">},</span>
    <span class="s2">"ShippingAddress"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"ShippingMethod"</span><span class="p">:</span> <span class="s2">"NextDay"</span><span class="p">,</span>
       <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
       <span class="s2">"Street1"</span><span class="p">:</span> <span class="s2">"Level 5"</span><span class="p">,</span>
       <span class="s2">"Street2"</span><span class="p">:</span> <span class="s2">"369 Queen Street"</span><span class="p">,</span>
       <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Sydney"</span><span class="p">,</span>
       <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"NSW"</span><span class="p">,</span>
       <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
       <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"2000"</span><span class="p">,</span>
       <span class="s2">"Phone"</span><span class="p">:</span> <span class="s2">"09 889 0986"</span>
    <span class="p">},</span>
    <span class="s2">"Items"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"SKU"</span><span class="p">:</span> <span class="s2">"12345678901234567890"</span><span class="p">,</span>
       <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Item Description 1"</span><span class="p">,</span>
       <span class="s2">"Quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"UnitCost"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
       <span class="s2">"Tax"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"Total"</span><span class="p">:</span> <span class="mi">500</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"SKU"</span><span class="p">:</span> <span class="s2">"123456789012"</span><span class="p">,</span>
       <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Item Description 2"</span><span class="p">,</span>
       <span class="s2">"Quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"UnitCost"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
       <span class="s2">"Tax"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"Total"</span><span class="p">:</span> <span class="mi">500</span>
     <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"Options"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"Value"</span><span class="p">:</span> <span class="s2">"Option1"</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"Value"</span><span class="p">:</span> <span class="s2">"Option2"</span>
     <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
       <span class="s2">"InvoiceNumber"</span><span class="p">:</span> <span class="s2">"Inv 21540"</span><span class="p">,</span>
       <span class="s2">"InvoiceDescription"</span><span class="p">:</span> <span class="s2">"Individual Invoice Description"</span><span class="p">,</span>
       <span class="s2">"InvoiceReference"</span><span class="p">:</span> <span class="s2">"513456"</span><span class="p">,</span>
       <span class="s2">"CurrencyCode"</span><span class="p">:</span> <span class="s2">"AUD"</span>
    <span class="p">},</span>
    <span class="s2">"RedirectUrl"</span><span class="p">:</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s2">"CancelUrl"</span><span class="p">:</span> <span class="s2">"http://www.eway.com.au"</span><span class="p">,</span>
    <span class="s2">"DeviceID"</span><span class="p">:</span> <span class="s2">"D1234"</span><span class="p">,</span>
    <span class="s2">"CustomerIP"</span><span class="p">:</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>
    <span class="s2">"PartnerID"</span><span class="p">:</span> <span class="s2">"ID"</span><span class="p">,</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Purchase"</span><span class="p">,</span>
    <span class="s2">"LogoUrl"</span><span class="p">:</span> <span class="s2">"https://mysite.com/images/logo4eway.jpg"</span><span class="p">,</span>
    <span class="s2">"Language"</span><span class="p">:</span> <span class="s2">"EN"</span><span class="p">,</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>

</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>

<span class="n">customer</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Customer</span><span class="p">.</span><span class="nf">new</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">reference</span> <span class="o">=</span> <span class="s1">'A12345'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s1">'Mr.'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">company_name</span> <span class="o">=</span> <span class="s1">'Company'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">job_description</span> <span class="o">=</span> <span class="s1">'Ruby Developer'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">phone</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">mobile</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">fax</span> <span class="o">=</span> <span class="s1">'09 654 1234'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">url</span> <span class="o">=</span> <span class="s1">'http://www.ewaypayments.com'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">comments</span> <span class="o">=</span> <span class="s1">'customer comment'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">customer_device_ip</span> <span class="o">=</span> <span class="s1">'127.0.0.1'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">email</span> <span class="o">=</span> <span class="s1">'demo@example.org'</span>

<span class="n">address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">address</span><span class="p">.</span><span class="nf">street1</span> <span class="o">=</span> <span class="s1">'Level 5'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">street2</span> <span class="o">=</span> <span class="s1">'369 Queen Street'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">city</span> <span class="o">=</span> <span class="s1">'Sydney'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">state</span> <span class="o">=</span> <span class="s1">'NSW'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">postal_code</span> <span class="o">=</span> <span class="s1">'2000'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">address</span> <span class="o">=</span> <span class="n">address</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">customer</span> <span class="o">=</span> <span class="n">customer</span>

<span class="n">shipping_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">ShippingDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">shipping_address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">street1</span> <span class="o">=</span> <span class="s1">'Level 5'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">street2</span> <span class="o">=</span> <span class="s1">'369 Queen Street'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">city</span> <span class="o">=</span> <span class="s1">'Sydney'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">state</span> <span class="o">=</span> <span class="s1">'NSW'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">postal_code</span> <span class="o">=</span> <span class="s1">'2000'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">shipping_address</span> <span class="o">=</span> <span class="n">shipping_address</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">phone</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">shipping_method</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">ShippingMethod</span><span class="o">::</span><span class="no">LOW_COST</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">shipping_details</span> <span class="o">=</span> <span class="n">shipping_details</span>

<span class="n">line_item</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'12345678901234567890'</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 1'</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_item1</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'12345678901234567890'</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 1'</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_item2</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'123456789012'</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 2'</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_items</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">line_items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">line_item1</span><span class="p">)</span>
<span class="n">line_items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">line_item2</span><span class="p">)</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">line_items</span> <span class="o">=</span> <span class="n">line_items</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">options</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="s1">'Option1'</span><span class="p">)</span>
<span class="n">options</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="s1">'Option2'</span><span class="p">)</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">options</span> <span class="o">=</span> <span class="n">options</span>

<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_number</span> <span class="o">=</span> <span class="s1">'Inv 21540'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_description</span> <span class="o">=</span> <span class="s1">'Individual Invoice Description'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">invoice_reference</span> <span class="o">=</span> <span class="s1">'513456'</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">currency_code</span> <span class="o">=</span> <span class="s1">'AUD'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">redirect_url</span> <span class="o">=</span> <span class="s1">'http://www.eway.com.au'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">cancel_url</span> <span class="o">=</span> <span class="s1">'http://www.eway.com.au'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">device_id</span> <span class="o">=</span> <span class="s1">'D1234'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">partner_id</span> <span class="o">=</span> <span class="s1">'ID'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">logo_url</span> <span class="o">=</span> <span class="s1">'https://mysite.com/images/logo4eway.jpg'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">header_text</span> <span class="o">=</span> <span class="s1">'My Site Header Text'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">language</span> <span class="o">=</span> <span class="s1">'EN'</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">capture</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">PURCHASE</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">RESPONSIVE_SHARED</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CustomerIP**</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's IP address</td> 
      </tr> 
      <tr> 
       <td>Method</td> 
       <td>R</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The action to perform with this request (see <a href="#payment-methods">Payment Methods</a> for more information).<br>One of: <code>ProcessPayment</code>, <code>CreateTokenCustomer</code>, <code>UpdateTokenCustomer</code>, <code>TokenPayment</code>, <code>Authorise</code></td> 
      </tr> 
      <tr> 
       <td>TransactionType</td> 
       <td>R</td> 
       <td>Int</td> 
       <td>enum</td> 
       <td>The type of transaction you're performing (see <a href="#transaction-types">Transaction Types</a>).<br>One of: <code>Purchase</code>, <code>MOTO</code>, <code>Recurring</code></td> 
      </tr> 
      <tr> 
       <td>DeviceID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The identification name/number for the device or application used to process the transaction</td> 
      </tr> 
      <tr> 
       <td>PartnerID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The partner ID generated from an eWAY partner agreement</td> 
      </tr> 
      <tr> 
       <td>RedirectUrl</td> 
       <td>R</td> 
       <td>512</td> 
       <td>string, URL</td> 
       <td>This variable is required but currently unused. Any valid URL can be used.</td> 
      </tr> 
      <tr> 
       <td>CancelUrl</td> 
       <td>R</td> 
       <td>512</td> 
       <td>string, URL</td> 
       <td>This variable is required but currently unused. Any valid URL can be used.</td> 
      </tr> 
      <tr> 
       <td>LogoUrl</td> 
       <td>O</td> 
       <td>512</td> 
       <td>string, URL</td> 
       <td>The URL of the merchant's logo to display in the iframe. This must start with <code>https://</code>. If blank or omitted, the logo defined in the Shared Page settings in MYeWAY will be used.</td> 
      </tr> 
      <tr> 
       <td>Language</td> 
       <td>O</td> 
       <td>5</td> 
       <td>string</td> 
       <td>Language code determines the language that the iframe will be displayed in.<br>One of: <code>EN</code> (English, default), <code>ES</code> (Spanish)</td> 
      </tr> 
      <tr> 
       <td>CustomerReadOnly</td> 
       <td>O</td> 
       <td></td> 
       <td>boolean</td> 
       <td>When set to false, cardholders will be able to edit their email &amp; phone number, even if it's sent through in the server side request. To fetch the details the customer entered, do a <a href="#transaction-query">Transaction Query</a> once the transaction is complete.</td> 
      </tr> 
      <tr> 
       <td>Capture</td> 
       <td>O</td> 
       <td>6</td> 
       <td>boolean</td> 
       <td><strong>Rapid SDK Libraries Only</strong> Set to true to capture funds immediately (default), set to false to perform an <a href="#pre-auth">authorisation</a> and only hold funds.</td> 
      </tr> 
      <tr> 
       <td>SaveCustomer</td> 
       <td>O</td> 
       <td>6</td> 
       <td>boolean</td> 
       <td><strong>Rapid SDK Libraries Only</strong> Set to true to create a token customer when the transaction is complete</td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field types: R – Required, O – Optional</em> </p> 
    <p>**<em>When this field is present along with the Customer Country field, any transaction will be processed using Beagle Fraud Alerts</em></p> 
    <h4 id="payment">Payment</h4> 
    <p>This set of fields contains the details of the payment being processed. This section is required when the Method field is set to ProcessPayment or TokenPayment.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TotalAmount</td> 
       <td>R</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount of the transaction in the lowest denomination for the currency (e.g. a $27.00 transaction would have a TotalAmount value of '2700').<br>The value of this field must be 0 for the CreateTokenCustomer andUpdateTokenCustomer methods. This field is required when the Action is ProcessPayment or TokenPayment.</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>O</td> 
       <td>12</td> 
       <td>string</td> 
       <td>The merchant's invoice number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>InvoiceDescription</td> 
       <td>O</td> 
       <td>64</td> 
       <td>string</td> 
       <td>A short description of the purchase that the customer is making.</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>O</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction is to be processed in. If no value for this field is provided, the merchant's default currency is used. This should be in uppercase.<br>e.g. Australian Dollars = <code>AUD</code></td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="customer">Customer</h4> 
    <p>This set of fields contains the details of the merchant's customer. These are used when creating and updating token customers. </p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>C</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY-issued ID that represents the Token customer to be loaded for this action.<br><em>Required for UpdateTokenCustomer method</em></td> 
      </tr> 
      <tr> 
       <td>Reference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference for this customer.</td> 
      </tr> 
      <tr> 
       <td>Title†</td> 
       <td>C</td> 
       <td>5</td> 
       <td>string</td> 
       <td>The customer's title, empty string allowed, which will default to Mr.<br>One of: <code>Mr.</code>, <code>Ms.</code>, <code>Mrs.</code>, <code>Miss</code>, <code>Dr.</code>, <code>Sir.</code>, <code>Prof.</code></td> 
      </tr> 
      <tr> 
       <td>FirstName†</td> 
       <td>C</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name.</td> 
      </tr> 
      <tr> 
       <td>LastName†</td> 
       <td>C</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's company name.</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country†</td> 
       <td>C</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's country. This should be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>. This field must be lower case.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address, which must be correctly formatted if present</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's phone number.</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's mobile phone number.</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments the merchant wishes to add about the customer.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number.</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>O</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The customer's website, which must be correctly formatted if present.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field Types: O – Optional, C – Conditionally Required </p> 
    <p>† When creating a new Token customer, all conditional fields(†)are required </p> 
    <h4 id="shipping-address">Shipping Address</h4> 
    <p>The ShippingAddress section is optional. It is used by Beagle Fraud Alerts (Enterprise) to calculate a risk score for this transaction.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>ShippingMethod</td> 
       <td>C</td> 
       <td>16</td> 
       <td>long</td> 
       <td>The method used to ship the customer's order.<br>One of: <code>Unknown</code>, <code>LowCost</code>, <code>DesignatedByCustomer</code>, <code>International</code>, <code>Military</code>, <code>NextDay</code>, <code>StorePickup</code>, <code>TwoDayService</code>, <code>ThreeDayService</code>, <code>Other</code></td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The first name of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The last name of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address of the shipping location.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The shipping city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The shipping state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The shipping post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country†</td> 
       <td>C</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The shipping's country. This should be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>. This field must be lower case.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The shipping email address, which must be correctly formatted if present.</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The phone number of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The fax number of the shipping location.</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="items">Items</h4> 
    <p>The Items section is optional. If provided, it should contain a list of line items purchased by the customer, up to a maximum of 99 items. It is used by Beagle Fraud Alerts (Enterprise) to calculate a risk score for this transaction. Items have the following fields:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SKU</td> 
       <td>O</td> 
       <td>12</td> 
       <td>string</td> 
       <td>The stock keeping unit used to identify this line item</td> 
      </tr> 
      <tr> 
       <td>Description</td> 
       <td>O</td> 
       <td>26</td> 
       <td>string</td> 
       <td>A brief description of the product</td> 
      </tr> 
      <tr> 
       <td>Quantity</td> 
       <td>O</td> 
       <td>6</td> 
       <td>int</td> 
       <td>The purchased quantity</td> 
      </tr> 
      <tr> 
       <td>UnitCost</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The pre-tax cost per unit of the product in the lowest denomination</td> 
      </tr> 
      <tr> 
       <td>Tax</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The tax amount that applies to this line item in the lowest denomination</td> 
      </tr> 
      <tr> 
       <td>Total</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The total amount charged for this line item in the lowest denomination</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="options">Options</h4> 
    <p>This section is optional. Anything appearing in this section is not displayed to the customer, but it is returned to the merchant in the result. Up to 99 options can be defined. Each option has just one field:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Value</td> 
       <td>O</td> 
       <td>254</td> 
       <td>string</td> 
       <td>This field is not displayed to the customer but is returned in the result. Anything can be used here, which can be useful for tracking transactions. <em>Additional characters are truncated at 254</em></td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field types: O – Optional</em></p> 
    <h4 id="response-fields-descriptions">Response Fields Descriptions</h4> 
    <blockquote> 
     <p>Example Response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"SharedPaymentUrl"</span>: <span class="s2">"https://secure-au.sandbox.ewaypayments.com/sharedpage/sharedpayment?AccessCode=44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span>,
    <span class="s2">"AccessCode"</span>: <span class="s2">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span>,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"CardNumber"</span>: <span class="s2">""</span>,
        <span class="s2">"CardStartMonth"</span>: <span class="s2">""</span>,
        <span class="s2">"CardStartYear"</span>: <span class="s2">""</span>,
        <span class="s2">"CardIssueNumber"</span>: <span class="s2">""</span>,
        <span class="s2">"CardName"</span>: <span class="s2">""</span>,
        <span class="s2">"CardExpiryMonth"</span>: <span class="s2">""</span>,
        <span class="s2">"CardExpiryYear"</span>: <span class="s2">""</span>,
        <span class="s2">"IsActive"</span>: <span class="nb">false</span>,
        <span class="s2">"TokenCustomerID"</span>: null,
        <span class="s2">"Reference"</span>: <span class="s2">"A12345"</span>,
        <span class="s2">"Title"</span>: <span class="s2">"Mr."</span>,
        <span class="s2">"FirstName"</span>: <span class="s2">"John"</span>,
        <span class="s2">"LastName"</span>: <span class="s2">"Smith"</span>,
        <span class="s2">"CompanyName"</span>: <span class="s2">"Demo Shop 123"</span>,
        <span class="s2">"JobDescription"</span>: <span class="s2">"Developer"</span>,
        <span class="s2">"Street1"</span>: <span class="s2">"Level 5"</span>,
        <span class="s2">"Street2"</span>: <span class="s2">"369 Queen Street"</span>,
        <span class="s2">"City"</span>: <span class="s2">"Sydney"</span>,
        <span class="s2">"State"</span>: <span class="s2">"NSW"</span>,
        <span class="s2">"PostalCode"</span>: <span class="s2">"2000"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"au"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"demo@example.org"</span>,
        <span class="s2">"Phone"</span>: <span class="s2">"09 889 0986"</span>,
        <span class="s2">"Mobile"</span>: <span class="s2">"09 889 6542"</span>,
        <span class="s2">"Comments"</span>: <span class="s2">""</span>,
        <span class="s2">"Fax"</span>: <span class="s2">""</span>,
        <span class="s2">"Url"</span>: <span class="s2">"http://www.ewaypayments.com"</span>
    <span class="o">}</span>,
    <span class="s2">"Payment"</span>: <span class="o">{</span>
        <span class="s2">"TotalAmount"</span>: 1000,
        <span class="s2">"InvoiceNumber"</span>: <span class="s2">"Inv 21540"</span>,
        <span class="s2">"InvoiceDescription"</span>: <span class="s2">"Individual Invoice Description"</span>,
        <span class="s2">"InvoiceReference"</span>: <span class="s2">"513456"</span>,
        <span class="s2">"CurrencyCode"</span>: <span class="s2">"AUD"</span>
    <span class="o">}</span>,
    <span class="s2">"FormActionURL"</span>: <span class="s2">"https://secure-au.sandbox.ewaypayments.com/AccessCode/44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span>,
    <span class="s2">"CompleteCheckoutURL"</span>: null,
    <span class="s2">"Errors"</span>: null
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;CreateAccessCodeSharedResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;CreateAccessCodeSharedResult&gt;</span>
            <span class="nt">&lt;AccessCode&gt;</span>44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2<span class="nt">&lt;/AccessCode&gt;</span>
            <span class="nt">&lt;Customer&gt;</span>
               <span class="nt">&lt;TokenCustomerID</span> <span class="na">xsi:nil=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
               <span class="nt">&lt;Reference&gt;</span>A12345<span class="nt">&lt;/Reference&gt;</span>
               <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
               <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
               <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
               <span class="nt">&lt;CompanyName&gt;</span>Demo Shop 123<span class="nt">&lt;/CompanyName&gt;</span>
               <span class="nt">&lt;JobDescription&gt;</span>Developer<span class="nt">&lt;/JobDescription&gt;</span>
               <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
               <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
               <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
               <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
               <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
               <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
               <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
               <span class="nt">&lt;Mobile&gt;</span>0289712345<span class="nt">&lt;/Mobile&gt;</span>
               <span class="nt">&lt;Comments&gt;</span>Customer comments<span class="nt">&lt;/Comments&gt;</span>
               <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
               <span class="nt">&lt;Url&gt;</span>http://www.ewaypayments.com<span class="nt">&lt;/Url&gt;</span>
               <span class="nt">&lt;CardNumber/&gt;</span>
               <span class="nt">&lt;CardStartMonth/&gt;</span>
               <span class="nt">&lt;CardStartYear/&gt;</span>
               <span class="nt">&lt;CardIssueNumber/&gt;</span>
               <span class="nt">&lt;CardName/&gt;</span>
               <span class="nt">&lt;CardExpiryMonth/&gt;</span>
               <span class="nt">&lt;CardExpiryYear/&gt;</span>
               <span class="nt">&lt;IsActive&gt;</span>false<span class="nt">&lt;/IsActive&gt;</span>
            <span class="nt">&lt;/Customer&gt;</span>
            <span class="nt">&lt;Payment&gt;</span>
               <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
               <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
               <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
               <span class="nt">&lt;InvoiceReference&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceReference&gt;</span>
               <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
            <span class="nt">&lt;/Payment&gt;</span>
            <span class="nt">&lt;FormActionURL&gt;</span>https://secure-au.sandbox.ewaypayments.com/Process<span class="nt">&lt;/FormActionURL&gt;</span>            
            <span class="nt">&lt;SharedPaymentUrl&gt;</span>https://secure-au.sandbox.ewaypayments.com/sharedpage/sharedpayment?AccessCode=44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2<span class="nt">&lt;/SharedPaymentUrl&gt;</span>
         <span class="nt">&lt;/CreateAccessCodeSharedResult&gt;</span>
      <span class="nt">&lt;/CreateAccessCodeSharedResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available $response properties </span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">())</span> <span class="p">{</span>
    <span class="nv">$sharedPaymentUrl</span> <span class="o">=</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">SharedPaymentUrl</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Error: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nv">$error</span><span class="p">)</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">().</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
    <span class="c1">// Use this URL to display the iframe</span>
    <span class="n">String</span> <span class="n">sharedPaymentUrl</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getSharedPaymentUrl</span><span class="o">();</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Response Messages: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">,</span> <span class="s">"en"</span><span class="o">));</span>
    <span class="o">};</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Errors</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">string</span> <span class="n">sharedPaymentUrl</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">SharedPaymentUrl</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">response</span><span class="p">.</span><span class="n">Errors</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Response Messages: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">sharedPaymentUrl</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'SharedPaymentUrl'</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">response</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="c1"># See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">empty?</span>
  <span class="n">sharedpage_url</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">shared_payment_url</span>
<span class="k">else</span>
  <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">"Response message: "</span><span class="o">+</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">user_display_message</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>

</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AccessCode</td> 
       <td>512</td> 
       <td>String</td> 
       <td>A unique Access Code that is used to identify this transaction with Rapid API. This code will need to be present for all future requests associated with this transaction</td> 
      </tr> 
      <tr> 
       <td>Errors</td> 
       <td>512</td> 
       <td>String</td> 
       <td>Any error codes associates with the request, these can be looked up in the <a href="#response-amp-error-codes">Response Codes</a> section.</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="customer-2">Customer</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CardNumber</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The Token customer’s masked credit card number</td> 
      </tr> 
      <tr> 
       <td>CardName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The Token customer’s card holder name</td> 
      </tr> 
      <tr> 
       <td>CardExpiryMonth</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer’s card expiry month</td> 
      </tr> 
      <tr> 
       <td>CardExpiryYear</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer’s card expiry year</td> 
      </tr> 
      <tr> 
       <td>CardStartMonth*</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer’s card valid from month</td> 
      </tr> 
      <tr> 
       <td>CardStartYear*</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer’s card valid from year</td> 
      </tr> 
      <tr> 
       <td>CardIssueNumber*</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The Token customer’s card issue number</td> 
      </tr> 
      <tr> 
       <td>IsActive</td> 
       <td></td> 
       <td>boolean</td> 
       <td>If the Token customer is active</td> 
      </tr> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>16</td> 
       <td>long</td> 
       <td>The Token customer’s unique Token Customer ID <em>Only returned if included in the CreateAccessCodeRequest on TokenPayment and UpdateTokenCustomer methods</em></td> 
      </tr> 
      <tr> 
       <td>Reference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant’s reference for this customer</td> 
      </tr> 
      <tr> 
       <td>Title</td> 
       <td>5</td> 
       <td>string</td> 
       <td>The customer's title.</td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name.</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's company name.</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's country formatted as a two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's phone number.</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's mobile phone number.</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments merchant added about the customer.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number.</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The customer's website.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>*<em>Applies to UK only</em></p> 
    <h4 id="payment-2">Payment</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount of the transaction in cents, as passed in original request.</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>16</td> 
       <td>string</td> 
       <td>The merchant's invoice number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>InvoiceDescription</td> 
       <td>64</td> 
       <td>string</td> 
       <td>A short description of the purchase that the customer is making.</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction is to be processed in.</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="step-2-display-the-eway-rapid-iframe">Step 2: Display the eWAY Rapid IFrame</h3> 
    <blockquote> 
     <p>Example iframe display script</p> 
    </blockquote> 
    <pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://secure.ewaypayments.com/scripts/eCrypt.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>

    <span class="cm">/** * eWAY Rapid IFrame config object. Contains the SharedPaymentUrl */</span>
    <span class="kd">var</span> <span class="nx">eWAYConfig</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">sharedPaymentUrl</span><span class="p">:</span> <span class="s2">"&lt;&lt;SharedPaymentUrl Goes Here&gt;&gt;"</span>
    <span class="p">};</span>

    <span class="cm">/** * Example eWAY Rapid IFrame callback */</span>
    <span class="kd">function</span> <span class="nx">resultCallback</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">transactionID</span><span class="p">,</span> <span class="nx">errors</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">==</span> <span class="s2">"Complete"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">"Payment complete! eWAY Transaction ID: "</span> <span class="o">+</span> <span class="nx">transactionID</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">==</span> <span class="s2">"Error"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="s2">"There was a problem completing the payment: "</span> <span class="o">+</span> <span class="nx">errors</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>

<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">onClick=</span><span class="s">"eCrypt.showModalPayment(eWAYConfig, resultCallback);"</span><span class="nt">&gt;</span>Pay with eWAY<span class="nt">&lt;/button&gt;</span>
</code></pre> 
    <p>Once the Access Code has been received, the Rapid IFrame can be displayed to the customer. To show the iframe involves a simply adding the eWAY eCrypt library and a JavaScript call:</p> 
    <p><code>&lt;script src="https://secure.ewaypayments.com/scripts/eCrypt.min.js"&gt;&lt;/script&gt;</code></p> 
    <p><code>eCrypt.showModalPayment(eWAYConfig, resultCallback)</code></p> 
    <p>This call can be triggered in whatever way makes sense for your application: on a click of a button or even just when the page loads.</p> 
    <p>The <code>showModalPayment</code> function accepts two arguments:</p> 
    <ul> 
     <li><strong>Config</strong> - A JavaScript object with the configuration settings for the iframe</li> 
     <li><strong>Callback</strong> - the name of a function which is called once the customer has completed the transaction</li> 
    </ul> 
    <h4 id="config">Config</h4> 
    <p>The Config object passes the following configuration information to the iframe</p> 
    <table>
     <thead> 
      <tr> 
       <th>Value</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>sharedPaymentUrl</td> 
       <td>The <code>SharedPaymentUrl</code> returned from eWAY in step 1.</td> 
      </tr> 
     </tbody>
    </table> 
    <!--
endpoint|The environment being used. One of `Production` or `Sandbox`
accessCode|The Access Code retrieved in Step 1
--> 
    <p><strong>Note:</strong> The first version of IFrame required the variables endpoint and accessCode in the config. This will continue to work, except for UK merchants who must use sharedPaymentUrl. </p> 
    <h4 id="callback">Callback</h4> 
    <p>The Callback function is called once the customer has completed the transaction in the iframe, cancelled the iframe or if there was an error loading the iframe. The function should accept three arguments, which contain the following:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Argument</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>result</td> 
       <td>Whether a transaction was processed. One of <code>Complete</code>, <code>Cancel</code>, or <code>Error</code></td> 
      </tr> 
      <tr> 
       <td>transactionID</td> 
       <td>The transaction ID if the transaction was completed</td> 
      </tr> 
      <tr> 
       <td>errors</td> 
       <td>Any errors associated with displaying the iframe</td> 
      </tr> 
     </tbody>
    </table> 
    <p><strong>Note:</strong> If the transaction was successful is not returned to the callback, this can only be determined by requesting the result as described in Step 3. The result returned to the callback only describes if the iframe could be shown.</p> 
    <h3 id="step-3-request-results">Step 3: Request results</h3> 
    <p>Once the customer has completed the payment, the merchant will need to request the results from eWAY by calling the GetAccessCodeResult method of the Rapid API web service. This is done using the AccessCode requested in Step 1.</p> 
    <p>If <code>CustomerReadOnly</code> was set to <code>false</code>, the details the customer entered in the iframe can be fetched using <a href="#transaction-query">Transaction Query</a>.</p> 
    <aside class="notice">
      An Access Code can only be queried for one week after it has been created. After that [Transaction Query](#transaction-query) can be used to fetch the results. 
    </aside> 
    <h4 id="live-endpoints-2">Live endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.ewaypayments.com/AccessCode/{AccessCode}</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.ewaypayments.com/GetAccessCodeResult.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.ewaypayments.com/GetAccessCodeResult.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="sandbox-endpoints-2">Sandbox endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.sandbox.ewaypayments.com/AccessCode/{AccessCode}</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/GetAccessCodeResult.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/GetAccessCodeResult.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="request-field-descriptions-2">Request Field Descriptions</h4> 
    <blockquote> 
     <p>Example request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/AccessCode/44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;GetAccessCodeResult</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;request&gt;</span>
            <span class="nt">&lt;AccessCode&gt;</span>44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2<span class="nt">&lt;/AccessCode&gt;</span>
         <span class="nt">&lt;/request&gt;</span>
      <span class="nt">&lt;/GetAccessCodeResult&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">queryTransaction</span><span class="p">(</span><span class="s1">'44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2'</span><span class="p">);</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">QueryTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">queryTransaction</span><span class="o">(</span><span class="s">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">QueryTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">QueryTransaction</span><span class="p">(</span><span class="s">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">queryTransaction</span><span class="p">(</span><span class="s2">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">query_transaction_by_access_code</span><span class="p">(</span><span class="s1">'44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2'</span><span class="p">)</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AccessCode</td> 
       <td>R</td> 
       <td>512</td> 
       <td>string</td> 
       <td>Access Code returned in Step 1.</td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field Types: R – Required</em> </p> 
    <p>If a transaction has been processed, the response received from eWAY will contain all relevant details such as the bank authorisation code and a unique number that identifies the transaction in eWAY's database (<code>TransactionID</code>). </p> 
    <p>If a Token customer was involved, the ID that eWAY uses to identify that customer will also be returned. </p> 
    <p>All responses will contain a response code and response message that represents the result of the action performed. </p> 
    <p>If applicable, the response will also contain information about the payment that has been processed, as well as the results of any Beagle risk analysis that was performed.</p> 
    <h3 id="response-field-descriptions">Response Field Descriptions</h3> 
    <blockquote> 
     <p>Example response </p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"AccessCode"</span>: <span class="s2">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span>,
    <span class="s2">"AuthorisationCode"</span>: <span class="s2">"522587"</span>,
    <span class="s2">"ResponseCode"</span>: <span class="s2">"00"</span>,
    <span class="s2">"ResponseMessage"</span>: <span class="s2">"A2000"</span>,
    <span class="s2">"InvoiceNumber"</span>: <span class="s2">"Inv 21540"</span>,
    <span class="s2">"InvoiceReference"</span>: <span class="s2">"513456"</span>,
    <span class="s2">"TotalAmount"</span>: 1000,
    <span class="s2">"TransactionID"</span>: 11259580,
    <span class="s2">"TransactionStatus"</span>: <span class="nb">true</span>,
    <span class="s2">"TokenCustomerID"</span>: null,
    <span class="s2">"BeagleScore"</span>: 0,
    <span class="s2">"Options"</span>: <span class="o">[{</span>
        <span class="s2">"Value"</span>: <span class="s2">"Option1"</span>
    <span class="o">}</span>, <span class="o">{</span>
        <span class="s2">"Value"</span>: <span class="s2">"Option2"</span>
    <span class="o">}]</span>,
    <span class="s2">"Verification"</span>: <span class="o">{</span>
        <span class="s2">"CVN"</span>: 0,
        <span class="s2">"Address"</span>: 0,
        <span class="s2">"Email"</span>: 0,
        <span class="s2">"Mobile"</span>: 0,
        <span class="s2">"Phone"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"BeagleVerification"</span>: <span class="o">{</span>
        <span class="s2">"Email"</span>: 0,
        <span class="s2">"Phone"</span>: 0
    <span class="o">}</span>,
    <span class="s2">"Errors"</span>: null
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;GetAccessCodeResultResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;GetAccessCodeResultResult&gt;</span>
            <span class="nt">&lt;AccessCode&gt;</span>44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2<span class="nt">&lt;/AccessCode&gt;</span>
            <span class="nt">&lt;AuthorisationCode&gt;</span>522587<span class="nt">&lt;/AuthorisationCode&gt;</span>
            <span class="nt">&lt;ResponseCode&gt;</span>00<span class="nt">&lt;/ResponseCode&gt;</span>
            <span class="nt">&lt;ResponseMessage&gt;</span>A2000<span class="nt">&lt;/ResponseMessage&gt;</span>
            <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
            <span class="nt">&lt;InvoiceReference&gt;</span>513456<span class="nt">&lt;/InvoiceReference&gt;</span>
            <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
            <span class="nt">&lt;TransactionID&gt;</span>11259580<span class="nt">&lt;/TransactionID&gt;</span>
            <span class="nt">&lt;TransactionStatus&gt;</span>true<span class="nt">&lt;/TransactionStatus&gt;</span>
            <span class="nt">&lt;TokenCustomerID</span> <span class="na">xsi:nil=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;BeagleScore&gt;</span>0<span class="nt">&lt;/BeagleScore&gt;</span>
            <span class="nt">&lt;Options&gt;</span>
               <span class="nt">&lt;Option&gt;</span>
                  <span class="nt">&lt;Value&gt;</span>Option1<span class="nt">&lt;/Value&gt;</span>
               <span class="nt">&lt;/Option&gt;</span>
               <span class="nt">&lt;Option&gt;</span>
                  <span class="nt">&lt;Value&gt;</span>Option2<span class="nt">&lt;/Value&gt;</span>
               <span class="nt">&lt;/Option&gt;</span>
            <span class="nt">&lt;/Options&gt;</span>
            <span class="nt">&lt;Verification&gt;</span>
               <span class="nt">&lt;CVN&gt;</span>Unchecked<span class="nt">&lt;/CVN&gt;</span>
               <span class="nt">&lt;Address&gt;</span>Unchecked<span class="nt">&lt;/Address&gt;</span>
               <span class="nt">&lt;Email&gt;</span>Unchecked<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Mobile&gt;</span>Unchecked<span class="nt">&lt;/Mobile&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>Unchecked<span class="nt">&lt;/Phone&gt;</span>
            <span class="nt">&lt;/Verification&gt;</span>
            <span class="nt">&lt;BeagleVerification&gt;</span>
               <span class="nt">&lt;Email&gt;</span>NotVerified<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>NotVerified<span class="nt">&lt;/Phone&gt;</span>
            <span class="nt">&lt;/BeagleVerification&gt;</span>
         <span class="nt">&lt;/GetAccessCodeResultResult&gt;</span>
      <span class="nt">&lt;/GetAccessCodeResultResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available properties </span>
<span class="nv">$transactionResponse</span> <span class="o">=</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">Transactions</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$transactionResponse</span><span class="o">-&gt;</span><span class="na">TransactionStatus</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Payment successful! ID: '</span><span class="o">.</span><span class="nv">$transactionResponse</span><span class="o">-&gt;</span><span class="na">TransactionID</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nv">$errors</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">,</span> <span class="nv">$transactionResponse</span><span class="o">-&gt;</span><span class="na">ResponseMessage</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$errors</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Payment failed: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nv">$error</span><span class="p">)</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">isStatus</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Payment successful! ID: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getTransactionID</span><span class="o">());</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="n">String</span><span class="o">[]</span> <span class="n">errorcodes</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getProcessingDetails</span><span class="o">().</span><span class="na">getResponseMessage</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s">","</span><span class="o">);</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">errorcodes</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Response Messages: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">.</span><span class="na">trim</span><span class="o">(),</span> <span class="s">"en"</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="k">if</span> <span class="p">((</span><span class="kt">bool</span><span class="p">)</span><span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">Status</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Payment successful! ID: "</span> <span class="p">+</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">TransactionID</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="kt">string</span><span class="p">[]</span> <span class="n">errorCodes</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">ProcessingDetails</span><span class="p">.</span><span class="nf">getResponseMessages</span><span class="p">();</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">errorCodes</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Response Message: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].TransactionStatus'</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Payment successful! ID: '</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].TransactionID'</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">errorCodes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].ResponseMessage'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">);</span>
        <span class="nx">errorCodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Message: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>

</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">status?</span>
  <span class="nb">puts</span> <span class="s2">"Payment successful! ID: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">transaction_id</span><span class="p">.</span><span class="nf">to_s</span><span class="si">}</span><span class="s2">"</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"Failed! Message </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">processing_details</span><span class="p">.</span><span class="nf">response_message</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>

</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AccessCode</td> 
       <td>512</td> 
       <td>string</td> 
       <td>An echo of the access code used in the request</td> 
      </tr> 
      <tr> 
       <td>AuthorisationCode</td> 
       <td>6</td> 
       <td>string</td> 
       <td>The authorisation code for this transaction as returned by the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseCode</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The two digit response code returned from the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseMessage</td> 
       <td>512</td> 
       <td>string</td> 
       <td>One or more <a href="#response-amp-error-codes">Response Codes</a> that describes the result of the action performed.<br>If a Beagle Alert is triggered, this may contain multiple codes: <br>e.g. <code>D4405, F7003</code></td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the merchant's invoice number for this transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the merchant's reference number for this transaction</td> 
      </tr> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount that was authorised for this transaction. If card surcharge is enabled, the TotalAmount will include the surcharge.</td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>8</td> 
       <td>int</td> 
       <td>A unique identifier that represents the transaction in eWAY's system</td> 
      </tr> 
      <tr> 
       <td>TransactionStatus</td> 
       <td>16</td> 
       <td>boolean</td> 
       <td>A Boolean value that indicates whether the transaction was successful or not</td> 
      </tr> 
      <tr> 
       <td>TokenCustomerID‡</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY-issued ID that represents the Token customer that was loaded or created for this transaction (if applicable)</td> 
      </tr> 
      <tr> 
       <td>BeagleScore**</td> 
       <td>6</td> 
       <td>string</td> 
       <td>Fraud score representing the estimated probability that the order is fraud. A value between 0.01 to 100.00 representing the % risk the transaction is fraudulent. On Sandbox the score will be -1 unless it is configured to fail for Risk Score, in which case the value will be 101.</td> 
      </tr> 
      <tr> 
       <td>Errors</td> 
       <td>512</td> 
       <td>string</td> 
       <td>A comma separated list of any error encountered, these can be looked up in the <a href="#response-amp-error-codes">Response Codes</a> section.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>*<em>This field is only present if the transaction was processed using Beagle Free</em> </p> 
    <p>‡ <em>This field is only present if processing a Token transaction, creating or updating a Token customer</em> </p> 
    <h4 id="options-2">Options</h4> 
    <p>The Options collection passed in the original request will be echoed back in the response here.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Value</td> 
       <td>255</td> 
       <td>string</td> 
       <td>An echo of the option submitted for this transaction</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="verification">Verification</h4> 
    <p>These fields are currently unused</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CVN</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Address</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="beagle-verification">Beagle Verification</h3> 
    <p>These fields are currently unused</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Email</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
     </tbody>
    </table> 
    <h2 id="secure-fields">Secure Fields</h2> 
    <p>eWAY's Secure Fields solution provides the flexibility of a form that appears entirely on the merchant's site, with fields that are hosted securely by eWAY. This is done by using JavaScript to replace specified divs with iframes which consist only of the input text field.</p> 
    <p>Since the payment form is displayed on the site, it is important that SSL is used to secure the page and provide reassurance to customers, increasing your basket conversion.</p> 
    <p>Implementing eWAY's Secure Fields requires:</p> 
    <ol> 
     <li>Using JavaScript and HTML to add the Secure Fields to the website</li> 
     <li>Passing the Secure Field Code using the <a href="#direct-connection">Direct Connection API</a> to complete the transaction</li> 
    </ol> 
    <blockquote> 
     <p>Configuring Secure Fields</p> 
    </blockquote> 
    <pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
    <span class="kd">var</span> <span class="nx">publicApiKey</span> <span class="o">=</span> <span class="s2">"epk-XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">fieldStyles</span> <span class="o">=</span> <span class="s2">"line-height: 1; height: 28px; border: 1px solid #AAA; color: #000; padding: 2px;"</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">nameFieldConfig</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">publicApiKey</span><span class="p">:</span> <span class="nx">publicApiKey</span><span class="p">,</span>
            <span class="na">fieldDivId</span><span class="p">:</span> <span class="s2">"eway-secure-field-name"</span><span class="p">,</span>
            <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"name"</span><span class="p">,</span>
            <span class="na">styles</span><span class="p">:</span> <span class="nx">fieldStyles</span> 
        <span class="p">};</span>
    <span class="kd">var</span> <span class="nx">cardFieldConfig</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">publicApiKey</span><span class="p">:</span> <span class="nx">publicApiKey</span><span class="p">,</span>
            <span class="na">fieldDivId</span><span class="p">:</span> <span class="s2">"eway-secure-field-card"</span><span class="p">,</span>
            <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"card"</span><span class="p">,</span>
            <span class="na">styles</span><span class="p">:</span> <span class="nx">fieldStyles</span><span class="p">,</span>
            <span class="na">maskValues</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">};</span>
    <span class="kd">var</span> <span class="nx">expiryFieldConfig</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">publicApiKey</span><span class="p">:</span> <span class="nx">publicApiKey</span><span class="p">,</span>
            <span class="na">fieldDivId</span><span class="p">:</span> <span class="s2">"eway-secure-field-expiry"</span><span class="p">,</span>
            <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"expiry"</span><span class="p">,</span>
            <span class="na">styles</span><span class="p">:</span> <span class="nx">fieldStyles</span>
        <span class="p">};</span>
    <span class="kd">var</span> <span class="nx">cvnFieldConfig</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">publicApiKey</span><span class="p">:</span> <span class="nx">publicApiKey</span><span class="p">,</span>
            <span class="na">fieldDivId</span><span class="p">:</span> <span class="s2">"eway-secure-field-cvn"</span><span class="p">,</span>
            <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"cvn"</span><span class="p">,</span>
            <span class="na">styles</span><span class="p">:</span> <span class="nx">fieldStyles</span>
        <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"POST"</span> <span class="na">action=</span><span class="s">"/createTransaction"</span> <span class="na">id=</span><span class="s">"payment_form"</span><span class="nt">&gt;</span>
    Card Name: <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"eway-secure-field-name"</span><span class="nt">&gt;&lt;/div&gt;&lt;br&gt;</span>
    Card Number: <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"eway-secure-field-card"</span><span class="nt">&gt;&lt;/div&gt;&lt;br&gt;</span>
    Card Expiry: <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"eway-secure-field-expiry"</span><span class="nt">&gt;&lt;/div&gt;&lt;br&gt;</span>
    Card CVN: <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"eway-secure-field-cvn"</span><span class="nt">&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">id=</span><span class="s">"securefieldcode"</span> <span class="na">name=</span><span class="s">"SecuredCardData"</span> <span class="na">value=</span><span class="s">""</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"Process"</span> <span class="na">text=</span><span class="s">"Process"</span> <span class="nt">/&gt;</span>    
<span class="nt">&lt;/form&gt;</span>   
</code></pre>
    <h3 id="step-1-configure-the-fields">Step 1: Configure the fields</h3> 
    <p>Each Secure Field requires a config that tells eWAY what field to display and how it should look. This is done with a JavaScript object, which accepts the following values:</p> 
    <ul> 
     <li><code>publicApiKey</code> * : The eWAY Public API Key</li> 
     <li><code>fieldDivId</code> * : The id of the div to place the iframe in</li> 
     <li><code>fieldType</code> * : The type of field - one of <code>card</code>, <code>name</code>, <code>expiry</code>, <code>expirytext</code> or <code>cvn</code></li> 
     <li><code>styles</code>: Any CSS styles that should be applied to the iframe (only a subset of styles can be used)</li> 
     <li><code>styleTemplateId</code>: The id of a field to use the the styles from</li> 
     <li><code>maskValues</code>: Set to true to mask card and CVN values once completed (default is true)</li> 
     <li><code>autocomplete</code>: <em>(optional)</em> string: "true" or "false". When true, browser autocomplete is enabled for the field.</li> 
    </ul> 
    <p>*<em>denotes a required field</em></p> 
    <p>Each field requires a corresponding <code>&lt;div&gt;</code> with the id defined in the configuration. A <code>height</code> style is recommended for the divs to restrict their size.</p> 
    <p>There are two options to display expiry date controls. <code>expiry</code> which displays two drop down list boxes for month and year, and <code>expirytext</code> which displays a single text box. </p> 
    <blockquote> 
     <p>Creating a Secure Fields callback</p> 
    </blockquote> 
    <pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
    <span class="kd">function</span> <span class="nx">secureFieldCallback</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">fieldValid</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">errors</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// set the hidden Secure Field Code field</span>
            <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"securefieldcode"</span><span class="p">);</span>
            <span class="nx">s</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">secureFieldCode</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
    <h3 id="step-2-create-a-callback">Step 2: Create a callback</h3> 
    <p>The Secure Fields will return data via a JavaScript callback function. This data contains the <code>secureFieldCode</code> to process the transaction, along with useful details such as validation and error states. The function should accept one parameter, which contains the following values:</p> 
    <ul> 
     <li><code>secureFieldCode</code>: This is the code which is submitted to eWAY to complete the transaction (see step 4)</li> 
     <li><code>targetField</code>: The field type as set in the <code>fieldType</code> configuration</li> 
     <li><code>fieldValid</code>: Indicates if field loaded successfully</li> 
     <li><code>valueIsSaved</code>: Indicates that the field input data has been saved by eWAY</li> 
     <li><code>valueIsValid</code>: Indicates if the field input data is valid (e.g. if a valid card number has been entered into a card field)</li> 
     <li><code>errors</code>: Any errors will be passed in this field</li> 
    </ul> 
    <p>Note that this callback is called each time the associated Secure Field is updated or focus is lost.</p> 
    <blockquote> 
     <p>Initialising Secure Fields</p> 
    </blockquote> 
    <pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://secure.ewaypayments.com/scripts/eWAY.min.js"</span> <span class="na">data-init=</span><span class="s">"false"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">eWAY</span><span class="p">.</span><span class="nx">setupSecureField</span><span class="p">(</span><span class="nx">nameFieldConfig</span><span class="p">,</span> <span class="nx">secureFieldCallback</span><span class="p">);</span>
        <span class="nx">eWAY</span><span class="p">.</span><span class="nx">setupSecureField</span><span class="p">(</span><span class="nx">cardFieldConfig</span><span class="p">,</span> <span class="nx">secureFieldCallback</span><span class="p">);</span>
        <span class="nx">eWAY</span><span class="p">.</span><span class="nx">setupSecureField</span><span class="p">(</span><span class="nx">expiryFieldConfig</span><span class="p">,</span> <span class="nx">secureFieldCallback</span><span class="p">);</span>
        <span class="nx">eWAY</span><span class="p">.</span><span class="nx">setupSecureField</span><span class="p">(</span><span class="nx">cvnFieldConfig</span><span class="p">,</span> <span class="nx">secureFieldCallback</span><span class="p">);</span>
    <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
    <h3 id="step-3-initialise-the-secure-fields">Step 3: Initialise the Secure Fields</h3> 
    <p>To initialise the Secure Fields, first the eWAY.js JavaScript needs to be included:</p> 
    <p><code>&lt;script src="https://secure.ewaypayments.com/scripts/eWAY.min.js" data-init="false"&gt;&lt;/script&gt;</code></p> 
    <p>Then each field should be initialised using the function <code>eWAY.setupSecureField()</code>. This accepts two parameters: A configuration object and a callback function.</p> 
    <p>When the page is loaded, the Secure Fields will be loaded into the specified divs. The <code>secureFieldCode</code> returned in the callback function should be submitted with any other data being captured on the page when the users is ready.</p> 
    <blockquote> 
     <p>Basic Direct request for Secure Fields</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Payment": { "TotalAmount": 1000 }, "Method": "ProcessPayment", "TransactionType": "Purchase", "SecuredCardData": "44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw=" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DirectPayment</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
                <span class="nt">&lt;SecuredCardData&gt;</span>44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw=<span class="nt">&lt;/SecuredCardData&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/DirectPayment&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">PURCHASE</span><span class="p">,</span>
    <span class="s1">'SecuredCardData'</span> <span class="o">=&gt;</span> <span class="s1">'44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw='</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">DIRECT</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Purchase</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setSecuredCardData</span><span class="o">(</span><span class="s">"44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw="</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">Direct</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span>
    <span class="p">},</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Purchase</span><span class="p">,</span>
    <span class="n">SecuredCardData</span> <span class="p">=</span> <span class="s">"44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw="</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">Direct</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">DIRECT</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">1000</span>
    <span class="p">},</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Purchase"</span><span class="p">,</span>
    <span class="s2">"SecuredCardData"</span><span class="p">:</span> <span class="s2">"44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw="</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>

<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">PURCHASE</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">secured_card_data</span> <span class="o">=</span> <span class="s1">'44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw='</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">DIRECT</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>

</code></pre>
    <h3 id="step-4-complete-the-transaction-with-rapid-direct">Step 4: Complete the transaction with Rapid Direct</h3> 
    <p>Once the form has been submitted and the <code>secureFieldCode</code> passed to your server, a transaction can be processed by calling Rapid's <a href="#direct-connection">Direct Connection API</a>.</p> 
    <p>This works the same as a standard Direct Connection request, however instead of using <code>CardDetails</code>, the <code>secureFieldCode</code> should be passed in the <code>SecuredCardData</code> field. A purchase or a create token transaction can be completed with this data.</p> 
    <p><em>Note: the secureFieldCode is only valid for a single transaction use, and only for a limited time from when it's created. If the Direct API returns a <code>V6148</code> Error, this indicates that the secureFieldCode has expired.</em></p> 
    <h2 id="secure-panel">Secure Panel</h2> 
    <blockquote> 
     <p>Configuring Secure Panel</p> 
    </blockquote> 
    <pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="kd">var</span> <span class="nx">cardStyles</span> <span class="o">=</span> <span class="s2">"padding: 2px; border: 1px solid #AAA; height: 34px; width: 100%;"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">labelStyles</span> <span class="o">=</span> <span class="s2">"padding-right: 20px; float: right;"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">publicApiKey</span> <span class="o">=</span> <span class="s2">"epk-XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">groupFieldConfig</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">publicApiKey</span><span class="p">:</span> <span class="nx">publicApiKey</span><span class="p">,</span>
        <span class="na">fieldDivId</span><span class="p">:</span> <span class="s2">"eway-secure-panel"</span><span class="p">,</span>
        <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"group"</span><span class="p">,</span>
        <span class="na">layout</span> <span class="p">:</span> <span class="p">{</span>
            <span class="na">fonts</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"Lobster"</span><span class="p">],</span>
            <span class="na">rows</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span> 
                        <span class="na">cells</span><span class="p">:</span>  <span class="p">[</span> <span class="p">{</span>
                                    <span class="na">label</span><span class="p">:</span> <span class="p">{</span> <span class="na">text</span><span class="p">:</span> <span class="s2">"Card Name:"</span><span class="p">,</span> <span class="na">styles</span><span class="p">:</span> <span class="s2">"font-family: Lobster"</span> <span class="p">},</span>
                                    <span class="na">field</span><span class="p">:</span> <span class="p">{</span> <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"name"</span><span class="p">,</span> <span class="na">styles</span><span class="p">:</span> <span class="nx">cardStyles</span><span class="p">,</span> <span class="na">autocomplete</span><span class="p">:</span> <span class="s2">"true"</span> <span class="p">}</span>
                                  <span class="p">},</span> <span class="p">{</span>
                                    <span class="na">label</span><span class="p">:</span> <span class="p">{</span> <span class="na">text</span><span class="p">:</span> <span class="s2">"Card Number:"</span><span class="p">,</span> <span class="na">styles</span><span class="p">:</span> <span class="nx">labelStyles</span> <span class="p">},</span>
                                    <span class="na">field</span><span class="p">:</span> <span class="p">{</span> <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"card"</span><span class="p">,</span> <span class="na">styles</span><span class="p">:</span> <span class="nx">cardStyles</span><span class="p">,</span> <span class="na">autocomplete</span><span class="p">:</span> <span class="s2">"true"</span> <span class="p">}</span>
                                  <span class="p">}</span>
                        <span class="p">],</span>
                     <span class="p">},</span>
                     <span class="p">{</span>
                        <span class="na">cells</span><span class="p">:</span>  <span class="p">[</span> <span class="p">{</span>
                                    <span class="na">label</span><span class="p">:</span> <span class="p">{</span> <span class="na">text</span><span class="p">:</span> <span class="s2">"Expiry:"</span><span class="p">,</span> <span class="na">styles</span><span class="p">:</span> <span class="nx">labelStyles</span> <span class="p">},</span>
                                    <span class="na">field</span><span class="p">:</span> <span class="p">{</span> <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"expirytext"</span><span class="p">,</span> <span class="na">styles</span><span class="p">:</span> <span class="nx">cardStyles</span><span class="p">,</span> <span class="na">autocomplete</span><span class="p">:</span> <span class="s2">"true"</span> <span class="p">}</span>
                                  <span class="p">},</span> <span class="p">{</span>
                                    <span class="na">label</span><span class="p">:</span> <span class="p">{</span> <span class="na">text</span><span class="p">:</span> <span class="s2">"CVV Number:"</span><span class="p">,</span> <span class="na">styles</span><span class="p">:</span> <span class="nx">labelStyles</span> <span class="p">},</span>
                                    <span class="na">field</span><span class="p">:</span> <span class="p">{</span> <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"cvn"</span><span class="p">,</span> <span class="na">styles</span><span class="p">:</span> <span class="nx">cardStyles</span><span class="p">,</span> <span class="na">autocomplete</span><span class="p">:</span> <span class="s2">"true"</span> <span class="p">}</span>
                                  <span class="p">}</span>
                        <span class="p">]</span>
                     <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;h1&gt;</span> This is a simple page demonstrating eWAY Secure Panel<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"POST"</span> <span class="na">action=</span><span class="s">"/createTransaction"</span> <span class="na">id=</span><span class="s">"payment_form"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"eway-secure-panel"</span> <span class="na">style=</span><span class="s">"width: 50%;"</span><span class="nt">&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">id=</span><span class="s">"securefieldcode"</span> <span class="na">name=</span><span class="s">"SecuredCardData"</span> <span class="na">value=</span><span class="s">""</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"Submit"</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"Process"</span> <span class="na">text=</span><span class="s">"Process"</span> <span class="na">onclick=</span><span class="s">"return saveAndSubmit();"</span> <span class="nt">/&gt;</span>    
<span class="nt">&lt;/form&gt;</span>   
</code></pre> 
    <p>eWAY's Secure Panel solution provides the flexibility of a form that appears entirely on the merchant's site, but where the credit card fields are hosted securely by eWAY. Like eWAY's Secure Fields this is done by using JavaScript to replace a specified div with a single iframe which contains the credit card fields.</p> 
    <p>Because all credit card controls reside in the same iframe, cardholders can use the secure autofill facilities of modern browsers to populate all the card fields with a single click. To take advantage of autofill, it is a requirement that SSL is used to secure the page and provide reassurance to customers. Autofilling forms and credit cards will help increase your basket conversion.</p> 
    <p>Even though the contents of the iframe are hosted on eWAY's secure servers, the merchant's site can provide layout and styling so that the Secure Panel merges seamlessly with the containing page.</p> 
    <p>Implementing eWAY's Secure Panel requires:</p> 
    <ol> 
     <li>Using JavaScript and HTML to add the Secure Panel to the website</li> 
     <li>Passing the Secure Field Code using the <a href="#direct-connection">Direct Connection API</a> to complete the transaction</li> 
    </ol> 
    <p>A page that already uses Secure Fields can be easily converted to use a Secure Panel with some small HTML, javascript, and additional layout information.</p> 
    <h3 id="step-1-configure-the-panel">Step 1: Configure the Panel</h3> 
    <p>Each Secure Panel requires a config that tells eWAY what fields to display and how they should look. This is done with a JavaScript object, which accepts the following values:</p> 
    <ul> 
     <li><code>publicApiKey</code> * : The eWAY Public API Key</li> 
     <li><code>fieldDivId</code> * : The id of the div to place the iframe in</li> 
     <li><code>fieldType</code> * : The type of field - must be <code>group</code> for a secure panel.</li> 
     <li><code>styles</code>: Any CSS styles that should be applied to the iframe (only a subset of styles can be used)</li> 
     <li><code>layout</code> * : A JavaScript object that describes the fields and labels that are to be displyed in the iframe (for customising layout see step 5)</li> 
    </ul> 
    <p>*<em>denotes a required field</em></p> 
    <p>A Secure Panel requires a corresponding <code>&lt;div&gt;</code> with the id defined in the configuration. Unlike the single secure field a <code>height</code> style is not required as the div will resize as required to display it's contents.</p> 
    <blockquote> 
     <p>Creating the Secure Fields callback</p> 
    </blockquote> 
    <pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="kd">function</span> <span class="nx">securePanelCallback</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">event</span><span class="p">.</span><span class="nx">fieldValid</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">errors</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// set the hidden Secure Field Code field</span>
        <span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"securefieldcode"</span><span class="p">);</span>
        <span class="nx">s</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">secureFieldCode</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doneCallback</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"payment_form"</span><span class="p">);</span>
        <span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">saveAndSubmit</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">eWAY</span><span class="p">.</span><span class="nx">saveAllFields</span><span class="p">(</span><span class="nx">doneCallback</span><span class="p">,</span> <span class="mi">2000</span><span class="p">);</span> 
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
    <h3 id="step-2-create-a-callback">Step 2: Create a callback</h3> 
    <p>The Secure Panel will return data via a JavaScript callback function. This data contains the <code>secureFieldCode</code> to process the transaction, along with useful details such as validation and error states. The function should accept one parameter, which contains the following values:</p> 
    <ul> 
     <li><code>secureFieldCode</code>: This is the code which is submitted to eWAY to complete the transaction (see step 4)</li> 
     <li><code>fieldValid</code>: Indicates if all fields in the panel loaded successfully</li> 
     <li><code>valueIsSaved</code>: Indicates whether all fields in the panel have been saved by eWAY</li> 
     <li><code>valueIsValid</code>: Indicates whether all the fields in the panel are valid (e.g. if a valid card number has been entered into a card field). Note all the fields defined in the layout must have valid values entered for this to be true.</li> 
     <li><code>errors</code>: Any errors will be passed in this field</li> 
    </ul> 
    <p>Note that this callback is called each time the associated Secure Panel is updated or focus is lost. However it is always a good idea to also call the eWAY.saveAllFields client side API to ensure all field data has been submitted to eWAY's servers before processing a form.</p> 
    <blockquote> 
     <p>Initialising Secure Fields</p> 
    </blockquote> 
    <pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://secure.ewaypayments.com/scripts/eWAY.min.js"</span> <span class="na">data-init=</span><span class="s">"false"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Setup the field, will create iframe load, and hook in the callback</span>
        <span class="nx">eWAY</span><span class="p">.</span><span class="nx">setupSecureField</span><span class="p">(</span><span class="nx">groupFieldConfig</span><span class="p">,</span> <span class="nx">securePanelCallback</span><span class="p">);</span>
    <span class="p">};</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre>
    <h3 id="step-3-initialise-the-secure-panel">Step 3: Initialise the Secure Panel</h3> 
    <p>To initialise the Secure Panel, first the eWAY.js JavaScript needs to be included:</p> 
    <p><code>&lt;script src="https://secure.ewaypayments.com/scripts/eWAY.min.js" data-init="false"&gt;&lt;/script&gt;</code></p> 
    <p>Then the Secure Panel should be initialised using the function <code>eWAY.setupSecureField()</code>. This accepts two parameters: A configuration object and a callback function.</p> 
    <p>When the page is loaded, the Secure Panel will be loaded into the specified divs. The <code>secureFieldCode</code> returned in the callback function should be submitted with any other data being captured on the page when the user is ready.</p> 
    <blockquote> 
     <p>Basic Direct request for Secure Fields</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Payment": { "TotalAmount": 1000 }, "Method": "ProcessPayment", "TransactionType": "Purchase", "SecuredCardData": "44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw=" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DirectPayment</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
                <span class="nt">&lt;SecuredCardData&gt;</span>44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw=<span class="nt">&lt;/SecuredCardData&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/DirectPayment&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">PURCHASE</span><span class="p">,</span>
    <span class="s1">'SecuredCardData'</span> <span class="o">=&gt;</span> <span class="s1">'44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw='</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">DIRECT</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Purchase</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setSecuredCardData</span><span class="o">(</span><span class="s">"44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw="</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">Direct</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span>
    <span class="p">},</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Purchase</span><span class="p">,</span>
    <span class="n">SecuredCardData</span> <span class="p">=</span> <span class="s">"44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw="</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">Direct</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">DIRECT</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">1000</span>
    <span class="p">},</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Purchase"</span><span class="p">,</span>
    <span class="s2">"SecuredCardData"</span><span class="p">:</span> <span class="s2">"44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw="</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>

<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">PURCHASE</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">secured_card_data</span> <span class="o">=</span> <span class="s1">'44DD7jYYyRgaQnVibOAsYbbFIYmSXbS6hmTxosAhG6CK1biw='</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">DIRECT</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>

</code></pre>
    <h3 id="step-4-complete-the-transaction-with-rapid-direct">Step 4: Complete the transaction with Rapid Direct</h3> 
    <p>Once the form has been submitted and the <code>secureFieldCode</code> passed to your server, a transaction can be processed by calling Rapid's <a href="#direct-connection">Direct Connection API</a>.</p> 
    <p>This works the same as a standard Direct Connection request, however instead of using <code>CardDetails</code>, the <code>secureFieldCode</code> should be passed in the <code>SecuredCardData</code> field. A purchase or a create token transaction can be completed with this data.</p> 
    <p><em>Note: the secureFieldCode is only valid for a single transaction use, and only for a limited time from when it's created. If the Direct API returns a <code>V6148</code> Error, this indicates that the secureFieldCode has expired.</em></p> 
    <blockquote> 
     <p>Customised Secure Panel Layout</p> 
    </blockquote> 
    <pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="kd">var</span> <span class="nx">cardStyles</span> <span class="o">=</span> <span class="s2">"padding: 2px; border: 1px solid #AAA; border-radius: 3px; height: 34px; width: 100%; font-family:Quattrocento+Sans;"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">rowStyles</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">groupStyles</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">publicApiKey</span> <span class="o">=</span> <span class="s2">"epk-XXXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">groupFieldConfig</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">publicApiKey</span><span class="p">:</span> <span class="nx">publicApiKey</span><span class="p">,</span>
        <span class="na">fieldDivId</span><span class="p">:</span> <span class="s2">"eway-secure-panel"</span><span class="p">,</span>
        <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"group"</span><span class="p">,</span>
        <span class="na">styles</span><span class="p">:</span> <span class="nx">groupStyles</span><span class="p">,</span>
        <span class="na">layout</span> <span class="p">:</span> <span class="p">{</span>
            <span class="na">fonts</span><span class="p">:</span> <span class="p">[</span> 
                <span class="s2">"Quattrocento+Sans:400,700,400italic"</span><span class="p">,</span>
                <span class="s2">"Lobster"</span>
             <span class="p">],</span>
            <span class="na">rows</span> <span class="p">:</span> <span class="p">[</span> 
                <span class="p">{</span>
                    <span class="na">styles</span><span class="p">:</span> <span class="nx">rowStyles</span><span class="p">,</span>
                    <span class="na">cells</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="na">colSpan</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                            <span class="na">styles</span><span class="p">:</span> <span class="s2">"margin-top: 15px;"</span><span class="p">,</span>
                            <span class="na">label</span><span class="p">:</span> <span class="p">{</span>
                                <span class="na">fieldColSpan</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                                <span class="na">text</span><span class="p">:</span> <span class="s2">"Card Name:"</span><span class="p">,</span>
                                <span class="na">styles</span><span class="p">:</span> <span class="s2">"font-family: Lobster;"</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="na">field</span><span class="p">:</span> <span class="p">{</span>
                                <span class="na">fieldColSpan</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
                                <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"name"</span><span class="p">,</span>
                                <span class="na">styles</span><span class="p">:</span> <span class="nx">cardStyles</span><span class="p">,</span>
                                <span class="na">divStyles</span><span class="p">:</span> <span class="s2">"padding-left: 10px;"</span>
                            <span class="p">}</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="na">colSpan</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                            <span class="na">styles</span><span class="p">:</span> <span class="s2">"margin-top: 15px;"</span><span class="p">,</span>
                            <span class="na">label</span><span class="p">:</span> <span class="p">{</span>
                                <span class="na">fieldColSpan</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                                <span class="na">text</span><span class="p">:</span> <span class="s2">"Expiry:"</span><span class="p">,</span>
                                <span class="na">styles</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="na">field</span><span class="p">:</span> <span class="p">{</span>
                                <span class="na">fieldColSpan</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
                                <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"expirytext"</span><span class="p">,</span>
                                <span class="na">styles</span><span class="p">:</span> <span class="nx">cardStyles</span><span class="p">,</span>
                                <span class="na">divStyles</span><span class="p">:</span> <span class="s2">"padding-left: 10px;"</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="na">styles</span><span class="p">:</span> <span class="nx">rowStyles</span><span class="p">,</span>
                    <span class="na">cells</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="na">colSpan</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                            <span class="na">styles</span><span class="p">:</span> <span class="s2">"margin-top: 15px;"</span><span class="p">,</span>
                            <span class="na">label</span><span class="p">:</span> <span class="p">{</span>
                                <span class="na">fieldColSpan</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                                <span class="na">text</span><span class="p">:</span> <span class="s2">"Card Number:"</span><span class="p">,</span>
                                <span class="na">styles</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="na">field</span><span class="p">:</span> <span class="p">{</span>
                                <span class="na">fieldColSpan</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
                                <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"card"</span><span class="p">,</span>
                                <span class="na">styles</span><span class="p">:</span> <span class="nx">cardStyles</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">},</span>
                        <span class="p">{</span>
                            <span class="na">colSpan</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
                            <span class="na">styles</span><span class="p">:</span> <span class="s2">"margin-top: 15px;"</span><span class="p">,</span>
                            <span class="na">label</span><span class="p">:</span> <span class="p">{</span>
                                <span class="na">fieldColSpan</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                                <span class="na">text</span><span class="p">:</span> <span class="s2">"CVV Number:"</span><span class="p">,</span>
                                <span class="na">styles</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
                            <span class="p">},</span>
                            <span class="na">field</span><span class="p">:</span> <span class="p">{</span>
                                <span class="na">fieldColSpan</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
                                <span class="na">fieldType</span><span class="p">:</span> <span class="s2">"cvn"</span><span class="p">,</span>
                                <span class="na">styles</span><span class="p">:</span> <span class="nx">cardStyles</span><span class="p">,</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">};</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre>
    <h3 id="step-5-customise-secure-panel-layout">Step 5: Customise Secure Panel Layout</h3> 
    <p>A Secure Panel can be constructed from any combination of Secure Fields that can be displayed in any order. How the fields and thier respective labels are displayed is defined using the <code>layout</code> value in the Secure Panel definition.</p> 
    <p>The <code>layout</code> value is a JSON object with a structure defined below. It describes which fields and labels are to appear in the iframe, using a row/column structure. The merchant can use <code>colSpan</code> values to control the spacing, and additionally is able to specify style elements for each field control, label, the containing divs for each, and the overall containing divs.</p> 
    <p>The HTML generated from the <code>layout</code> is a Bootstrap style responsive layout using divs and CSS. Spacing for each element in a row, and for the spacing of each label/field is controlled using colSpan values of 1-12. At iframe widths of 480 pixels or less, each element stacks (i.e. consumes all 12 of the available columns).</p> 
    <p>Default values are provided for simple layouts which evenly space each label/field pair in a row. Style properties can be set on each element and containing div, allowing precise spacing to match existing grids. In general, use of padding on containing divs is the best approach to achieve a specific alignment as that ensures that iFrame scrollbars will not occur.</p> 
    <h4 id="code-layout-code-object-definition"><code>layout</code> object definition</h4> 
    <ul> 
     <li><code>fonts</code> : object <em>(optional)</em> An array of strings of google font names to include in the iframe.</li> 
     <li><code>rows</code> : An array of JavaScript objects, each of which describes one <code>row</code> of the layout (see <code>row</code> object below)</li> 
    </ul> 
    <h4 id="code-row-code-object-definition"><code>row</code> object definition</h4> 
    <p>Each row object in a layout's 'rows' array describes a single row consisting of multiple cells. It also contains style values to apply to the containing div for the row. It contains following values:</p> 
    <ul> 
     <li><code>styles</code>: <em>(optional)</em>, string. This value is set on the containing div for the row.</li> 
     <li><code>cells</code>: array of JavaScript objects, each of which describes a label and a secure field (see "cell" object below)</li> 
    </ul> 
    <h4 id="code-cell-code-object-definition"><code>cell</code> object definition</h4> 
    <p>Each <code>cell</code> object in the <code>cells</code> array describes a single secure field, and its label along with style and spacing properties. It contains the following values:</p> 
    <ul> 
     <li><code>styles</code>: <em>(optional)</em>, string. A set of styles to apply to the containing div.</li> 
     <li><code>colSpan</code>: <em>(optional)</em>, number. A Value from 1-12 describing what portion of the row the <code>cell</code> consumes when the browser width is greater than 480px.</li> 
     <li><code>label</code>: <em>object</em>. Describes the label to use for this field, and any additional styles. (see details below)</li> 
     <li><code>field</code>: <em>object</em>. The secure field to display. (see details below)</li> 
    </ul> 
    <h4 id="code-label-code-object-definition"><code>label</code> object definition</h4> 
    <p>Describes the label that is attached to the field. It contains following values:</p> 
    <ul> 
     <li><code>text</code>: string. Display text.</li> 
     <li><code>styles</code>: <em>(optional)</em> string. Additional styles to be applied to the label itself.</li> 
     <li><code>divStyles</code>: <em>(optional)</em> string. Additional styles to be applied to the div enclosing the label.</li> 
     <li><code>fieldColSpan</code>: <em>(optional)</em> number. Value from 1-12 describing what portion of the <code>cell</code> is consumed by the label when the browser width is greater than 480px.</li> 
    </ul> 
    <h4 id="code-field-code-object-definition"><code>field</code> object definition</h4> 
    <p>Describes a secure field to be displayed. Properties are as per the existing Rapid API <a href="#secure-fields">Secure Fields</a> documentation. It contains following values:</p> 
    <ul> 
     <li><code>fieldType</code>: string. The type of field to display. May be one of the following (<code>name</code>, <code>expiry</code>, <code>expirytext</code>, <code>cvn</code>, <code>number</code>)</li> 
     <li><code>styles</code>: <em>(optional)</em> string: styles attached to the field control.</li> 
     <li><code>divStyles</code>: <em>(optional)</em> string: styles attached to the field's containing div.</li> 
     <li><code>fieldColSpan</code>: <em>(optional)</em> number: value from 1-12 describing what portion of the <code>cell</code> is consumed by the control when the browser width is greater than 480px.</li> 
     <li><code>autocomplete</code>: <em>(optional)</em> string: "true" or "false". When true, browser autocomplete is enabled for the field.</li> 
     <li><code>maskValues</code>: Set to true to mask card and CVN values once completed (default is true)</li> 
    </ul> 
    <h2 id="refunds">Refunds</h2> 
    <p>Full and partial refunds can be processed for any transaction in eWAY.</p> 
    <aside class="notice">
      Note: Before accessing the direct refund API you must add the Refund ability to your API user role. 
    </aside> 
    <h3 id="live-endpoints">Live endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.ewaypayments.com/Transaction/{TransactionID}/Refund</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.ewaypayments.com/DirectRefund.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.ewaypayments.com/DirectRefund.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="sandbox-endpoints">Sandbox endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.sandbox.ewaypayments.com/Transaction/{TransactionID}/Refund</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/DirectRefund.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/DirectRefund.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="request-field-descriptions">Request Field Descriptions</h3> 
    <blockquote> 
     <p>Basic Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Refund": { "TotalAmount": 10 } }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction/11259550/Refund
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DirectRefund</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Refund&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>10<span class="nt">&lt;/TotalAmount&gt;</span>
                    <span class="nt">&lt;TransactionID&gt;</span>11259550<span class="nt">&lt;/TransactionID&gt;</span>
                <span class="nt">&lt;/Refund&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/DirectRefund&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$refund</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Refund'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TransactionID'</span> <span class="o">=&gt;</span> <span class="mi">11259550</span><span class="p">,</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">10</span>
    <span class="p">],</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">refund</span><span class="p">(</span><span class="nv">$refund</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">RefundDetails</span> <span class="n">refundDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RefundDetails</span><span class="o">();</span>
<span class="n">refundDetails</span><span class="o">.</span><span class="na">setOriginalTransactionID</span><span class="o">(</span><span class="s">"11259550"</span><span class="o">);</span>
<span class="n">refundDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>

<span class="n">Refund</span> <span class="n">refund</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Refund</span><span class="o">();</span>
<span class="n">refund</span><span class="o">.</span><span class="na">setRefundDetails</span><span class="o">(</span><span class="n">refundDetails</span><span class="o">);</span>

<span class="n">RefundResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">refund</span><span class="o">(</span><span class="n">refund</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Refund</span> <span class="n">refund</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Refund</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">RefundDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RefundDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">100</span><span class="p">,</span>
        <span class="n">OriginalTransactionID</span> <span class="p">=</span> <span class="m">11259550</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">RefundResponse</span> <span class="n">refundResponse</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Refund</span><span class="p">(</span><span class="n">refund</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">refund</span><span class="p">({</span>
    <span class="s2">"Refund"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
       <span class="s2">"TransactionID"</span><span class="p">:</span> <span class="mi">11259550</span>
    <span class="p">}</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">refund</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Refund</span><span class="p">.</span><span class="nf">new</span>
<span class="n">refund_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">InternalModels</span><span class="o">::</span><span class="no">RefundDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">refund_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">refund_details</span><span class="p">.</span><span class="nf">original_transaction_id</span> <span class="o">=</span> <span class="mi">11259550</span>
<span class="n">refund</span><span class="p">.</span><span class="nf">refund_details</span> <span class="o">=</span> <span class="n">refund_details</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">refund</span><span class="p">(</span><span class="n">refund</span><span class="p">)</span>
</code></pre> 
    <blockquote> 
     <p>Complete Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Customer": { "Reference": "A12345", "Title": "Mr.", "FirstName": "John", "LastName": "Smith", "CompanyName": "Demo Shop 123", "JobDescription": "Developer", "Street1": "Level 5", "Street2": "369 Queen Street", "City": "Sydney", "State": "NSW", "PostalCode": "2000", "Country": "au", "Phone": "09 889 0986", "Mobile": "09 889 6542", "Email": "demo@example.org", "Url": "http://www.ewaypayments.com", "CardDetails": { "ExpiryMonth": "12", "ExpiryYear": "25" } }, "ShippingAddress": { "ShippingMethod": "NextDay", "FirstName": "John", "LastName": "Smith", "Street1": "Level 5", "Street2": "369 Queen Street", "City": "Sydney", "State": "NSW", "Country": "au", "PostalCode": "2000", "Phone": "09 889 0986" }, "Items": [ { "SKU": "12345678901234567890", "Description": "Item Description 1", "Quantity": 1, "UnitCost": 400, "Tax": 100, "Total": 500 }, { "SKU": "123456789012", "Description": "Item Description 2", "Quantity": 1, "UnitCost": 400, "Tax": 100, "Total": 500 } ], "Options": [ { "Value": "Option1" }, { "Value": "Option2" } ], "Refund": { "TotalAmount": 10, "InvoiceNumber": "Inv 21540", "InvoiceDescription": "Individual Invoice Description", "InvoiceReference": "513456", "CurrencyCode": "AUD" }, "DeviceID": "D1234", "CustomerIP": "127.0.0.1", }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction/11259550/Refund
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DirectRefund</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Customer&gt;</span>
                    <span class="nt">&lt;Reference&gt;</span>A12345<span class="nt">&lt;/Reference&gt;</span>
                    <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;CompanyName&gt;</span>Demo Shop 123<span class="nt">&lt;/CompanyName&gt;</span>
                    <span class="nt">&lt;JobDescription&gt;</span>Developer<span class="nt">&lt;/JobDescription&gt;</span>
                    <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                    <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                    <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                    <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                    <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
                    <span class="nt">&lt;Mobile&gt;</span>0289712345<span class="nt">&lt;/Mobile&gt;</span>
                    <span class="nt">&lt;Comments&gt;</span>Customer comments<span class="nt">&lt;/Comments&gt;</span>
                    <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
                    <span class="nt">&lt;Url&gt;</span>http://www.ewaypayments.com<span class="nt">&lt;/Url&gt;</span>
                    <span class="nt">&lt;CardDetails&gt;</span>
                        <span class="nt">&lt;ExpiryMonth&gt;</span>12<span class="nt">&lt;/ExpiryMonth&gt;</span>
                        <span class="nt">&lt;ExpiryYear&gt;</span>25<span class="nt">&lt;/ExpiryYear&gt;</span>
                    <span class="nt">&lt;/CardDetails&gt;</span>
                <span class="nt">&lt;/Customer&gt;</span>
                <span class="nt">&lt;ShippingAddress&gt;</span>
                    <span class="nt">&lt;ShippingMethod&gt;</span>NextDay<span class="nt">&lt;/ShippingMethod&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                    <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                    <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                    <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                    <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                    <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
                    <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
                <span class="nt">&lt;/ShippingAddress&gt;</span>
                <span class="nt">&lt;Items&gt;</span>
                    <span class="nt">&lt;LineItem&gt;</span>
                        <span class="nt">&lt;SKU&gt;</span>12345678901234567890<span class="nt">&lt;/SKU&gt;</span>
                        <span class="nt">&lt;Description&gt;</span>Item Description 1<span class="nt">&lt;/Description&gt;</span>
                        <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
                        <span class="nt">&lt;UnitCost&gt;</span>400<span class="nt">&lt;/UnitCost&gt;</span>
                        <span class="nt">&lt;Tax&gt;</span>100<span class="nt">&lt;/Tax&gt;</span>
                        <span class="nt">&lt;Total&gt;</span>500<span class="nt">&lt;/Total&gt;</span>
                    <span class="nt">&lt;/LineItem&gt;</span>
                    <span class="nt">&lt;LineItem&gt;</span>
                        <span class="nt">&lt;SKU&gt;</span>123456789012<span class="nt">&lt;/SKU&gt;</span>
                        <span class="nt">&lt;Description&gt;</span>Item Description 2<span class="nt">&lt;/Description&gt;</span>
                        <span class="nt">&lt;Quantity&gt;</span>1<span class="nt">&lt;/Quantity&gt;</span>
                        <span class="nt">&lt;UnitCost&gt;</span>400<span class="nt">&lt;/UnitCost&gt;</span>
                        <span class="nt">&lt;Tax&gt;</span>100<span class="nt">&lt;/Tax&gt;</span>
                        <span class="nt">&lt;Total&gt;</span>500<span class="nt">&lt;/Total&gt;</span>
                    <span class="nt">&lt;/LineItem&gt;</span>
                <span class="nt">&lt;/Items&gt;</span>
                <span class="nt">&lt;Options&gt;</span>
                    <span class="nt">&lt;Option&gt;</span>
                        <span class="nt">&lt;Value&gt;</span>Option1<span class="nt">&lt;/Value&gt;</span>
                    <span class="nt">&lt;/Option&gt;</span>
                    <span class="nt">&lt;Option&gt;</span>
                        <span class="nt">&lt;Value&gt;</span>Option2<span class="nt">&lt;/Value&gt;</span>
                    <span class="nt">&lt;/Option&gt;</span>
                <span class="nt">&lt;/Options&gt;</span>
                <span class="nt">&lt;Refund&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>100<span class="nt">&lt;/TotalAmount&gt;</span>
                    <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
                    <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
                    <span class="nt">&lt;InvoiceReference&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceReference&gt;</span>
                    <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
                    <span class="nt">&lt;TransactionID&gt;</span>11259550<span class="nt">&lt;/TransactionID&gt;</span>
                <span class="nt">&lt;/Refund&gt;</span>
                <span class="nt">&lt;CustomerIP&gt;</span>127.0.0.1<span class="nt">&lt;/CustomerIP&gt;</span>
                <span class="nt">&lt;DeviceID&gt;</span>D1234<span class="nt">&lt;/DeviceID&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/DirectRefund&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>

</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$refund</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Customer'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'Reference'</span> <span class="o">=&gt;</span> <span class="s1">'A12345'</span><span class="p">,</span>
        <span class="s1">'Title'</span> <span class="o">=&gt;</span> <span class="s1">'Mr.'</span><span class="p">,</span>
        <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
        <span class="s1">'CompanyName'</span> <span class="o">=&gt;</span> <span class="s1">'Demo Shop 123'</span><span class="p">,</span>
        <span class="s1">'JobDescription'</span> <span class="o">=&gt;</span> <span class="s1">'Developer'</span><span class="p">,</span>
        <span class="s1">'Street1'</span> <span class="o">=&gt;</span> <span class="s1">'Level 5'</span><span class="p">,</span>
        <span class="s1">'Street2'</span> <span class="o">=&gt;</span> <span class="s1">'369 Queen Street'</span><span class="p">,</span>
        <span class="s1">'City'</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span><span class="p">,</span>
        <span class="s1">'State'</span> <span class="o">=&gt;</span> <span class="s1">'NSW'</span><span class="p">,</span>
        <span class="s1">'PostalCode'</span> <span class="o">=&gt;</span> <span class="s1">'2000'</span><span class="p">,</span>
        <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
        <span class="s1">'Phone'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 0986'</span><span class="p">,</span>
        <span class="s1">'Mobile'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 6542'</span><span class="p">,</span>
        <span class="s1">'Email'</span> <span class="o">=&gt;</span> <span class="s1">'demo@example.org'</span><span class="p">,</span>
        <span class="s2">"Url"</span> <span class="o">=&gt;</span> <span class="s2">"http://www.ewaypayments.com"</span><span class="p">,</span>
        <span class="s1">'CardDetails'</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">'ExpiryMonth'</span> <span class="o">=&gt;</span> <span class="s1">'12'</span><span class="p">,</span>
            <span class="s1">'ExpiryYear'</span> <span class="o">=&gt;</span> <span class="s1">'25'</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="s1">'ShippingAddress'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'ShippingMethod'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\ShippingMethod</span><span class="o">::</span><span class="na">NEXT_DAY</span><span class="p">,</span>
        <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
        <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
        <span class="s1">'Street1'</span> <span class="o">=&gt;</span> <span class="s1">'Level 5'</span><span class="p">,</span>
        <span class="s1">'Street2'</span> <span class="o">=&gt;</span> <span class="s1">'369 Queen Street'</span><span class="p">,</span>
        <span class="s1">'City'</span> <span class="o">=&gt;</span> <span class="s1">'Sydney'</span><span class="p">,</span>
        <span class="s1">'State'</span> <span class="o">=&gt;</span> <span class="s1">'NSW'</span><span class="p">,</span>
        <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
        <span class="s1">'PostalCode'</span> <span class="o">=&gt;</span> <span class="s1">'2000'</span><span class="p">,</span>
        <span class="s1">'Phone'</span> <span class="o">=&gt;</span> <span class="s1">'09 889 0986'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'Items'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'SKU'</span> <span class="o">=&gt;</span> <span class="s1">'12345678901234567890'</span><span class="p">,</span>
            <span class="s1">'Description'</span> <span class="o">=&gt;</span> <span class="s1">'Item Description 1'</span><span class="p">,</span>
            <span class="s1">'Quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">'UnitCost'</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">'Tax'</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
            <span class="c1">// Total is calculated automatically </span>        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'SKU'</span> <span class="o">=&gt;</span> <span class="s1">'123456789012'</span><span class="p">,</span>
            <span class="s1">'Description'</span> <span class="o">=&gt;</span> <span class="s1">'Item Description 2'</span><span class="p">,</span>
            <span class="s1">'Quantity'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">'UnitCost'</span> <span class="o">=&gt;</span> <span class="mi">400</span><span class="p">,</span>
            <span class="s1">'Tax'</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">'Options'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">'Value'</span> <span class="o">=&gt;</span> <span class="s1">'Option1'</span><span class="p">,</span>
        <span class="p">],</span>
        <span class="p">[</span>
            <span class="s1">'Value'</span> <span class="o">=&gt;</span> <span class="s1">'Option2'</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">],</span>
    <span class="s1">'Refund'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TransactionID'</span> <span class="o">=&gt;</span> <span class="mi">11259550</span><span class="p">,</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">'InvoiceNumber'</span> <span class="o">=&gt;</span> <span class="s1">'Inv 21540'</span><span class="p">,</span>
        <span class="s1">'InvoiceDescription'</span> <span class="o">=&gt;</span> <span class="s1">'Individual Invoice Description'</span><span class="p">,</span>
        <span class="s1">'InvoiceReference'</span> <span class="o">=&gt;</span> <span class="s1">'513456'</span><span class="p">,</span>
        <span class="s1">'CurrencyCode'</span> <span class="o">=&gt;</span> <span class="s1">'AUD'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'DeviceID'</span> <span class="o">=&gt;</span> <span class="s1">'D1234'</span><span class="p">,</span>
    <span class="s1">'CustomerIP'</span> <span class="o">=&gt;</span> <span class="s1">'127.0.0.1'</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">refund</span><span class="p">(</span><span class="nv">$refund</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Refund</span> <span class="n">refund</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Refund</span><span class="o">();</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Customer</span><span class="o">();</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setReference</span><span class="o">(</span><span class="s">"A12345"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Mr."</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCompanyName</span><span class="o">(</span><span class="s">"eWay"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setJobDescription</span><span class="o">(</span><span class="s">"Java Developer"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"09 889 0986"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setMobile</span><span class="o">(</span><span class="s">"09 889 6542"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setUrl</span><span class="o">(</span><span class="s">"http://ewaypayments.com"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCustomerDeviceIP</span><span class="o">(</span><span class="s">"127.0.0.1"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"demo@example.org"</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address</span><span class="o">.</span><span class="na">setStreet1</span><span class="o">(</span><span class="s">"Level 5"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setStreet2</span><span class="o">(</span><span class="s">"369 Queen Street"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Sydney"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"NSW"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"2000"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="n">address</span><span class="o">);</span>

<span class="n">CardDetails</span> <span class="n">cardDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CardDetails</span><span class="o">();</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setExpiryMonth</span><span class="o">(</span><span class="s">"12"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setExpiryYear</span><span class="o">(</span><span class="s">"25"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCardDetails</span><span class="o">(</span><span class="n">cardDetails</span><span class="o">);</span>
<span class="n">refund</span><span class="o">.</span><span class="na">setCustomer</span><span class="o">(</span><span class="n">customer</span><span class="o">);</span>

<span class="n">ShippingDetails</span> <span class="n">shippingDetail</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ShippingDetails</span><span class="o">();</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="s">"09 889 0986"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setShippingMethod</span><span class="o">(</span><span class="n">ShippingMethod</span><span class="o">.</span><span class="na">LowCost</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">shipAddress</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setStreet1</span><span class="o">(</span><span class="s">"Level 5"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setStreet2</span><span class="o">(</span><span class="s">"369 Queen Street"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Sydney"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setState</span><span class="o">(</span><span class="s">"NSW"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">shipAddress</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"2000"</span><span class="o">);</span>
<span class="n">shippingDetail</span><span class="o">.</span><span class="na">setShippingAddress</span><span class="o">(</span><span class="n">shipAddress</span><span class="o">);</span>
<span class="n">refund</span><span class="o">.</span><span class="na">setShippingDetails</span><span class="o">(</span><span class="n">shippingDetail</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">LineItem</span><span class="o">&gt;</span> <span class="n">items</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">LineItem</span> <span class="n">item1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LineItem</span><span class="o">();</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setSku</span><span class="o">(</span><span class="s">"12345678901234567890"</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Item Description 1"</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setUnitCost</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">item1</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
<span class="n">items</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item1</span><span class="o">);</span>

<span class="n">LineItem</span> <span class="n">item2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LineItem</span><span class="o">();</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setSku</span><span class="o">(</span><span class="s">"123456789012"</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Item Description 2"</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setQuantity</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setUnitCost</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">item2</span><span class="o">.</span><span class="na">setTotal</span><span class="o">(</span><span class="mi">500</span><span class="o">);</span>
<span class="n">items</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item2</span><span class="o">);</span>

<span class="n">refund</span><span class="o">.</span><span class="na">setLineItems</span><span class="o">(</span><span class="n">items</span><span class="o">);</span>

<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">options</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Option1"</span><span class="o">);</span>
<span class="n">options</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"Option2"</span><span class="o">);</span>
<span class="n">refund</span><span class="o">.</span><span class="na">setOptions</span><span class="o">(</span><span class="n">options</span><span class="o">);</span>

<span class="n">RefundDetails</span> <span class="n">refundDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RefundDetails</span><span class="o">();</span>
<span class="n">refundDetails</span><span class="o">.</span><span class="na">setOriginalTransactionID</span><span class="o">(</span><span class="s">"11259550"</span><span class="o">);</span>
<span class="n">refundDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
<span class="n">refundDetails</span><span class="o">.</span><span class="na">setCurrencyCode</span><span class="o">(</span><span class="s">"AUD"</span><span class="o">);</span>
<span class="n">refundDetails</span><span class="o">.</span><span class="na">setInvoiceDescription</span><span class="o">(</span><span class="s">"Individual Invoice Description"</span><span class="o">);</span>
<span class="n">refundDetails</span><span class="o">.</span><span class="na">setInvoiceNumber</span><span class="o">(</span><span class="s">"Inv 21540"</span><span class="o">);</span>
<span class="n">refundDetails</span><span class="o">.</span><span class="na">setInvoiceReference</span><span class="o">(</span><span class="s">"513456"</span><span class="o">);</span>
<span class="n">refund</span><span class="o">.</span><span class="na">setRefundDetails</span><span class="o">(</span><span class="n">refundDetails</span><span class="o">);</span>

<span class="n">refund</span><span class="o">.</span><span class="na">setDeviceID</span><span class="o">(</span><span class="s">"D1234"</span><span class="o">);</span>

<span class="n">RefundResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">refund</span><span class="o">(</span><span class="n">refund</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Refund</span> <span class="n">refund</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Refund</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Customer</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Reference</span> <span class="p">=</span> <span class="s">"A12345"</span><span class="p">,</span>
        <span class="n">Title</span> <span class="p">=</span> <span class="s">"Mr."</span><span class="p">,</span>
        <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
        <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
        <span class="n">CompanyName</span> <span class="p">=</span> <span class="s">"Demo Shop 123"</span><span class="p">,</span>
        <span class="n">JobDescription</span> <span class="p">=</span> <span class="s">"C# Developer"</span><span class="p">,</span>
        <span class="n">Phone</span> <span class="p">=</span> <span class="s">"09 889 0986"</span><span class="p">,</span>
        <span class="n">Mobile</span> <span class="p">=</span> <span class="s">"09 889 6542"</span><span class="p">,</span>
        <span class="n">Url</span> <span class="p">=</span> <span class="s">"http://www.ewaypayments.com"</span><span class="p">,</span>
        <span class="n">Address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Street1</span> <span class="p">=</span> <span class="s">"Level 5"</span><span class="p">,</span>
            <span class="n">Street2</span> <span class="p">=</span> <span class="s">"369 Queen Street"</span><span class="p">,</span>
            <span class="n">City</span> <span class="p">=</span> <span class="s">"Sydney"</span><span class="p">,</span>
            <span class="n">State</span> <span class="p">=</span> <span class="s">"NSW"</span><span class="p">,</span>
            <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span><span class="p">,</span>
            <span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"2000"</span><span class="p">,</span>

        <span class="p">},</span>
        <span class="n">CardDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CardDetails</span>
        <span class="p">{</span>
            <span class="n">ExpiryMonth</span> <span class="p">=</span> <span class="s">"12"</span><span class="p">,</span>
            <span class="n">ExpiryYear</span> <span class="p">=</span> <span class="s">"25"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">ShippingDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ShippingDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
        <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
        <span class="n">Phone</span> <span class="p">=</span> <span class="s">"09 889 0986"</span><span class="p">,</span>
        <span class="n">ShippingAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">Street1</span> <span class="p">=</span> <span class="s">"Level 5"</span><span class="p">,</span>
            <span class="n">Street2</span> <span class="p">=</span> <span class="s">"369 Queen Street"</span><span class="p">,</span>
            <span class="n">City</span> <span class="p">=</span> <span class="s">"Sydney"</span><span class="p">,</span>
            <span class="n">State</span> <span class="p">=</span> <span class="s">"NSW"</span><span class="p">,</span>
            <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span><span class="p">,</span>
            <span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"2000"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">LineItems</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> 
    <span class="p">{</span> 
        <span class="k">new</span> <span class="nf">LineItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">SKU</span> <span class="p">=</span> <span class="s">"12345678901234567890"</span><span class="p">,</span> 
            <span class="n">Description</span> <span class="p">=</span> <span class="s">"Item Description 1"</span><span class="p">,</span>
            <span class="n">Quantity</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">UnitCost</span> <span class="p">=</span> <span class="m">400</span>
        <span class="p">},</span>
        <span class="k">new</span> <span class="nf">LineItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">SKU</span> <span class="p">=</span> <span class="s">"123456789012"</span><span class="p">,</span> 
            <span class="n">Description</span> <span class="p">=</span> <span class="s">"Item Description 2"</span><span class="p">,</span>
            <span class="n">Quantity</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
            <span class="n">UnitCost</span> <span class="p">=</span> <span class="m">400</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">}.</span><span class="nf">ToList</span><span class="p">(),</span>
    <span class="n">Options</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> 
    <span class="p">{</span> 
        <span class="s">"Option1"</span><span class="p">,</span> 
        <span class="s">"Option2"</span> 
    <span class="p">}.</span><span class="nf">ToList</span><span class="p">(),</span>
    <span class="n">RefundDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RefundDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">10</span><span class="p">,</span>
        <span class="n">OriginalTransactionID</span> <span class="p">=</span> <span class="m">11259550</span><span class="p">,</span>
        <span class="n">InvoiceNumber</span> <span class="p">=</span> <span class="s">"Inv 21540"</span><span class="p">,</span>
        <span class="n">InvoiceDescription</span> <span class="p">=</span> <span class="s">"Individual Invoice Description"</span><span class="p">,</span>
        <span class="n">InvoiceReference</span> <span class="p">=</span> <span class="s">"513456"</span><span class="p">,</span>
        <span class="n">CurrencyCode</span> <span class="p">=</span> <span class="s">"AUD"</span>
    <span class="p">},</span>
    <span class="n">DeviceID</span> <span class="p">=</span> <span class="s">"D1234"</span>
<span class="p">};</span>

<span class="n">RefundResponse</span> <span class="n">refundResponse</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Refund</span><span class="p">(</span><span class="n">refund</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">refund</span><span class="p">({</span>
    <span class="s2">"Customer"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"Reference"</span><span class="p">:</span> <span class="s2">"A12345"</span><span class="p">,</span>
       <span class="s2">"Title"</span><span class="p">:</span> <span class="s2">"Mr."</span><span class="p">,</span>
       <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
       <span class="s2">"CompanyName"</span><span class="p">:</span> <span class="s2">"Demo Shop 123"</span><span class="p">,</span>
       <span class="s2">"JobDescription"</span><span class="p">:</span> <span class="s2">"Developer"</span><span class="p">,</span>
       <span class="s2">"Street1"</span><span class="p">:</span> <span class="s2">"Level 5"</span><span class="p">,</span>
       <span class="s2">"Street2"</span><span class="p">:</span> <span class="s2">"369 Queen Street"</span><span class="p">,</span>
       <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Sydney"</span><span class="p">,</span>
       <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"NSW"</span><span class="p">,</span>
       <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"2000"</span><span class="p">,</span>
       <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
       <span class="s2">"Phone"</span><span class="p">:</span> <span class="s2">"09 889 0986"</span><span class="p">,</span>
       <span class="s2">"Mobile"</span><span class="p">:</span> <span class="s2">"09 889 6542"</span><span class="p">,</span>
       <span class="s2">"Email"</span><span class="p">:</span> <span class="s2">"demo@example.org"</span><span class="p">,</span>
       <span class="s2">"Url"</span><span class="p">:</span> <span class="s2">"http://www.ewaypayments.com"</span><span class="p">,</span>
        <span class="s2">"CardDetails"</span><span class="p">:</span> <span class="p">{</span>
         <span class="s2">"ExpiryMonth"</span><span class="p">:</span> <span class="s2">"12"</span><span class="p">,</span>
         <span class="s2">"ExpiryYear"</span><span class="p">:</span> <span class="s2">"26"</span>
       <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">"ShippingAddress"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"ShippingMethod"</span><span class="p">:</span> <span class="s2">"NextDay"</span><span class="p">,</span>
       <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
       <span class="s2">"Street1"</span><span class="p">:</span> <span class="s2">"Level 5"</span><span class="p">,</span>
       <span class="s2">"Street2"</span><span class="p">:</span> <span class="s2">"369 Queen Street"</span><span class="p">,</span>
       <span class="s2">"City"</span><span class="p">:</span> <span class="s2">"Sydney"</span><span class="p">,</span>
       <span class="s2">"State"</span><span class="p">:</span> <span class="s2">"NSW"</span><span class="p">,</span>
       <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
       <span class="s2">"PostalCode"</span><span class="p">:</span> <span class="s2">"2000"</span><span class="p">,</span>
       <span class="s2">"Phone"</span><span class="p">:</span> <span class="s2">"09 889 0986"</span>
    <span class="p">},</span>
    <span class="s2">"Items"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"SKU"</span><span class="p">:</span> <span class="s2">"12345678901234567890"</span><span class="p">,</span>
       <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Item Description 1"</span><span class="p">,</span>
       <span class="s2">"Quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"UnitCost"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
       <span class="s2">"Tax"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"Total"</span><span class="p">:</span> <span class="mi">500</span>
     <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"SKU"</span><span class="p">:</span> <span class="s2">"123456789012"</span><span class="p">,</span>
       <span class="s2">"Description"</span><span class="p">:</span> <span class="s2">"Item Description 2"</span><span class="p">,</span>
       <span class="s2">"Quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
       <span class="s2">"UnitCost"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span>
       <span class="s2">"Tax"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"Total"</span><span class="p">:</span> <span class="mi">500</span>
     <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"Options"</span><span class="p">:</span> <span class="p">[</span>
     <span class="p">{</span>
       <span class="s2">"Value"</span><span class="p">:</span> <span class="s2">"Option1"</span>
       <span class="p">},</span>
     <span class="p">{</span>
       <span class="s2">"Value"</span><span class="p">:</span> <span class="s2">"Option2"</span>
     <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"Refund"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
       <span class="s2">"InvoiceNumber"</span><span class="p">:</span> <span class="s2">"Inv 21540"</span><span class="p">,</span>
       <span class="s2">"InvoiceDescription"</span><span class="p">:</span> <span class="s2">"Individual Invoice Description"</span><span class="p">,</span>
       <span class="s2">"InvoiceReference"</span><span class="p">:</span> <span class="s2">"513456"</span><span class="p">,</span>
       <span class="s2">"CurrencyCode"</span><span class="p">:</span> <span class="s2">"AUD"</span><span class="p">,</span>
       <span class="s2">"TransactionID"</span><span class="p">:</span> <span class="mi">11259550</span>
    <span class="p">},</span>
    <span class="s2">"DeviceID"</span><span class="p">:</span> <span class="s2">"D1234"</span><span class="p">,</span>
    <span class="s2">"CustomerIP"</span><span class="p">:</span> <span class="s2">"127.0.0.1"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">refund</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Refund</span><span class="p">.</span><span class="nf">new</span>

<span class="n">customer</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Customer</span><span class="p">.</span><span class="nf">new</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">reference</span> <span class="o">=</span> <span class="s1">'A12345'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s1">'Mr.'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">company_name</span> <span class="o">=</span> <span class="s1">'Company'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">job_description</span> <span class="o">=</span> <span class="s1">'Ruby Developer'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">phone</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">mobile</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">fax</span> <span class="o">=</span> <span class="s1">'09 654 1234'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">url</span> <span class="o">=</span> <span class="s1">'http://www.ewaypayments.com'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">comments</span> <span class="o">=</span> <span class="s1">'customer comment'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">customer_device_ip</span> <span class="o">=</span> <span class="s1">'127.0.0.1'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">email</span> <span class="o">=</span> <span class="s1">'demo@example.org'</span>

<span class="n">card_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">CardDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">expiry_month</span> <span class="o">=</span> <span class="s1">'05'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">expiry_year</span> <span class="o">=</span> <span class="s1">'25'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">card_details</span> <span class="o">=</span> <span class="n">card_details</span>

<span class="n">address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">address</span><span class="p">.</span><span class="nf">street1</span> <span class="o">=</span> <span class="s1">'Level 5'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">street2</span> <span class="o">=</span> <span class="s1">'369 Queen Street'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">city</span> <span class="o">=</span> <span class="s1">'Sydney'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">state</span> <span class="o">=</span> <span class="s1">'NSW'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">address</span><span class="p">.</span><span class="nf">postal_code</span> <span class="o">=</span> <span class="s1">'2000'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">address</span> <span class="o">=</span> <span class="n">address</span>

<span class="n">refund</span><span class="p">.</span><span class="nf">customer</span> <span class="o">=</span> <span class="n">customer</span>

<span class="n">shipping_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">ShippingDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">shipping_address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">street1</span> <span class="o">=</span> <span class="s1">'Level 5'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">street2</span> <span class="o">=</span> <span class="s1">'369 Queen Street'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">city</span> <span class="o">=</span> <span class="s1">'Sydney'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">state</span> <span class="o">=</span> <span class="s1">'NSW'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">shipping_address</span><span class="p">.</span><span class="nf">postal_code</span> <span class="o">=</span> <span class="s1">'2000'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">shipping_address</span> <span class="o">=</span> <span class="n">shipping_address</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>
<span class="n">shipping_details</span><span class="p">.</span><span class="nf">phone</span> <span class="o">=</span> <span class="s1">'09 889 0986'</span>
<span class="n">refund</span><span class="p">.</span><span class="nf">shipping_details</span> <span class="o">=</span> <span class="n">shipping_details</span>

<span class="n">line_item</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'12345678901234567890'</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 1'</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_item1</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'12345678901234567890'</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 1'</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item1</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_item2</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">LineItem</span><span class="p">.</span><span class="nf">new</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">sku</span> <span class="o">=</span> <span class="s1">'123456789012'</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">description</span> <span class="o">=</span> <span class="s1">'Item Description 2'</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">quantity</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">unit_cost</span> <span class="o">=</span> <span class="mi">400</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">tax</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">line_item2</span><span class="p">.</span><span class="nf">total</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">line_items</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">line_items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">line_item1</span><span class="p">)</span>
<span class="n">line_items</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="n">line_item2</span><span class="p">)</span>
<span class="n">refund</span><span class="p">.</span><span class="nf">line_items</span> <span class="o">=</span> <span class="n">line_items</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">options</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="s1">'Option1'</span><span class="p">)</span>
<span class="n">options</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="s1">'Option2'</span><span class="p">)</span>
<span class="n">refund</span><span class="p">.</span><span class="nf">options</span> <span class="o">=</span> <span class="n">options</span>

<span class="n">refund_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">InternalModels</span><span class="o">::</span><span class="no">RefundDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">refund_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">refund_details</span><span class="p">.</span><span class="nf">original_transaction_id</span> <span class="o">=</span> <span class="mi">11259550</span>
<span class="n">refund_details</span><span class="p">.</span><span class="nf">invoice_number</span> <span class="o">=</span> <span class="s1">'Inv 21540'</span>
<span class="n">refund_details</span><span class="p">.</span><span class="nf">invoice_description</span> <span class="o">=</span> <span class="s1">'Individual Invoice Description'</span>
<span class="n">refund_details</span><span class="p">.</span><span class="nf">invoice_reference</span> <span class="o">=</span> <span class="s1">'513456'</span>
<span class="n">refund_details</span><span class="p">.</span><span class="nf">currency_code</span> <span class="o">=</span> <span class="s1">'AUD'</span>
<span class="n">refund</span><span class="p">.</span><span class="nf">refund_details</span> <span class="o">=</span> <span class="n">refund_details</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">refund</span><span class="p">(</span><span class="n">refund</span><span class="p">)</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CustomerIP</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's IP Address</td> 
      </tr> 
      <tr> 
       <td>DeviceID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The identification name/number for the device or application used to process the transaction</td> 
      </tr> 
      <tr> 
       <td>PartnerID</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The partner ID generated from a partner agreement</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="refund">Refund</h3> 
    <p>This set of fields contains the details of the refund being processed.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TotalAmount</td> 
       <td>R</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount of the transaction in the lowest denomination for the currency (e.g. a $27.00 transaction would have a TotalAmount value of '2700').</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>O</td> 
       <td>16</td> 
       <td>String</td> 
       <td>The merchant's invoice number for this transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceDescription</td> 
       <td>O</td> 
       <td>64</td> 
       <td>string</td> 
       <td>A description of the refund that the customer is making</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference number for this transaction</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>O</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction is to be processed in. If no value for this field is provided, the merchant's default currency is used. This should be in uppercase.<br>e.g. Australian Dollars = <code>AUD</code></td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>R</td> 
       <td>8</td> 
       <td>string</td> 
       <td>The unique identifier of the transaction to refund. <em>Not required when using REST</em></td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="customer">Customer</h3> 
    <p>This set of fields contains the details of the merchant's customer. These are all optional.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Reference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference for this customer</td> 
      </tr> 
      <tr> 
       <td>Title</td> 
       <td>O</td> 
       <td>5</td> 
       <td>string</td> 
       <td>The customer's title, empty string allowed. <br>One of: <code>Mr.</code>, <code>Ms.</code>, <code>Mrs.</code>, <code>Miss</code>, <code>Dr.</code>, <code>Sir.</code>, <code>Prof.</code></td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's company name</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's city / town / suburb</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state / county</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's post / zip code</td> 
      </tr> 
      <tr> 
       <td>Country</td> 
       <td>O</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's country. This should be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>. This field must be lower case.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address, which must be correctly formatted if present</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's phone number</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's mobile phone number</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments the merchant wishes to add about the customer</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>O</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The customer's website, which must be correctly formatted if present</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="card-details">Card Details</h3> 
    <p>The card details section is within the Customer section and is used to pass the customers card details for the refund. These are only needed if the customer's card expiry date has changed since the purchase. </p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>ExpiryMonth</td> 
       <td>O</td> 
       <td>2</td> 
       <td>The month that the card expires</td> 
      </tr> 
      <tr> 
       <td>ExpiryYear</td> 
       <td>O</td> 
       <td>2</td> 
       <td>The year that the card expires</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="shipping-address">Shipping Address</h3> 
    <p>The ShippingAddress section is optional. It is used by Beagle Fraud Alerts (Enterprise) to calculate a risk score for this transaction.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>ShippingMethod</td> 
       <td>O</td> 
       <td>30</td> 
       <td>long</td> 
       <td>The method used to ship the customer's order. One of: <code>Unknown</code>, <code>LowCost</code>, <code>DesignatedByCustomer</code>, <code>International</code>, <code>Military</code>, <code>NextDay</code>, <code>StorePickup</code>, <code>TwoDayService</code>, <code>ThreeDayService</code>, <code>Other</code></td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The first name of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The last name of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address of the shipping location.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The shipping city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The shipping state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>O</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The shipping post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country†</td> 
       <td>O</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The shipping country. This should be the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>. This field must be lower case.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address, which must be correctly formatted if present.</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The phone number of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>O</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The fax number of the shipping location.</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="items">Items</h3> 
    <p>The Items section is optional. If provided, it should contain a list of line items purchased by the customer, up to a maximum of 99 items. </p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SKU</td> 
       <td>O</td> 
       <td>12</td> 
       <td>string</td> 
       <td>The stock keeping unit used to identify this line item</td> 
      </tr> 
      <tr> 
       <td>Description</td> 
       <td>O</td> 
       <td>26</td> 
       <td>string</td> 
       <td>A brief description of the product</td> 
      </tr> 
      <tr> 
       <td>Quantity</td> 
       <td>O</td> 
       <td>6</td> 
       <td>int</td> 
       <td>The purchased quantity</td> 
      </tr> 
      <tr> 
       <td>UnitCost</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The pre-tax cost per unit of the product in the lowest denomination</td> 
      </tr> 
      <tr> 
       <td>Tax</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The tax amount that applies to this line item in the lowest denomination</td> 
      </tr> 
      <tr> 
       <td>Total</td> 
       <td>O</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The total amount charged for this line item in the lowest denomination</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="options">Options</h3> 
    <p>This section is optional. Anything appearing in this section is not displayed to the customer, but it is returned to the merchant in the result. Up to 99 options can be defined. Each option has just one field:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Value</td> 
       <td>O</td> 
       <td>254</td> 
       <td>string</td> 
       <td>This field is not displayed to the customer but is returned in the result. Anything can be used here, which can be useful for tracking transactions. <em>Additional characters are truncated at 254</em></td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="response">Response</h3> 
    <p>The response from eWAY will contain all relevant details such as the bank authorisation code and a unique number that identifies the transaction in eWAY's database. All responses will contain a response code and response message that represents the result of the action performed. </p> 
    <h3 id="response-field-descriptions">Response field Descriptions</h3> 
    <blockquote> 
     <p>Example Response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"AuthorisationCode"</span>: <span class="s2">"703764"</span>,
    <span class="s2">"ResponseCode"</span>: null,
    <span class="s2">"ResponseMessage"</span>: <span class="s2">"A2000"</span>,
    <span class="s2">"TransactionID"</span>: 11259710,
    <span class="s2">"TransactionStatus"</span>: <span class="nb">true</span>,
    <span class="s2">"Verification"</span>: null,
    <span class="s2">"Customer"</span>: <span class="o">{</span>
        <span class="s2">"CardDetails"</span>: <span class="o">{</span>
            <span class="s2">"Number"</span>: <span class="s2">""</span>,
            <span class="s2">"Name"</span>: <span class="s2">""</span>,
            <span class="s2">"ExpiryMonth"</span>: <span class="s2">"12"</span>,
            <span class="s2">"ExpiryYear"</span>: <span class="s2">"25"</span>,
            <span class="s2">"StartMonth"</span>: <span class="s2">""</span>,
            <span class="s2">"StartYear"</span>: <span class="s2">""</span>,
            <span class="s2">"IssueNumber"</span>: <span class="s2">""</span>
        <span class="o">}</span>,
        <span class="s2">"TokenCustomerID"</span>: null,
        <span class="s2">"Reference"</span>: <span class="s2">"A12345"</span>,
        <span class="s2">"Title"</span>: <span class="s2">"Mr."</span>,
        <span class="s2">"FirstName"</span>: <span class="s2">"John"</span>,
        <span class="s2">"LastName"</span>: <span class="s2">"Smith"</span>,
        <span class="s2">"CompanyName"</span>: <span class="s2">"Demo Shop 123"</span>,
        <span class="s2">"JobDescription"</span>: <span class="s2">"Developer"</span>,
        <span class="s2">"Street1"</span>: <span class="s2">"Level 5"</span>,
        <span class="s2">"Street2"</span>: <span class="s2">"369 Queen Street"</span>,
        <span class="s2">"City"</span>: <span class="s2">"Sydney"</span>,
        <span class="s2">"State"</span>: <span class="s2">"NSW"</span>,
        <span class="s2">"PostalCode"</span>: <span class="s2">"2000"</span>,
        <span class="s2">"Country"</span>: <span class="s2">"au"</span>,
        <span class="s2">"Email"</span>: <span class="s2">"demo@example.org"</span>,
        <span class="s2">"Phone"</span>: <span class="s2">"09 889 0986"</span>,
        <span class="s2">"Mobile"</span>: <span class="s2">"09 889 6542"</span>,
        <span class="s2">"Comments"</span>: <span class="s2">""</span>,
        <span class="s2">"Fax"</span>: <span class="s2">""</span>,
        <span class="s2">"Url"</span>: <span class="s2">"http://www.ewaypayments.com"</span>
    <span class="o">}</span>,
    <span class="s2">"Refund"</span>: <span class="o">{</span>
        <span class="s2">"TransactionID"</span>: <span class="s2">"11259550"</span>,
        <span class="s2">"TotalAmount"</span>: 100,
        <span class="s2">"InvoiceNumber"</span>: <span class="s2">"Inv 21540"</span>,
        <span class="s2">"InvoiceDescription"</span>: <span class="s2">"Individual Invoice Description"</span>,
        <span class="s2">"InvoiceReference"</span>: <span class="s2">"513456"</span>,
        <span class="s2">"CurrencyCode"</span>: <span class="s2">"AUD"</span>
    <span class="o">}</span>,
    <span class="s2">"Errors"</span>: null
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;DirectRefundResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;DirectRefundResult&gt;</span>
            <span class="nt">&lt;AuthorisationCode&gt;</span>703764<span class="nt">&lt;/AuthorisationCode&gt;</span>
            <span class="nt">&lt;ResponseMessage&gt;</span>A2000<span class="nt">&lt;/ResponseMessage&gt;</span>
            <span class="nt">&lt;TransactionID&gt;</span>11259710<span class="nt">&lt;/TransactionID&gt;</span>
            <span class="nt">&lt;TransactionStatus&gt;</span>true<span class="nt">&lt;/TransactionStatus&gt;</span>
            <span class="nt">&lt;Customer&gt;</span>
               <span class="nt">&lt;TokenCustomerID</span> <span class="na">xsi:nil=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
               <span class="nt">&lt;Reference&gt;</span>A12345<span class="nt">&lt;/Reference&gt;</span>
               <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
               <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
               <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
               <span class="nt">&lt;CompanyName&gt;</span>Demo Shop 123<span class="nt">&lt;/CompanyName&gt;</span>
               <span class="nt">&lt;JobDescription&gt;</span>Developer<span class="nt">&lt;/JobDescription&gt;</span>
               <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
               <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
               <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
               <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
               <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
               <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
               <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
               <span class="nt">&lt;Phone&gt;</span>0289712345<span class="nt">&lt;/Phone&gt;</span>
               <span class="nt">&lt;Mobile&gt;</span>0289712345<span class="nt">&lt;/Mobile&gt;</span>
               <span class="nt">&lt;Comments&gt;</span>Customer comments<span class="nt">&lt;/Comments&gt;</span>
               <span class="nt">&lt;Fax&gt;</span>0289712345<span class="nt">&lt;/Fax&gt;</span>
               <span class="nt">&lt;Url&gt;</span>http://www.ewaypayments.com<span class="nt">&lt;/Url&gt;</span>
               <span class="nt">&lt;CardDetails&gt;</span>
                  <span class="nt">&lt;Number/&gt;</span>
                  <span class="nt">&lt;Name/&gt;</span>
                  <span class="nt">&lt;ExpiryMonth&gt;</span>12<span class="nt">&lt;/ExpiryMonth&gt;</span>
                  <span class="nt">&lt;ExpiryYear&gt;</span>25<span class="nt">&lt;/ExpiryYear&gt;</span>
                  <span class="nt">&lt;StartMonth/&gt;</span>
                  <span class="nt">&lt;StartYear/&gt;</span>
                  <span class="nt">&lt;IssueNumber/&gt;</span>
                  <span class="nt">&lt;CVN/&gt;</span>
               <span class="nt">&lt;/CardDetails&gt;</span>
            <span class="nt">&lt;/Customer&gt;</span>
            <span class="nt">&lt;Refund&gt;</span>
               <span class="nt">&lt;TotalAmount&gt;</span>100<span class="nt">&lt;/TotalAmount&gt;</span>
               <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
               <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
               <span class="nt">&lt;InvoiceReference&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceReference&gt;</span>
               <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
               <span class="nt">&lt;TransactionID&gt;</span>11259550<span class="nt">&lt;/TransactionID&gt;</span>
            <span class="nt">&lt;/Refund&gt;</span>
         <span class="nt">&lt;/DirectRefundResult&gt;</span>
      <span class="nt">&lt;/DirectRefundResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available $response properties </span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">TransactionStatus</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Refund successful! ID: '</span><span class="o">.</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">TransactionID</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="s2">"Error: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nv">$error</span><span class="p">)</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Sorry, your refund failed'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">isStatus</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Refund successful! ID: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getTransactionID</span><span class="o">());</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(!</span><span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">().</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error Message: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">,</span> <span class="s">"en"</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Sorry, your refund failed"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="k">if</span> <span class="p">(</span><span class="n">refundResponse</span><span class="p">.</span><span class="n">Errors</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">((</span><span class="kt">bool</span><span class="p">)</span><span class="n">refundResponse</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Refund successful! ID: "</span> <span class="p">+</span> <span class="n">refundResponse</span><span class="p">.</span><span class="n">TransactionID</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Sorry, your refund failed"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">refundResponse</span><span class="p">.</span><span class="n">Errors</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Error Message: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'TransactionStatus'</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Refund successful! ID: '</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'TransactionID'</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">errorCodes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'ResponseMessage'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">);</span>
        <span class="nx">errorCodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Message: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="c1"># See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">empty?</span>
  <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">status?</span>
    <span class="nb">puts</span> <span class="s2">"Refund successful! ID: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">transaction_id</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"Sorry, your refund failed"</span>
  <span class="k">end</span>
<span class="k">else</span>
  <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">"Response message: "</span><span class="o">+</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">user_display_message</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>

</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AuthorisationCode</td> 
       <td>6</td> 
       <td>string</td> 
       <td>The authorisation code for this transaction as returned by the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseCode</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The two digit response code returned from the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseMessage</td> 
       <td>512</td> 
       <td>string</td> 
       <td>One or more <a href="#response-amp-error-codes">Response Codes</a> that describes the result of the action performed.<br>If a Beagle Alert is triggered, this may contain multiple codes: <br>e.g. <code>D4405, F7003</code></td> 
      </tr> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount that was authorised for this transaction</td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>8</td> 
       <td>int</td> 
       <td>A unique identifier that represents the transaction in eWAY's system</td> 
      </tr> 
      <tr> 
       <td>TransactionStatus</td> 
       <td>16</td> 
       <td>boolean</td> 
       <td>A Boolean value that indicates whether the transaction was successful or not</td> 
      </tr> 
      <tr> 
       <td>Errors</td> 
       <td>512</td> 
       <td>string</td> 
       <td>A comma separated list of any error encountered, these can be looked up in the <a href="#response-amp-error-codes">Response Codes</a> section.</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="refund-2">Refund</h3> 
    <p>These fields are specific to a refund and confirmation of the data passed in the request.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TransactionID</td> 
       <td>8</td> 
       <td>int</td> 
       <td>A unique identifier that represents the transaction in eWAY's system</td> 
      </tr> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount that was authorised for this transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the merchant's invoice number for this transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the merchant's reference number for this transaction</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction is to be processed in.<br>e.g. Australian Dollars = <code>AUD</code></td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="customer-2">Customer</h3> 
    <p>This will return the information specifically about the customer.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>16</td> 
       <td>long</td> 
       <td>Not currently used in refunds, will always returned null</td> 
      </tr> 
      <tr> 
       <td>Reference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference for this customer.</td> 
      </tr> 
      <tr> 
       <td>Title</td> 
       <td>5</td> 
       <td>string</td> 
       <td>The customer's title</td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name.</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's company name.</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's country as a two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a>.<br>e.g. Australia = <code>au</code></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address, which must be correctly formatted if present.</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's phone number.</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's mobile phone number.</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments the merchant wishes to add about the customer.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number.</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The customer's website, which must be correctly formatted if present.</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="card-details-2">Card Details</h3> 
    <p>For a refund most card details will remain blank, except the expiry month and year if passed.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Number</td> 
       <td>50</td> 
       <td>string</td> 
       <td>blank</td> 
      </tr> 
      <tr> 
       <td>Name</td> 
       <td>50</td> 
       <td>string</td> 
       <td>blank</td> 
      </tr> 
      <tr> 
       <td>ExpiryMonth</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The customer's card expiry month</td> 
      </tr> 
      <tr> 
       <td>ExpiryYear</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The customer's card expiry year</td> 
      </tr> 
      <tr> 
       <td>StartMonth</td> 
       <td>2</td> 
       <td>string</td> 
       <td>blank</td> 
      </tr> 
      <tr> 
       <td>StartYear</td> 
       <td>2</td> 
       <td>string</td> 
       <td>blank</td> 
      </tr> 
      <tr> 
       <td>IssueNumber</td> 
       <td>2</td> 
       <td>string</td> 
       <td>blank</td> 
      </tr> 
     </tbody>
    </table> 
    <h2 id="transaction-query">Transaction Query</h2>
    <h3 id="step-1-request-transaction-results">Step 1: Request transaction results</h3> 
    <p>In order to request complete details about a transaction, eWAY's Transaction Query API can be used. This will return any details about the customer (including any entered in the <a href="#responsive-shared-page">Responsive Shared Page</a>) along with information about the transaction and any fraud rules that were triggered.</p> 
    <p>The Transaction Query API can be used to find a transaction using the Transaction ID, Access Code, Invoice Number or Invoice Reference. Searching by Invoice Number or Invoice Reference is only available when those details are unique.</p> 
    <aside class="notice">
      The Transaction Query API can only return transactions created via Rapid. 
    </aside> 
    <h3 id="live-endpoints">Live endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.ewaypayments.com/Transaction/{TransactionID or AccessCode}</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.ewaypayments.com/Transaction/InvoiceNumber/{Invoice Number}</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.ewaypayments.com/Transaction/InvoiceRef/{Invoice Reference}</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.ewaypayments.com/TransactionSearch.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.ewaypayments.com/TransactionSearch.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="sandbox-endpoints">Sandbox endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.sandbox.ewaypayments.com/Transaction/{TransactionID or AccessCode}</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.sandbox.ewaypayments.com/Transaction/InvoiceNumber/{Invoice Number}</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.sandbox.ewaypayments.com/Transaction/InvoiceRef/{Invoice Reference}</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/TransactionSeach.xml</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/TransactionSearch.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="request-field-descriptions">Request field descriptions</h3> 
    <blockquote> 
     <p>Example query by access code</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction/44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;TransactionSearch</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;request&gt;</span>
            <span class="nt">&lt;TransactionFilter&gt;</span>
                <span class="nt">&lt;AccessCode&gt;</span>44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2<span class="nt">&lt;/AccessCode&gt;</span>
            <span class="nt">&lt;/TransactionFilter&gt;</span>
         <span class="nt">&lt;/request&gt;</span>
      <span class="nt">&lt;/TransactionSearch&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">queryTransaction</span><span class="p">(</span><span class="s1">'44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2'</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">QueryTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">queryTransaction</span><span class="o">(</span><span class="s">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">QueryTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">QueryTransaction</span><span class="p">(</span><span class="s">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">queryTransaction</span><span class="p">(</span><span class="s2">"44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">query_transaction_by_access_code</span><span class="p">(</span><span class="s1">'44DD7aVwPYUPemGRf7pcWxyX2FJS-0Wk7xr9iE7Vatk_5vJimEbHveGSqX52B00QsBXqbLh9mGZxMHcjThQ_ITsCZ3JxKOY88WOVsFTLPrGtHRkK0E9ZDVh_Wz326QZlNlwx2'</span><span class="p">)</span>
</code></pre> 
    <blockquote> 
     <p>Example query by invoice number</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction/InvoiceNumber/INVOICE-NO-3
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;TransactionSearch</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;request&gt;</span>
            <span class="nt">&lt;TransactionFilter&gt;</span>
                <span class="nt">&lt;InvoiceNumberMatchType&gt;</span>Equals<span class="nt">&lt;/InvoiceNumberMatchType&gt;</span>
                <span class="nt">&lt;InvoiceNumber&gt;</span>INVOICE-NO-3<span class="nt">&lt;/InvoiceNumber&gt;</span>
            <span class="nt">&lt;/TransactionFilter&gt;</span>
         <span class="nt">&lt;/request&gt;</span>
      <span class="nt">&lt;/TransactionSearch&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">queryInvoiceNumber</span><span class="p">(</span><span class="s1">'INVOICE-NO-3'</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">TransactionFilter</span> <span class="n">filter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TransactionFilter</span><span class="o">();</span>
<span class="n">filter</span><span class="o">.</span><span class="na">setInvoiceNumber</span><span class="o">(</span><span class="s">"INVOICE-NO-3"</span><span class="o">);</span>
<span class="n">QueryTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">queryTransaction</span><span class="o">(</span><span class="n">filter</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">QueryTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">QueryInvoiceNumber</span><span class="p">(</span><span class="s">"INVOICE-NO-3"</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">queryInvoiceNumber</span><span class="p">(</span><span class="s2">"INVOICE-NO-3"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">filter</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionFilter</span><span class="p">.</span><span class="nf">new</span>
<span class="n">filter</span><span class="p">.</span><span class="nf">invoice_number</span> <span class="o">=</span> <span class="s1">'INVOICE-NO-3'</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">query_transaction_by_filter</span><span class="p">(</span><span class="n">filter</span><span class="p">)</span>
</code></pre> 
    <p>All fields are children of <code>TransactionFilter</code> - except when using REST, where the parameters are passed in the URL.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AccessCode</td> 
       <td>512</td> 
       <td>string</td> 
       <td>An eWAY Access Code for a transaction</td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>8</td> 
       <td>string</td> 
       <td>An eWAY Transaction ID for a transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceReferenceMatchType</td> 
       <td>512</td> 
       <td>string</td> 
       <td>This must be set to <code>Equals</code>. Must be used when searching by InvoiceReference. Not used for REST requests.</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The Invoice Reference to search for.</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumberMatchType</td> 
       <td>512</td> 
       <td>string</td> 
       <td>This must be set to <code>Equals</code>. Must be used when searching by InvoiceNumber. Not used for REST requests.</td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The Invoice Number to search for.</td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Only one search criteria can be used per query.</em></p> 
    <h3 id="response-field-descriptions">Response field Descriptions</h3> 
    <blockquote> 
     <p>Example Response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"Transactions"</span>: <span class="o">[{</span>
        <span class="s2">"AuthorisationCode"</span>: <span class="s2">"522587"</span>,
        <span class="s2">"ResponseCode"</span>: <span class="s2">"00"</span>,
        <span class="s2">"ResponseMessage"</span>: <span class="s2">"A2000"</span>,
        <span class="s2">"InvoiceNumber"</span>: <span class="s2">"Inv 21540"</span>,
        <span class="s2">"InvoiceReference"</span>: <span class="s2">"513456"</span>,
        <span class="s2">"TotalAmount"</span>: 1000,
        <span class="s2">"TransactionID"</span>: 11259580,
        <span class="s2">"TransactionStatus"</span>: <span class="nb">true</span>,
        <span class="s2">"TokenCustomerID"</span>: null,
        <span class="s2">"BeagleScore"</span>: 0,
        <span class="s2">"Options"</span>: <span class="o">[]</span>,
        <span class="s2">"Verification"</span>: <span class="o">{</span>
            <span class="s2">"CVN"</span>: 0,
            <span class="s2">"Address"</span>: 0,
            <span class="s2">"Email"</span>: 0,
            <span class="s2">"Mobile"</span>: 0,
            <span class="s2">"Phone"</span>: 0
        <span class="o">}</span>,
        <span class="s2">"BeagleVerification"</span>: <span class="o">{</span>
            <span class="s2">"Email"</span>: 0,
            <span class="s2">"Phone"</span>: 0
        <span class="o">}</span>,
        <span class="s2">"Customer"</span>: <span class="o">{</span>
            <span class="s2">"TokenCustomerID"</span>: null,
            <span class="s2">"Reference"</span>: null,
            <span class="s2">"Title"</span>: null,
            <span class="s2">"FirstName"</span>: <span class="s2">"John"</span>,
            <span class="s2">"LastName"</span>: <span class="s2">"Smith"</span>,
            <span class="s2">"CompanyName"</span>: null,
            <span class="s2">"JobDescription"</span>: null,
            <span class="s2">"Street1"</span>: <span class="s2">"Level 5"</span>,
            <span class="s2">"Street2"</span>: <span class="s2">"369 Queen Street"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Sydney"</span>,
            <span class="s2">"State"</span>: <span class="s2">"NSW"</span>,
            <span class="s2">"PostalCode"</span>: <span class="s2">"2000"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"au"</span>,
            <span class="s2">"Email"</span>: <span class="s2">"demo@example.org"</span>,
            <span class="s2">"Phone"</span>: <span class="s2">"09 889 0986"</span>,
            <span class="s2">"Mobile"</span>: null,
            <span class="s2">"Comments"</span>: null,
            <span class="s2">"Fax"</span>: null,
            <span class="s2">"Url"</span>: null
        <span class="o">}</span>,
        <span class="s2">"CustomerNote"</span>: null,
        <span class="s2">"ShippingAddress"</span>: <span class="o">{</span>
            <span class="s2">"ShippingMethod"</span>: null,
            <span class="s2">"FirstName"</span>: <span class="s2">"John"</span>,
            <span class="s2">"LastName"</span>: <span class="s2">"Smith"</span>,
            <span class="s2">"Street1"</span>: <span class="s2">"Level 5"</span>,
            <span class="s2">"Street2"</span>: <span class="s2">"369 Queen Street"</span>,
            <span class="s2">"City"</span>: <span class="s2">"Sydney"</span>,
            <span class="s2">"State"</span>: <span class="s2">"NSW"</span>,
            <span class="s2">"Country"</span>: <span class="s2">"au"</span>,
            <span class="s2">"PostalCode"</span>: <span class="s2">"2000"</span>,
            <span class="s2">"Email"</span>: <span class="s2">""</span>,
            <span class="s2">"Phone"</span>: <span class="s2">"09 889 0986"</span>,
            <span class="s2">"Fax"</span>: null
        <span class="o">}</span>
    <span class="o">}]</span>,
    <span class="s2">"Errors"</span>: <span class="s2">""</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;TransactionSearchResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;TransactionSearchResult&gt;</span>
            <span class="nt">&lt;Errors/&gt;</span>
            <span class="nt">&lt;Transactions&gt;</span>
               <span class="nt">&lt;TransactionResult&gt;</span>
                  <span class="nt">&lt;AuthorisationCode&gt;</span>522587<span class="nt">&lt;/AuthorisationCode&gt;</span>
                  <span class="nt">&lt;ResponseCode&gt;</span>00<span class="nt">&lt;/ResponseCode&gt;</span>
                  <span class="nt">&lt;ResponseMessage&gt;</span>A2000<span class="nt">&lt;/ResponseMessage&gt;</span>
                  <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 21540<span class="nt">&lt;/InvoiceNumber&gt;</span>
                  <span class="nt">&lt;InvoiceReference&gt;</span>513456<span class="nt">&lt;/InvoiceReference&gt;</span>
                  <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                  <span class="nt">&lt;TransactionID&gt;</span>11259580<span class="nt">&lt;/TransactionID&gt;</span>
                  <span class="nt">&lt;TransactionStatus&gt;</span>true<span class="nt">&lt;/TransactionStatus&gt;</span>
                  <span class="nt">&lt;TokenCustomerID</span> <span class="na">xsi:nil=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
                  <span class="nt">&lt;BeagleScore&gt;</span>0<span class="nt">&lt;/BeagleScore&gt;</span>
                  <span class="nt">&lt;Options/&gt;</span>
                  <span class="nt">&lt;Verification&gt;</span>
                     <span class="nt">&lt;CVN&gt;</span>Unchecked<span class="nt">&lt;/CVN&gt;</span>
                     <span class="nt">&lt;Address&gt;</span>Unchecked<span class="nt">&lt;/Address&gt;</span>
                     <span class="nt">&lt;Email&gt;</span>Unchecked<span class="nt">&lt;/Email&gt;</span>
                     <span class="nt">&lt;Mobile&gt;</span>Unchecked<span class="nt">&lt;/Mobile&gt;</span>
                     <span class="nt">&lt;Phone&gt;</span>Unchecked<span class="nt">&lt;/Phone&gt;</span>
                  <span class="nt">&lt;/Verification&gt;</span>
                  <span class="nt">&lt;BeagleVerification&gt;</span>
                     <span class="nt">&lt;Email&gt;</span>NotVerified<span class="nt">&lt;/Email&gt;</span>
                     <span class="nt">&lt;Phone&gt;</span>NotVerified<span class="nt">&lt;/Phone&gt;</span>
                  <span class="nt">&lt;/BeagleVerification&gt;</span>
                  <span class="nt">&lt;Customer&gt;</span>
                     <span class="nt">&lt;TokenCustomerID</span> <span class="na">xsi:nil=</span><span class="s">"true"</span><span class="nt">/&gt;</span>
                     <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                     <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                     <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                     <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                     <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                     <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                     <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                     <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                     <span class="nt">&lt;Email&gt;</span>demo@example.org<span class="nt">&lt;/Email&gt;</span>
                     <span class="nt">&lt;Phone&gt;</span>09 889 0986<span class="nt">&lt;/Phone&gt;</span>
                  <span class="nt">&lt;/Customer&gt;</span>
                  <span class="nt">&lt;ShippingAddress&gt;</span>
                     <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                     <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                     <span class="nt">&lt;Street1&gt;</span>Level 5<span class="nt">&lt;/Street1&gt;</span>
                     <span class="nt">&lt;Street2&gt;</span>369 Queen Street<span class="nt">&lt;/Street2&gt;</span>
                     <span class="nt">&lt;City&gt;</span>Sydney<span class="nt">&lt;/City&gt;</span>
                     <span class="nt">&lt;State&gt;</span>NSW<span class="nt">&lt;/State&gt;</span>
                     <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                     <span class="nt">&lt;PostalCode&gt;</span>2000<span class="nt">&lt;/PostalCode&gt;</span>
                     <span class="nt">&lt;Email/&gt;</span>
                     <span class="nt">&lt;Phone&gt;</span>09 889 0986<span class="nt">&lt;/Phone&gt;</span>
                  <span class="nt">&lt;/ShippingAddress&gt;</span>
               <span class="nt">&lt;/TransactionResult&gt;</span>
            <span class="nt">&lt;/Transactions&gt;</span>
         <span class="nt">&lt;/TransactionSearchResult&gt;</span>
      <span class="nt">&lt;/TransactionSearchResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available properties </span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">Transactions</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">TransactionStatus</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Transaction successful! ID: '</span><span class="o">.</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">TransactionID</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nv">$errors</span> <span class="o">=</span> <span class="nb">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">,</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">ResponseMessage</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$errors</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"Payment failed: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nv">$error</span><span class="p">)</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">().</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Transaction successful! ID: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getTransactionID</span><span class="o">());</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Response Messages: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">,</span> <span class="s">"en"</span><span class="o">));</span>
    <span class="o">};</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="k">if</span> <span class="p">((</span><span class="kt">bool</span><span class="p">)</span><span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">Status</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Payment successful! ID: "</span> <span class="p">+</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">TransactionID</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="kt">string</span><span class="p">[]</span> <span class="n">errorCodes</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">ProcessingDetails</span><span class="p">.</span><span class="nf">getResponseMessages</span><span class="p">();</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">errorCodes</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Response Message: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].TransactionStatus'</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Payment successful! ID: '</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].TransactionID'</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">errorCodes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Transactions[0].ResponseMessage'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">);</span>
        <span class="nx">errorCodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Message: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>

</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="c1"># See the JSON tab for all the available properties</span>

<span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">empty?</span>
  <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">status?</span>
    <span class="nb">puts</span> <span class="s2">"Payment successful! ID: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">transaction_id</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"Response Message: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">processing_details</span><span class="p">.</span><span class="nf">response_message</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">else</span>
  <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">"Response message: "</span><span class="o">+</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">user_display_message</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>AuthorisationCode</td> 
       <td>6</td> 
       <td>string</td> 
       <td>The authorisation code for this transaction as returned by the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseCode</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The two digit response code returned from the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseMessage</td> 
       <td>512</td> 
       <td>string</td> 
       <td>One or more <a href="#response-amp-error-codes">Response Codes</a> that describes the result of the action performed.<br>If a Beagle Alert is triggered, this may contain multiple codes: <br>e.g. <code>D4405, F7003</code></td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the merchant's invoice number for this transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>64</td> 
       <td>string</td> 
       <td>An echo of the merchant's reference number for this transaction</td> 
      </tr> 
      <tr> 
       <td>TotalAmount</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount that was authorised for this transaction. If a card surcharge was charged, the TotalAmount will include the surcharge.</td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>8</td> 
       <td>int</td> 
       <td>A unique identifier that represents the transaction in eWAY's system</td> 
      </tr> 
      <tr> 
       <td>TransactionStatus</td> 
       <td></td> 
       <td>boolean</td> 
       <td>A Boolean value that indicates whether the transaction was successful or not</td> 
      </tr> 
      <tr> 
       <td>TokenCustomerID‡</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY-issued ID that represents the Token customer that was loaded or created for this transaction (if applicable)</td> 
      </tr> 
      <tr> 
       <td>BeagleScore**</td> 
       <td>6</td> 
       <td>string</td> 
       <td>Fraud score representing the estimated probability that the order is fraud, based off analysis of past Beagle Fraud Alerts transactions. This field will only be returned for transactions using the Beagle Free gateway.</td> 
      </tr> 
      <tr> 
       <td>TransactionDateTime</td> 
       <td>25</td> 
       <td>ISO8601 date time</td> 
       <td><strong>v40+</strong> (see <a href="#versions">versions</a>) The date and time the transaction took place</td> 
      </tr> 
      <tr> 
       <td>FraudAction</td> 
       <td>512</td> 
       <td>string</td> 
       <td><strong>v40+</strong> (see <a href="#versions">versions</a>) The fraud action that occurred if any. One of <code>NotChallenged</code>, <code>Allow</code>, <code>Review</code>, <code>PreAuth</code>, <code>Processed</code>, <code>Approved</code>, <code>Block</code></td> 
      </tr> 
      <tr> 
       <td>TransactionCaptured</td> 
       <td></td> 
       <td>boolean</td> 
       <td><strong>v40+</strong> (see <a href="#versions">versions</a>) True if funds were captured in the transaction.</td> 
      </tr> 
      <tr> 
       <td>TransactionType</td> 
       <td>1</td> 
       <td>int</td> 
       <td><strong>v40+</strong> (see <a href="#versions">versions</a>) A numeric representation of the transaction type:
        <ul>
         <li><code>1</code> - Purchase</li>
         <li><code>4</code> - Refund</li>
         <li><code>8</code> - PreAuth</li>
        </ul></td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>3</td> 
       <td>string</td> 
       <td><strong>v40+</strong> (see <a href="#versions">versions</a>) The <a href="https://en.wikipedia.org/wiki/ISO_4217#Active_codes">ISO 4217</a> numeric currency code (e.g. AUD = 036)</td> 
      </tr> 
      <tr> 
       <td>Source</td> 
       <td>1</td> 
       <td>int</td> 
       <td><strong>v40+</strong> (see <a href="#versions">versions</a>) Reserved for future use</td> 
      </tr> 
      <tr> 
       <td>MaxRefund</td> 
       <td>10</td> 
       <td>int</td> 
       <td><strong>v40+</strong> (see <a href="#versions">versions</a>) The maximum amount that could be refunded from this transaction</td> 
      </tr> 
      <tr> 
       <td>OriginalTransactionId</td> 
       <td>8</td> 
       <td>int</td> 
       <td><strong>v40+</strong> (see <a href="#versions">versions</a>) Contains the original transaction ID if the queried transaction is a refund</td> 
      </tr> 
     </tbody>
    </table> 
    <p>*<em>This field is only present if the transaction was processed using Beagle Free</em> </p> 
    <p>‡ <em>This field is only present for a Token transaction</em></p> 
    <h3 id="options">Options</h3> 
    <p>The Options collection passed in the original request will be echoed back in the response here. </p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Value</td> 
       <td>255</td> 
       <td>string</td> 
       <td>An echo of the option submitted for this transaction</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="verification">Verification</h3> 
    <p>These fields are currently unused</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>CVN</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Address</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>10</td> 
       <td>string</td> 
       <td></td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="beagle-verification">Beagle Verification</h3> 
    <p>This will contain the results of the Beagle Verification fraud checks that may have been performed. These fields will only be valid if the transaction was conducted via the <a href="#responsive-shared-page">Responsive Shared Page API</a> and Beagle Verification was enabled.</p> 
    <p>For all fields, the available return options are <code>NotVerified</code>, <code>Attempted</code>, <code>Verified</code> or <code>Failed</code>.</p> 
    <p>When using the REST API, a number will be returned which maps as follows:</p> 
    <ul> 
     <li>0 = NotVerified</li> 
     <li>1 = Attempted</li> 
     <li>2 = Verified</li> 
     <li>3 = Failed</li> 
    </ul> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Email</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The result of the Email verification</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The result of the Phone verification</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="customer">Customer</h3> 
    <p>This set of fields contains the details of the merchant's customer.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY issued ID that represents the Token customer loaded for this transaction</td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's first name</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's last name</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's street address</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's street address</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's city / town / suburb</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's state / county</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>30</td> 
       <td>string</td> 
       <td>An echo of the customer's post / zip code</td> 
      </tr> 
      <tr> 
       <td>Country</td> 
       <td>2</td> 
       <td>string</td> 
       <td>An echo of the customer's country as the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>50</td> 
       <td>string</td> 
       <td>An echo of the customer's email address</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>32</td> 
       <td>string</td> 
       <td>An echo of the customer's phone number</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="shipping-address">Shipping Address</h3> 
    <p>This set of fields contains the details of the shipping address of the merchant's customer.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>FirstName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The first name of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The last name of the person the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address the order is shipped to.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The street address of the shipping location.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's shipping city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's shipping state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's shipping post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's shipping country as the two letter <a href="https://www.iso.org/obp/ui/#search/code/">ISO 3166-1 alpha-2 code</a></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's shipping email address</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The phone number of the person the order is shipped to.</td> 
      </tr> 
     </tbody>
    </table> 
    <h2 id="pre-auth">Pre-Auth</h2> 
    <aside class="notice">
      Please note that PreAuth is currently only available for **Australian, New Zealand, Singapore, Malaysian &amp; Hong Kong** merchants. 
    </aside> 
    <p>eWAY's Pre-authorisation solution allows merchants to reserve funds on a customer's credit card without charging it. They can then confirm the transaction at their convenience via MYeWAY or eWAY's API. This service is perfect for merchants whose prices are dependent on variable costs.</p> 
    <h3 id="authorisation">Authorisation</h3> 
    <p>To authorise a payment, use the same process as a transaction in any of the available payment methods with the <code>Method</code> set to <code>Authorise</code>.</p> 
    <p>When using an eWAY Rapid SDK, setting the <code>Capture</code> property on the transaction to <code>false</code> will perform an authorisation. </p> 
    <p>Remember to store the Transaction ID so that you can Capture or Cancel the payment!</p> 
    <h3 id="capture-a-payment">Capture a Payment</h3> 
    <p>Once a payment has been authorised, the transaction can be completed with a Capture request</p> 
    <h3 id="live-endpoints">Live endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.ewaypayments.com/CapturePayment</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="sandbox-endpoints">Sandbox endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.sandbox.ewaypayments.com/CapturePayment</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="request-field-descriptions">Request Field Descriptions</h3> 
    <blockquote> 
     <p>Example Capture Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Payment": { "TotalAmount": 1000, "InvoiceNumber": "Inv 4444", "InvoiceDescription": "Individual Invoice Description", "InvoiceReference": "513456", "CurrencyCode": "AUD" }, "TransactionId": 11260833 }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/CapturePayment
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;CapturePayment</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;request&gt;</span>
            <span class="nt">&lt;TransactionID&gt;</span>11260833<span class="nt">&lt;/TransactionID&gt;</span>
            <span class="nt">&lt;Payment&gt;</span>
               <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
               <span class="nt">&lt;InvoiceNumber&gt;</span>Inv 4444<span class="nt">&lt;/InvoiceNumber&gt;</span>
               <span class="nt">&lt;InvoiceDescription&gt;</span>Individual Invoice Description<span class="nt">&lt;/InvoiceDescription&gt;</span>
               <span class="nt">&lt;InvoiceReference&gt;</span>513456<span class="nt">&lt;/InvoiceReference&gt;</span>
               <span class="nt">&lt;CurrencyCode&gt;</span>AUD<span class="nt">&lt;/CurrencyCode&gt;</span>
            <span class="nt">&lt;/Payment&gt;</span>
         <span class="nt">&lt;/request&gt;</span>
      <span class="nt">&lt;/CapturePayment&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'TransactionID'</span> <span class="o">=&gt;</span> <span class="mi">11260833</span><span class="p">,</span>
<span class="p">];</span>


<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">AUTHORISATION</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setAuthTransactionID</span><span class="o">(</span><span class="mi">11260833</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">Authorisation</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">CapturePaymentRequest</span> <span class="n">capture</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CapturePaymentRequest</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">TransactionId</span> <span class="p">=</span> <span class="s">"11260833"</span><span class="p">,</span>
    <span class="n">Payment</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Payment</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">CapturePaymentResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">CapturePayment</span><span class="p">(</span><span class="n">capture</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">AUTHORISATION</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">"TransactionId"</span><span class="p">:</span> <span class="mi">11260833</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">auth_transaction_id</span> <span class="o">=</span> <span class="mi">11260833</span>

<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">AUTHORISATION</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TransactionId</td> 
       <td>R</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The Transaction ID of the Authorisation to capture</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="payment">Payment</h3> 
    <p>This set of fields contains the details of the payment being processed.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TotalAmount</td> 
       <td>R</td> 
       <td>10</td> 
       <td>int</td> 
       <td>The amount to capture in the lowest denomination for the currency (e.g. a $27.00 transaction would have a TotalAmount value of '2700'). <br><em>Note: Only amounts up to the original authorisation can be captured. Capturing less than 85% of the authorised amount may result in a separate charge on the customer's card</em></td> 
      </tr> 
      <tr> 
       <td>InvoiceNumber</td> 
       <td>O</td> 
       <td>16</td> 
       <td>string</td> 
       <td>merchant's invoice number for this transaction</td> 
      </tr> 
      <tr> 
       <td>InvoiceDescription</td> 
       <td>O</td> 
       <td>64</td> 
       <td>string</td> 
       <td>A description of the purchase that the customer is making</td> 
      </tr> 
      <tr> 
       <td>InvoiceReference</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference number for this transaction</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>O</td> 
       <td>3</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 3 character code</a> that represents the currency that this transaction is to be processed in. If no value for this field is provided, the merchant's default currency is used. This should be in uppercase.<br>e.g. Australian Dollars = <code>AUD</code></td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field types: R – Required, C – Conditionally Required, O – Optional</em></p> 
    <h3 id="response">Response</h3> 
    <blockquote> 
     <p>Example response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"ResponseCode"</span>: <span class="s2">"399854"</span>,
    <span class="s2">"ResponseMessage"</span>: <span class="s2">"399854"</span>,
    <span class="s2">"TransactionID"</span>: 11260840,
    <span class="s2">"TransactionStatus"</span>: <span class="nb">true</span>,
    <span class="s2">"Errors"</span>: null
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;CapturePaymentResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;CapturePaymentResult&gt;</span>
            <span class="nt">&lt;ResponseCode&gt;</span>399854<span class="nt">&lt;/ResponseCode&gt;</span>
            <span class="nt">&lt;ResponseMessage&gt;</span>399854<span class="nt">&lt;/ResponseMessage&gt;</span>
            <span class="nt">&lt;TransactionID&gt;</span>11260840<span class="nt">&lt;/TransactionID&gt;</span>
            <span class="nt">&lt;TransactionStatus&gt;</span>true<span class="nt">&lt;/TransactionStatus&gt;</span>
         <span class="nt">&lt;/CapturePaymentResult&gt;</span>
      <span class="nt">&lt;/CapturePaymentResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available $response properties </span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">TransactionStatus</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Payment successful! ID: '</span><span class="o">.</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">TransactionID</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="s2">"Error: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nv">$error</span><span class="p">)</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Sorry, your payment was declined'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">isStatus</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Payment successful! ID: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getTransactionID</span><span class="o">());</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(!</span><span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">().</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error Messages: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">,</span> <span class="s">"en"</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Sorry, your payment failed"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="p">((</span><span class="kt">bool</span><span class="p">)</span><span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Capture successful! ID: "</span> <span class="p">+</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">TransactionID</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>    
    <span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">ResponseMessage</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">string</span><span class="p">[]</span> <span class="n">errorCodes</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">ResponseMessage</span><span class="p">.</span><span class="nf">Split</span><span class="p">(</span><span class="k">new</span><span class="p">[]</span> <span class="p">{</span> <span class="s">", "</span> <span class="p">},</span> <span class="n">StringSplitOptions</span><span class="p">.</span><span class="n">None</span><span class="p">);</span>

        <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">errorCodes</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Response Message: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'TransactionStatus'</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Payment successful! ID: '</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'TransactionID'</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">errorCodes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'ResponseMessage'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">);</span>
        <span class="nx">errorCodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Message: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="c1"># See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">empty?</span>
  <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">status?</span>
    <span class="nb">puts</span> <span class="s2">"Payment successful! ID: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">transaction_id</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"Response Message: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">processing_details</span><span class="p">.</span><span class="nf">response_message</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">else</span>
  <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">"Response message: "</span><span class="o">+</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">user_display_message</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>

</code></pre> 
    <p>The response from eWAY will contain details as to whether the transaction succeeded or failed.</p> 
    <h3 id="response-field-descriptions">Response Field Descriptions</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>ResponseCode</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The authorisation code for this transaction as returned by the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseMessage</td> 
       <td>512</td> 
       <td>string</td> 
       <td>One or more <a href="#response-amp-error-codes">Response Codes</a> that describes the result of the action performed.</td> 
      </tr> 
      <tr> 
       <td>TransactionStatus</td> 
       <td></td> 
       <td>boolean</td> 
       <td>Whether the capture transaction succeeded</td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>8</td> 
       <td>int</td> 
       <td>A unique identifier that represents the transaction in eWAY's system</td> 
      </tr> 
      <tr> 
       <td>Errors</td> 
       <td>255</td> 
       <td>string</td> 
       <td>The error codes of any errors that occurred with the Capture, these can be looked up in the <a href="#response-amp-error-codes">Response Codes</a> section.</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="cancel-an-authorisation">Cancel an Authorisation</h3>
    <h3 id="live-endpoints-2">Live endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.ewaypayments.com/CancelAuthorisation</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="sandbox-endpoints-2">Sandbox endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (POST)</td> 
       <td>https://api.sandbox.ewaypayments.com/CancelAuthorisation</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="request-field-descriptions-2">Request Field Descriptions</h3> 
    <blockquote> 
     <p>Example Cancel Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "TransactionId": 11260833 }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/CancelAuthorisation
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;CancelAuthorisation</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;request&gt;</span>
            <span class="nt">&lt;TransactionID&gt;</span>11260833<span class="nt">&lt;/TransactionID&gt;</span>
         <span class="nt">&lt;/request&gt;</span>
      <span class="nt">&lt;/CancelAuthorisation&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">cancelTransaction</span><span class="p">(</span><span class="mi">11260833</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Refund</span> <span class="n">refund</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Refund</span><span class="o">();</span>

<span class="n">RefundDetails</span> <span class="n">refundDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RefundDetails</span><span class="o">();</span>
<span class="n">refundDetails</span><span class="o">.</span><span class="na">setOriginalTransactionID</span><span class="o">(</span><span class="s">"11260833"</span><span class="o">);</span>
<span class="n">refund</span><span class="o">.</span><span class="na">setRefundDetails</span><span class="o">(</span><span class="n">refundDetails</span><span class="o">);</span>

<span class="n">RefundResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">cancel</span><span class="o">(</span><span class="n">refund</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">CancelAuthorisationRequest</span> <span class="n">cancel</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CancelAuthorisationRequest</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">TransactionId</span> <span class="p">=</span> <span class="s">"11260833"</span>
<span class="p">};</span>

<span class="n">CancelAuthorisationResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">CancelAuthorisation</span><span class="p">(</span><span class="n">cancel</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">cancelTransaction</span><span class="p">(</span><span class="s2">"11260833"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">refund</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Refund</span><span class="p">.</span><span class="nf">new</span>

<span class="n">refund_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">InternalModels</span><span class="o">::</span><span class="no">RefundDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">refund_details</span><span class="p">.</span><span class="nf">original_transaction_id</span> <span class="o">=</span> <span class="mi">11260833</span>
<span class="n">refund</span><span class="p">.</span><span class="nf">refund_details</span> <span class="o">=</span> <span class="n">refund_details</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">cancel</span><span class="p">(</span><span class="n">refund</span><span class="p">)</span>

</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TransactionId</td> 
       <td>R</td> 
       <td>8</td> 
       <td>int</td> 
       <td>The Transaction ID of the Authorisation to cancel</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="response-2">Response</h3> 
    <blockquote> 
     <p>Example response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"ResponseCode"</span>: <span class="s2">"720432"</span>,
    <span class="s2">"ResponseMessage"</span>: <span class="s2">"720432"</span>,
    <span class="s2">"TransactionID"</span>: 11260941,
    <span class="s2">"TransactionStatus"</span>: <span class="nb">true</span>,
    <span class="s2">"Errors"</span>: null
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;CancelAuthorisationResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;CancelAuthorisationResult&gt;</span>
            <span class="nt">&lt;ResponseCode&gt;</span>720432<span class="nt">&lt;/ResponseCode&gt;</span>
            <span class="nt">&lt;ResponseMessage&gt;</span>720432<span class="nt">&lt;/ResponseMessage&gt;</span>
            <span class="nt">&lt;TransactionID&gt;</span>11260941<span class="nt">&lt;/TransactionID&gt;</span>
            <span class="nt">&lt;TransactionStatus&gt;</span>true<span class="nt">&lt;/TransactionStatus&gt;</span>
         <span class="nt">&lt;/CancelAuthorisationResult&gt;</span>
      <span class="nt">&lt;/CancelAuthorisationResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available $response properties </span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">TransactionStatus</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Cancel authorisation successful! ID: '</span><span class="o">.</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">TransactionID</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getErrors</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="s2">"Error: "</span><span class="o">.</span><span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">getMessage</span><span class="p">(</span><span class="nv">$error</span><span class="p">)</span><span class="o">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Sorry, your cancellation was declined'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">isStatus</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Cancel authorisation successful! ID: "</span> <span class="o">+</span> <span class="n">response</span><span class="o">.</span><span class="na">getTransactionStatus</span><span class="o">().</span><span class="na">getTransactionID</span><span class="o">());</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(!</span><span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">().</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="nl">errorcode:</span> <span class="n">response</span><span class="o">.</span><span class="na">getErrors</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error Messages: "</span> <span class="o">+</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">userDisplayMessage</span><span class="o">(</span><span class="n">errorcode</span><span class="o">,</span> <span class="s">"en"</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Sorry, your cancellation failed"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="c1">// See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="p">((</span><span class="kt">bool</span><span class="p">)</span><span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Cancel successful! ID: "</span> <span class="p">+</span> <span class="n">response</span><span class="p">.</span><span class="n">TransactionStatus</span><span class="p">.</span><span class="n">TransactionID</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>    
    <span class="k">if</span> <span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">ResponseMessage</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">string</span><span class="p">[]</span> <span class="n">errorCodes</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">ResponseMessage</span><span class="p">.</span><span class="nf">Split</span><span class="p">(</span><span class="k">new</span><span class="p">[]</span> <span class="p">{</span> <span class="s">", "</span> <span class="p">},</span> <span class="n">StringSplitOptions</span><span class="p">.</span><span class="n">None</span><span class="p">);</span>

        <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">errorCode</span> <span class="k">in</span> <span class="n">errorCodes</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Response Message: "</span> <span class="p">+</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">UserDisplayMessage</span><span class="p">(</span><span class="n">errorCode</span><span class="p">,</span> <span class="s">"EN"</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'TransactionStatus'</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Cancel authorisation successful! ID: '</span> <span class="o">+</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'TransactionID'</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">errorCodes</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'ResponseMessage'</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">);</span>
        <span class="nx">errorCodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Message: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">errorCode</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="c1"># See the JSON tab for all the available response properties</span>

<span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">empty?</span>
  <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">status?</span>
    <span class="nb">puts</span> <span class="s2">"Cancel authorisation successful! ID: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">transaction_id</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">"Response Message: </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">transaction_status</span><span class="p">.</span><span class="nf">processing_details</span><span class="p">.</span><span class="nf">response_message</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">else</span>
  <span class="n">response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">e</span><span class="o">|</span> <span class="nb">puts</span> <span class="s2">"Response message: "</span><span class="o">+</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">user_display_message</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">}</span>
<span class="k">end</span>

</code></pre> 
    <p>The response from eWAY will contain details as to whether the transaction succeeded or failed</p> 
    <h3 id="response-field-descriptions-2">Response Field Descriptions</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>ResponseCode</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The authorisation code for this transaction as returned by the bank</td> 
      </tr> 
      <tr> 
       <td>ResponseMessage</td> 
       <td>512</td> 
       <td>string</td> 
       <td>One or more <a href="#response-amp-error-codes">Response Codes</a> that describes the result of the action performed.</td> 
      </tr> 
      <tr> 
       <td>TransactionStatus</td> 
       <td></td> 
       <td>boolean</td> 
       <td>Whether the cancel transaction succeeded</td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>8</td> 
       <td>int</td> 
       <td>A unique identifier that represents the transaction in eWAY's system</td> 
      </tr> 
      <tr> 
       <td>Errors</td> 
       <td>255</td> 
       <td>string</td> 
       <td>The error codes of any errors that occurred with the cancellation, these can be looked up in the <a href="#response-amp-error-codes">Response Codes</a> section.</td> 
      </tr> 
     </tbody>
    </table> 
    <h2 id="token-payments">Token Payments</h2> 
    <p>Capture your customers details once, and securely store them on eWAY's PCI DSS compliant servers for any time they wish to make a purchase in the future.</p> 
    <p>Capturing and updating a customer's details can be done through any of the available <a href="#payment-methods">payment methods</a> by using the appropriate Method.</p> 
    <p>Token is also supported with <a href="#masterpass">MasterPass</a>, <a href="#visa-checkout">Visa Checkout</a> and <a href="#paypal">PayPal</a> (PayPal does require <a href="#paypal-with-token-payments">additional setup</a>).</p> 
    <blockquote> 
     <p>Create Token Customer with Direct Connection example</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Customer": { "Title": "Mr.", "FirstName": "John", "LastName": "Smith", "Country": "au", "CardDetails": { "Name": "John Smith", "Number": "4444333322221111", "ExpiryMonth": "12", "ExpiryYear": "25", "CVN": "123" } }, "Payment": { "TotalAmount": 0 }, "Method": "CreateTokenCustomer", "TransactionType": "Purchase" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DirectPayment</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Customer&gt;</span>
                    <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>John<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;CardDetails&gt;</span>
                        <span class="nt">&lt;Number&gt;</span>4444333322221111<span class="nt">&lt;/Number&gt;</span>
                        <span class="nt">&lt;Name&gt;</span>John Smith<span class="nt">&lt;/Name&gt;</span>
                        <span class="nt">&lt;ExpiryMonth&gt;</span>12<span class="nt">&lt;/ExpiryMonth&gt;</span>
                        <span class="nt">&lt;ExpiryYear&gt;</span>25<span class="nt">&lt;/ExpiryYear&gt;</span>
                        <span class="nt">&lt;CVN&gt;</span>123<span class="nt">&lt;/CVN&gt;</span>
                    <span class="nt">&lt;/CardDetails&gt;</span>
                <span class="nt">&lt;/Customer&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>0<span class="nt">&lt;/TotalAmount&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;Method&gt;</span>CreateTokenCustomer<span class="nt">&lt;/Method&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/DirectPayment&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Title'</span> <span class="o">=&gt;</span> <span class="s1">'Mr.'</span><span class="p">,</span>
    <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
    <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
    <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
    <span class="s1">'CardDetails'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'Name'</span> <span class="o">=&gt;</span> <span class="s1">'John Smith'</span><span class="p">,</span>
        <span class="s1">'Number'</span> <span class="o">=&gt;</span> <span class="s1">'4444333322221111'</span><span class="p">,</span>
        <span class="s1">'ExpiryMonth'</span> <span class="o">=&gt;</span> <span class="s1">'12'</span><span class="p">,</span>
        <span class="s1">'ExpiryYear'</span> <span class="o">=&gt;</span> <span class="s1">'25'</span><span class="p">,</span>
        <span class="s1">'CVN'</span> <span class="o">=&gt;</span> <span class="s1">'123'</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createCustomer</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">DIRECT</span><span class="p">,</span> <span class="nv">$customer</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Customer</span><span class="o">();</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Mr."</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"John"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="n">address</span><span class="o">);</span>

<span class="n">CardDetails</span> <span class="n">cardDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CardDetails</span><span class="o">();</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"John Smith"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setNumber</span><span class="o">(</span><span class="s">"4444333322221111"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setExpiryMonth</span><span class="o">(</span><span class="s">"12"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setExpiryYear</span><span class="o">(</span><span class="s">"25"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setCVN</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCardDetails</span><span class="o">(</span><span class="n">cardDetails</span><span class="o">);</span>

<span class="n">CreateCustomerResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">Direct</span><span class="o">,</span> <span class="n">customer</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Customer</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">Title</span> <span class="p">=</span> <span class="s">"Mr."</span><span class="p">,</span>
    <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
    <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
    <span class="n">Address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span> 
    <span class="p">},</span>
    <span class="n">CardDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CardDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Name</span> <span class="p">=</span> <span class="s">"John Smith"</span><span class="p">,</span>
        <span class="n">Number</span> <span class="p">=</span> <span class="s">"4444333322221111"</span><span class="p">,</span>
        <span class="n">ExpiryMonth</span> <span class="p">=</span> <span class="s">"11"</span><span class="p">,</span>
        <span class="n">ExpiryYear</span> <span class="p">=</span> <span class="s">"25"</span><span class="p">,</span>
        <span class="n">CVN</span> <span class="p">=</span> <span class="s">"123"</span>
    <span class="p">}</span> 
<span class="p">};</span>

<span class="n">CreateCustomerResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">Direct</span><span class="p">,</span> <span class="n">customer</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createCustomer</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">DIRECT</span><span class="p">,</span> <span class="p">{</span>
   <span class="s2">"Title"</span><span class="p">:</span> <span class="s2">"Mr."</span><span class="p">,</span>
   <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
   <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
   <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
   <span class="s2">"CardDetails"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"John Smith"</span><span class="p">,</span>
     <span class="s2">"Number"</span><span class="p">:</span> <span class="s2">"4444333322221111"</span><span class="p">,</span>
     <span class="s2">"ExpiryMonth"</span><span class="p">:</span> <span class="s2">"12"</span><span class="p">,</span>
     <span class="s2">"ExpiryYear"</span><span class="p">:</span> <span class="s2">"25"</span><span class="p">,</span>
     <span class="s2">"CVN"</span><span class="p">:</span> <span class="s2">"123"</span>
   <span class="p">}</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">customer</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Customer</span><span class="p">.</span><span class="nf">new</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s1">'Mr.'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'John'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>

<span class="n">address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">address</span> <span class="o">=</span> <span class="n">address</span>

<span class="n">card_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">CardDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s1">'John Smith'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">number</span> <span class="o">=</span> <span class="s1">'4444333322221111'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">expiry_month</span> <span class="o">=</span> <span class="s1">'05'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">expiry_year</span> <span class="o">=</span> <span class="s1">'25'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">cvn</span> <span class="o">=</span> <span class="s1">'123'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">card_details</span> <span class="o">=</span> <span class="n">card_details</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_customer</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">DIRECT</span><span class="p">,</span> <span class="n">customer</span><span class="p">)</span>
</code></pre>
    <h3 id="create-token-customer">Create Token Customer</h3> 
    <p>To create a Token Customer, use the same process as a transaction in any of the available eWAY Rapid payment methods with the following details:</p> 
    <ul> 
     <li><strong>Method</strong> set to <code>CreateTokenCustomer</code> (not required when using an <a href="#rapid-sdks">eWAY Rapid SDK</a>)</li> 
     <li><strong>Title, FirstName, LastName</strong> and <strong>Country</strong> are required fields</li> 
     <li>If using <a href="#transparent-redirect">Transparent Redirection</a>, <a href="#responsive-shared-page">Responsive Shared Page</a> or <a href="#iframe">IFrame</a> the <strong>Payment</strong> section should not be present.</li> 
     <li>If using <a href="#direct-connection">Direct Connection</a>, the <strong>TotalAmount</strong> must be set to <code>0</code></li> 
    </ul> 
    <p>Remember to store the Token Customer ID for subsequent charges and updates!</p> 
    <p>Creating and charging a token customer at the same time is only possible using the <a href="#transparent-redirect">Transparent Redirection</a>, <a href="#responsive-shared-page">Responsive Shared Page</a> or <a href="#iframe">IFrame</a> payment methods. To do this, set the <code>Method</code> to <code>TokenPayment</code> and include the <code>Payment</code> section with the <code>TotalAmount</code> to be charged or, if using an <a href="#rapid-sdks">eWAY Rapid SDK</a>, do a regular transaction and set the <code>SaveCustomer</code> flag to <code>true</code>.</p> 
    <blockquote> 
     <p>Update Token Customer with Direct Connection example</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Customer": { "TokenCustomerID": 917758625852, "Title": "Ms.", "FirstName": "Jane", "LastName": "Smith", "Country": "au", "CardDetails": { "Name": "Jane Smith", "Number": "4444333322221111", "ExpiryMonth": "12", "ExpiryYear": "25", "CVN": "123" } }, "Payment": { "TotalAmount": 0 }, "Method": "UpdateTokenCustomer", "TransactionType": "Purchase" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DirectPayment</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Customer&gt;</span>
                    <span class="nt">&lt;TokenCustomerID&gt;</span>917758625852<span class="nt">&lt;/TokenCustomerID&gt;</span>
                    <span class="nt">&lt;Title&gt;</span>Ms.<span class="nt">&lt;/Title&gt;</span>
                    <span class="nt">&lt;FirstName&gt;</span>Jane<span class="nt">&lt;/FirstName&gt;</span>
                    <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                    <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                    <span class="nt">&lt;CardDetails&gt;</span>
                        <span class="nt">&lt;Number&gt;</span>4444333322221111<span class="nt">&lt;/Number&gt;</span>
                        <span class="nt">&lt;Name&gt;</span>Jane Smith<span class="nt">&lt;/Name&gt;</span>
                        <span class="nt">&lt;ExpiryMonth&gt;</span>12<span class="nt">&lt;/ExpiryMonth&gt;</span>
                        <span class="nt">&lt;ExpiryYear&gt;</span>25<span class="nt">&lt;/ExpiryYear&gt;</span>
                        <span class="nt">&lt;CVN&gt;</span>123<span class="nt">&lt;/CVN&gt;</span>
                    <span class="nt">&lt;/CardDetails&gt;</span>
                <span class="nt">&lt;/Customer&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>0<span class="nt">&lt;/TotalAmount&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;Method&gt;</span>UpdateTokenCustomer<span class="nt">&lt;/Method&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Purchase<span class="nt">&lt;/TransactionType&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/DirectPayment&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'TokenCustomerID'</span> <span class="o">=&gt;</span> <span class="mi">917758625852</span><span class="p">,</span>
    <span class="s1">'Title'</span> <span class="o">=&gt;</span> <span class="s1">'Ms.'</span><span class="p">,</span>
    <span class="s1">'FirstName'</span> <span class="o">=&gt;</span> <span class="s1">'Jane'</span><span class="p">,</span>
    <span class="s1">'LastName'</span> <span class="o">=&gt;</span> <span class="s1">'Smith'</span><span class="p">,</span>
    <span class="s1">'Country'</span> <span class="o">=&gt;</span> <span class="s1">'au'</span><span class="p">,</span>
    <span class="s1">'CardDetails'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'Name'</span> <span class="o">=&gt;</span> <span class="s1">'Jane Smith'</span><span class="p">,</span>
        <span class="s1">'Number'</span> <span class="o">=&gt;</span> <span class="s1">'4444333322221111'</span><span class="p">,</span>
        <span class="s1">'ExpiryMonth'</span> <span class="o">=&gt;</span> <span class="s1">'12'</span><span class="p">,</span>
        <span class="s1">'ExpiryYear'</span> <span class="o">=&gt;</span> <span class="s1">'25'</span><span class="p">,</span>
        <span class="s1">'CVN'</span> <span class="o">=&gt;</span> <span class="s1">'123'</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">updateCustomer</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">DIRECT</span><span class="p">,</span> <span class="nv">$customer</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Customer</span><span class="o">();</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Ms."</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setFirstName</span><span class="o">(</span><span class="s">"Jane"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setLastName</span><span class="o">(</span><span class="s">"Smith"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setTokenCustomerID</span><span class="o">(</span><span class="s">"917758625852"</span><span class="o">);</span>

<span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"au"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="n">address</span><span class="o">);</span>

<span class="n">CardDetails</span> <span class="n">cardDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CardDetails</span><span class="o">();</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Jane Smith"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setNumber</span><span class="o">(</span><span class="s">"4444333322221111"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setExpiryMonth</span><span class="o">(</span><span class="s">"12"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setExpiryYear</span><span class="o">(</span><span class="s">"25"</span><span class="o">);</span>
<span class="n">cardDetails</span><span class="o">.</span><span class="na">setCVN</span><span class="o">(</span><span class="s">"123"</span><span class="o">);</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setCardDetails</span><span class="o">(</span><span class="n">cardDetails</span><span class="o">);</span>

<span class="n">CreateCustomerResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">update</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">Direct</span><span class="o">,</span> <span class="n">customer</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Customer</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">Title</span> <span class="p">=</span> <span class="s">"Ms."</span><span class="p">,</span>
    <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"Jane"</span><span class="p">,</span>
    <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Smith"</span><span class="p">,</span>
    <span class="n">Address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">()</span> 
    <span class="p">{</span>
        <span class="n">Country</span> <span class="p">=</span> <span class="s">"au"</span> 
    <span class="p">},</span>
    <span class="n">CardDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CardDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Name</span> <span class="p">=</span> <span class="s">"Jane Smith"</span><span class="p">,</span>
        <span class="n">Number</span> <span class="p">=</span> <span class="s">"4444333322221111"</span><span class="p">,</span>
        <span class="n">ExpiryMonth</span> <span class="p">=</span> <span class="s">"12"</span><span class="p">,</span>
        <span class="n">ExpiryYear</span> <span class="p">=</span> <span class="s">"25"</span><span class="p">,</span>
        <span class="n">CVN</span> <span class="p">=</span> <span class="s">"123"</span>
    <span class="p">},</span>
    <span class="n">TokenCustomerID</span> <span class="p">=</span> <span class="s">"917758625852"</span>
<span class="p">};</span>

<span class="n">CreateCustomerResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">UpdateCustomer</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">Direct</span><span class="p">,</span> <span class="n">customer</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">updateCustomer</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">DIRECT</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"TokenCustomerID"</span><span class="p">:</span> <span class="s2">"917758625852"</span><span class="p">,</span>
    <span class="s2">"Title"</span><span class="p">:</span> <span class="s2">"Mr."</span><span class="p">,</span>
    <span class="s2">"FirstName"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="s2">"LastName"</span><span class="p">:</span> <span class="s2">"Smith"</span><span class="p">,</span>
    <span class="s2">"Country"</span><span class="p">:</span> <span class="s2">"au"</span><span class="p">,</span>
    <span class="s2">"CardDetails"</span><span class="p">:</span> <span class="p">{</span>
     <span class="s2">"Name"</span><span class="p">:</span> <span class="s2">"John Smith"</span><span class="p">,</span>
     <span class="s2">"Number"</span><span class="p">:</span> <span class="s2">"4444333322221111"</span><span class="p">,</span>
     <span class="s2">"ExpiryMonth"</span><span class="p">:</span> <span class="s2">"12"</span><span class="p">,</span>
     <span class="s2">"ExpiryYear"</span><span class="p">:</span> <span class="s2">"25"</span><span class="p">,</span>
     <span class="s2">"CVN"</span><span class="p">:</span> <span class="s2">"123"</span>
    <span class="p">}</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">customer</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Customer</span><span class="p">.</span><span class="nf">new</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">token_customer_id</span> <span class="o">=</span> <span class="mi">917758625852</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">title</span> <span class="o">=</span> <span class="s1">'Ms.'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">first_name</span> <span class="o">=</span> <span class="s1">'Jane'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">last_name</span> <span class="o">=</span> <span class="s1">'Smith'</span>

<span class="n">address</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Address</span><span class="p">.</span><span class="nf">new</span>
<span class="n">address</span><span class="p">.</span><span class="nf">country</span> <span class="o">=</span> <span class="s1">'AU'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">address</span> <span class="o">=</span> <span class="n">address</span>

<span class="n">card_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">CardDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">name</span> <span class="o">=</span> <span class="s1">'Jane Smith'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">number</span> <span class="o">=</span> <span class="s1">'4444333322221111'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">expiry_month</span> <span class="o">=</span> <span class="s1">'05'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">expiry_year</span> <span class="o">=</span> <span class="s1">'25'</span>
<span class="n">card_details</span><span class="p">.</span><span class="nf">cvn</span> <span class="o">=</span> <span class="s1">'123'</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">card_details</span> <span class="o">=</span> <span class="n">card_details</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">update_customer</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">DIRECT</span><span class="p">,</span> <span class="n">customer</span><span class="p">)</span>
</code></pre>
    <h3 id="update-token-customer">Update Token Customer</h3> 
    <p>To update a Token Customer, use the same process as a transaction in any of the available eWAY Rapid payment methods using the following details:</p> 
    <ul> 
     <li><strong>Method</strong> set to <code>UpdateTokenCustomer</code> (not required when using an <a href="#rapid-sdks">eWAY Rapid SDK</a>)</li> 
     <li><strong>TotalAmount</strong> as <code>0</code></li> 
     <li><strong>TokenCustomerID</strong> set to the Token Customer ID to be updated</li> 
     <li>If passing a card details, the <strong>Card Number</strong> can be masked if it is not being updated (e.g. 44443XXXXXX1111). Note that the first and last characters must be numbers.</li> 
    </ul> 
    <blockquote> 
     <p>Charge Token Customer with Direct Connection example</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request POST <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    --header <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'{ "Customer": { "TokenCustomerID": 917758625852 }, "Payment": { "TotalAmount": 1000 }, "Method": "ProcessPayment", "TransactionType": "Recurring" }'</span> <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Transaction
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://www.w3.org/2003/05/soap-envelope"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DirectPayment</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;request&gt;</span>
                <span class="nt">&lt;Customer&gt;</span>
                    <span class="nt">&lt;TokenCustomerID&gt;</span>917758625852<span class="nt">&lt;/TokenCustomerID&gt;</span>
                <span class="nt">&lt;/Customer&gt;</span>
                <span class="nt">&lt;Payment&gt;</span>
                    <span class="nt">&lt;TotalAmount&gt;</span>1000<span class="nt">&lt;/TotalAmount&gt;</span>
                <span class="nt">&lt;/Payment&gt;</span>
                <span class="nt">&lt;Method&gt;</span>ProcessPayment<span class="nt">&lt;/Method&gt;</span>
                <span class="nt">&lt;TransactionType&gt;</span>Recurring<span class="nt">&lt;/TransactionType&gt;</span>
            <span class="nt">&lt;/request&gt;</span>
        <span class="nt">&lt;/DirectPayment&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$transaction</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'Customer'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TokenCustomerID'</span> <span class="o">=&gt;</span> <span class="mi">917758625852</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'Payment'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'TotalAmount'</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'TransactionType'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\TransactionType</span><span class="o">::</span><span class="na">RECURRING</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">createTransaction</span><span class="p">(</span><span class="nx">\Eway\Rapid\Enum\ApiMethod</span><span class="o">::</span><span class="na">DIRECT</span><span class="p">,</span> <span class="nv">$transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="n">Transaction</span> <span class="n">transaction</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Transaction</span><span class="o">();</span>

<span class="n">Customer</span> <span class="n">customer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Customer</span><span class="o">();</span>
<span class="n">customer</span><span class="o">.</span><span class="na">setTokenCustomerID</span><span class="o">(</span><span class="s">"917758625852"</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setCustomer</span><span class="o">(</span><span class="n">customer</span><span class="o">);</span>

<span class="n">PaymentDetails</span> <span class="n">paymentDetails</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PaymentDetails</span><span class="o">();</span>
<span class="n">paymentDetails</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
<span class="n">transaction</span><span class="o">.</span><span class="na">setPaymentDetails</span><span class="o">(</span><span class="n">paymentDetails</span><span class="o">);</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">setTransactionType</span><span class="o">(</span><span class="n">TransactionType</span><span class="o">.</span><span class="na">Recurring</span><span class="o">);</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">PaymentMethod</span><span class="o">.</span><span class="na">Direct</span><span class="o">,</span> <span class="n">transaction</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">Transaction</span> <span class="n">transaction</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Transaction</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Customer</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TokenCustomerID</span> <span class="p">=</span> <span class="s">"917758625852"</span>
    <span class="p">},</span>
    <span class="n">PaymentDetails</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PaymentDetails</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">1000</span>
    <span class="p">},</span>
    <span class="n">TransactionType</span> <span class="p">=</span> <span class="n">TransactionTypes</span><span class="p">.</span><span class="n">Recurring</span>
<span class="p">};</span>

<span class="n">CreateTransactionResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">PaymentMethod</span><span class="p">.</span><span class="n">Direct</span><span class="p">,</span> <span class="n">transaction</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">createTransaction</span><span class="p">(</span><span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">Method</span><span class="p">.</span><span class="nx">DIRECT</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">"Customer"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"TokenCustomerID"</span><span class="p">:</span> <span class="mi">917758625852</span>
    <span class="p">},</span>
    <span class="s2">"Payment"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"TotalAmount"</span><span class="p">:</span> <span class="mi">1000</span>
    <span class="p">},</span>
    <span class="s2">"TransactionType"</span><span class="p">:</span> <span class="s2">"Recurring"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">transaction</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Transaction</span><span class="p">.</span><span class="nf">new</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">customer</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">Customer</span><span class="p">.</span><span class="nf">new</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">customer</span><span class="p">.</span><span class="nf">token_customer_id</span> <span class="o">=</span> <span class="s1">'917758625852'</span>

<span class="n">payment_details</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">PaymentDetails</span><span class="p">.</span><span class="nf">new</span>
<span class="n">payment_details</span><span class="p">.</span><span class="nf">total_amount</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">transaction</span><span class="p">.</span><span class="nf">payment_details</span> <span class="o">=</span> <span class="n">payment_details</span>

<span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_type</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">TransactionType</span><span class="o">::</span><span class="no">RECURRING</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">create_transaction</span><span class="p">(</span><span class="no">EwayRapid</span><span class="o">::</span><span class="no">Enums</span><span class="o">::</span><span class="no">PaymentMethod</span><span class="o">::</span><span class="no">DIRECT</span><span class="p">,</span> <span class="n">transaction</span><span class="p">)</span>

</code></pre>
    <h3 id="charge-token-customer">Charge Token Customer</h3> 
    <p>To charge a Token customer, there are two ways depending on whether the customer is initiating the transaction:</p> 
    <ul> 
     <li>Where the customer is completing the transaction (for example, a "saved card" function in a shopping cart), the <code>TransactionType</code> should be <code>Purchase</code> and the customer will need to enter their CVN. Either the <a href="#transparent-redirect">Transparent Redirection</a> or <a href="#direct-connection">Direct Connection</a> payment method can be used.</li> 
     <li>When the transaction is a recurring payment or being completed by the merchant, the <code>TransactionType</code> should be <code>Recurring</code> or <code>MOTO</code> as appropriate and the <a href="#direct-connection">Direct Connection</a> payment method can be used.</li> 
    </ul> 
    <p>To process the transaction, the following details should be set:</p> 
    <ul> 
     <li><strong>Method</strong> should be <code>TokenPayment</code> (not required when using an <a href="#rapid-sdks">eWAY Rapid SDK</a>)</li> 
     <li><strong>TokenCustomerID</strong> set to the Token Customer ID to be updated</li> 
    </ul> 
    <p>Tokens can also be used in a <a href="#pre-auth">pre-auth transaction</a> by setting the <strong>Method</strong> to <code>Authorise</code>.</p> 
    <h3 id="query-token-customer">Query Token Customer</h3> 
    <p>This is a direct call to the eWAY service allowing you to request the details of a Token Customer.</p> 
    <h4 id="live-endpoints">Live endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.ewaypayments.com/Customer/{TokenCustomerID}</td> 
      </tr> 
      <tr> 
       <td>HTTP GET (XML)</td> 
       <td>https://api.ewaypayments.com//Customer/?Filter_TokenCustomerID={TokenCustomerID}</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.ewaypayments.com/DirectCustomerSearch.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h4 id="sandbox-endpoints">Sandbox endpoints</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.sandbox.ewaypayments.com/Customer/{TokenCustomerID}</td> 
      </tr> 
      <tr> 
       <td>HTTP GET (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/Customer/?Filter_TokenCustomerID={TokenCustomerID}</td> 
      </tr> 
      <tr> 
       <td>HTTP POST (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/DirectCustomerSearch.json</td> 
      </tr> 
      <tr> 
       <td>RPC (XML)</td> 
       <td>https://api.sandbox.ewaypayments.com/xml-rpc</td> 
      </tr> 
      <tr> 
       <td>RPC (JSON)</td> 
       <td>https://api.sandbox.ewaypayments.com/json-rpc</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="request-field-descriptions">Request Field Descriptions</h3> 
    <blockquote> 
     <p>Example Token Customer Query request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Customer/917758625852
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;DirectCustomerSearch</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;request&gt;</span>
            <span class="nt">&lt;TokenCustomerID&gt;</span>917758625852<span class="nt">&lt;/TokenCustomerID&gt;</span>
         <span class="nt">&lt;/request&gt;</span>
      <span class="nt">&lt;/DirectCustomerSearch&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">queryCustomer</span><span class="p">(</span><span class="mi">917758625852</span><span class="p">);</span>

</code></pre>
    <pre class="highlight java tab-java"><code><span class="n">RapidClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">RapidSDK</span><span class="o">.</span><span class="na">newRapidClient</span><span class="o">(</span><span class="n">apiKey</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">rapidEndpoint</span><span class="o">);</span>

<span class="kt">long</span> <span class="n">tokenId</span> <span class="o">=</span> <span class="n">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="s">"917758625852"</span><span class="o">);</span>
<span class="n">QueryCustomerResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">queryCustomer</span><span class="o">(</span><span class="n">tokenId</span><span class="o">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">QueryCustomerResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">QueryCustomer</span><span class="p">(</span><span class="m">918268990356</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">queryCustomer</span><span class="p">(</span><span class="s2">"917758625852"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">query_customer</span><span class="p">(</span><span class="s1">'917758625852'</span><span class="p">)</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>R</td> 
       <td>16</td> 
       <td>string</td> 
       <td>The Token Customer ID</td> 
      </tr> 
     </tbody>
    </table> 
    <p><em>Field Types: R – Required</em></p> 
    <h3 id="response-field-descriptions">Response Field Descriptions</h3> 
    <blockquote> 
     <p>Example Token Customer Query response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"Customers"</span>: <span class="o">[{</span>
        <span class="s2">"CardDetails"</span>: <span class="o">{</span>
            <span class="s2">"Number"</span>: <span class="s2">"444433XXXXXX1111"</span>,
            <span class="s2">"Name"</span>: <span class="s2">"Joel Smith"</span>,
            <span class="s2">"ExpiryMonth"</span>: <span class="s2">"12"</span>,
            <span class="s2">"ExpiryYear"</span>: <span class="s2">"25"</span>,
            <span class="s2">"StartMonth"</span>: <span class="s2">""</span>,
            <span class="s2">"StartYear"</span>: <span class="s2">""</span>,
            <span class="s2">"IssueNumber"</span>: <span class="s2">""</span>
        <span class="o">}</span>,
        <span class="s2">"TokenCustomerID"</span>: 917758625852,
        <span class="s2">"Reference"</span>: <span class="s2">""</span>,
        <span class="s2">"Title"</span>: <span class="s2">"Mr."</span>,
        <span class="s2">"FirstName"</span>: <span class="s2">"Joel"</span>,
        <span class="s2">"LastName"</span>: <span class="s2">"Smith"</span>,
        <span class="s2">"CompanyName"</span>: <span class="s2">""</span>,
        <span class="s2">"JobDescription"</span>: <span class="s2">""</span>,
        <span class="s2">"Street1"</span>: <span class="s2">""</span>,
        <span class="s2">"Street2"</span>: null,
        <span class="s2">"City"</span>: <span class="s2">""</span>,
        <span class="s2">"State"</span>: <span class="s2">""</span>,
        <span class="s2">"PostalCode"</span>: <span class="s2">""</span>,
        <span class="s2">"Country"</span>: <span class="s2">"au"</span>,
        <span class="s2">"Email"</span>: <span class="s2">""</span>,
        <span class="s2">"Phone"</span>: <span class="s2">""</span>,
        <span class="s2">"Mobile"</span>: <span class="s2">""</span>,
        <span class="s2">"Comments"</span>: <span class="s2">""</span>,
        <span class="s2">"Fax"</span>: <span class="s2">""</span>,
        <span class="s2">"Url"</span>: <span class="s2">""</span>
    <span class="o">}]</span>,
    <span class="s2">"Errors"</span>: null
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;DirectCustomerSearchResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;DirectCustomerSearchResult&gt;</span>
            <span class="nt">&lt;Customers&gt;</span>
               <span class="nt">&lt;DirectTokenCustomer&gt;</span>
                  <span class="nt">&lt;TokenCustomerID&gt;</span>917758625852<span class="nt">&lt;/TokenCustomerID&gt;</span>
                  <span class="nt">&lt;Reference/&gt;</span>
                  <span class="nt">&lt;Title&gt;</span>Mr.<span class="nt">&lt;/Title&gt;</span>
                  <span class="nt">&lt;FirstName&gt;</span>Joel<span class="nt">&lt;/FirstName&gt;</span>
                  <span class="nt">&lt;LastName&gt;</span>Smith<span class="nt">&lt;/LastName&gt;</span>
                  <span class="nt">&lt;CompanyName/&gt;</span>
                  <span class="nt">&lt;JobDescription/&gt;</span>
                  <span class="nt">&lt;Street1/&gt;</span>
                  <span class="nt">&lt;City/&gt;</span>
                  <span class="nt">&lt;State/&gt;</span>
                  <span class="nt">&lt;PostalCode/&gt;</span>
                  <span class="nt">&lt;Country&gt;</span>au<span class="nt">&lt;/Country&gt;</span>
                  <span class="nt">&lt;Email/&gt;</span>
                  <span class="nt">&lt;Phone/&gt;</span>
                  <span class="nt">&lt;Mobile/&gt;</span>
                  <span class="nt">&lt;Comments/&gt;</span>
                  <span class="nt">&lt;Fax/&gt;</span>
                  <span class="nt">&lt;Url/&gt;</span>
                  <span class="nt">&lt;CardDetails&gt;</span>
                     <span class="nt">&lt;Number&gt;</span>444433XXXXXX1111<span class="nt">&lt;/Number&gt;</span>
                     <span class="nt">&lt;Name&gt;</span>Joel Smith<span class="nt">&lt;/Name&gt;</span>
                     <span class="nt">&lt;ExpiryMonth&gt;</span>12<span class="nt">&lt;/ExpiryMonth&gt;</span>
                     <span class="nt">&lt;ExpiryYear&gt;</span>25<span class="nt">&lt;/ExpiryYear&gt;</span>
                     <span class="nt">&lt;StartMonth/&gt;</span>
                     <span class="nt">&lt;StartYear/&gt;</span>
                     <span class="nt">&lt;IssueNumber/&gt;</span>
                  <span class="nt">&lt;/CardDetails&gt;</span>
               <span class="nt">&lt;/DirectTokenCustomer&gt;</span>
            <span class="nt">&lt;/Customers&gt;</span>
         <span class="nt">&lt;/DirectCustomerSearchResult&gt;</span>
      <span class="nt">&lt;/DirectCustomerSearchResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="c1">// See the JSON tab for all the available properties </span>
<span class="nv">$tokenCustomerID</span> <span class="o">=</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">Customers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">TokenCustomerID</span><span class="p">;</span>
<span class="nv">$maskedCard</span> <span class="o">=</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">Customers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">CardDetails</span><span class="o">-&gt;</span><span class="na">Number</span><span class="p">;</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="n">String</span> <span class="n">firstName</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getFirstName</span><span class="o">();</span>
<span class="n">String</span> <span class="n">maskedCard</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getCardDetail</span><span class="o">().</span><span class="na">getNumber</span><span class="o">();</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="c1">// See the JSON tab for all the available properties</span>

<span class="kt">string</span> <span class="n">firstName</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">Customers</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">FirstName</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">maskedCard</span> <span class="p">=</span> <span class="n">response</span><span class="p">.</span><span class="n">Customers</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">CardDetails</span><span class="p">.</span><span class="n">Number</span><span class="p">;</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">customerid</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Customers[0].TokenCustomerID'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">maskedCard</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'Customers[0].CardDetails.Number'</span><span class="p">);</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">().</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">getMessage</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="s2">"en"</span><span class="p">));</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="c1"># See the JSON tab for all the available properties</span>

<span class="n">token_customer_id</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">token_customer_id</span>
<span class="n">masked_card</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="nf">card_detail</span><span class="p">.</span><span class="nf">number</span>
</code></pre>
    <h3 id="customers">Customers</h3> 
    <p>This set of fields contains the details of the customer.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>TokenCustomerID</td> 
       <td>16</td> 
       <td>long</td> 
       <td>An eWAY-issued ID that represents the Token customer to be loaded for this action.</td> 
      </tr> 
      <tr> 
       <td>Reference</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The merchant's reference for this customer</td> 
      </tr> 
      <tr> 
       <td>Title†</td> 
       <td>5</td> 
       <td>string</td> 
       <td>The customer's title</td> 
      </tr> 
      <tr> 
       <td>FirstName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name.</td> 
      </tr> 
      <tr> 
       <td>LastName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name</td> 
      </tr> 
      <tr> 
       <td>CompanyName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's company name.</td> 
      </tr> 
      <tr> 
       <td>JobDescription</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title.</td> 
      </tr> 
      <tr> 
       <td>Street1</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>Street2</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's street address.</td> 
      </tr> 
      <tr> 
       <td>City</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's city / town / suburb.</td> 
      </tr> 
      <tr> 
       <td>State</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state / county.</td> 
      </tr> 
      <tr> 
       <td>PostalCode</td> 
       <td>30</td> 
       <td>string</td> 
       <td>The customer's post / zip code.</td> 
      </tr> 
      <tr> 
       <td>Country†</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's country. A two letter ISO 3166-1 alpha-2 code as defined in the ISO 3166 standard. For more information see: <a href="http://www.iso.org/iso/country_names_and_code_elements">http://www.iso.org/iso/country_names_and_code_elements</a></td> 
      </tr> 
      <tr> 
       <td>Email</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address</td> 
      </tr> 
      <tr> 
       <td>Phone</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's phone number.</td> 
      </tr> 
      <tr> 
       <td>Mobile</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's mobile phone number.</td> 
      </tr> 
      <tr> 
       <td>Comments</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments the merchant wishes to add about the customer.</td> 
      </tr> 
      <tr> 
       <td>Fax</td> 
       <td>32</td> 
       <td>string</td> 
       <td>The customer's fax number.</td> 
      </tr> 
      <tr> 
       <td>Url</td> 
       <td>512</td> 
       <td>string</td> 
       <td>The customer's website.</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="card-details">Card Details</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Name</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The name of the card holder</td> 
      </tr> 
      <tr> 
       <td>Number</td> 
       <td>50</td> 
       <td>int</td> 
       <td>The masked card number</td> 
      </tr> 
      <tr> 
       <td>ExpiryMonth</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The month that the card expires.</td> 
      </tr> 
      <tr> 
       <td>ExpiryYear</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The year that the card expires.</td> 
      </tr> 
      <tr> 
       <td>StartMonth*</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The month that the card is valid from</td> 
      </tr> 
      <tr> 
       <td>StartYear*</td> 
       <td>2</td> 
       <td>int</td> 
       <td>The year that the card is valid from</td> 
      </tr> 
      <tr> 
       <td>IssueNumber*</td> 
       <td></td> 
       <td>int</td> 
       <td>The card's issue number</td> 
      </tr> 
     </tbody>
    </table> 
    <p>*<em>Applies to UK only</em></p> 
    <h2 id="settlement-search">Settlement Search</h2> 
    <p>This API allows you to access the Settlement reports in MYeWAY by querying for the settlement summary, settlement transactions (individually) or both.</p> 
    <h3 id="live-endpoints">Live endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Production"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.ewaypayments.com/Search/Settlement</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="sandbox-endpoints">Sandbox endpoints</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway URL</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SDK</td> 
       <td>"Sandbox"</td> 
      </tr> 
      <tr> 
       <td>SOAP</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx</td> 
      </tr> 
      <tr> 
       <td>SOAP WSDL</td> 
       <td>https://api.sandbox.ewaypayments.com/soap.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>REST (GET)</td> 
       <td>https://api.sandbox.ewaypayments.com/Search/Settlement</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="report-modes">Report Modes</h3> 
    <ul> 
     <li>Both - This mode will query both the Settlement summary, as well as the settlement transactions. </li> 
     <li>SummaryOnly - This mode will ONLY query the settlement summary. </li> 
     <li>TransactionOnly - This mode will ONLY query the settlement transactions (individually)</li> 
    </ul> 
    <h3 id="request-field-descriptions">Request Field Descriptions</h3> 
    <blockquote> 
     <p>Basic Request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Search/Settlement?SettlementDate<span class="o">=</span>2015-02-02<span class="se">\&amp;</span><span class="nv">ReportMode</span><span class="o">=</span>Both
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;SettlementSearch</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;request&gt;</span>
            <span class="nt">&lt;SettlementDate&gt;</span>2015-02-02<span class="nt">&lt;/SettlementDate&gt;</span>
            <span class="nt">&lt;ReportMode&gt;</span>Both<span class="nt">&lt;/ReportMode&gt;</span>
         <span class="nt">&lt;/request&gt;</span>
      <span class="nt">&lt;/SettlementSearch&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$search</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'ReportMode'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\SettlementReportMode</span><span class="o">::</span><span class="na">BOTH</span><span class="p">,</span>
    <span class="s1">'SettlementDate'</span> <span class="o">=&gt;</span> <span class="s1">'2015-02-02'</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">settlementSearch</span><span class="p">(</span><span class="nv">$search</span><span class="p">);</span>
</code></pre>
    <pre class="highlight java tab-java"><code><span class="c1">// Settlement reporting is not currently available through the eWAY Rapid Java library</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">SettlementSearchRequest</span> <span class="n">search</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SettlementSearchRequest</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ReportMode</span> <span class="p">=</span> <span class="n">SettlementSearchMode</span><span class="p">.</span><span class="n">Both</span><span class="p">,</span>
    <span class="n">StartDate</span> <span class="p">=</span> <span class="s">"2015-02-02"</span><span class="p">,</span>
<span class="p">};</span>

<span class="n">SettlementSearchResponse</span> <span class="n">settlementResponse</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">SettlementSearch</span><span class="p">(</span><span class="n">search</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">settlementSearch</span><span class="p">({</span>
  <span class="s2">"ReportMode"</span><span class="p">:</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">SettlementReportMode</span><span class="p">.</span><span class="nx">BOTH</span><span class="p">,</span>
  <span class="s2">"SettlementDate"</span><span class="p">:</span> <span class="s2">"2015-02-02"</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">settlement_search</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">SettlementSearch</span><span class="p">.</span><span class="nf">new</span>
<span class="n">settlement_search</span><span class="p">.</span><span class="nf">report_mode</span> <span class="o">=</span> <span class="s1">'Both'</span>
<span class="n">settlement_search</span><span class="p">.</span><span class="nf">settlement_date</span> <span class="o">=</span> <span class="s1">'2015-02-02'</span>

<span class="n">search_response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">settlement_search</span><span class="p">(</span><span class="n">settlement_search</span><span class="p">)</span>
</code></pre> 
    <blockquote> 
     <p>Request with filtering</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>curl --request GET <span class="se">\</span>
    --user 60CF3Ce97nRS1Z1Wp5m9kMmzHHEh8Rkuj31QCtVxjPWGYA9FymyqsK0Enm1P6mHJf0THbR:API-P4ss <span class="se">\</span>
    https://api.sandbox.ewaypayments.com/Search/Settlement?SettlementDate<span class="o">=</span>2015-02-02<span class="se">\&amp;</span><span class="nv">ReportMode</span><span class="o">=</span>Both<span class="se">\&amp;</span><span class="nv">CardType</span><span class="o">=</span>VI<span class="se">\&amp;</span><span class="nv">Currency</span><span class="o">=</span>AUD
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;SettlementSearch</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;request&gt;</span>
            <span class="nt">&lt;SettlementDate&gt;</span>2015-02-02<span class="nt">&lt;/SettlementDate&gt;</span>
            <span class="nt">&lt;ReportMode&gt;</span>Both<span class="nt">&lt;/ReportMode&gt;</span>
            <span class="nt">&lt;CardType&gt;</span>VI<span class="nt">&lt;/CardType&gt;</span>
            <span class="nt">&lt;Currency&gt;</span>AUD<span class="nt">&lt;/Currency&gt;</span>
         <span class="nt">&lt;/request&gt;</span>
      <span class="nt">&lt;/SettlementSearch&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="nx">\Eway\Rapid</span><span class="o">::</span><span class="na">createClient</span><span class="p">(</span><span class="nv">$apiKey</span><span class="p">,</span> <span class="nv">$apiPassword</span><span class="p">,</span> <span class="nv">$apiEndpoint</span><span class="p">);</span>

<span class="nv">$search</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'ReportMode'</span> <span class="o">=&gt;</span> <span class="nx">\Eway\Rapid\Enum\SettlementReportMode</span><span class="o">::</span><span class="na">BOTH</span><span class="p">,</span>
    <span class="s1">'SettlementDate'</span> <span class="o">=&gt;</span> <span class="s1">'2015-02-02'</span><span class="p">,</span>
    <span class="s1">'CardType'</span> <span class="o">=&gt;</span> <span class="s1">'VI'</span><span class="p">,</span>
    <span class="s1">'Currency'</span> <span class="o">=&gt;</span> <span class="s1">'AUD'</span><span class="p">,</span>
<span class="p">];</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$client</span><span class="o">-&gt;</span><span class="na">settlementSearch</span><span class="p">(</span><span class="nv">$search</span><span class="p">);</span>
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="n">IRapidClient</span> <span class="n">ewayClient</span> <span class="p">=</span> <span class="n">RapidClientFactory</span><span class="p">.</span><span class="nf">NewRapidClient</span><span class="p">(</span><span class="n">apiKey</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">rapidEndpoint</span><span class="p">);</span>

<span class="n">SettlementSearchRequest</span> <span class="n">search</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SettlementSearchRequest</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">ReportMode</span> <span class="p">=</span> <span class="n">SettlementSearchMode</span><span class="p">.</span><span class="n">Both</span><span class="p">,</span>
    <span class="n">StartDate</span> <span class="p">=</span> <span class="s">"2015-02-02"</span><span class="p">,</span>
    <span class="n">CardType</span> <span class="p">=</span> <span class="n">CardType</span><span class="p">.</span><span class="n">VI</span><span class="p">,</span>
    <span class="n">Currency</span> <span class="p">=</span> <span class="s">"AUD"</span>
<span class="p">};</span>

<span class="n">SettlementSearchResponse</span> <span class="n">settlementResponse</span> <span class="p">=</span> <span class="n">ewayClient</span><span class="p">.</span><span class="nf">SettlementSearch</span><span class="p">(</span><span class="n">search</span><span class="p">);</span>
</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">createClient</span><span class="p">(</span><span class="nx">apiKey</span><span class="p">,</span> <span class="nx">password</span><span class="p">,</span> <span class="nx">rapidEndpoint</span><span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">settlementSearch</span><span class="p">({</span>
  <span class="s2">"ReportMode"</span><span class="p">:</span> <span class="nx">rapid</span><span class="p">.</span><span class="nx">Enum</span><span class="p">.</span><span class="nx">SettlementReportMode</span><span class="p">.</span><span class="nx">BOTH</span><span class="p">,</span>
  <span class="s2">"SettlementDate"</span><span class="p">:</span> <span class="s2">"2015-02-02"</span><span class="p">,</span>
  <span class="s2">"CardType"</span><span class="p">:</span> <span class="s2">"VI"</span><span class="p">,</span>
  <span class="s2">"Currency"</span><span class="p">:</span> <span class="s2">"AUD"</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>

<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="n">client</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">RapidClient</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">)</span>

<span class="n">settlement_search</span> <span class="o">=</span> <span class="no">EwayRapid</span><span class="o">::</span><span class="no">Models</span><span class="o">::</span><span class="no">SettlementSearch</span><span class="p">.</span><span class="nf">new</span>
<span class="n">settlement_search</span><span class="p">.</span><span class="nf">report_mode</span> <span class="o">=</span> <span class="s1">'Both'</span>
<span class="n">settlement_search</span><span class="p">.</span><span class="nf">settlement_date</span> <span class="o">=</span> <span class="s1">'2015-02-02'</span>
<span class="n">settlement_search</span><span class="p">.</span><span class="nf">card_type</span> <span class="o">=</span> <span class="no">Enums</span><span class="o">::</span><span class="no">CardType</span><span class="o">::</span><span class="no">VISA</span>
<span class="n">settlement_search</span><span class="p">.</span><span class="nf">currency</span> <span class="o">=</span> <span class="s1">'AUD'</span>

<span class="n">search_response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">settlement_search</span><span class="p">(</span><span class="n">settlement_search</span><span class="p">)</span>
</code></pre> 
    <p>All parameters are passed after the URL as a GET request when using REST.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>ReportMode</td> 
       <td>R</td> 
       <td>string</td> 
       <td>One of <code>Both</code>, <code>SummaryOnly</code> or <code>TransactionOnly</code> (see above)</td> 
      </tr> 
      <tr> 
       <td>SettlementDate*</td> 
       <td>C</td> 
       <td>string</td> 
       <td>A settlement date will need to be entered to query. <em>Note: if a date range is used, SettlementDate will be ignored</em><br>This should be formatted as YYYY-MM-DD</td> 
      </tr> 
      <tr> 
       <td>StartDate*</td> 
       <td>C</td> 
       <td>string</td> 
       <td>This parameter set the start of a filtered date range. <em>Note: if a date range is used, SettlementDate will be ignored</em><br>This should be formatted as YYYY-MM-DD</td> 
      </tr> 
      <tr> 
       <td>EndDate*</td> 
       <td>C</td> 
       <td>string</td> 
       <td>This parameter set the end of a filtered date range. <em>Note: if a date range is used, SettlementDate will be ignored</em><br>This should be formatted as YYYY-MM-DD</td> 
      </tr> 
      <tr> 
       <td>CardType</td> 
       <td>O</td> 
       <td>string</td> 
       <td>The code for the card type to filter the option for. One of:
        <ul>
         <li><code>ALL</code> - all cards</li>
         <li><code>VI</code> - Visa</li>
         <li><code>MC</code> - Mastercard</li>
         <li><code>AX</code> - AMEX</li>
         <li><code>DC</code> - Diners Club</li>
         <li><code>JC</code> - JCB</li>
         <li><code>MD</code> - Maestro UK</li>
         <li><code>MI</code> - Maestro International</li>
         <li><code>SO</code> - Solo</li>
         <li><code>LA</code> - Laser</li>
         <li><code>DS</code> - Discover</li>
        </ul></td> 
      </tr> 
      <tr> 
       <td>Currency</td> 
       <td>O</td> 
       <td>string</td> 
       <td>The currency to filter the report by. The <a href="http://en.wikipedia.org/wiki/ISO_4217">three digit ISO 4217 currency code</a> should be used or <code>ALL</code> for all currencies. This should be in uppercase.<br> e.g. <code>ALL</code>, <code>AUD</code>, <code>USD</code>, <code>GBP</code>, <code>NZD</code></td> 
      </tr> 
      <tr> 
       <td>Page</td> 
       <td>O</td> 
       <td>int</td> 
       <td>The page number to retrieve</td> 
      </tr> 
      <tr> 
       <td>PageSize</td> 
       <td>O</td> 
       <td>int</td> 
       <td>The number of records to retrieve per page</td> 
      </tr> 
     </tbody>
    </table> 
    <p>*<em>One of SettlementDate or StartDate and EndDate is required</em></p> 
    <blockquote> 
     <p>Example first response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"SettlementSummaries"</span>: null, 
    <span class="s2">"SettlementTransactions"</span>: null,
    <span class="s2">"Errors"</span>: <span class="s2">"If you are querying the settlement report with this date range for the first time, the data will be available in 60 mins approx. Thank you."</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;SettlementSearchResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;SettlementSearchResult&gt;</span>
            <span class="nt">&lt;Errors&gt;</span>If you are querying the settlement report with this date range for the first time, the data will be available in 60 mins approx. Thank you.<span class="nt">&lt;/Errors&gt;</span>
         <span class="nt">&lt;/SettlementSearchResult&gt;</span>
      <span class="nt">&lt;/SettlementSearchResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <h3 id="search-response-for-the-first-time">Search Response for the first time</h3> 
    <p>Settlement reports are enabled automatically the first time the API is called. The process takes 60 minutes, the first time the Settlement API is called for a merchant the message to the right is displayed.</p> 
    <aside class="notice">
      Only transactions that take place after the Settlement Search API has been enabled for a merchant can be successfully queried. 
    </aside> 
    <blockquote> 
     <p>Example settlement search response</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"SettlementSummaries"</span>: <span class="o">[{</span>
        <span class="s2">"SettlementID"</span>: <span class="s2">"53e78b14-ac2c-4b1b-a099-a12c6d5f30bc"</span>,
        <span class="s2">"Currency"</span>: <span class="s2">"36"</span>,
        <span class="s2">"CurrencyCode"</span>: <span class="s2">"AUD"</span>,
        <span class="s2">"TotalCredit"</span>: 97100,
        <span class="s2">"TotalDebit"</span>: 320,
        <span class="s2">"TotalBalance"</span>: 96780,
        <span class="s2">"BalancePerCardType"</span>: <span class="o">[{</span>
            <span class="s2">"CardType"</span>: <span class="s2">"VI"</span>,
            <span class="s2">"NumberOfTransactions"</span>: 14,
            <span class="s2">"Credit"</span>: 97100,
            <span class="s2">"Debit"</span>: 320,
            <span class="s2">"Balance"</span>: 96780
        <span class="o">}]</span>
    <span class="o">}]</span>,
    <span class="s2">"SettlementTransactions"</span>: <span class="o">[{</span>
        <span class="s2">"SettlementID"</span>: <span class="s2">"53e78b14-ac2c-4b1b-a099-a12c6d5f30bc"</span>,
        <span class="s2">"eWAYCustomerID"</span>: 87654321,
        <span class="s2">"Currency"</span>: <span class="s2">"36"</span>,
        <span class="s2">"CurrencyCode"</span>: <span class="s2">"AUD"</span>,
        <span class="s2">"TransactionID"</span>: 11258912,
        <span class="s2">"TxnReference"</span>: <span class="s2">"0000000011258912"</span>,
        <span class="s2">"CardType"</span>: <span class="s2">"VI"</span>,
        <span class="s2">"Amount"</span>: 100,
        <span class="s2">"TransactionType"</span>: <span class="s2">"1"</span>,
        <span class="s2">"TransactionDateTime"</span>: <span class="s2">"</span><span class="se">\/</span><span class="s2">Date(1422795600000)</span><span class="se">\/</span><span class="s2">"</span>,
        <span class="s2">"SettlementDateTime"</span>: <span class="s2">"</span><span class="se">\/</span><span class="s2">Date(1422795600000)</span><span class="se">\/</span><span class="s2">"</span>
    <span class="o">}</span>, <span class="o">{</span>
        <span class="s2">"SettlementID"</span>: <span class="s2">"53e78b14-ac2c-4b1b-a099-a12c6d5f30bc"</span>,
        <span class="s2">"eWAYCustomerID"</span>: 87654321,
        <span class="s2">"Currency"</span>: <span class="s2">"36"</span>,
        <span class="s2">"CurrencyCode"</span>: <span class="s2">"AUD"</span>,
        <span class="s2">"TransactionID"</span>: 11259196,
        <span class="s2">"TxnReference"</span>: <span class="s2">"0000000011259196"</span>,
        <span class="s2">"CardType"</span>: <span class="s2">"VI"</span>,
        <span class="s2">"Amount"</span>: 1000,
        <span class="s2">"TransactionType"</span>: <span class="s2">"1"</span>,
        <span class="s2">"TransactionDateTime"</span>: <span class="s2">"</span><span class="se">\/</span><span class="s2">Date(1422795600000)</span><span class="se">\/</span><span class="s2">"</span>,
        <span class="s2">"SettlementDateTime"</span>: <span class="s2">"</span><span class="se">\/</span><span class="s2">Date(1422795600000)</span><span class="se">\/</span><span class="s2">"</span>
    <span class="o">}</span>, <span class="o">{</span>
        <span class="s2">"SettlementID"</span>: <span class="s2">"53e78b14-ac2c-4b1b-a099-a12c6d5f30bc"</span>,
        <span class="s2">"eWAYCustomerID"</span>: 87654321,
        <span class="s2">"Currency"</span>: <span class="s2">"36"</span>,
        <span class="s2">"CurrencyCode"</span>: <span class="s2">"AUD"</span>,
        <span class="s2">"TransactionID"</span>: 11260888,
        <span class="s2">"TxnReference"</span>: <span class="s2">"0000000011260888"</span>,
        <span class="s2">"CardType"</span>: <span class="s2">"VI"</span>,
        <span class="s2">"Amount"</span>: 1000,
        <span class="s2">"TransactionType"</span>: <span class="s2">"8"</span>,
        <span class="s2">"TransactionDateTime"</span>: <span class="s2">"</span><span class="se">\/</span><span class="s2">Date(1422795600000)</span><span class="se">\/</span><span class="s2">"</span>,
        <span class="s2">"SettlementDateTime"</span>: <span class="s2">"</span><span class="se">\/</span><span class="s2">Date(1422795600000)</span><span class="se">\/</span><span class="s2">"</span>
    <span class="o">}]</span>,
    <span class="s2">"Errors"</span>: <span class="s2">""</span>
<span class="o">}</span>
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;soap:Body&gt;</span>
      <span class="nt">&lt;SettlementSearchResponse</span> <span class="na">xmlns=</span><span class="s">"https://api.ewaypayments.com/"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;SettlementSearchResult&gt;</span>
            <span class="nt">&lt;Errors/&gt;</span>
            <span class="nt">&lt;SettlementSummaries&gt;</span>
               <span class="nt">&lt;SettlementSummary&gt;</span>
                  <span class="nt">&lt;SettlementID&gt;</span>53e78b14-ac2c-4b1b-a099-a12c6d5f30bc<span class="nt">&lt;/SettlementID&gt;</span>
                  <span class="nt">&lt;Currency&gt;</span>36<span class="nt">&lt;/Currency&gt;</span>
                  <span class="nt">&lt;TotalCredit&gt;</span>97100<span class="nt">&lt;/TotalCredit&gt;</span>
                  <span class="nt">&lt;TotalDebit&gt;</span>320<span class="nt">&lt;/TotalDebit&gt;</span>
                  <span class="nt">&lt;TotalBalance&gt;</span>96780<span class="nt">&lt;/TotalBalance&gt;</span>
                  <span class="nt">&lt;BalancePerCardType&gt;</span>
                     <span class="nt">&lt;BalanceSummaryPerCardType&gt;</span>
                        <span class="nt">&lt;CardType&gt;</span>VI<span class="nt">&lt;/CardType&gt;</span>
                        <span class="nt">&lt;NumberOfTransactions&gt;</span>14<span class="nt">&lt;/NumberOfTransactions&gt;</span>
                        <span class="nt">&lt;Credit&gt;</span>97100<span class="nt">&lt;/Credit&gt;</span>
                        <span class="nt">&lt;Debit&gt;</span>320<span class="nt">&lt;/Debit&gt;</span>
                        <span class="nt">&lt;Balance&gt;</span>96780<span class="nt">&lt;/Balance&gt;</span>
                     <span class="nt">&lt;/BalanceSummaryPerCardType&gt;</span>
                  <span class="nt">&lt;/BalancePerCardType&gt;</span>
               <span class="nt">&lt;/SettlementSummary&gt;</span>
            <span class="nt">&lt;/SettlementSummaries&gt;</span>
            <span class="nt">&lt;SettlementTransactions&gt;</span>
               <span class="nt">&lt;SettlementTransaction&gt;</span>
                  <span class="nt">&lt;SettlementID&gt;</span>53e78b14-ac2c-4b1b-a099-a12c6d5f30bc<span class="nt">&lt;/SettlementID&gt;</span>
                  <span class="nt">&lt;CurrencyCardTypeTransactionID&gt;</span>36:VI:11258912<span class="nt">&lt;/CurrencyCardTypeTransactionID&gt;</span>
                  <span class="nt">&lt;eWAYCustomerID&gt;</span>87654321<span class="nt">&lt;/eWAYCustomerID&gt;</span>
                  <span class="nt">&lt;Currency&gt;</span>36<span class="nt">&lt;/Currency&gt;</span>
                  <span class="nt">&lt;TransactionID&gt;</span>11258912<span class="nt">&lt;/TransactionID&gt;</span>
                  <span class="nt">&lt;TxnReference&gt;</span>0000000011258912<span class="nt">&lt;/TxnReference&gt;</span>
                  <span class="nt">&lt;CardType&gt;</span>VI<span class="nt">&lt;/CardType&gt;</span>
                  <span class="nt">&lt;Amount&gt;</span>100<span class="nt">&lt;/Amount&gt;</span>
                  <span class="nt">&lt;TransactionType&gt;</span>1<span class="nt">&lt;/TransactionType&gt;</span>
                  <span class="nt">&lt;TransactionDateTime&gt;</span>2015-02-02T00:00:00+11:00<span class="nt">&lt;/TransactionDateTime&gt;</span>
                  <span class="nt">&lt;SettlementDateTime&gt;</span>2015-02-02T00:00:00+11:00<span class="nt">&lt;/SettlementDateTime&gt;</span>
               <span class="nt">&lt;/SettlementTransaction&gt;</span>
               <span class="nt">&lt;SettlementTransaction&gt;</span>
                  <span class="nt">&lt;SettlementID&gt;</span>53e78b14-ac2c-4b1b-a099-a12c6d5f30bc<span class="nt">&lt;/SettlementID&gt;</span>
                  <span class="nt">&lt;CurrencyCardTypeTransactionID&gt;</span>36:VI:11259196<span class="nt">&lt;/CurrencyCardTypeTransactionID&gt;</span>
                  <span class="nt">&lt;eWAYCustomerID&gt;</span>87654321<span class="nt">&lt;/eWAYCustomerID&gt;</span>
                  <span class="nt">&lt;Currency&gt;</span>36<span class="nt">&lt;/Currency&gt;</span>
                  <span class="nt">&lt;TransactionID&gt;</span>11259196<span class="nt">&lt;/TransactionID&gt;</span>
                  <span class="nt">&lt;TxnReference&gt;</span>0000000011259196<span class="nt">&lt;/TxnReference&gt;</span>
                  <span class="nt">&lt;CardType&gt;</span>VI<span class="nt">&lt;/CardType&gt;</span>
                  <span class="nt">&lt;Amount&gt;</span>1000<span class="nt">&lt;/Amount&gt;</span>
                  <span class="nt">&lt;TransactionType&gt;</span>1<span class="nt">&lt;/TransactionType&gt;</span>
                  <span class="nt">&lt;TransactionDateTime&gt;</span>2015-02-02T00:00:00+11:00<span class="nt">&lt;/TransactionDateTime&gt;</span>
                  <span class="nt">&lt;SettlementDateTime&gt;</span>2015-02-02T00:00:00+11:00<span class="nt">&lt;/SettlementDateTime&gt;</span>
               <span class="nt">&lt;/SettlementTransaction&gt;</span>
              <span class="nt">&lt;SettlementTransaction&gt;</span>
                  <span class="nt">&lt;SettlementID&gt;</span>53e78b14-ac2c-4b1b-a099-a12c6d5f30bc<span class="nt">&lt;/SettlementID&gt;</span>
                  <span class="nt">&lt;CurrencyCardTypeTransactionID&gt;</span>36:VI:11260888<span class="nt">&lt;/CurrencyCardTypeTransactionID&gt;</span>
                  <span class="nt">&lt;eWAYCustomerID&gt;</span>87654321<span class="nt">&lt;/eWAYCustomerID&gt;</span>
                  <span class="nt">&lt;Currency&gt;</span>36<span class="nt">&lt;/Currency&gt;</span>
                  <span class="nt">&lt;TransactionID&gt;</span>11260888<span class="nt">&lt;/TransactionID&gt;</span>
                  <span class="nt">&lt;TxnReference&gt;</span>0000000011260888<span class="nt">&lt;/TxnReference&gt;</span>
                  <span class="nt">&lt;CardType&gt;</span>VI<span class="nt">&lt;/CardType&gt;</span>
                  <span class="nt">&lt;Amount&gt;</span>1000<span class="nt">&lt;/Amount&gt;</span>
                  <span class="nt">&lt;TransactionType&gt;</span>8<span class="nt">&lt;/TransactionType&gt;</span>
                  <span class="nt">&lt;TransactionDateTime&gt;</span>2015-02-02T00:00:00+11:00<span class="nt">&lt;/TransactionDateTime&gt;</span>
                  <span class="nt">&lt;SettlementDateTime&gt;</span>2015-02-02T00:00:00+11:00<span class="nt">&lt;/SettlementDateTime&gt;</span>
               <span class="nt">&lt;/SettlementTransaction&gt;</span>
            <span class="nt">&lt;/SettlementTransactions&gt;</span>
         <span class="nt">&lt;/SettlementSearchResult&gt;</span>
      <span class="nt">&lt;/SettlementSearchResponse&gt;</span>
   <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <pre class="highlight php tab-php"><code>
$totalCredit = $response-&gt;SettlementSummaries[0]['TotalCredit'];

foreach ($response-&gt;SettlementTransactions as $transaction) {
    $id = $transaction['TransactionID'];
    $cardType = $transaction['CardType'];
    $amount = $transaction['Amount'];
}
</code></pre>
    <pre class="highlight csharp tab-csharp"><code><span class="k">if</span> <span class="p">(</span><span class="n">settlementResponse</span><span class="p">.</span><span class="n">Errors</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">summary</span> <span class="k">in</span> <span class="n">settlementResponse</span><span class="p">.</span><span class="n">SettlementSummaries</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Settlement ID "</span> 
            <span class="p">+</span> <span class="n">summary</span><span class="p">.</span><span class="n">SettlementID</span> <span class="p">+</span> <span class="s">" = "</span> 
            <span class="p">+</span> <span class="n">String</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"{0:C}"</span><span class="p">,</span> <span class="n">summary</span><span class="p">.</span><span class="n">TotalBalance</span><span class="p">/</span><span class="m">100</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">transaction</span> <span class="k">in</span> <span class="n">settlementResponse</span><span class="p">.</span><span class="n">SettlementTransactions</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">transaction</span><span class="p">.</span><span class="n">TransactionDateTime</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd"</span><span class="p">)</span> <span class="p">+</span> <span class="s">": "</span> 
            <span class="p">+</span> <span class="n">transaction</span><span class="p">.</span><span class="n">TransactionID</span> <span class="p">+</span> <span class="s">" = "</span> 
            <span class="p">+</span> <span class="n">String</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"{0:C}"</span><span class="p">,</span> <span class="n">transaction</span><span class="p">.</span><span class="n">Amount</span><span class="p">/</span><span class="m">100</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Error message: "</span> <span class="p">+</span> <span class="n">settlementResponse</span><span class="p">.</span><span class="n">Errors</span><span class="p">);</span>
<span class="p">}</span>

</code></pre>
    <pre class="highlight javascript tab-javascript"><code><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">totalCredit</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'SettlementSummaries[0].TotalCredit'</span><span class="p">);</span>

    <span class="nx">response</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'SettlementTransactions'</span><span class="p">).</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">transaction</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">TransactionID</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">cardType</span> <span class="o">=</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">CardType</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">amount</span> <span class="o">=</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">Amount</span><span class="p">;</span>
    <span class="p">});</span>
<span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">reason</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Response Messages: "</span> <span class="o">+</span> <span class="nx">reason</span><span class="p">.</span><span class="nx">getErrors</span><span class="p">());</span>
<span class="p">});</span>
</code></pre>
    <pre class="highlight ruby tab-ruby"><code><span class="k">if</span> <span class="n">search_response</span><span class="p">.</span><span class="nf">errors</span><span class="p">.</span><span class="nf">to_a</span><span class="p">.</span><span class="nf">empty?</span>
  <span class="n">search_response</span><span class="p">.</span><span class="nf">settlement_summaries</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">summary</span><span class="o">|</span>
    <span class="nb">print</span> <span class="s2">"ID: "</span> <span class="o">+</span> <span class="n">summary</span><span class="p">.</span><span class="nf">settlement_id</span>
  <span class="p">}</span>
  <span class="n">search_response</span><span class="p">.</span><span class="nf">settlement_transactions</span><span class="p">.</span><span class="nf">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">transaction</span><span class="o">|</span>
    <span class="nb">print</span> <span class="s2">"Transaction "</span> <span class="o">+</span> <span class="n">transaction</span><span class="p">.</span><span class="nf">transaction_id</span><span class="p">.</span><span class="nf">to_s</span>
    <span class="nb">print</span> <span class="s2">"Card Type "</span> <span class="o">+</span> <span class="n">transaction</span><span class="p">.</span><span class="nf">card_type</span>
    <span class="nb">print</span> <span class="s2">"Amount $"</span> <span class="o">+</span> <span class="p">(</span><span class="n">transaction</span><span class="p">.</span><span class="nf">amount</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
  <span class="p">}</span>
<span class="k">else</span>
  <span class="nb">print</span> <span class="n">search_response</span><span class="p">.</span><span class="nf">errors</span>
<span class="k">end</span>
</code></pre>
    <h3 id="response-field-descriptions">Response field descriptions</h3> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>SettlementID</td> 
       <td>string</td> 
       <td>The unique ID of the settlement</td> 
      </tr> 
      <tr> 
       <td>Currency</td> 
       <td>string</td> 
       <td>The numeric code for the currency of the settlement</td> 
      </tr> 
      <tr> 
       <td>CurrencyCode</td> 
       <td>string</td> 
       <td>The <a href="http://en.wikipedia.org/wiki/ISO_4217">3 character ISO 4217 code</a> that represents the currency for this settlement.</td> 
      </tr> 
      <tr> 
       <td>TotalCredit</td> 
       <td>int</td> 
       <td>The total amount credited in the settlement in cents (e.g. $5.00 is <code>500</code>)</td> 
      </tr> 
      <tr> 
       <td>TotalDebit</td> 
       <td>int</td> 
       <td>The total amount debited in this settlement in cents (e.g. $5.00 is <code>500</code>)</td> 
      </tr> 
      <tr> 
       <td>TotalBalance</td> 
       <td>int</td> 
       <td>The total balance settled in this settlement in cents (e.g. $5.00 is <code>500</code>)</td> 
      </tr> 
      <tr> 
       <td>CardType</td> 
       <td>string</td> 
       <td>The code of the card type of this settlement
        <ul>
         <li><code>ALL</code> - all cards</li>
         <li><code>VI</code> - Visa</li>
         <li><code>MC</code> - Mastercard</li>
         <li><code>AX</code> - AMEX</li>
         <li><code>DC</code> - Diners Club</li>
         <li><code>JC</code> - JCB</li>
         <li><code>MD</code> - Maestro UK</li>
         <li><code>MI</code> - Maestro International</li>
         <li><code>SO</code> - Solo</li>
         <li><code>LA</code> - Laser</li>
         <li><code>DS</code> - Discover</li>
        </ul></td> 
      </tr> 
      <tr> 
       <td>NumberOfTransactions</td> 
       <td>int</td> 
       <td>The number of transactions in this settlement</td> 
      </tr> 
      <tr> 
       <td>Credit</td> 
       <td>int</td> 
       <td>The amount credited in this settlement</td> 
      </tr> 
      <tr> 
       <td>Debit</td> 
       <td>int</td> 
       <td>The amount debited in this settlement</td> 
      </tr> 
      <tr> 
       <td>Balance</td> 
       <td>int</td> 
       <td>The balance settled in this settlement</td> 
      </tr> 
      <tr> 
       <td>eWAYCustomerID</td> 
       <td>int</td> 
       <td>The eWAY Customer ID associated with this settlement transaction</td> 
      </tr> 
      <tr> 
       <td>TransactionID</td> 
       <td>int</td> 
       <td>The unique eWAY Transaction ID associated with this settlement transaction</td> 
      </tr> 
      <tr> 
       <td>TxnReference</td> 
       <td>string</td> 
       <td>The unique Transaction ID as returned from the bank</td> 
      </tr> 
      <tr> 
       <td>Amount</td> 
       <td>int</td> 
       <td>The amount of the settlement transaction in cents (e.g. $5.00 is <code>500</code>)</td> 
      </tr> 
      <tr> 
       <td>TransactionType</td> 
       <td>string</td> 
       <td>A numeric representation of the transaction type:
        <ul>
         <li><code>1</code> - Purchase</li>
         <li><code>4</code> - Refund</li>
         <li><code>8</code> - Capture</li>
        </ul></td> 
      </tr> 
      <tr> 
       <td>TransactionDateTime</td> 
       <td>Date object (REST)</td> 
       <td>The GMT date of the transaction represented as a JavaScript Date initializer<br>The date is a unix timestamp * 1000</td> 
      </tr> 
      <tr> 
       <td></td> 
       <td>string (SOAP)</td> 
       <td>The date of the transaction represented as an <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> date time with timezone.</td> 
      </tr> 
      <tr> 
       <td>SettlementDateTime</td> 
       <td>Date object (REST)</td> 
       <td>The GMT date of the transaction settled as a JavaScript Date initializer<br>The date is a unix timestamp * 1000</td> 
      </tr> 
      <tr> 
       <td></td> 
       <td>string (SOAP)</td> 
       <td>The date of the transaction represented as an <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601</a> date time with timezone.</td> 
      </tr> 
      <tr> 
       <td>Errors</td> 
       <td>string</td> 
       <td>Any errors returned from this transaction</td> 
      </tr> 
     </tbody>
    </table> 
    <h2 id="recurring-payments">Recurring Payments</h2> 
    <p>Recurring Payments is ideal for subscriptions or instalments, allowing you to automatically charge customers on a daily, weekly, fortnightly or monthly basis.</p> 
    <aside class="notice">
      **NOTE**
     <br> This is a legacy eWAY API which is currently not integrated with Rapid. Many of the conventions discussed in other parts of this reference do not apply, such as the authentication and formatting. 
    </aside> 
    <aside class="notice">
      Please note that Recurring Payments is currently only available for **Australian** merchants. 
    </aside> 
    <p>The eWAY Recurring Payments API is only available over a SOAP interface.</p> 
    <aside class="warning">
      Unlike Rapid, **ALL** fields must be sent with each request. Optional fields can be left blank, but must be present. 
    </aside> 
    <h3 id="authentication">Authentication</h3>
    <pre class="highlight xml tab-xml"><code>    <span class="nt">&lt;soap:Header&gt;</span>
        <span class="nt">&lt;eWAYHeader</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;eWAYCustomerID&gt;</span>87654321<span class="nt">&lt;/eWAYCustomerID&gt;</span>
            <span class="nt">&lt;Username&gt;</span>test@eway.com.au<span class="nt">&lt;/Username&gt;</span>
            <span class="nt">&lt;Password&gt;</span>test<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;/eWAYHeader&gt;</span>
    <span class="nt">&lt;/soap:Header&gt;</span>
</code></pre> 
    <p>The Recurring Payments API requires the following credentials:</p> 
    <ul> 
     <li>eWAY Customer ID</li> 
     <li>eWAY Username</li> 
     <li>eWAY Password</li> 
    </ul> 
    <p>These are passed in the SOAP Header in a <code>eWAYHeader</code> block.</p> 
    <h3 id="endpoints">Endpoints</h3> 
    <p>The following endpoints are used for Recurring Payments:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>Gateway Endpoint</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Live</td> 
       <td>https://www.eway.com.au/gateway/rebill/manageRebill.asmx</td> 
      </tr> 
      <tr> 
       <td>Sandbox</td> 
       <td>https://www.eway.com.au/gateway/rebill/test/manageRebill_test.asmx</td> 
      </tr> 
     </tbody>
    </table> 
    <p>The WSDL for the SOAP service is located at:</p> 
    <table>
     <thead> 
      <tr> 
       <th>Type</th> 
       <th>WSDL Location</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Live</td> 
       <td>https://www.eway.com.au/gateway/rebill/manageRebill.asmx?WSDL</td> 
      </tr> 
      <tr> 
       <td>Sandbox</td> 
       <td>https://www.eway.com.au/gateway/rebill/test/manageRebill_test.asmx?WSDL</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="create-rebill-customer">Create Rebill Customer</h3> 
    <blockquote> 
     <p>Example Create Rebill Customer request</p> 
    </blockquote> 
    <pre class="highlight shell tab-shell"><code>As Recurring Payments does not support JSON, please see the SOAP tab.
</code></pre>
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Header&gt;</span>
        <span class="nt">&lt;eWAYHeader</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;eWAYCustomerID&gt;</span>87654321<span class="nt">&lt;/eWAYCustomerID&gt;</span>
            <span class="nt">&lt;Username&gt;</span>test@eway.com.au<span class="nt">&lt;/Username&gt;</span>
            <span class="nt">&lt;Password&gt;</span>test<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;/eWAYHeader&gt;</span>
    <span class="nt">&lt;/soap:Header&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;CreateRebillCustomer</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;customerTitle&gt;</span>Mr<span class="nt">&lt;/customerTitle&gt;</span>
            <span class="nt">&lt;customerFirstName&gt;</span>Joe<span class="nt">&lt;/customerFirstName&gt;</span>
            <span class="nt">&lt;customerLastName&gt;</span>Bloggs<span class="nt">&lt;/customerLastName&gt;</span>
            <span class="nt">&lt;customerAddress&gt;</span>Bloggs Enterprise<span class="nt">&lt;/customerAddress&gt;</span>
            <span class="nt">&lt;customerSuburb&gt;</span>Capital City<span class="nt">&lt;/customerSuburb&gt;</span>
            <span class="nt">&lt;customerState&gt;</span>ACT<span class="nt">&lt;/customerState&gt;</span>
            <span class="nt">&lt;customerCompany&gt;</span>Bloggs<span class="nt">&lt;/customerCompany&gt;</span>
            <span class="nt">&lt;customerPostCode&gt;</span>2111<span class="nt">&lt;/customerPostCode&gt;</span>
            <span class="nt">&lt;customerCountry&gt;</span>Australia<span class="nt">&lt;/customerCountry&gt;</span>
            <span class="nt">&lt;customerEmail&gt;</span>test@eway.com.au<span class="nt">&lt;/customerEmail&gt;</span>
            <span class="nt">&lt;customerFax&gt;</span>0298989898<span class="nt">&lt;/customerFax&gt;</span>
            <span class="nt">&lt;customerPhone1&gt;</span>0297979797<span class="nt">&lt;/customerPhone1&gt;</span>
            <span class="nt">&lt;customerPhone2&gt;&lt;/customerPhone2&gt;</span>
            <span class="nt">&lt;customerRef&gt;</span>Ref123<span class="nt">&lt;/customerRef&gt;</span>
            <span class="nt">&lt;customerJobDesc&gt;&lt;/customerJobDesc&gt;</span>
            <span class="nt">&lt;customerComments&gt;</span>Please Ship ASASP<span class="nt">&lt;/customerComments&gt;</span>
            <span class="nt">&lt;customerURL&gt;</span>www.eway.com.au<span class="nt">&lt;/customerURL&gt;</span>
        <span class="nt">&lt;/CreateRebillCustomer&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre> 
    <p>In order to setup a recurring payment schedule, first a Rebill Customer must be created.</p> 
    <h4 id="request-field-descriptions">Request Field Descriptions</h4> 
    <p>All parameters are passed after the URL as a GET request when using REST.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>customerTitle</td> 
       <td>O</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The customer's title.</td> 
      </tr> 
      <tr> 
       <td>customerFirstName</td> 
       <td>R</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name.</td> 
      </tr> 
      <tr> 
       <td>customerLastName</td> 
       <td>R</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name.</td> 
      </tr> 
      <tr> 
       <td>customerAddress</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>The customer's address.</td> 
      </tr> 
      <tr> 
       <td>customerSuburb</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's suburb.</td> 
      </tr> 
      <tr> 
       <td>customerState</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state.</td> 
      </tr> 
      <tr> 
       <td>customerCompany</td> 
       <td>O</td> 
       <td>100</td> 
       <td>string</td> 
       <td>The customer's company name.</td> 
      </tr> 
      <tr> 
       <td>customerPostCode</td> 
       <td>O</td> 
       <td>6</td> 
       <td>string</td> 
       <td>The customer's post/zip code.</td> 
      </tr> 
      <tr> 
       <td>customerCountry</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's country.</td> 
      </tr> 
      <tr> 
       <td>customerEmail</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address, must be correctly formatted if present.</td> 
      </tr> 
      <tr> 
       <td>customerFax</td> 
       <td>O</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The customer's fax number.</td> 
      </tr> 
      <tr> 
       <td>customerPhone1</td> 
       <td>O</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The customer's phone number.</td> 
      </tr> 
      <tr> 
       <td>customerPhone2</td> 
       <td>O</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The customer's second phone number.</td> 
      </tr> 
      <tr> 
       <td>customerRef</td> 
       <td>O</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The merchant's reference for this customer.</td> 
      </tr> 
      <tr> 
       <td>customerJobDesc</td> 
       <td>O</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title.</td> 
      </tr> 
      <tr> 
       <td>customerComments</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments the merchant wishes to add about the customer.</td> 
      </tr> 
      <tr> 
       <td>customerURL</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>The customer's website, which must be correctly formatted if present.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field Types: O – Optional, R - Required</p> 
    <h4 id="response-field-descriptions">Response Field Descriptions</h4> 
    <blockquote> 
     <p>Example Successful Response</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;CustomerDetails&gt;</span>
    <span class="nt">&lt;Result&gt;</span>Success<span class="nt">&lt;/Result&gt;</span>
    <span class="nt">&lt;ErrorSeverity</span> <span class="nt">/&gt;</span> <span class="nt">&lt;ErrorDetails</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;RebillCustomerID&gt;</span>60001545<span class="nt">&lt;/RebillCustomerID&gt;</span>
<span class="nt">&lt;/CustomerDetails&gt;</span> 
</code></pre> 
    <p>The response to create customer will contain the <code>RebillCustomerID</code> to identify the customer in future requests. If an error occurs, the <code>Result</code> will be <code>Fail</code> and the details appear in the <code>ErrorDetails</code> field.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Result</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The result of the operation, either <code>Success</code> or <code>Fail</code>.</td> 
      </tr> 
      <tr> 
       <td>ErrorSeverity</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The severity of any errors. Blank if no error.</td> 
      </tr> 
      <tr> 
       <td>ErrorDescription</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Details about any error that occurred.</td> 
      </tr> 
      <tr> 
       <td>RebillCustomerID</td> 
       <td>8</td> 
       <td>string</td> 
       <td>The Rebill Customer ID</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="create-rebill-event">Create Rebill Event</h3> 
    <blockquote> 
     <p>Example Create Rebill Event Request</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Header&gt;</span>
        <span class="nt">&lt;eWAYHeader</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;eWAYCustomerID&gt;</span>87654321<span class="nt">&lt;/eWAYCustomerID&gt;</span>
            <span class="nt">&lt;Username&gt;</span>test@eway.com.au<span class="nt">&lt;/Username&gt;</span>
            <span class="nt">&lt;Password&gt;</span>test<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;/eWAYHeader&gt;</span>
    <span class="nt">&lt;/soap:Header&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;CreateRebillEvent</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;RebillCustomerID&gt;</span>60001545<span class="nt">&lt;/RebillCustomerID&gt;</span>
            <span class="nt">&lt;RebillInvRef&gt;</span>ref123<span class="nt">&lt;/RebillInvRef&gt;</span>
            <span class="nt">&lt;RebillInvDes&gt;&lt;/RebillInvDes&gt;</span>
            <span class="nt">&lt;RebillCCName&gt;</span>test<span class="nt">&lt;/RebillCCName&gt;</span>
            <span class="nt">&lt;RebillCCNumber&gt;</span>4444333322221111<span class="nt">&lt;/RebillCCNumber&gt;</span>
            <span class="nt">&lt;RebillCCExpMonth&gt;</span>07<span class="nt">&lt;/RebillCCExpMonth&gt;</span>
            <span class="nt">&lt;RebillCCExpYear&gt;</span>07<span class="nt">&lt;/RebillCCExpYear&gt;</span>
            <span class="nt">&lt;RebillInitAmt&gt;</span>100<span class="nt">&lt;/RebillInitAmt&gt;</span>
            <span class="nt">&lt;RebillInitDate&gt;</span>08/06/2015<span class="nt">&lt;/RebillInitDate&gt;</span>
            <span class="nt">&lt;RebillRecurAmt&gt;</span>100<span class="nt">&lt;/RebillRecurAmt&gt;</span>
            <span class="nt">&lt;RebillStartDate&gt;</span>05/06/2015<span class="nt">&lt;/RebillStartDate&gt;</span>
            <span class="nt">&lt;RebillInterval&gt;</span>1<span class="nt">&lt;/RebillInterval&gt;</span>
            <span class="nt">&lt;RebillIntervalType&gt;</span>1<span class="nt">&lt;/RebillIntervalType&gt;</span>
            <span class="nt">&lt;RebillEndDate&gt;</span>08/07/2017<span class="nt">&lt;/RebillEndDate&gt;</span>
        <span class="nt">&lt;/CreateRebillEvent&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre> 
    <p>The Rebill Event defines the schedule for payments and store's the customer's card details.</p> 
    <h4 id="request-field-descriptions-2">Request Field Descriptions</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>RebillCustomerID</td> 
       <td>R</td> 
       <td>8</td> 
       <td>string</td> 
       <td>The ID of the active Rebill Customer</td> 
      </tr> 
      <tr> 
       <td>RebillInvRef</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>The merchant's reference number for this transaction.</td> 
      </tr> 
      <tr> 
       <td>RebillInvDes</td> 
       <td>O</td> 
       <td>255</td> 
       <td>string</td> 
       <td>A short description of the purchase that the customer is making.</td> 
      </tr> 
      <tr> 
       <td>RebillCCName</td> 
       <td>R</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's card holder name.</td> 
      </tr> 
      <tr> 
       <td>RebillCCNumber</td> 
       <td>R</td> 
       <td>19</td> 
       <td>string</td> 
       <td>The customer's card number.</td> 
      </tr> 
      <tr> 
       <td>RebillCCExpMonth</td> 
       <td>R</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The customer's card expiry month.</td> 
      </tr> 
      <tr> 
       <td>RebillCCExpYear</td> 
       <td>R</td> 
       <td>4</td> 
       <td>string</td> 
       <td>The customer's card expiry year. Format can be either YY or YYYY (e.g. 19 or 2019)</td> 
      </tr> 
      <tr> 
       <td>RebillInitAmt</td> 
       <td>R</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The initial payment amount in cents (e.g. $2.00 is <code>200</code>). Enter <code>0</code> if an initial payment is not required.</td> 
      </tr> 
      <tr> 
       <td>RebillInitDate</td> 
       <td>R</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The date of the initial payment. Enter today's date if no payment is required. Format must be <em>dd/mm/yyyy</em>. The initial date must be the same or before <code>RebillStartDate</code>.</td> 
      </tr> 
      <tr> 
       <td>RebillRecurAmt</td> 
       <td>R</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The recurring payment amount in cents (e.g. $2.00 is <code>200</code>). The value must be greater than 0.</td> 
      </tr> 
      <tr> 
       <td>RebillStartDate</td> 
       <td>R</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The date of the first recurring payment. Format must of <em>dd/mm/yyyy</em>. The date must be today or greater than today date and must be greater than <code>RebillInitDate</code>.</td> 
      </tr> 
      <tr> 
       <td>RebillInterval</td> 
       <td>R</td> 
       <td>2</td> 
       <td>string</td> 
       <td>The size of the interval between recurring payments (used in conjunction with <code>RebillIntervalType</code>). The value must be between <em>1</em> and <em>31</em> only</td> 
      </tr> 
      <tr> 
       <td>RebillIntervalType</td> 
       <td>R</td> 
       <td>1</td> 
       <td>string</td> 
       <td>The type of Interval. One of: 
        <ul>
         <li><code>1</code> = Days</li>
         <li><code>2</code> = Weeks</li>
         <li><code>3</code> = Months</li>
         <li><code>4</code> = Years</li>
        </ul>e.g. for every 3 weeks, enter <code>3</code> for RebillInterval and <code>2</code> for RebillIntervalType.</td> 
      </tr> 
      <tr> 
       <td>RebillEndDate</td> 
       <td>R</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The date that recurring payments are to stop. Format must of <em>dd/mm/yyyy</em>. This date must be after <code>RebillStartDate</code>.</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field Types: O – Optional, R - Required</p> 
    <h4 id="response-field-descriptions-2">Response Field Descriptions</h4> 
    <blockquote> 
     <p>Example Successful Response</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;RebillEventDetails&gt;</span>
    <span class="nt">&lt;Result&gt;</span>Success<span class="nt">&lt;/Result&gt;</span>
    <span class="nt">&lt;ErrorSeverity</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;ErrorDetails</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;RebillCustomerID&gt;</span>60001545<span class="nt">&lt;/RebillCustomerID&gt;</span>
    <span class="nt">&lt;RebillID&gt;</span>80001208<span class="nt">&lt;/RebillID&gt;</span>
<span class="nt">&lt;/RebillEventDetails&gt;</span>
</code></pre> 
    <p>The response to create customer will contain the <code>RebillID</code> to identify the rebilling event in future requests. If an error occurs, the <code>Result</code> will be <code>Fail</code> and the details appear in the <code>ErrorDetails</code> field.</p> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Result</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The result of the operation, either <code>Success</code> or <code>Fail</code>.</td> 
      </tr> 
      <tr> 
       <td>ErrorSeverity</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The severity of any errors. Blank if no error.</td> 
      </tr> 
      <tr> 
       <td>ErrorDescription</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Details about any error that occurred.</td> 
      </tr> 
      <tr> 
       <td>RebillCustomerID</td> 
       <td>8</td> 
       <td>string</td> 
       <td>The Rebill Customer ID</td> 
      </tr> 
      <tr> 
       <td>RebillID</td> 
       <td>8</td> 
       <td>string</td> 
       <td>The Rebill Event ID</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="delete-rebill-customer">Delete Rebill Customer</h3> 
    <blockquote> 
     <p>Example Delete Rebill Customer request</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Header&gt;</span>
        <span class="nt">&lt;eWAYHeader</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;eWAYCustomerID&gt;</span>87654321<span class="nt">&lt;/eWAYCustomerID&gt;</span>
            <span class="nt">&lt;Username&gt;</span>test@eway.com.au<span class="nt">&lt;/Username&gt;</span>
            <span class="nt">&lt;Password&gt;</span>test<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;/eWAYHeader&gt;</span>
    <span class="nt">&lt;/soap:Header&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DeleteRebillCustomer</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;RebillCustomerID&gt;</span>6000154<span class="nt">&lt;/RebillCustomerID &gt;</span>
        <span class="nt">&lt;/DeleteRebillCustomer&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre> 
    <p>Rebill Customers can be remove only if they have no active rebill events.</p> 
    <h4 id="request-field-descriptions-3">Request Field Descriptions</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>RebillCustomerID</td> 
       <td>R</td> 
       <td>string</td> 
       <td>8</td> 
       <td>The active Rebill Customer ID to delete</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field Types: O – Optional, R - Required</p> 
    <p><br><br><br><br><br><br><br><br><br><br></p> 
    <h4 id="response-field-descriptions-3">Response Field Descriptions</h4> 
    <blockquote> 
     <p>Example Successful Response</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;CustomerDetails&gt;</span>
    <span class="nt">&lt;Result&gt;</span>Success<span class="nt">&lt;/Result&gt;</span>
    <span class="nt">&lt;ErrorSeverity</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;ErrorDetails</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;RebillCustomerID&gt;</span>60001545<span class="nt">&lt;/RebillCustomerID&gt;</span>
<span class="nt">&lt;/CustomerDetails&gt;</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Result</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The result of the operation, either <code>Success</code> or <code>Fail</code>.</td> 
      </tr> 
      <tr> 
       <td>ErrorSeverity</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The severity of any errors. Blank if no error.</td> 
      </tr> 
      <tr> 
       <td>ErrorDescription</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Details about any error that occurred.</td> 
      </tr> 
      <tr> 
       <td>RebillCustomerID</td> 
       <td>8</td> 
       <td>string</td> 
       <td>The Rebill Customer ID</td> 
      </tr> 
     </tbody>
    </table> 
    <p><br><br><br><br></p> 
    <h3 id="delete-rebill-event">Delete Rebill Event</h3> 
    <blockquote> 
     <p>Example Delete Rebill Event request</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Header&gt;</span>
        <span class="nt">&lt;eWAYHeader</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;eWAYCustomerID&gt;</span>87654321<span class="nt">&lt;/eWAYCustomerID&gt;</span>
            <span class="nt">&lt;Username&gt;</span>test@eway.com.au<span class="nt">&lt;/Username&gt;</span>
            <span class="nt">&lt;Password&gt;</span>test<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;/eWAYHeader&gt;</span>
    <span class="nt">&lt;/soap:Header&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;DeleteRebillEvent</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;RebillCustomerID&gt;</span>60001545<span class="nt">&lt;/RebillCustomerID&gt;</span>
            <span class="nt">&lt;RebillID&gt;</span>80001208<span class="nt">&lt;/RebillID&gt;</span>
        <span class="nt">&lt;/DeleteRebillEvent&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <h4 id="request-field-descriptions-4">Request Field Descriptions</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>RebillCustomerID</td> 
       <td>R</td> 
       <td>string</td> 
       <td>8</td> 
       <td>The active Rebill Customer ID to delete</td> 
      </tr> 
      <tr> 
       <td>RebillID</td> 
       <td>R</td> 
       <td>string</td> 
       <td>8</td> 
       <td>The active Rebill Event ID to delete</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field Types: O – Optional, R - Required</p> 
    <p><br><br><br><br><br><br><br><br><br><br><br><br></p> 
    <h4 id="response-field-descriptions-4">Response Field Descriptions</h4> 
    <blockquote> 
     <p>Example Successful Response</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;RebillEventDetails&gt;</span>
    <span class="nt">&lt;Result&gt;</span>Success<span class="nt">&lt;/Result&gt;</span>
    <span class="nt">&lt;ErrorSeverity</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;ErrorDetails</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;RebillCustomerID&gt;</span>60001545<span class="nt">&lt;/RebillCustomerID&gt;</span>
    <span class="nt">&lt;RebillID&gt;</span>80001208<span class="nt">&lt;/RebillID&gt;</span>
<span class="nt">&lt;/RebillEventDetails&gt;</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Result</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The result of the operation, either <code>Success</code> or <code>Fail</code>.</td> 
      </tr> 
      <tr> 
       <td>ErrorSeverity</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The severity of any errors. Blank if no error.</td> 
      </tr> 
      <tr> 
       <td>ErrorDescription</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Details about any error that occurred.</td> 
      </tr> 
      <tr> 
       <td>RebillCustomerID</td> 
       <td>8</td> 
       <td>string</td> 
       <td>The Rebill Customer ID</td> 
      </tr> 
      <tr> 
       <td>RebillID</td> 
       <td>8</td> 
       <td>string</td> 
       <td>The Rebill Event ID</td> 
      </tr> 
     </tbody>
    </table> 
    <p><br><br><br><br></p> 
    <h3 id="query-rebill-customer">Query Rebill Customer</h3> 
    <blockquote> 
     <p>Example Query Rebill Customer request</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Header&gt;</span>
        <span class="nt">&lt;eWAYHeader</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;eWAYCustomerID&gt;</span>87654321<span class="nt">&lt;/eWAYCustomerID&gt;</span>
            <span class="nt">&lt;Username&gt;</span>test@eway.com.au<span class="nt">&lt;/Username&gt;</span>
            <span class="nt">&lt;Password&gt;</span>test<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;/eWAYHeader&gt;</span>
    <span class="nt">&lt;/soap:Header&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;QueryRebillCustomer</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;RebillCustomerID&gt;</span>6000154<span class="nt">&lt;/RebillCustomerID&gt;</span>
        <span class="nt">&lt;/QueryRebillCustomer&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <h4 id="request-field-descriptions-5">Request Field Descriptions</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>RebillCustomerID</td> 
       <td>R</td> 
       <td>string</td> 
       <td>8</td> 
       <td>The active Rebill Customer ID to query</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field Types: O – Optional, R - Required</p> 
    <p><br><br><br><br><br><br><br><br><br><br><br><br></p> 
    <h4 id="response-field-descriptions-5">Response Field Descriptions</h4> 
    <blockquote> 
     <p>Example Successful Response</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;CustomerDetails&gt;</span>
    <span class="nt">&lt;Result&gt;</span>Success<span class="nt">&lt;/Result&gt;</span>
    <span class="nt">&lt;ErrorSeverity</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;ErrorDetails</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;CustomerRef&gt;</span>8989<span class="nt">&lt;/CustomerRef&gt;</span>
    <span class="nt">&lt;CustomerTitle&gt;</span>Mr<span class="nt">&lt;/CustomerTitle&gt;</span>
    <span class="nt">&lt;CustomerFirstName&gt;</span>Joe<span class="nt">&lt;/CustomerFirstName&gt;</span>
    <span class="nt">&lt;CustomerLastName&gt;</span>Blogg<span class="nt">&lt;/CustomerLastName&gt;</span>
    <span class="nt">&lt;CustomerCompany&gt;</span>eWAY<span class="nt">&lt;/CustomerCompany&gt;</span>
    <span class="nt">&lt;CustomerJobDesc&gt;&lt;/CustomerJobDesc&gt;</span>
    <span class="nt">&lt;CustomerEmail&gt;</span>test@eway.com.au<span class="nt">&lt;/CustomerEmail&gt;</span>
    <span class="nt">&lt;CustomerAddress&gt;</span>Capital City<span class="nt">&lt;/CustomerAddress&gt;</span>
    <span class="nt">&lt;CustomerSuburb&gt;</span>Phillips<span class="nt">&lt;/CustomerSuburb&gt;</span>
    <span class="nt">&lt;CustomerState&gt;</span>act<span class="nt">&lt;/CustomerState&gt;</span>
    <span class="nt">&lt;CustomerPostCode&gt;</span>2607<span class="nt">&lt;/CustomerPostCode&gt;</span>
    <span class="nt">&lt;CustomerCountry&gt;</span>Australia<span class="nt">&lt;/CustomerCountry&gt;</span>
    <span class="nt">&lt;CustomerPhone1&gt;</span>0298989898<span class="nt">&lt;/CustomerPhone1&gt;</span>
    <span class="nt">&lt;CustomerPhone2&gt;</span>989898989<span class="nt">&lt;/CustomerPhone2&gt;</span>
    <span class="nt">&lt;CustomerFax&gt;</span>0298989898<span class="nt">&lt;/CustomerFax&gt;</span>
    <span class="nt">&lt;CustomerURL&gt;</span>eway.com<span class="nt">&lt;/CustomerURL&gt;</span>
    <span class="nt">&lt;CustomerComments&gt;</span>test<span class="nt">&lt;/CustomerComments&gt;</span>
<span class="nt">&lt;/CustomerDetails&gt;</span>
</code></pre> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>Result</td> 
       <td>10</td> 
       <td>string</td> 
       <td>The result of the operation, either <code>Success</code> or <code>Fail</code>.</td> 
      </tr> 
      <tr> 
       <td>ErrorSeverity</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The severity of any errors. Blank if no error.</td> 
      </tr> 
      <tr> 
       <td>ErrorDescription</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Details about any error that occurred.</td> 
      </tr> 
      <tr> 
       <td>CustomerTitle</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The customer's title.</td> 
      </tr> 
      <tr> 
       <td>CustomerFirstName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's first name.</td> 
      </tr> 
      <tr> 
       <td>CustomerLastName</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's last name.</td> 
      </tr> 
      <tr> 
       <td>CustomerAddress</td> 
       <td>255</td> 
       <td>string</td> 
       <td>The customer's address.</td> 
      </tr> 
      <tr> 
       <td>CustomerSuburb</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's suburb.</td> 
      </tr> 
      <tr> 
       <td>CustomerState</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's state.</td> 
      </tr> 
      <tr> 
       <td>CustomerCompany</td> 
       <td>100</td> 
       <td>string</td> 
       <td>The customer's company name.</td> 
      </tr> 
      <tr> 
       <td>CustomerPostCode</td> 
       <td>6</td> 
       <td>string</td> 
       <td>The customer's post/zip code.</td> 
      </tr> 
      <tr> 
       <td>CustomerCountry</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's country.</td> 
      </tr> 
      <tr> 
       <td>CustomerEmail</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's email address.</td> 
      </tr> 
      <tr> 
       <td>CustomerFax</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The customer's fax number.</td> 
      </tr> 
      <tr> 
       <td>CustomerPhone1</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The customer's phone number.</td> 
      </tr> 
      <tr> 
       <td>CustomerPhone2</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The customer's second phone number.</td> 
      </tr> 
      <tr> 
       <td>CustomerRef</td> 
       <td>20</td> 
       <td>string</td> 
       <td>The merchant's reference for this customer.</td> 
      </tr> 
      <tr> 
       <td>CustomerJobDesc</td> 
       <td>50</td> 
       <td>string</td> 
       <td>The customer's job description / title.</td> 
      </tr> 
      <tr> 
       <td>CustomerComments</td> 
       <td>255</td> 
       <td>string</td> 
       <td>Any comments about the customer.</td> 
      </tr> 
      <tr> 
       <td>CustomerURL</td> 
       <td>255</td> 
       <td>string</td> 
       <td>The customer's website.</td> 
      </tr> 
     </tbody>
    </table> 
    <h3 id="query-rebill-event">Query Rebill Event</h3> 
    <blockquote> 
     <p>Example query Rebill Event request</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"><code><span class="nt">&lt;soap:Envelope</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xmlns:xsd=</span><span class="s">"http://www.w3.org/2001/XMLSchema"</span> <span class="na">xmlns:soap=</span><span class="s">"http://schemas.xmlsoap.org/soap/envelope/"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;soap:Header&gt;</span>
        <span class="nt">&lt;eWAYHeader</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;eWAYCustomerID&gt;</span>87654321<span class="nt">&lt;/eWAYCustomerID&gt;</span>
            <span class="nt">&lt;Username&gt;</span>test@eway.com.au <span class="nt">&lt;/Username&gt;</span>
            <span class="nt">&lt;Password&gt;</span>test<span class="nt">&lt;/Password&gt;</span>
        <span class="nt">&lt;/eWAYHeader&gt;</span>
    <span class="nt">&lt;/soap:Header&gt;</span>
    <span class="nt">&lt;soap:Body&gt;</span>
        <span class="nt">&lt;QueryRebillEvent</span> <span class="na">xmlns=</span><span class="s">"http://www.eway.com.au/gateway/rebill/manageRebill"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;RebillCustomerID&gt;</span>60001545<span class="nt">&lt;/RebillCustomerID&gt;</span>
            <span class="nt">&lt;RebillID&gt;</span>80001227<span class="nt">&lt;/RebillID&gt;</span>
        <span class="nt">&lt;/QueryRebillEvent&gt;</span>
    <span class="nt">&lt;/soap:Body&gt;</span>
<span class="nt">&lt;/soap:Envelope&gt;</span>
</code></pre>
    <h4 id="request-field-descriptions-6">Request Field Descriptions</h4> 
    <table>
     <thead> 
      <tr> 
       <th>Field Name</th> 
       <th>Field Type</th> 
       <th>Max Length</th> 
       <th>Data Type</th> 
       <th>Description</th> 
      </tr> 
     </thead>
     <tbody> 
      <tr> 
       <td>RebillCustomerID</td> 
       <td>R</td> 
       <td>string</td> 
       <td>8</td> 
       <td>The active Rebill Customer ID to query</td> 
      </tr> 
      <tr> 
       <td>RebillID</td> 
       <td>R</td> 
       <td>string</td> 
       <td>8</td> 
       <td>The active Rebill Event ID to query</td> 
      </tr> 
     </tbody>
    </table> 
    <p>Field Types: O – Optional, R - Required</p> 
    <p><br><br><br><br><br><br><br><br></p> 
    <h4 id="response-field-descriptions-6">Response Field Descriptions</h4> 
    <blockquote> 
     <p>Example Successful Response</p> 
    </blockquote> 
    <pre class="highlight xml tab-xml"></pre>
   </div>
  </div>
 </body>
</html>