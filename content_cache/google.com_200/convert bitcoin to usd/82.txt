<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <meta name="google-site-verification" content="f0LCrdI6z4Fo8zld4sHCgo5SiUE4EYYRUa6KVeX3Mw8"> 
  <meta name="csrf-token" content="4EbIgSktyFMrHxS32EtroX8ZHteQbhK9HRV0Wd7BZk3tPVTY0XPVnmfzgSSSZETYUc-dPsvRkYhh8JGUc_x9JA=="> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <title>Bitcoin Payments with Sources</title> 
  <meta name="description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes."> 
  <link rel="shortcut icon" href="/favicon.ico"> 
  <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon/180x180.png"> 
  <link rel="icon" href="/img/apple-touch-icon/180x180.png"> 
  <link rel="image_src" type="image/png" href="https://stripe.com/img/v3/home/social.png"> 
  <link rel="canonical" href="https://stripe.com/docs/sources/bitcoin"> 
  <meta property="og:title" content="Bitcoin Payments with Sources"> 
  <meta property="og:url" content="https://stripe.com/docs/sources/bitcoin"> 
  <meta property="og:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes."> 
  <meta property="og:image" content="https://stripe.com/img/v3/home/social.png"> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:image" content="https://stripe.com/img/v3/home/twitter.png"> 
  <meta name="twitter:site" content="@stripe"> 
  <meta name="twitter:title" content="Bitcoin Payments with Sources"> 
  <meta name="twitter:description" content="Stripe is a suite of APIs that powers commerce for businesses of all sizes."> 
  <script type="application/json" id="strut_files">{&quot;v3/shared/navigation_ie10.css&quot;:&quot;/assets/v3/shared/navigation_ie10-fad8432db8a0ef02ccfc88df4a0b8535.css&quot;}</script> 
  <link rel="stylesheet" href="/assets/v3/default-e70d6f2e4d182e3590cc57838c7fa617.css"> 
  <link rel="stylesheet" href="/assets/v3/shared/common-42742d827f95500b71becd3b269bfbbd.css"> 
  <link rel="stylesheet" href="/assets/v3/documentation/base-e24460fd437cbece7776bf294fa3aac5.css"> 
  <link rel="stylesheet" href="/assets/v3/shared/prism_light-6e629a34ce1570d4f33f7e2ee8bebbc2.css"> 
  <meta name="viewport" content="width=1060"> 
  <meta name="robots" content="noarchive"> 
 </head> 
 <body class=""> 
  <div id="docs"> 
   <div id="sidebar"> 
    <div class="logo"> 
     <a class="site" href="/" title="Stripe"></a> 
     <a class="extension" href="/docs">docs</a> 
    </div> 
    <div class="nav-border"></div> 
    <nav> 
     <h1 class="home"><a href="/docs">Home</a></h1> 
     <h1 class="payments"><a class="toggle-content">Payments</a></h1> 
     <ul> 
      <li> <a href="/docs/quickstart">Quickstart</a> </li> 
      <li class="category">Collecting payment details </li> 
      <li> <a href="/docs/checkout/tutorial">Checkout</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/checkout">Reference</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/elements">Elements</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/elements/examples">Examples</a> </li> 
        <li> <a href="/docs/elements/migrating">Migration</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/stripe.js">Stripe.js</a> </li> 
      <li> <a href="/docs/mobile/ios">iOS</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/mobile/ios/standard">Standard Integration</a> </li> 
        <li> <a href="/docs/mobile/ios/custom">Custom Integration</a> </li> 
        <li> <a href="/docs/mobile/ios/sources">Using Sources</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/mobile/android">Android</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/mobile/android/standard">Standard Integration</a> </li> 
        <li> <a href="/docs/mobile/android/android-pay">Android Pay</a> </li> 
        <li> <a href="/docs/mobile/android/customer-information">Customer Information</a> </li> 
        <li> <a href="/docs/mobile/android/sources">Using Sources</a> </li> 
       </ul> </li> 
      <li class="category">Charges </li> 
      <li> <a href="/docs/charges">Creating Charges</a> </li> 
      <li> <a href="/docs/declines">Declines &amp; Failed Payments</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/declines/codes">Bank Decline Codes</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/disputes">Disputes &amp; Fraud</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/disputes/categories">Dispute Categories</a> </li> 
        <li> <a href="/docs/disputes/prevention">Prevention</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/refunds">Refunds</a> </li> 
      <li> <a href="/docs/payouts">Receiving Payouts</a> </li> 
      <li> <a href="/docs/currencies">Supported Currencies</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/currencies/conversions">Currency Conversions</a> </li> 
       </ul> </li> 
      <li class="category">Sources </li> 
      <li> <a href="/docs/sources">Payment Methods</a> 
       <ul> 
        <li> <a href="/docs/sources/cards">Cards</a> </li> 
        <li> <a href="/docs/sources/three-d-secure">3D Secure</a> </li> 
        <li> <a href="/docs/sources/alipay">Alipay</a> </li> 
        <li> <a href="/docs/sources/bancontact">Bancontact</a> </li> 
        <li> <a class="selected" href="/docs/sources/bitcoin">Bitcoin</a> </li> 
        <li> <a href="/docs/sources/giropay">Giropay</a> </li> 
        <li> <a href="/docs/sources/ideal">iDEAL</a> </li> 
        <li> <a href="/docs/sources/p24">P24</a> </li> 
        <li> <a href="/docs/sources/sepa-debit">SEPA Direct Debit</a> </li> 
        <li> <a href="/docs/sources/sofort">SOFORT</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/sources/best-practices">Best Practices</a> </li> 
      <li> <a href="/docs/sources/customers">Sources &amp; Customers</a> </li> 
      <li> <a href="/docs/sources/connect">Connect Platforms</a> </li> 
      <li class="category">Other Payment Methods </li> 
      <li> <a href="/docs/ach">ACH</a> </li> 
      <li> <a href="/docs/amex-express-checkout">Amex Express Checkout</a> </li> 
      <li> <a href="/docs/apple-pay">Apple Pay</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/apple-pay/apps">Apple Pay in Apps</a> </li> 
        <li> <a href="/docs/apple-pay/web">Apple Pay on the Web</a> </li> 
       </ul> </li> 
      <li class="category">Products &amp; Orders </li> 
      <li> <a href="/docs/orders">Orders</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/orders/guide">Guide</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/orders/tax-integration">Tax Integrations</a> </li> 
      <li> <a href="/docs/orders/shipping-integration">Shipping Integrations</a> </li> 
      <li class="separator"> <a href="/docs/testing">Testing</a> </li> 
     </ul> 
     <h1 class="subscriptions"><a class="toggle-content">Subscriptions</a></h1> 
     <ul class="hidden" data-hidden="true"> 
      <li> <a href="/docs/subscriptions/quickstart">Quickstart</a> </li> 
      <li> <a href="/docs/subscriptions/creating">Creating Subscriptions</a> 
       <ul data-collapsable="false"> 
        <li> <a href="/docs/subscriptions/multiplan">Using Multiple Plans</a> </li> 
        <li> <a href="/docs/subscriptions/discounts">Applying Discounts</a> </li> 
        <li> <a href="/docs/subscriptions/trials">Using Trial Periods</a> </li> 
        <li> <a href="/docs/subscriptions/quantities">Setting Quantities</a> </li> 
        <li> <a href="/docs/subscriptions/taxes">Adding Taxes</a> </li> 
        <li> <a href="/docs/subscriptions/multiple">Multiple Subscriptions</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/subscriptions/lifecycle">Lifecycle &amp; Events</a> </li> 
      <li> <a href="/docs/subscriptions/webhooks">Using Webhooks</a> </li> 
      <li> <a href="/docs/subscriptions/changing">Changing Subscriptions</a> 
       <ul data-collapsable="false"> 
        <li> <a href="/docs/subscriptions/upgrading-downgrading">Upgrading &amp; Downgrading</a> </li> 
        <li> <a href="/docs/subscriptions/billing-cycle">Billing Cycle</a> </li> 
        <li> <a href="/docs/subscriptions/canceling-pausing">Canceling &amp; Pausing</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/subscriptions/invoices">Working with Invoices</a> 
       <ul data-collapsable="false"> 
        <li> <a href="/docs/subscriptions/ach-credit">ACH Credit Transfers</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/subscriptions/plans">Managing Plans</a> </li> 
      <li class="separator"> <a href="/docs/subscriptions/testing">Testing</a> </li> 
     </ul> 
     <h1 class="connect"><a class="toggle-content">Connect</a></h1> 
     <ul class="hidden" data-hidden="true"> 
      <li> <a href="/docs/connect">Overview</a> </li> 
      <li> <a href="/docs/connect/quickstart">Quickstart</a> </li> 
      <li class="category">Account Types </li> 
      <li> <a href="/docs/connect/accounts">Accounts Overview</a> </li> 
      <li> <a href="/docs/connect/standard-accounts">Standard</a> </li> 
      <li> <a href="/docs/connect/express-accounts">Express</a> </li> 
      <li> <a href="/docs/connect/custom-accounts">Custom</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/connect/updating-accounts">Updating Accounts</a> </li> 
        <li> <a href="/docs/connect/identity-verification">Identity Verification</a> </li> 
        <li> <a href="/docs/connect/required-verification-information">Required Info</a> </li> 
       </ul> </li> 
      <li class="category">Processing Payments </li> 
      <li> <a href="/docs/connect/charges">Creating Charges</a> 
       <ul class="hidden" data-hidden="true"> 
        <li> <a href="/docs/connect/direct-charges">Direct Charges</a> </li> 
        <li> <a href="/docs/connect/destination-charges">Destination Charges</a> </li> 
        <li> <a href="/docs/connect/charges-transfers">Separate Charges and Transfers</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/connect/account-debits">Account Debits</a> </li> 
      <li> <a href="/docs/connect/subscriptions">Using Subscriptions</a> </li> 
      <li> <a href="/docs/connect/currencies">Multiple Currencies</a> </li> 
      <li> <a href="/docs/connect/account-balances">Account Balances</a> </li> 
      <li> <a href="/docs/connect/payouts">Bank Payouts</a> </li> 
      <li class="separator"> <a href="/docs/connect/best-practices">Best Practices</a> </li> 
      <li> <a href="/docs/connect/migrating">Migrating</a> </li> 
      <li> <a href="/docs/connect/reference">OAuth Reference</a> </li> 
      <li> <a href="/docs/connect/webhooks">Webhooks</a> </li> 
      <li> <a href="/docs/connect/testing">Testing</a> </li> 
     </ul> 
     <h1 class="sigma"><a class="toggle-content">Sigma</a></h1> 
     <ul class="hidden" data-hidden="true"> 
      <li> <a href="/docs/sigma">Overview</a> </li> 
      <li> <a href="/docs/sigma/transactions">Transactions</a> </li> 
      <li> <a href="/docs/sigma/subscriptions">Subscriptions</a> </li> 
      <li> <a href="/docs/sigma/connect">Connect</a> </li> 
     </ul> 
     <h1 class="radar"><a class="toggle-content">Radar</a></h1> 
     <ul class="hidden" data-hidden="true"> 
      <li> <a href="/docs/radar">Overview</a> </li> 
      <li> <a href="/docs/radar/risk-evaluation">Risk Evaluation</a> </li> 
      <li> <a href="/docs/radar/blocklist">Blocklist</a> </li> 
      <li> <a href="/docs/radar/review">Review</a> 
       <ul data-collapsable="false"> 
        <li> <a href="/docs/radar/review/auth-and-capture">Uncaptured Payments</a> </li> 
       </ul> </li> 
      <li> <a href="/docs/radar/rules">Rules</a> 
       <ul data-collapsable="false"> 
        <li> <a href="/docs/radar/rules/reference">Reference</a> </li> 
       </ul> </li> 
      <li class="separator"> <a href="/docs/radar/testing">Testing</a> </li> 
     </ul> 
     <h1 class="relay"><a class="toggle-content">Relay</a></h1> 
     <ul class="hidden" data-hidden="true"> 
      <li> <a href="/docs/relay">Selling in Other Apps</a> </li> 
      <li> <a href="/docs/relay/apps-guide">Accepting Orders in Your App</a> 
       <ul data-collapsable="false"> 
        <li> <a href="/docs/relay/apps-error-guide">Error Handling</a> </li> 
       </ul> </li> 
     </ul> 
     <h1 class="account"><a class="toggle-content">Account</a></h1> 
     <ul class="hidden" data-hidden="true"> 
      <li> <a href="/docs/dashboard">Your Account</a> </li> 
      <li> <a href="/docs/dashboard/receipts">Email Receipts</a> </li> 
      <li> <a href="/docs/checklist">Going Live Checklist</a> </li> 
      <li> <a href="/docs/reporting">Reporting</a> </li> 
      <li> <a href="/docs/dashboard/search">Search</a> </li> 
     </ul> 
     <h1 class="api"><a class="toggle-content">Development</a></h1> 
     <ul class="hidden" data-hidden="true"> 
      <li> <a href="/docs/libraries">API Libraries</a> </li> 
      <li> <a href="/docs/upgrades">API Upgrades</a> </li> 
      <li> <a href="/docs/webhooks">Webhooks</a> </li> 
      <li> <a href="/docs/building-integrations">Building Integrations</a> </li> 
      <li> <a href="/docs/building-plugins">Building Plugins &amp; Libraries</a> </li> 
      <li> <a href="/docs/recipes">Recipes</a> </li> 
      <li> <a href="/docs/security">Security</a> </li> 
     </ul> 
     <h1 class="atlas"><a class="toggle-content">Atlas</a></h1> 
     <ul class="hidden" data-hidden="true"> 
      <li> <a href="/docs/atlas">Overview</a> </li> 
      <li> <a href="/docs/atlas/application">Application</a> </li> 
      <li> <a href="/docs/atlas/account-progress">Account Progress</a> </li> 
      <li> <a href="/docs/atlas/next">What's Next</a> </li> 
     </ul> 
     <h1 class="references"><a href="/docs/api" class="external" target="_blank">API Reference</a></h1> 
    </nav> 
   </div> 
   <div id="content-wrapper" tabindex="0"> 
    <div class="overlay"></div> 
    <div class="search-results"> 
     <ul class="results"></ul> 
    </div> 
    <form class="search"> 
     <input type="search" placeholder="Search documentation..."> 
     <div class="search-after"> 
      <span class="search-text"></span> 
      <span class="search-after-text--no-results">— No Results</span> 
     </div> 
    </form> 
    <header id="main-header"> 
     <nav> 
      <ul class="external"> 
       <li><a href="https://support.stripe.com">Support</a></li> 
       <li class="button"> <a data-adroll-segment="submit_two" href="https://dashboard.stripe.com/login">Sign in</a> </li> 
      </ul> 
     </nav> 
    </header> 
    <article id="content"> 
     <header> 
      <h1>Bitcoin Payments with Sources</h1> 
      <p>Use Sources to accept payments using Bitcoin, the popular digital cryptocurrency.</p> 
     </header> 
     <section> 
      <p>Stripe users in the United States can accept Bitcoin for USD payments from customers using <a href="/docs/sources">Sources</a>—a single integration path for creating payments using any supported method.</p> 
      <p>During the payment process, a <a href="/docs/api#sources">Source</a> object is created and your customer is given a receiver address to send the required amount of bitcoin to. Your customer uses this information with their Bitcoin wallet service or app to send the bitcoin amount needed. After completing this, your integration uses the source to make a charge request and complete the payment.</p> 
      <p>Bitcoin is a <a href="/docs/sources/payment-methods#pull-or-push-of-funds">push</a>-based and <a href="/docs/sources/payment-methods#single-use-or-reusable">single-use</a> method of payment. This means your customer must take action to send the required amount of bitcoin to you. The pushing of funds may take a few minutes since your customer must do this outside of your checkout flow, but the amount is immediately available as soon as the funds have been received. Once the source is chargeable, there can be immediate confirmation about the success or failure of a payment.</p>
     </section> 
     <section> 
      <h2 id="quickstart-using-checkout">Quickstart using Checkout</h2> 
      <p>The simplest way to accept Bitcoin is with <a href="/docs/checkout">Checkout</a>. After integrating Checkout for card payments, only one code change is needed to begin accepting Bitcoin payments—the addition of <code>data-bitcoin="true"</code> in the form’s code:</p> 
      <div class="code" data-language="html"> 
       <pre class="language-html numbered"><code>&lt;form action="" method="POST"&gt;
  &lt;script
    src="https://checkout.stripe.com/checkout.js" class="stripe-button"
    data-key="pk_test_6pRNASCoBOKtIshFeQd4XMUh"
    data-amount="2000"
    data-name="Demo Site"
    data-description="2 widgets ($20.00)"
    data-image="/img/documentation/checkout/marketplace.png"
    data-label="Pay with Card or Bitcoin"
    data-locale="auto"
    data-currency="usd"
    data-bitcoin="true"&gt;
  &lt;/script&gt;
&lt;/form&gt;</code></pre> 
      </div> 
      <p>After specifying the amount in USD that you want to receive, Stripe handles displaying the converted amount in BTC that your customer needs to pay. Once a Bitcoin payment is received, Checkout submits the form with the following extra fields:</p> 
      <ul> 
       <li><code>stripeToken</code>: The ID of the chargeable <code>Source</code> object</li> 
       <li><code>stripeTokenType</code>: The type of token returned—the value is <strong>source_bitcoin</strong></li> 
       <li><code>stripeEmail</code>: The email address provided by the customer</li> 
      </ul> 
      <p>You can then immediately <a href="#charge-request">make a charge request</a> using the source.</p>
     </section> 
     <section> 
      <h2 id="create-source"><span class="step">Step 1:</span> Create a Source object</h2> 
      <aside class="note"> 
       <h3>Stripe.js reference</h3> 
       <p>This guide supplements our <a href="/docs/stripe.js">Stripe.js</a> and <a href="/docs/elements">Elements</a> documentation with specific usage for Sources. Refer to this if you need further information on using Stripe.js or Elements.</p> 
      </aside> 
      <p>If you want to build a custom integration for accepting Bitcoin, a <a href="/docs/api#sources">Source</a> object can be created client-side using <a href="/docs/stripe.js">Stripe.js</a> or server-side using the API.</p> 
      <p>To create a source with Stripe.js, first include the library within your payment page and set your <a href="https://dashboard.stripe.com/account/apikeys">publishable API key</a>.</p> 
      <p>Once included, use the following <code>source.create</code> method to create a source, providing the following information:</p> 
      <table> 
       <thead> 
        <tr> 
         <th>Parameter</th> 
         <th>Value</th> 
        </tr> 
       </thead> 
       <tbody> 
        <tr> 
         <td><code>type</code></td> 
         <td><strong>bitcoin</strong></td> 
        </tr> 
        <tr> 
         <td><code>amount</code></td> 
         <td>A positive integer in the <a href="/docs/currencies#zero-decimal">smallest currency unit</a> representing the amount to charge the customer (e.g., <strong>1099</strong> for a $10.99 payment).</td> 
        </tr> 
        <tr> 
         <td><code>currency</code></td> 
         <td><strong>usd</strong> (Bitcoin payments must be in US Dollars)</td> 
        </tr> 
        <tr> 
         <td><code>owner[email]</code></td> 
         <td>The full email address of the customer.</td> 
        </tr> 
       </tbody> 
      </table> 
      <div class="code" data-language="json"> 
       <pre class="language-javascript numbered"><code>stripe.createSource({
  type: 'bitcoin',
  amount: 1000,
  currency: 'usd',
  owner: {
    email: 'jenny.rosen@example.com',
  },
}).then(function(result) {
  // handle result.error or result.source
});
</code></pre> 
      </div> 
      <h3 id="server-side-source-creation">Server-side source creation</h3> 
      <p>The use of Stripe.js to create this type of source is optional, but highly recommended. If you forgo this step and pass the information directly to Stripe when creating a <code>Source</code> object, you must take appropriate steps to safeguard any sensitive information that may pass through your servers.</p> 
      <div class="tabs tabs-code animated" data-platform="server"> 
       <nav class="nav-languages"> 
        <a data-language="ruby">Ruby</a> 
        <a data-language="python">Python</a> 
        <a data-language="php">PHP</a> 
        <a data-language="java">Java</a> 
        <a data-language="node">Node</a> 
        <a data-language="go">Go</a> 
       </nav> 
       <div class="tabs-content"> 
        <div class="code" data-language="ruby"> 
         <pre class="language-ruby numbered"><code># Set your secret key: remember to change this to your live secret key in production
# See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.api_key = "sk_test_BQokikJOvBiI2HlWgH4olfQ2"

source = Stripe::Source.create(
  :type =&gt; "bitcoin",
  :amount =&gt; 1000,
  :currency =&gt; "usd",
  :owner =&gt; {
    :email =&gt; "jenny.rosen@example.com",
  },
)
</code></pre> 
        </div> 
        <div class="code" data-language="python"> 
         <pre class="language-python numbered"><code># Set your secret key: remember to change this to your live secret key in production
# See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.api_key = "sk_test_BQokikJOvBiI2HlWgH4olfQ2"

source=stripe.Source.create(
  type='bitcoin',
  amount=1000,
  currency='usd',
  owner={
    "email":'jenny.rosen@example.com'
  }
)
</code></pre> 
        </div> 
        <div class="code" data-language="php"> 
         <pre class="language-php numbered"><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
\Stripe\Stripe::setApiKey("sk_test_BQokikJOvBiI2HlWgH4olfQ2");

$source = \Stripe\Source::create(array(
  "type" =&gt; "bitcoin",
  "amount" =&gt; 1000,
  "currency" =&gt; "usd",
  "owner" =&gt; array(
    "email" =&gt; "jenny.rosen@example.com"
  )
));
</code></pre> 
        </div> 
        <div class="code" data-language="java"> 
         <pre class="language-java numbered"><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.apiKey = "sk_test_BQokikJOvBiI2HlWgH4olfQ2";

Map&lt;String, Object&gt; ownerParams = new HashMap&lt;String, Object&gt;();
ownerParams.put("email", "jenny.rosen@example.com");

Map&lt;String, Object&gt; sourceParams = new HashMap&lt;String, Object&gt;();
sourceParams.put("type", "bitcoin");
sourceParams.put("amount", 1000);
sourceParams.put("currency", "usd");
sourceParams.put("owner", ownerParams);

Source source = Source.create(sourceParams);
</code></pre> 
        </div> 
        <div class="code" data-language="node"> 
         <pre class="language-javascript numbered"><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
var stripe = require("stripe")("sk_test_BQokikJOvBiI2HlWgH4olfQ2");

stripe.sources.create({
  type: "bitcoin",
  amount: 1000,
  currency: "usd",
  owner: {
    email: "jenny.rosen@example.com"
  }
}, function(err, source) {
  // asynchronously called
});
</code></pre> 
        </div> 
        <div class="code" data-language="go"> 
         <pre class="language-go numbered"><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.Key = "sk_test_BQokikJOvBiI2HlWgH4olfQ2"

sourceParams := &amp;stripe.SourceObjectParams{
  Type: "bitcoin",
  Amount: 1000,
  Currency: "usd",
  Owner: &amp;stripe.SourceOwnerParams{
    Email: "jenny.rosen@example.com",
  },
}

s, err := source.New(sourceParams)

if err != nil {
  // handle error
  return;
}
</code></pre> 
        </div> 
       </div> 
      </div> 
      <p>Using either method, Stripe returns a <code>Source</code> object containing the relevant details for the method of payment used. Information specific to Bitcoin is provided within the <code>bitcoin</code> subhash.</p> 
      <div class="code" data-language="json"> 
       <pre class="language-javascript numbered"><code>{
  "id": "src_18h4EOEniDLYboM3JphgS37m",
  "object": "source",
  "amount": 1000,
  "client_secret": "src_client_secret_OkNv1HJ3melzdk2bgd2o4es8",
  "created": 1470864440,
  "currency": "usd",
  "flow": "receiver",
  "livemode": true,
  "metadata": {},</code></pre> 
       <a class="show-extra-lines">See all 41 lines</a> 
       <span class="extra-lines"> "owner": { "address": null, "email": "jenny.rosen@example.com", "name": "Jenny Rosen", "phone": null, "verified_address": null, "verified_email": null, "verified_name": null, "verified_phone": null }, "receiver": { "address": "1Nar8gbhZqahaKdoxLAnxVhGjd5YoHs8T1", "amount_charged": 0, "amount_received": 0, "amount_returned": 0, "refund_attributes_method": "email", "refund_attributes_status": "missing" }, "status": "pending", "type": "bitcoin", "usage": "single_use", "bitcoin": { "address": "1Nar8gbhZqahaKdoxLAnxVhGjd5YoHs8T1", "amount": 334400, "amount_charged": 0, "amount_received": 0, "amount_returned": 0, "uri": "bitcoin:1Nar8gbhZqahaKdoxLAnxVhGjd5YoHs8T1?amount=0.003344", "refund_address": null } }</span> 
      </div> 
      <h3 id="error-codes">Error codes</h3> 
      <p>Source creation for Bitcoin payments may return any of the following errors:</p> 
      <table> 
       <thead> 
        <tr> 
         <th>Error</th> 
         <th>Description</th> 
        </tr> 
       </thead> 
       <tbody> 
        <tr> 
         <td><code>payment_method_not_available</code></td> 
         <td>The payment method is currently not available. You should invite your customer to fallback to another payment method to proceed.</td> 
        </tr> 
        <tr> 
         <td><code>processing_error</code></td> 
         <td>An unexpected error occurred preventing us from creating the source. The source creation should be retried.</td> 
        </tr> 
       </tbody> 
      </table>
     </section> 
     <section> 
      <h2 id="customer-action"><span class="step">Step 2:</span> Have the customer push funds</h2> 
      <p>When creating a source, its status is initially set to <code>pending</code> and cannot yet be used to create a charge. Your customer must send the specified amount of bitcoin to make the source chargeable. Customers push bitcoin to the address provided within the <code>receiver[address]</code> attribute. The <code>bitcoin[amount]</code> specifies the amount, in BTC, the customer needs to send.</p> 
      <p>There are three pieces of information you should display to the customer:</p> 
      <ul> 
       <li><code>bitcoin[amount]</code>: The amount (in <a href="https://en.bitcoin.it/wiki/Satoshi_(unit)">Satoshi</a>) that the customer must send. This amount, like all amounts used by the Stripe API, represents the smallest unit of currency. There are 10<sup>8</sup> (100,000,000) satoshi in one bitcoin, so the returned <code>bitcoin[amount]</code> must be divided by 100,000,000 to present the amount in BTC.</li> 
       <li><code>receiver[address]</code>: The bitcoin address that is specific to this receiver</li> 
       <li><code>bitcoin[uri]</code>: An encoding of the amount and address. If you encode this URI as a QR code, some Bitcoin apps can scan it. If this URI is presented as a hyperlink, customers can click on it to activate their preferred Bitcoin client, if installed.</li> 
      </ul>
     </section> 
     <section> 
      <h2 id="charge-request"><span class="step">Step 3:</span> Charge the Source</h2> 
      <aside class="note"> 
       <h3>Using webhooks</h3> 
       <p>Your integration needs to use <a href="/docs/webhooks">webhooks</a> to be notified of status changes on <code>Source</code> and <code>Charge</code> objects.</p> 
      </aside> 
      <p>Once the customer has pushed the necessary funds, the source’s <code>status</code> transitions to <code>chargeable</code> and it can be used to make a charge request. This transitions happens asynchronously as confirming a Bitcoin transaction on the blockchain can take minutes.</p> 
      <p>For this reason it is essential that your integration rely on <a href="docs/webhooks">webhooks</a> to determine when the source becomes chargeable in order to create a charge. Please refer to our <a href="/docs/sources/best-practices">best practices</a> for more details on how to best integrate payment methods using webhooks.</p> 
      <h3 id="webhooks">Webhooks</h3> 
      <p>The following webhook events are sent to notify you about changes to the source’s status:</p> 
      <table> 
       <thead> 
        <tr> 
         <th>Event</th> 
         <th>Description</th> 
        </tr> 
       </thead> 
       <tbody> 
        <tr> 
         <td><code>source.chargeable</code></td> 
         <td>A <code>Source</code> object becomes <code>chargeable</code> after a customer has has sent the required funds for the payment.</td> 
        </tr> 
        <tr> 
         <td><code>source.canceled</code></td> 
         <td>A <code>Source</code> object expired and cannot be used to create a charge.</td> 
        </tr> 
       </tbody> 
      </table> 
      <h3 id="source-expiration">Source expiration</h3> 
      <p>A Bitcoin source must be used within six hours of becoming <code>chargeable</code>. If it is not, its status is automatically transitioned to <code>canceled</code> and your integration receives a <code>source.canceled</code> webhook event.</p> 
      <p>Similarly, a Bitcoin source’s guaranteed exchange rate expires after 10 minutes, after which point it is canceled. Your JavaScript handler is called client-side and the source’s status transitions to <code>canceled</code>. Any fund received after a source is canceled are automatically refunded back to the customer.</p> 
      <p>Once a source is canceled, the customer’s bitcoin payment is refunded automatically—no funds are moved into your account. For this reason, make sure the order is canceled on your end and the customer is notified once you receive the <code>source.canceled</code> event.</p> 
      <p>If you receive that callback, you can instruct your servers to create a new source, then update the payment page with the new receiver’s information and start polling.</p> 
      <h3 id="make-a-charge-request-using-the-source">Make a charge request using the source</h3> 
      <p>Once the source is chargeable, from your <code>source.chargeable</code> webhook handler, you can make a charge request using the source ID as the value for the <code>source</code> parameter to complete the payment.</p> 
      <div class="tabs tabs-code animated" data-platform="server"> 
       <nav class="nav-languages"> 
        <a data-language="curl" class="selected">curl</a> 
        <a data-language="ruby">Ruby</a> 
        <a data-language="python">Python</a> 
        <a data-language="php">PHP</a> 
        <a data-language="java">Java</a> 
        <a data-language="node">Node</a> 
        <a data-language="go">Go</a> 
       </nav> 
       <div class="tabs-content"> 
        <div class="code" data-language="curl"> 
         <pre class="language-curl numbered selected"><code>curl https://api.stripe.com/v1/charges \
   -u sk_test_BQokikJOvBiI2HlWgH4olfQ2: \
   -d amount=1000 \
   -d currency=usd \
   -d source=src_18eYalAHEMiOZZp1l9ZTjSU0
</code></pre> 
        </div> 
        <div class="code" data-language="ruby"> 
         <pre class="language-ruby numbered"><code># Set your secret key: remember to change this to your live secret key in production
# See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.api_key = "sk_test_BQokikJOvBiI2HlWgH4olfQ2"

charge = Stripe::Charge.create({
  amount: 1000,
  currency: 'usd',
  source: 'src_18eYalAHEMiOZZp1l9ZTjSU0',
})
</code></pre> 
        </div> 
        <div class="code" data-language="python"> 
         <pre class="language-python numbered"><code># Set your secret key: remember to change this to your live secret key in production
# See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.api_key = "sk_test_BQokikJOvBiI2HlWgH4olfQ2"

charge = stripe.Charge.create(
  amount=1000,
  currency='usd',
  source='src_18eYalAHEMiOZZp1l9ZTjSU0',
)
</code></pre> 
        </div> 
        <div class="code" data-language="php"> 
         <pre class="language-php numbered"><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
\Stripe\Stripe::setApiKey("sk_test_BQokikJOvBiI2HlWgH4olfQ2");

$charge = \Stripe\Charge::create(array(
  "amount" =&gt; 1000,
  "currency" =&gt; "usd",
  "source" =&gt; "src_18eYalAHEMiOZZp1l9ZTjSU0",
));
</code></pre> 
        </div> 
        <div class="code" data-language="java"> 
         <pre class="language-java numbered"><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
Stripe.apiKey = "sk_test_BQokikJOvBiI2HlWgH4olfQ2";

Map&lt;String, Object&gt; chargeParams = new HashMap&lt;String, Object&gt;();
chargeParams.put("amount", 1000);
chargeParams.put("currency", "usd");
chargeParams.put("source", "src_18eYalAHEMiOZZp1l9ZTjSU0");

Charge charge = Charge.create(chargeParams);
</code></pre> 
        </div> 
        <div class="code" data-language="node"> 
         <pre class="language-javascript numbered"><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
var stripe = require("stripe")("sk_test_BQokikJOvBiI2HlWgH4olfQ2");

stripe.charges.create({
  amount: 1000,
  currency: "usd",
  source: "src_18eYalAHEMiOZZp1l9ZTjSU0",
}, function(err, charge) {
  // asynchronously called
});
</code></pre> 
        </div> 
        <div class="code" data-language="go"> 
         <pre class="language-go numbered"><code>// Set your secret key: remember to change this to your live secret key in production
// See your keys here: https://dashboard.stripe.com/account/apikeys
stripe.Key = "sk_test_BQokikJOvBiI2HlWgH4olfQ2"

chargeParams := &amp;stripe.ChargeParams{
  Amount: 1000,
  Currency: "usd",
}
chargeParams.SetSource("src_18eYalAHEMiOZZp1l9ZTjSU0")
ch, err := charge.New(chargeParams)
</code></pre> 
        </div> 
       </div> 
      </div> 
      <p>Bitcoin Sources are <a href="/docs/sources/payment-methods#single-use-or-reusable">single-use</a> and cannot not be used for recurring or additional payments. Refer to our <a href="/docs/sources/customers">Sources &amp; Customers</a> guide for more information on how single-use Sources interact with Customers.</p>
     </section> 
     <section> 
      <h2 id="charge-confirmation"><span class="step">Step 4:</span> Confirm that the charge has succeeded</h2> 
      <p>Since the customer has already pushed the funds at the time the Source is <code>chargeable</code>, unless there is an unexpected error, the <a href="/docs/api#charge_object">Charge</a> will immediately succeed.</p> 
      <p>You will also receive the following webhook event as the charge is created:</p> 
      <table> 
       <thead> 
        <tr> 
         <th>Event</th> 
         <th>Description</th> 
        </tr> 
       </thead> 
       <tbody> 
        <tr> 
         <td><code>charge.succeeded</code></td> 
         <td>The charge succeeded and the payment is complete.</td> 
        </tr> 
       </tbody> 
      </table> 
      <p>We recommend that you rely on the <code>charge.succeeded</code> webhook event to notify your customer that the payment process has been completed and their order is confirmed. Please refer to our <a href="/docs/sources/best-practices">best practices</a> for more details on how to best integrate payment methods using webhooks.</p>
     </section> 
     <section> 
      <h3 id="refunding-bitcoin-payments">Refunding Bitcoin payments</h3> 
      <p>Bitcoin payments can be refunded through either the <a href="https://dashboard.stripe.com/payments">Dashboard</a> or <a href="/docs/api#create_refund">API</a>. However, the Bitcoin address where to return the funds needs to be provided by the customer. By default, we automatically contact the customer at the email address provided during source creation when a refund is created (or the source is canceled and funds need to be returned). Once the customer provides us with their Bitcoin address, we process the refund automatically.</p> 
      <p>Some users may want to manage the collection of the refund addresses themselves. Please <a href="https://support.stripe.com/email">contact us</a> to learn more about this option.</p> 
      <h3 id="handling-mispayments">Handling mispayments</h3> 
      <p>The customer is responsible for sending the correct amount of bitcoin to fill the source. While uncommon, it is possible for a customer to send an unexpected amount that prevents a payment from being completed—resulting in a mispayment. This can happen when:</p> 
      <ul> 
       <li>The customer sends too few bitcoin so the payment cannot be completed</li> 
       <li>The customer sends too many bitcoin and needs to be partially refunded</li> 
       <li>The customer sends the correct amount of bitcoin but they send it after too long a delay, or there’s a network error such that the source token is never posted to your server</li> 
      </ul> 
      <p>All mispayments are handled automatically by Stripe. When a source is charged, any unused bitcoin received in excess will be returned to the customer automatically (after collecting their refund address as described in the previous section). Similarly, if a source is never charged, it is eventually canceled and any unused bitcoin is also returned the customer automatically.</p> 
      <p>You can help avoid the third possibility of mispayments through the use of <a href="/docs/webhooks">webhooks</a>. You can configure your integration to receive <code>source.chargeable</code> events, then subsequently create charges from those sources.</p>
     </section> 
     <section> 
      <h2 id="testing-bitcoin-payments">Testing Bitcoin payments</h2> 
      <p>When creating a <code>Source</code> object using your test API keys, use one of Stripe’s <a href="/docs/testing#bitcoin">test email addresses</a> when you need to test Bitcoin payments under different conditions.</p>
     </section> 
     <section> 
      <h2>Related resources</h2> 
      <ul class="next-steps"> 
       <li><a href="/docs/sources/payment-methods"><span>Other supported payment methods</span></a></li> 
       <li><a href="/docs/api/#sources"><span>Sources API Reference</span></a></li> 
       <li><a href="/docs/sources/best-practices"><span>Best practices</span></a></li> 
      </ul> 
     </section> 
     <footer> 
      <h2>Questions?</h2> 
      <p>We're always happy to help with code or other questions you might have! <a href="#" class="search-link">Search</a> our documentation, <a href="https://support.stripe.com/email">contact support</a>, or <a href="/contact/sales">connect with our sales team</a>. You can also chat live with other developers in <a href="irc://irc.freenode.net/stripe">#stripe</a> on freenode.</p> 
     </footer> 
    </article> 
   </div> 
  </div> 
  <div id="loading-bar"></div> 
  <script src="/assets/external/jquery.min-356cfe6f83a29dcc6fd2cd9ac777637e.js"></script> 
  <script src="/assets/prism-d97c2fbc02243c145440b270c43ec26b.js"></script> 
  <script src="/assets/external/dynamics.min-f8b2e1648525e57b196b53792a19cda3.js"></script> 
  <script src="/assets/jquery.cookie-368e8ec1948575a79f6830f8d13db348.js"></script> 
  <script src="/assets/documentation-1cd181c2fe81dfff983293c45edf0b7f.js"></script> 
  <script src="/assets/external/algoliasearch-ccb98f296c1e54994357b8d396b3ce13.js"></script> 
  <script src="/assets/documentation-search-76a887ea03340dcf4d184728b1daad3d.js"></script> 
  <script>
      parseKey("sk_test_BQokikJOvBiI2HlWgH4olfQ2", "secret-key", null);
      parseKey("pk_test_6pRNASCoBOKtIshFeQd4XMUh", "publishable-key", null);
    </script> 
  <script type="text/javascript" src="https://js.stripe.com/v2/"></script> 
  <script type="text/javascript" src="https://js.stripe.com/v3/"></script> 
  <script src="/assets/config-8dca67b1be57074bb7dcac11c0a32c33.js"></script> 
  <script type="application/json" id="analytics_config">{&quot;mixpanel&quot;:{&quot;identifier&quot;:&quot;eb71b6171a4f7ed97de9b7a0395b7ca5&quot;},&quot;ga&quot;:{},&quot;trackpage&quot;:true}</script> 
  <script src="https://js.stripe.com/internal/v2/analytics.min.js"></script> 
  <script src="/assets/analytics-383508e18a668600cbe7305795728599.js"></script> 
  <script src="https://js.stripe.com/v2/stripe-m-preview.js"></script> 
  <script src="/assets/v3/analytics/index-5ff5117df6f3680361ab294f60f5a27a.js"></script> 
  <noscript>
   <img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=742650679237989&amp;ev=PageView&amp;noscript=1">
  </noscript> 
  <script type="text/javascript">
  (function() {
    var configData = window.siteAnalyticsUtil.analyticsConfigData();
    var htmlId = document.documentElement.id;
    var trackPageViewed = false;

    Analytics.configure(configData);

    if (trackPageViewed && htmlId) {
      Analytics.viewed(htmlId, configData);
    }
  })();
</script> 
  <script src="/assets/documentation-analytics-da78049a522eeb97f7fc766fe202379f.js"></script>   
 </body>
</html>