<!doctype html>
<!--[if lt IE 7]><html class="no-js ie6" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 7]><html class="no-js ie7" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 8]><html class="no-js ie8" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 9]><html class="no-js ie9" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 10]><html class="no-js ie10" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if (gt IE 10)|!(IE)]><!-->
<html class="no-js " lang="en" dir="ltr" data-date-format="non_us">
 <!--<![endif]-->
 <head> 
  <!-- Title for the page --> 
  <title> Calling Java from JavaScript : JxBrowser </title> 
  <!-- Meta information --> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <meta name="description" content=""> 
  <meta name="author" content=""> 
  <link rel="canonical" href="https://jxbrowser.support.teamdev.com/support/solutions/articles/9000013062-calling-java-from-javascript"> 
  <!-- Responsive setting --> 
  <link rel="apple-touch-icon" href="/assets/touch/touch-icon-iphone.png"> 
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/touch/touch-icon-ipad.png"> 
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/touch/touch-icon-iphone-retina.png"> 
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/touch/touch-icon-ipad-retina.png"> 
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0"> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic&amp;subset=latin,cyrillic-ext" rel="stylesheet" type="text/css"> 
  <!-- Adding meta tag for CSRF token --> 
  <meta content="authenticity_token" name="csrf-param"> 
  <meta content="qr/b7LSn9DvHzbEZOcafKHoQexrK1G9ikgh8Mi3fPOk=" name="csrf-token"> 
  <!-- End meta tag for CSRF token --> 
  <!-- Fav icon for portal --> 
  <link rel="shortcut icon" href="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/9020676283/original/hMZTQDr-Nvqs3SXSy3Qy_FxEdWez5OZhbA.ico"> 
  <!-- Base stylesheet --> 
  <link href="https://assets2.freshdesk.com/assets/cdn/portal_utils-ab7160c8d38ab98a2d3226b382487154.css" media="screen" rel="stylesheet" type="text/css"> 
  <link href="https://assets7.freshdesk.com/assets/cdn/portal_print-262b6789aa974d42a8ce844dfdea193f.css" media="print" rel="stylesheet" type="text/css"> 
  <!-- Theme stylesheet --> 
  <link href="/support/theme.css?v=1498729898" media="screen" rel="stylesheet" type="text/css"> 
  <!-- Google font url if present --> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300italic,700" rel="stylesheet" type="text/css"> 
  <!-- Including default portal based script framework at the top --> 
  <script src="https://assets10.freshdesk.com/assets/cdn/portal_head-becc3c0469872f72ade28017e1ed129c.js" type="text/javascript"></script> 
  <!-- Including syntexhighlighter for portal --> 
  <script src="https://assets4.freshdesk.com/assets/cdn/prism-4c09fd578f3487d2f50893e6aaf8c014.js" type="text/javascript"></script> 
  <!-- Access portal settings information via javascript --> 
  <script type="text/javascript">   	var portal = {"language":"en","name":"JxBrowser","contact_info":"","current_page_name":"article_view","current_tab":"solutions","preferences":{"bg_color":"#ffffff","header_color":"#FFFFFF","help_center_color":"#FFFFFF","footer_color":"#777777","tab_color":"#FFFFFF","tab_hover_color":"#4c4b4b","btn_background":"#ffffff","btn_primary_background":"#6c6a6a","baseFont":"Helvetica Neue","textColor":"#333333","headingsFont":"Open Sans Condensed","headingsColor":"#333333","linkColor":"#049cdb","linkColorHover":"#036690","inputFocusRingColor":"#049CDB","nonResponsive":"false"},"image_placeholders":{"spacer":"https://assets1.freshdesk.com/assets/misc/spacer.gif","profile_thumb":"https://assets2.freshdesk.com/assets/misc/profile_blank_thumb-4dc7081f5a81594bba9bcee2a081de27.jpg","profile_medium":"https://assets10.freshdesk.com/assets/misc/profile_blank_medium-155f0a3a5ae0e78ee7917f54b9f26e64.jpg"}};  </script> 
 </head> 
 <body> 
  <div class="page clearfix"> 
   <script>
  jQuery(document).ready(function(){
    
    jQuery(".user-ava").click(function(){
      jQuery(this).toggleClass("profile_active");
    
    });    
    
    jQuery("#notice:contains('You must be logged out to access this page')").css('display', 'none');
    jQuery("#notice:contains('No user was found with that email address')").css('top', '-165px');
   
    
    if(window.location.href == 'https://teamdev.freshdesk.com/support/home' || window.location.href == 'https://jxbrowser.support.teamdev.com/support/home'){
    	jQuery('.banner').addClass('home-page-banner');			
        jQuery('#notice').addClass('home-notice');
    } 
    
    if(window.location.href == 'http://teamdev.freshdesk.com/support/home' || window.location.href == 'http://jxbrowser.support.teamdev.com/support/home'){
    	jQuery('.banner').addClass('home-page-banner');			
        jQuery('#notice').addClass('home-notice');
    }  
    
    
    
  });
</script> 
   <header class="banner"> 
    <div class="banner-wrapper center-holder"> 
     <div class="banner-title"> 
      <a href="https://teamdev.com/jxbrowser" class="portal-logo"><span class="portal-img"><i></i> <img src="https://s3.amazonaws.com/cdn.freshdesk.com/data/helpdesk/attachments/production/9020676264/logo/uRxGW2Mvdl6yDSKmsuiZTaG73TkXrsHs9w.png" alt="Logo" onerror="default_image_error(this)" data-type="logo"> </span></a> 
      <h1 class="ellipsis heading"><a class="target-blank" href="https://www.teamdev.com/jxbrowser" target="_blank">JxBrowser</a></h1> 
     </div> 
     <!-- <div class="welcome">Welcome <b></b> </div>  <b><a href="/support/login"><b>Login</b></a></b>--> 
     <a data-toggle-dom="#header-tabs" href="#" data-animated="true" class="mobile-icon-nav-menu show-in-mobile"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </a> 
     <nav class="banner-nav mobileLogin"> 
      <ul class="nav-link" id="header-tabs"> 
       <li><a href="/support/home">Home</a></li> 
       <li> <a href="/support/solutions/9000050171">Getting Started</a></li> 
       <li><a href="/support/solutions">Documentation</a></li> 
       <li><a class="target-blank" href="http://stackoverflow.com/questions/tagged/jxbrowser">Questions</a></li> 
       <li><a href="/support/discussions/forums/9000110576">Release Notes</a></li> 
       <li class="btn-item"><a class="btn btn-log" href="/support/login">Sign in</a></li> 
      </ul> 
     </nav> 
    </div> 
    <!-- Search and page links for the page --> 
    <section class="help-center rounded-6"> 
     <div class="hc-search"> 
      <div class="hc-search-c"> 
       <!-- <h2 class="heading hide-in-mobile">How can we help you today?</h2> --> 
       <h2 class="heading hide-in-mobile"> Welcome to JxBrowser Help Center</h2> 
       <form class="hc-search-form" autocomplete="off" action="/support/search/solutions" id="hc-search-form"> 
        <div class="hc-search-input"> 
         <label for="support-search-input" class="hide">Enter your search term here...</label> 
         <input placeholder="Enter your search term here..." type="text" name="term" class="special" value="" rel="page-search" data-max-matches="10" id="support-search-input"> 
        </div> 
        <div class="hc-search-button"> 
         <button class="btn btn-primary" type="submit" autocomplete="off"> <i class="mobile-icon-search hide-tablet"></i> <span class="hide-in-mobile"> Search </span> </button> 
        </div> 
       </form> 
      </div> 
     </div> 
     <!--<div class="hc-nav ">				
 <nav>  <div class="hide-in-mobile"><a href=/support/login>Login</a> to submit a new ticket</div> 	<div>
							<a href="/support/tickets" class="mobile-icon-nav-status check-status ellipsis" title="Check ticket status">
								<span>Check ticket status</span>
							</a>
						</div>  </nav>
</div>--> 
    </section> 
   </header> 
   <!--   
<nav class="page-tabs" >

<a data-toggle-dom="#header-tabs" href="#" data-animated="true" class="mobile-icon-nav-menu show-in-mobile"></a>
<div class="nav-link" id="header-tabs">


<a href="/support/home" class="">
Home
</a>



<a href="/support/solutions" class="">
Solutions
</a>



<a href="/support/discussions" class="">
Forums
</a>

 
</div>

</nav>

--> 
   <script>
  jQuery(document).ready(function() {
    
    //Please change the text "Please enter your search team" to change the text.
    jQuery('[rel="page-search"]').attr('placeholder','Search articles, guides, tutorials...');
    
    var tab_urls = [];
    jQuery('#header-tabs li a').each(function() { 
      tab_urls.push(jQuery(this).attr('href')); 
    });
    
    if (jQuery.inArray(window.location.pathname,tab_urls) != -1) {
      console.log('true');
      jQuery('#header-tabs li a[href="'+tab_urls[jQuery.inArray(window.location.pathname,tab_urls)]+'"]').addClass('active'); 
    }
    else {
      console.log('false');
      jQuery('#header-tabs li a[href="'+tab_urls[jQuery.inArray(window.location.pathname,tab_urls)]+'"]').removeClass('active'); 
    }
  
  });
  
</script> 
   <!-- Notification Messages --> 
   <div class="alert alert-with-close notice" id="noticeajax" style="display:none;"></div> 
   <div class="c-wrapper clearfix"> 
    <script>
  jQuery(document).ready(function(){
  
  jQuery("p:contains('Modified on:')").text(jQuery("p:contains('Modified on:')").text().substr(0,jQuery("p:contains('Modified on:')").text().indexOf("at")));
  
  
  });
</script> 
    <section class="content-holder equal-height center-holder"> 
     <section class="main content rounded-6 min-height-on-desktop clearfix" id="article-show-9000013062"> 
      <div class="breadcrumb"> 
       <a href="/support/solutions"> Knowledge base </a> 
       <a href="/support/solutions/9000049010">Documentation</a> 
       <a href="/support/solutions/folders/9000074803">JavaScript Java Bridge</a> 
      </div> 
      <b class="page-stamp page-stamp-article"> <b class="icon-page-article"></b> </b> 
      <h2 class="heading">Calling Java from JavaScript <a href="javascript:print();" class="icon-print solution-print-icon" title="Print this Article"></a> </h2> 
      <p>Modified on: Thu, 17 Nov, 2016 at 2:31 PM</p> 
      <hr> 
      <article class="article-body" id="article-body"> 
       <div dir="ltr"> 
        <p>JavaScript Java Bridge API allows injecting Java objects into JavaScript code. This is a powerful feature that allows accessing Java functionality from JavaScript.</p> 
        <p><br></p> 
        <p><b style="font-size: 13px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;">Note:</b><span>&nbsp;To access JavaScript and inject Java object, make sure that web page is loaded completely and JavaScript support is enabled. If you inject/register Java object and then load web page, all registered Java objects will be destroyed and will not be available in JavaScript of the loaded web page.</span></p> 
        <p><br></p> 
        <h2>Injecting Java Objects</h2> 
        <p>To inject Java object into JavaScript you must associate the Java object with specified property of a JavaScript object. For example, you can add a new java property to global <span style="font-family: 'Courier New';">window</span> JavaScript object (other objects would work as well) and associate this property with Java object using the following code:</p> 
        <pre rel="highlighter" code-brush="java">JSValue window = browser.executeJavaScriptAndReturnValue("window");
window.asObject().setProperty("java", new JavaObject());</pre> 
        <p></p> 
        <p style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif, 'Helvetica Neue', Helvetica, Arial, sans-serif;"><b>Note:</b> To inject Java object into JavaScript code, we recommend that you use the following approach:</p> 
        <p></p> 
        <pre rel="highlighter" code-brush="java" style="font-family: monospace, 'Helvetica Neue', Helvetica, Arial, sans-serif; cursor: pointer;">browser.addScriptContextListener(new ScriptContextAdapter() {
    @Override
    public void onScriptContextCreated(ScriptContextEvent event) {
        Browser browser = event.getBrowser();
        JSValue window = browser.executeJavaScriptAndReturnValue("window");
        window.asObject().setProperty("java", new JavaObject());
    }
});</pre> 
        <p style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif, 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span>Implementation of </span><span style="font-family: 'Courier New';">JavaObject</span><span> can be the following:</span><br></p> 
        <pre rel="highlighter" code-brush="java">public static class JavaObject {
    public void print(String message) {
        System.out.println(message);
    }
}</pre> 
        <p></p> 
        <p><b>Note:</b>&nbsp;Make sure that you inject Java object which class/interface is marked as <i>public</i>. Only public classes can be registered and accessed from JavaScript.</p> 
        <p><br></p> 
        <p>Now JavaScript code can invoke <span style="font-family: 'Courier New';">JavaObject</span>&nbsp;public methods:<br></p> 
        <pre rel="highlighter" code-brush="js">window.java.print('Hello Java!');</pre> 
        <p></p> 
        <p><b>Note:</b> JavaScript code can access/invoke only <i>public</i> methods of registered Java object.</p> 
        <p><br></p> 
        <h2>Getting Java Object from JSValue</h2> 
        <p>You can inject Java object into JavaScript by setting it as a property value for existing JavaScript object:<span>&nbsp;</span></p> 
        <pre rel="highlighter" data-code-brush="java">JSValue window = browser.executeJavaScriptAndReturnValue("window");
window.asObject().setProperty("java", new JavaObject());</pre> 
        <p></p> 
        <p><span>If you read the property value in Java code, then you can extract Java object associated with this JavaScript value:</span></p> 
        <pre rel="highlighter" data-code-brush="java">JSValue value = window.asObject().getProperty("java");
if (value.isJavaObject()) {
    JavaObject object = (JavaObject) value.asJavaObject();
}</pre> 
        <p></p> 
        <p><br></p> 
        <h3><span>Example: Accessing File System from JavaScript</span></h3> 
        <p>You can provide JavaScript with access to local file system by injecting <span style="font-family: 'Courier New';">java.io.File</span> object:</p> 
        <pre rel="highlighter" code-brush="java">JSValue window = browser.executeJavaScriptAndReturnValue("window");
window.asObject().setProperty("fileSystem", new File("/"));</pre> 
        <p></p> 
        <p>Now JavaScript can work with the&nbsp;<span style="font-family: 'Courier New';">java.io.File</span><span>&nbsp;instance directly:</span></p> 
        <pre rel="highlighter" code-brush="js">window.fileSystem.listFiles()[0].getAbsolutePath();</pre> 
        <p></p> 
        <p><br></p> 
        <h2>How JavaScript calls Java method</h2> 
        <p>When JavaScript calls a public method of a registered Java object, JavaScript parameters are&nbsp;<span>automatically</span><span>&nbsp;</span><span>converted to corresponding Java objects/primitive values&nbsp;</span><span>by JxBrowser.</span></p> 
        <p><span><br></span></p> 
        <p><span>If JxBrowser cannot convert passed JavaScript values or find a method with appropriate signature, JavaScript error will be thrown.</span></p> 
        <p><span><br></span></p> 
        <p>If registered Java object has several methods with same name and number of parameters, but different parameter types, JavaScript will invoke the first method declared in Java class. For example, if you register the following Java object:</p> 
        <pre rel="highlighter" code-brush="java">public class JavaObject {
    public void doAction(int arg1, double arg2) {}
    public void doAction(double arg1, int arg2) {}
    public void doAction(double arg1, double arg2) {}
}</pre> 
        <h2><span>JavaScript to Java types conversion</span></h2> 
        <p>JavaScript and Java work with different primitive types. JxBrowser implements automatic types conversion from JavaScript to Java types. Here's how JavaScript objects will be converted to their Java equivalents by JxBrowser:</p> 
        <p><br></p> 
        <table class="custom-table"> 
         <thead> 
          <tr> 
           <th>JavaScript</th> 
           <th>Java</th> 
          </tr> 
         </thead> 
         <tbody> 
          <tr> 
           <td>Number</td> 
           <td>double <br>float <br>long <br>int <br>short <br>byte <br>java.lang.Double <br>java.lang.Float <br>java.lang.Long <br>java.lang.Integer <br>java.lang.Short <br>java.lang.Byte</td> 
          </tr> 
          <tr> 
           <td>Boolean</td> 
           <td>boolean <br>java.lang.Boolean</td> 
          </tr> 
          <tr> 
           <td>String</td> 
           <td>java.lang.String</td> 
          </tr> 
          <tr> 
           <td>null</td> 
           <td>null</td> 
          </tr> 
          <tr> 
           <td>Object</td> 
           <td>com.teamdev.jxbrowser.chromium.JSObject</td> 
          </tr> 
          <tr> 
           <td>Array</td> 
           <td>com.teamdev.jxbrowser.chromium.JSArray</td> 
          </tr> 
          <tr> 
           <td>Function</td> 
           <td>com.teamdev.jxbrowser.chromium.JSFunction</td> 
          </tr> 
         </tbody> 
        </table> 
       </div> 
      </article> 
      <hr> 
     </section> 
     <section class="sidebar content clearfix rounded-6"> 
      <div id="related_articles">
       <div class="cs-g-c">
        <section class="article-list">
         <h3 class="list-lead">Related Articles</h3>
         <ul rel="remote" data-remote-url="/support/search/articles/9000013062/related_articles?container=related_articles&amp;limit=10" id="related-article-list"></ul>
        </section>
       </div>
      </div> 
     </section> 
    </section> 
   </div> 
  </div> 
  <!--<footer class="footer rounded-6">
	<nav class="footer-links">
		
				
					<a href="/support/home" class="">Home</a>
				
					<a href="/support/solutions" class="active">Solutions</a>
				
					<a href="/support/discussions" class="">Forums</a>
				
		
		
			<a href="#portal-cookie-info" rel="freshdialog" data-lazy-load="true" class="cookie-link"
				data-width="450px" title="Why we love Cookies" data-template-footer="">
				Cookie policy
			</a> <div id="portal-cookie-info" class="hide"><textarea>
				<p>We use cookies to try and give you a better experience in Freshdesk. </p>
				<p>You can learn more about what kind of cookies we use, why, and how from our <a href="http://freshdesk.com/privacy/" target="_blank">Privacy Policy</a>. If you hate cookies, or are just on a diet, you can disable them altogether too. Just note that the Freshdesk service is pretty big on some cookies (we love the choco-chip ones), and some portions of Freshdesk may not work properly if you disable cookies. </p>
				<p>We’ll also assume you agree to the way we use cookies and are ok with it as described in our <a href="http://freshdesk.com/privacy/" target="_blank">Privacy Policy</a>, unless you choose to disable them altogether through your browser. </p>
			</textarea></div> 
	</nav>
</footer>
--> 
  <div class="copyright">
   © 2017 
   <a href="http://www.teamdev.com" target="_blank">TeamDev Ltd.</a> All rights reserved. 
  </div> 
  <script src="https://assets6.freshdesk.com/assets/cdn/portal_bottom-ee8ba0c5d9f86e44d7f5d1bf916c5e60.js" type="text/javascript"></script> 
  <script src="https://assets3.freshdesk.com/assets/cdn/redactor-0ed9926f10c163c4c6e4e4a5cd77d20d.js" type="text/javascript"></script> 
  <script src="https://assets9.freshdesk.com/assets/cdn/freshfone_portal-b5255f30f00abf0f4b749ec70e361d6b.js" type="text/javascript"></script> 
  <script src="https://assets2.freshdesk.com/assets/cdn/lang/en-9dc6e766541801d11aadfa7bb1472036.js" type="text/javascript"></script> 
  <!-- Including default portal based script at the bottom --> 
  <script type="text/javascript">
//<![CDATA[
	
	jQuery(document).ready(function() {
					
		// Setting the locale for moment js
		moment.lang('en');

		var validation_meassages = {"required":"This field is required.","remote":"Please fix this field.","email":"Please enter a valid email address.","url":"Please enter a valid URL.","date":"Please enter a valid date.","dateISO":"Please enter a valid date ( ISO ).","number":"Please enter a valid number.","digits":"Please enter only digits.","creditcard":"Please enter a valid credit card number.","equalTo":"Please enter the same value again.","two_decimal_place_warning":"Value cannot have more than 2 decimal digits","select_atleast_one":"Select at least one option.","select2_minimum_limit":"Please type %{char_count} or more letters","select2_maximum_limit":"You can only select %{limit} %{container}"}	

		jQuery.extend(jQuery.validator.messages, validation_meassages );


		jQuery(".call_duration").each(function () {
			var format,time;
			if (jQuery(this).data("time") === undefined) { return; }
			time = jQuery(this).data("time");
			if (time>=3600) {
			 format = "hh:mm:ss";
			} else {
				format = "mm:ss";
			}
			jQuery(this).html(time.toTime(format));
		});
	});

	// Shortcuts variables
	var Shortcuts = {"global":{"help":"?","save":"mod+return","cancel":"esc","search":"/","status_dialog":"mod+alt+return","save_cuctomization":"mod+shift+s"},"app_nav":{"dashboard":"g d","tickets":"g t","social":"g e","solutions":"g s","forums":"g f","customers":"g c","reports":"g r","admin":"g a","ticket_new":"g n","compose_email":"g m"},"pagination":{"previous":"alt+left","next":"alt+right","alt_previous":"j","alt_next":"k"},"ticket_list":{"ticket_show":"return","select":"x","select_all":"shift+x","search_view":"v","show_description":"space","unwatch":"w","delete":"#","pickup":"@","spam":"!","close":"~","silent_close":"alt+shift+`","undo":"z","reply":"r","forward":"f","add_note":"n","scenario":"s"},"ticket_detail":{"toggle_watcher":"w","reply":"r","forward":"f","add_note":"n","close":"~","silent_close":"alt+shift+`","add_time":"m","spam":"!","delete":"#","show_activities_toggle":"}","properties":"p","expand":"]","undo":"z","select_watcher":"shift+w","go_to_next":["j","down"],"go_to_previous":["k","up"],"scenario":"s","pickup":"@","collaboration":"d"},"social_stream":{"search":"s","go_to_next":["j","down"],"go_to_previous":["k","up"],"open_stream":["space","return"],"close":"esc","reply":"r","retweet":"shift+r"},"portal_customizations":{"preview":"mod+shift+p"},"discussions":{"toggle_following":"w","add_follower":"shift+w","reply_topic":"r"}};
	
	// Date formats
	var DATE_FORMATS = {"non_us":{"moment_date_with_week":"ddd, D MMM, YYYY","datepicker":"d M, yy","datepicker_escaped":"d M yy","datepicker_full_date":"D, d M, yy","mediumDate":"d MMM, yyyy"},"us":{"moment_date_with_week":"ddd, MMM D, YYYY","datepicker":"M d, yy","datepicker_escaped":"M d yy","datepicker_full_date":"D, M d, yy","mediumDate":"MMM d, yyyy"}};

	var lang = { 
		loadingText: "Please Wait...",
		viewAllTickets: "View all tickets"
	};


//]]>
</script> 
  <img src="/support/solutions/articles/9000013062-calling-java-from-javascript/hit">   
 </body>
</html>