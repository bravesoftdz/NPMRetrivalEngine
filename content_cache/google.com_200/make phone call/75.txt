<!doctype html>
<html lang="en">
 <head> 
  <!-- Page hiding snippet --> 
  <style>.async-hide { opacity: 0 !important} </style> 
  <script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
(a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
})(window,document.documentElement,'async-hide','dataLayer',4000,
{'GTM-MFPB9D':true});</script> 
  <title>
						Duo Web - Two-factor authentication for your web application:
				Duo Security
</title> 
  <link rel="canonical" href="https://duo.com/docs/duoweb"> 
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"> 
  <link rel="icon" type="image/x-icon" href="/favicon.ico"> 
  <link rel="alternate" type="application/rss+xml" href="https://duo.com/feed" title="The Duo Bulletin RSS Feed"> 
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"> 
  <meta name="robots" content="index,follow,archive"> 
  <meta property="fb:app_id" content="896409090480292"> 
  <meta property="og:title" content="Duo Web - Two-factor authentication for your web application"> 
  <meta property="og:url" content="https://duo.com/docs/duoweb"> 
  <meta property="og:site_name" content="Duo Security"> 
  <meta name="description" content="Two-factor authentication done right. Duo Security lets your users use their mobile phones to secure their logins, protecting your company from account takeover and data theft."> 
  <meta property="og:description" content="Two-factor authentication done right. Duo Security lets your users use their mobile phones to secure their logins, protecting your company from account takeover and data theft."> 
  <meta name="twitter:image" content="https://duo.com/assets/img/docs/WEB-SDK-Still.jpg"> 
  <meta property="og:image" content="https://duo.com/assets/img/docs/WEB-SDK-Still.jpg"> 
  <meta property="og:image:width" content="1920"> 
  <meta property="og:image:height" content="1080"> 
  <!-- Third-Party Verifications --> 
  <meta name="bitly-verification" content="040b99f315c6"> 
  <meta name="google-site-verification" content="Svd8AHByyLSc2WLjqDZWIj1D2TNu8-U3fblDCieHxdU"> 
  <meta name="twitter:widgets:csp" content="on"> 
  <!-- Google Tag Manager (recommended in head) --> 
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-MFPB9D');</script> 
  <!-- End Google Tag Manager --> 
  <!-- ## Site CSS ## --> 
  <link rel="stylesheet" href="/site/themes/duo/css/production-2017.css?v=1506978971"> 
  <!--[if IE 9]>
		<link rel="stylesheet" type="text/css" href="/_themes/duo/css/if-ie9.css" />
	<![endif]--> 
  <!--[if lt IE 9]>
		<script>
			document.createElement('header');
			document.createElement('nav');
			document.createElement('section');
			document.createElement('article');
			document.createElement('aside');
			document.createElement('footer');
		</script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" type="text/javascript"></script>
	<![endif]--> 
 </head> 
 <body id="top" class=""> 
  <a class="skpnav" href="#main-content">Skip navigation</a> 
  <header class="site-header"> 
   <div class="site-header-inner-wrap"> 
    <div class="inner"> 
     <a class="logo-wrap" href="/"><img class="logo" alt="Duo Security" src="/assets/img/duoLogo-web.png"></a> 
     <div class="menu-trigger-wrap"> 
      <a class="menu-trigger" href="#"><i class="menu-trigger-bars icon-bars"></i> Menu</a> 
     </div> 
     <div class="drawer"> 
      <div class="utility-nav"> 
       <a class="btn-login" href="https://admin.duosecurity.com">Login</a> 
       <a class="btn-signup" href="https://signup.duo.com/">Start Trial</a> 
       <a class="close-trigger" href="#">Close</a> 
       <!-- <a class="more-trigger search-trigger">Search</a> --> 
      </div> 
      <div id="search-wrap" class="visible"> 
       <form id="search-form" action="/search" method="GET"> 
        <input type="text" name="q" placeholder="Search" id="site-search"> 
        <button type="submit"><i class="icon-magnify-thick"></i></button> 
       </form> 
      </div> 
      <nav class="main-nav"> 
       <ul class="main-nav-list"> 
        <li class="main-nav-li"><a class="main-nav-link" href="/product">Product</a> 
         <ul class="main-nav-sub-list"> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/product/trusted-users">Trusted Users</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/product/trusted-devices">Trusted Devices</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/product/every-application">Every Application</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/product/security-and-reliability">Security and Reliability</a> </li> 
         </ul> </li> 
        <li class="main-nav-li"><a class="main-nav-link" href="/use-cases">Use Cases</a> 
         <ul class="main-nav-sub-list"> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/use-cases/industry-solutions">Industry Solutions</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/use-cases/case-studies">Case Studies</a> </li> 
         </ul> </li> 
        <li class="main-nav-li"><a class="main-nav-link" href="/pricing">Pricing</a> </li> 
        <li class="main-nav-li"><a class="main-nav-link" href="/about">About</a> 
         <ul class="main-nav-sub-list"> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/about/careers">Careers</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/about/culture">Culture</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/about/contact">Contact Us</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/about/press">News &amp; Press</a> </li> 
         </ul> </li> 
        <li class="main-nav-li"><a class="main-nav-link" href="/partners">Partners</a> </li> 
        <li class="main-nav-li"><a class="main-nav-link" href="/resources">Resources</a> 
         <ul class="main-nav-sub-list"> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/resources/ebooks">Ebooks</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/resources/events">Upcoming Events</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/resources/infographics">Infographics</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/resources/videos">Videos</a> </li> 
          <li class="main-nav-sub-li"><a class="main-nav-sub-link" href="/resources/glossary">InfoSec Glossary</a> </li> 
         </ul> </li> 
        <li class="main-nav-li"><a class="main-nav-link" href="/docs">Docs</a> </li> 
        <li class="main-nav-li"><a class="main-nav-link" href="/support">Support</a> </li> 
        <li class="main-nav-li"><a class="main-nav-link" href="/blog">Blog</a></li> 
        <li class="main-nav-li"><a class="main-nav-link" href="https://community.duo.com">Duo Community</a></li> 
       </ul> 
      </nav> 
     </div> 
     <div class="main-nav-lg-wrap"> 
      <nav class="main-nav-lg"> 
       <ul class="main-nav-lg-list"> 
        <li class="main-nav-lg-li"><a class="main-nav-lg-link product" href="/product">Product</a></li> 
        <li class="main-nav-lg-li"><a class="main-nav-lg-link use cases" href="/use-cases">Use Cases</a></li> 
        <li class="main-nav-lg-li"><a class="main-nav-lg-link pricing" href="/pricing">Pricing</a></li> 
        <li class="main-nav-lg-li"><a class="main-nav-lg-link about" href="/about">About</a></li> 
        <li class="main-nav-lg-li"><a class="main-nav-lg-link partners" href="/partners">Partners</a></li> 
        <li class="main-nav-lg-li"><a class="main-nav-lg-link resources" href="/resources">Resources</a></li> 
        <li class="main-nav-lg-li"><a class="main-nav-lg-link docs is-active" href="/docs">Docs</a></li> 
        <li class="main-nav-lg-li"><a class="main-nav-lg-link support" href="/support">Support</a></li> 
        <li class="main-nav-lg-li"><a id="js-more-trigger-text" class="main-nav-lg-link js-more-trigger" href="#" data-trigger-text="More" data-trigger-text-swap="Less">More</a><i id="js-main-nav-icon" class="icon main-nav-icon icon-chevron-down"></i></li> 
       </ul> 
      </nav> 
      <div class="utility-nav"> 
       <a class="btn-login" href="https://admin.duosecurity.com">Login</a> 
       <a class="btn-signup" href="https://signup.duo.com/">Start Trial</a> 
       <a id="js-open-icon" class="js-more-trigger search-trigger" href="#">
        <svg class="icon-magnifying-glass">
         <use xlink:href="#icon-magnifying-glass"></use>
        </svg></a> 
       <a id="js-close-icon" class="js-more-trigger search-trigger" href="#">
        <svg class="icon-x-mark-1">
         <use xlink:href="#icon-x-mark-1"></use>
        </svg></a> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div class="drawer-lg"> 
    <div class="inner"> 
     <div id="search-wrap" class="visible"> 
      <form id="search-form" action="/search" method="GET"> 
       <input type="text" name="q" placeholder="Search" id="site-search"> 
       <button type="submit"><i class="icon-magnify-thick"></i></button> 
      </form> 
     </div> 
     <p class="drawer-lg-paragraph">Connect with Duo users and security professionals in our <a href="https://community.duo.com/"> Community</a>.</p> 
     <p class="drawer-lg-paragraph margin_bottom">Can't find what you're looking for? <a href="/about/contact">Contact Sales</a> or <a href="/support">Contact Support</a>.</p> 
     <nav class="secondary-main-nav"> 
      <ul class="secondary-main-nav-list"> 
       <li class="secondary-main-nav-li"><a class="secondary-main-nav-link" href="/resources"><strong>Resources</strong></a> 
        <ul class="secondary-main-nav-sub-list"> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/resources/ebooks">Ebooks</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/resources/videos">Videos</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/resources/infographics">Infographics</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/resources/events">Events &amp; Webinars</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/resources/glossary">InfoSec Glossary</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/resources/duo-insight">Phishing Tool</a></li> 
        </ul> </li> 
       <li class="secondary-main-nav-li"><a class="secondary-main-nav-link" href="/support"><strong>Support</strong></a> 
        <ul class="secondary-main-nav-sub-list"> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/docs">Documentation</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="https://help.duo.com">Knowledge Base</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="https://status.duo.com/">Status</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="https://guide.duo.com/">End-User Guide</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="https://community.duo.com/">Community</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/support#support-phone-numbers">Contact Support</a></li> 
        </ul> </li> 
       <li class="secondary-main-nav-li"><a class="secondary-main-nav-link" href="/about"><strong>About Duo</strong></a> 
        <ul class="secondary-main-nav-sub-list"> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/blog">Blog</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/about/careers">Careers</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/about/press">Press</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/about/contact">Contact Us</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/partners/managed-service-providers">MSP Program</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/labs/disclosure">Disclosure Policy</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/labs/security-response">Security Response</a></li> 
        </ul> </li> 
       <li class="secondary-main-nav-li"><a class="secondary-main-nav-link" href="/blog"><strong>Blog</strong></a> 
        <ul class="secondary-main-nav-sub-list"> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/blog/category/industry-news">Industry News</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/blog/category/product-updates">Product Updates</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/blog/category/duo-labs">Duo Labs</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/blog/category/engineering">Engineering</a></li> 
         <li class="secondary-main-nav-sub-li"><a class="secondary-main-nav-sub-link" href="/blog/category/press-and-events">Press and Events</a></li> 
        </ul> </li> 
      </ul> 
     </nav> 
    </div> 
   </div> 
  </header> 
  <a id="main-content" name="main-content"></a> 
  <div class="page"> 
   <section id="" class="leadin-full-width blue_bkgd"> 
    <div class="inner"> 
     <div class="leadin__content content max-width-7col"> 
      <h6><a href="/docs">Documentation</a></h6> 
      <h2>Duo&nbsp;Web</h2> 
     </div> 
    </div> 
   </section> 
   <div class="doc-details"> 
    <div class="inner"> 
     <div class="doc-nav js-doc-nav"> 
      <div class="doc-sticker js-doc-sticker"> 
       <div class="doc-table-of-contents"> 
        <h4 class="doc-nav-header">Contents</h4> 
        <div id="toc"></div> 
       </div> 
      </div> 
     </div> 
     <div class="doc-content content"> 
      <div class="docs-feedback hidden"> 
       <h4>Feedback</h4> 
       <p>Was this page helpful? Let us know how we can make it better.</p> 
      </div> 
      <div class="intro">
       <p>Duo Web makes it easy to add strong two-factor authentication to your web application. Client libraries are available for <a href="https://github.com/duosecurity/duo_python">Python</a>, <a href="https://github.com/duosecurity/duo_ruby">Ruby</a>, <a href="https://github.com/duosecurity/duo_classicasp">Classic ASP</a>, <a href="https://github.com/duosecurity/duo_dotnet">ASP.NET</a>, <a href="https://github.com/duosecurity/duo_java">Java</a>, <a href="https://github.com/duosecurity/duo_php">PHP</a>, <a href="https://github.com/duosecurity/duo_nodejs">Node.js</a>, <a href="https://github.com/duosecurity/duo_coldfusion">ColdFusion</a>, and <a href="https://github.com/duosecurity/duo_perl">Perl</a>.</p> 
      </div> 
      <h2>Overview</h2> 
      <p>Implementing Duo two-factor authentication into your site involves simply adding a second login page and splitting your login handler into two parts. You should be familiar with your web application's programming language and authentication process.</p> 
      <p>For example, a typical single factor login process looks something like this:</p> 
      <p><img src="/assets/img/documentation/duoweb/duo_web_flow_before.png" alt="Duo Web Flow Before"></p> 
      <p>After adding two-factor authentication it will look more like this:</p> 
      <p><img src="/assets/img/documentation/duoweb/duo_web_flow_after.png" alt="Duo Web Flow After"></p> 
      <p>There are three things you need to do to set this up: call <code>sign_request()</code>, add the JavaScript and IFRAME, and then call <code>verify_response()</code>.</p> 
      <h2>First Steps</h2> 
      <p>Before starting:</p> 
      <ol> 
       <li><a href="//signup.duo.com">Sign up for a Duo account</a>.</li> 
       <li>Log in to the <a href="https://admin.duosecurity.com">Duo Admin Panel</a> and navigate to <strong>Applications</strong>.</li> 
       <li>Click <strong>Protect an Application</strong> and locate <strong>Web SDK</strong> in the applications list. Click <strong>Protect this Application</strong> to get your <strong>integration key</strong>, <strong>secret key</strong>, and <strong>API hostname</strong>. (See <a href="/docs/getting_started">Getting Started</a> for help.)</li> 
       <li>Download and install a supported client library (<a href="https://github.com/duosecurity/duo_python">Python</a>, <a href="https://github.com/duosecurity/duo_ruby">Ruby</a>, <a href="https://github.com/duosecurity/duo_classicasp">Classic ASP</a>, <a href="https://github.com/duosecurity/duo_dotnet">ASP.NET</a>, <a href="https://github.com/duosecurity/duo_java">Java</a>, <a href="https://github.com/duosecurity/duo_php">PHP</a>, <a href="https://github.com/duosecurity/duo_nodejs">Node.js</a>, <a href="https://github.com/duosecurity/duo_coldfusion">ColdFusion</a>, <a href="https://github.com/duosecurity/duo_perl">Perl</a>).</li> 
       <li>Use <a href="http://www.ntp.org/">NTP</a> to ensure that your server's time is correct.</li> 
      </ol> 
      <h2>Instructions</h2> 
      <h3>1. Generate an akey</h3> 
      <p>Your akey is a string that you generate and keep secret from Duo. It should be at least 40 characters long and stored alongside your Web SDK application's integration key (<code>ikey</code>) and secret key (<code>skey</code>) in a configuration file.</p> 
      <p>You can generate a random string in Python with:</p> 
      <pre><code class="language-python">import os, hashlib
print hashlib.sha1(os.urandom(32)).hexdigest()
</code></pre> 
      <h3>2. Call <code>sign_request()</code></h3> 
      <p>After you perform primary authentication (e.g. look up a user's username and password in your database), you should call <code>sign_request()</code> which initializes the secondary authentication process.</p> 
      <p><code>sign_request()</code> takes your Duo Web application's <code>ikey</code> and <code>skey</code>, the <code>akey</code> you generated, and the username of the user who just successfully completed primary authentication. (If users can change their usernames, you'll probably want to use something that won't change, like an email address or primary key.)</p> 
      <p>For example, in Python:</p> 
      <pre><code class="language-python">sig_request = sign_request(ikey, skey, akey, username)
</code></pre> 
      <div class="callout info"> 
       <div class="callout-heading">
        Note
       </div> 
       <p><code>sign_request()</code> performs a HMAC-SHA1 of the username, integration key, and an expiration timestamp, using the application's secret key as the HMAC key. By generating this server-side and after primary authentication, Duo is assured that the user is indeed authorized to proceed to the secondary stage of authentication.</p> 
      </div> 
      <h3>3. Show the IFRAME</h3> 
      <p>After generating the signed request, your server should now display a second page that will contain the Duo IFRAME used for secondary authentication.</p> 
      <p>Duo's JavaScript handles the setup and communication between the IFRAME, the user, and your server. First, you will need to include a short snippet of JavaScript in the page.</p> 
      <pre><code>&lt;script src="<span class="toreplace">/path/to/Duo-Web-v2.js</span>"&gt;&lt;/script&gt;</code></pre> 
      <p>You can find the JavaScript library <a href="https://api.duosecurity.com/frame/hosted/Duo-Web-v2.js">here</a>, or the minified version <a href="https://api.duosecurity.com/frame/hosted/Duo-Web-v2.min.js">here</a>.</p> 
      <p>Then, you will need to include an IFRAME on the page with an id of <code>duo_iframe</code>. This is where the secondary authentication prompt will appear.</p> 
      <pre><code>&lt;iframe id="duo_iframe"
        data-host="<span class="toreplace">host</span>"
        data-sig-request="<span class="toreplace">sig_request</span>"
        data-post-action="<span class="toreplace">post_action</span>"&gt;
&lt;/iframe&gt;
</code></pre> 
      <p>In this example, the <code>iframe</code> is configured with the following attributes:</p> 
      <table> 
       <tbody> 
        <tr> 
         <td> <code class="toreplace">data-host</code> </td> 
         <td> Your API hostname (i.e. <code>api-XXXXXXXX.duosecurity.com</code>) </td> 
        </tr> 
        <tr> 
         <td> <code class="toreplace">data-sig-request</code> </td> 
         <td> The signed request generated by <code>sign_request()</code> </td> 
        </tr> 
        <tr> 
         <td> <code class="toreplace">data-post-action</code> </td> 
         <td> The server-side URI of where the secondary authentication results (the signed response) should be POSTed to </td> 
        </tr> 
       </tbody> 
      </table> 
      <p>Refer to the <a href="#appendices">full list</a> of <code>iframe</code> attributes for more options.</p> 
      <p>If you would like the frame to fit on smaller screen devices, like phones and tablets, you should use CSS to set the frame's dimensions:</p> 
      <pre><code>&lt;iframe id="duo_iframe"
        data-host="<span class="toreplace">host</span>"
        data-sig-request="<span class="toreplace">sig_request</span>"
        data-post-action="<span class="toreplace">post_action</span>"&gt;
&lt;/iframe&gt;
&lt;style&gt;
  #duo_iframe {
    width: 100%;
    min-width: 304px;
    max-width: 620px;
    height: 330px;
    border: none;
  }
&lt;/style&gt;
</code></pre> 
      <p>To make sure the page's width and zoom is set correctly for smaller screen devices, you may want to add a viewport meta tag to your page's header:</p> 
      <pre><code class="language-markup">&lt;head&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
  ...
&lt;/head&gt;
</code></pre> 
      <p>To ensure that Internet Explorer renders the page in standards mode, add this meta tag to the top of your HTML <code>&lt;head&gt;</code>.</p> 
      <pre><code class="language-markup">&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
</code></pre> 
      <p>When this page loads, the JavaScript snippet will set up the IFRAME, prompt the user for secondary authentication, and POST back the results to your server.</p> 
      <h3>4. Call <code>verify_response()</code></h3> 
      <p>After the user authenticates (e.g. via phone call, SMS passcode, etc.) the IFRAME will generate a signed response called <code>sig_response</code> and POST it back to the <code>post_action</code> URL. Your server-side code should then call <code>verify_response()</code> to verify that the signed response is legitimate.</p> 
      <p><code>verify_response()</code> takes your integration key (<code>ikey</code>), secret key (<code>skey</code>), integration secret key (<code>akey</code>), and the signed response as inputs. It will return the username of the authenticated user if the response is valid, or null (None in Python, Nil in Ruby, etc.) if the response is invalid.</p> 
      <p>For example, in Python:</p> 
      <pre><code class="language-python">sig_response = self.get_argument("sig_response") # for example (if using Tornado: http://www.tornadoweb.org/en/stable/documentation.html)
authenticated_username = verify_response(ikey, skey, akey, sig_response)
if authenticated_username:
  log_user_in(authenticated_username)
</code></pre> 
      <p>After ensuring that the username returned by <code>verify_response()</code> is not null, your application can set whatever identifier is necessary (e.g. cookie, session state, etc.) to indicate that the user has successfully authenticated. If your application preserves state and you know the login username, you should verify that authenticated_username returned from <code>verify_response()</code> matches that username before proceeding.</p> 
      <div class="callout info"> 
       <h4>Note</h4> 
       <p><code>verify_response()</code> verifies the HMAC-SHA1 signature on the signed response to ensure it was properly signed by Duo and not modified by the client in any way.</p> 
      </div> 
      <h2>Appendices</h2> 
      <h3><code>iframe</code> configuration attributes</h3> 
      <table> 
       <tbody> 
        <tr> 
         <th> Attribute Name </th> 
         <th> Value </th> 
         <th> Required? </th> 
         <th> Default </th> 
        </tr> 
        <tr> 
         <td> <code>data-host</code> </td> 
         <td> Your API hostname (i.e. <code>api-XXXXXXXX.duosecurity.com</code>) </td> 
         <td> <span class="important">Required</span> </td> 
         <td> </td> 
        </tr> 
        <tr> 
         <td> <code>data-sig-request</code> </td> 
         <td> The signed request generated by sign_request() </td> 
         <td> <span class="important">Required</span> </td> 
         <td> </td> 
        </tr> 
        <tr> 
         <td> <code>data-iframe</code> </td> 
         <td> The <code>id</code> of the iframe to initialize </td> 
         <td> Optional </td> 
         <td> <code>duo_iframe</code> </td> 
        </tr> 
        <tr> 
         <td> <code>data-post-action</code> </td> 
         <td> The URL to POST the signed response to </td> 
         <td> Optional </td> 
         <td> "" (i.e. post back to same page, like a form with an empty action) </td> 
        </tr> 
        <tr> 
         <td> <code>data-post-argument</code> </td> 
         <td> The argument for signed response in <code>post_action</code> </td> 
         <td> Optional </td> 
         <td> <code>sig_response</code> </td> 
        </tr> 
        <tr> 
         <td> <code>data-submit-callback</code> </td> 
         <td> Callback to execute, with the reference to the <code>duo_form</code> object. If provided, the Duo Web SDK will not submit the form on 2fa, it will only call the specified callback. This can be used to prevent the webpage from reloading. </td> 
         <td> Optional </td> 
         <td> <code></code> </td> 
        </tr> 
       </tbody> 
      </table> 
      <h3>Passing additional POST arguments with the signed response</h3> 
      <p>Duo's JavaScript will pass additional arguments found in a <code>duo_form</code> form with the signed response. For example:</p> 
      <pre><code class="language-markup">&lt;form method="POST" id="duo_form"&gt;
 &lt;input type="hidden" name="next" value="next" /&gt;
&lt;/form&gt;
</code></pre> 
      <p>Note that while the signed response is protected from spoofing by its signature and expiration, you must provide any such protection for these additional arguments yourself.</p> 
      <h3>Example: Duo for WordPress</h3> 
      <p>Take a look at the <a href="https://github.com/duosecurity/duo_wordpress">duo_wordpress</a> code for an example implementation of Duo Web.</p> 
      <p></p>
      <h2 id="troubleshooting">Troubleshooting</h2> 
      <p>Need some help? Take a look at our <a href="https://help.duo.com/s/search/All/Home/WebSDK" alt="Knowledge Base articles">WebSDK Knowledge Base articles</a> or <a href="https://community.duo.com" alt="Community discussions">Community discussions</a>. For further assistance, contact <a href="/support">Support</a>.</p> 
      <p></p> 
      <h2>Network Diagram</h2> 
      <p><img src="/assets/img/documentation/duoweb/websdk_network_diagram.png" class="figure"></p> 
      <ol> 
       <li>Web Application or Service connection initiated</li> 
       <li>Primary authentication</li> 
       <li>Web Application or Service connection established to Duo Security over TCP port 443</li> 
       <li>Secondary authentication via Duo Security’s service</li> 
       <li>Web Application or Service receives authentication response</li> 
       <li>Web Application or Service session logged in</li> 
      </ol> 
      <div class="case-study-cta"> 
       <h4>Ready to Get Started?</h4> 
       <a class="button external" href="https://signup.duo.com" target="_blank">Sign Up Free</a> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
  <footer class="site-footer"> 
   <div class="inner"> 
    <ul class="contact-info-list"> 
     <li class="contact-info-li"> <span class="contact-info-label">Contact Support</span> <span class="contact-info"><a href="mailto:support@duo.com">support@duo.com</a></span> </li> 
     <li class="contact-info-li"> <span class="contact-info-label">Call Sales</span> <span class="contact-info"><a href="tel:866-760-4247">1.866.760.4247</a></span> </li> 
     <li class="contact-info-li"> <span class="contact-info-label">Email Sales</span> <span class="contact-info"><a href="/about/contact">Contact Sales</a></span> </li> 
    </ul> 
    <hr> 
    <ul class="footer-nav-list footer-col-one"> 
     <li class="footer-nav-li"><span class="footer-labels"><a class="footer-nav-link" href="/product/trusted-users">Trusted Users</a></span> 
      <ul class="footer-child-nav"> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/trusted-users/two-factor-authentication">Two-Factor Authentication</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/trusted-users/two-factor-authentication/duo-mobile">Duo Mobile</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/trusted-users/two-factor-authentication/authentication-methods">Authentication Methods</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/trusted-users/user-access-policies">User Access Policies</a></li> 
      </ul> </li> 
     <li class="footer-nav-li"><span class="footer-labels"><a class="footer-nav-link" href="/product/trusted-devices">Trusted Devices</a></span> 
      <ul class="footer-child-nav"> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/trusted-devices/device-insight">Device Insight</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/trusted-devices/endpoint-remediation">Endpoint Remediation</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/trusted-devices/self-remediation">Self-Remediation</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/trusted-devices/device-access-policies">Device Access Policies</a></li> 
      </ul> </li> 
     <li class="footer-nav-li"><span class="footer-labels"><a class="footer-nav-link" href="/product/every-application">Every Application</a></span> 
      <ul class="footer-child-nav"> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/every-application/supported-applications/cloud-apps">Duo Access Gateway</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/every-application/single-sign-on">Single Sign-On (SSO)</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/every-application/supported-applications">Supported Applications</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/product/every-application/application-access-policies">Application Access Policies</a></li> 
      </ul> </li> 
    </ul> 
    <ul class="footer-nav-list footer-col-two"> 
     <li class="footer-nav-li"><span class="footer-labels"><a class="footer-nav-link" href="/use-cases">Use Cases</a></span> 
      <ul class="footer-child-nav"> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/industry-solutions/education">Education</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/industry-solutions/government">Federal</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/industry-solutions/financial">Financial</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/industry-solutions/healthcare">Healthcare</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/industry-solutions/legal">Legal</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/industry-solutions/retail">Retail</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/industry-solutions/technology">Technology</a></li> 
      </ul> </li> 
     <li class="footer-nav-li"><span class="footer-labels"><a class="footer-nav-link" href="/use-cases/case-studies">Case Studies</a></span> 
      <ul class="footer-child-nav"> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/case-studies/etsy">Etsy</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/case-studies/threadless">Threadless</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/case-studies/eventbrite">Eventbrite</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/case-studies/facebook">Facebook</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/case-studies/yelp">Yelp</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/use-cases/case-studies">View All</a></li> 
      </ul> </li> 
    </ul> 
    <ul class="footer-nav-list footer-col-three"> 
     <li class="footer-nav-li"><span class="footer-labels"><a class="footer-nav-link" href="/resources">Resources</a></span> 
      <ul class="footer-child-nav"> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/resources/ebooks">Ebooks</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/resources/videos">Videos</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/resources/infographics">Infographics</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/resources/events">Events &amp; Webinars</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/resources/glossary">InfoSec Glossary</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/resources/duo-insight">Phishing Tool</a></li> 
      </ul> </li> 
     <li class="footer-nav-li"><span class="footer-labels"><a class="footer-nav-link" href="/support">Support</a></span> 
      <ul class="footer-child-nav"> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/docs">Documentation</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="https://help.duo.com">Knowledge Base</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="https://status.duo.com">Status</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="https://guide.duo.com">End-User Guide</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="https://community.duo.com">Community</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/support#support-phone-numbers">Contact Support</a></li> 
      </ul> </li> 
    </ul> 
    <ul class="footer-nav-list footer-col-four"> 
     <li class="footer-nav-li"><span class="footer-labels"><a class="footer-nav-link" href="/about">About Duo</a></span> 
      <ul class="footer-child-nav"> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/blog">Blog</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/about/careers">Careers</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/about/culture">Culture</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/about/press">Press</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/about/contact">Contact Us</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/partners/managed-service-providers">MSP Program</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/labs/disclosure">Disclosure Policy</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/labs/security-response">Security Response</a></li> 
      </ul> </li> 
     <li class="footer-nav-li"><span class="footer-labels"><a class="footer-nav-link" href="/legal/terms">Legal</a></span> 
      <ul class="footer-child-nav"> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/legal/terms">Terms of Service</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/legal/privacy">Privacy Policy</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/legal/cookies">Cookie Policy</a></li> 
      </ul> </li> 
     <li class="footer-nav-li"><span class="footer-labels"><a class="footer-nav-link" href="/pricing">Pricing</a></span> 
      <ul class="footer-child-nav"> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/pricing/duo-free">Duo Free</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/pricing/duo-mfa">Duo MFA</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/pricing/duo-access">Duo Access</a></li> 
       <li class="footer-child-nav-li"><a class="footer-child-nav-link" href="/pricing/duo-beyond">Duo Beyond</a></li> 
      </ul> </li> 
    </ul> 
    <div class="footer-col-five t-icon--dark"> 
     <div class="newsletter-signup-main content"> 
      <span class="newsletter-signup-main__title">Stay Up To Date</span> 
      <p>Get monthly blogs, research, news, and more right to your inbox.</p> 
      <script src="//app-sj02.marketo.com/js/forms2/js/forms2.min.js"></script> 
      <form id="mktoForm_1556"></form> 
      <script>
    MktoForms2.loadForm("//app-sj02.marketo.com", "074-UQX-410", 1556, function(form) {
    form.onSuccess(function(values, followUpUrl) {
      form.getFormElem().hide();
      $('#js-newsletter-success').removeClass('hidden');
      $('#js-newsletter-success').addClass('visible');
        return false;
      });
    });
  </script> 
      <p id="js-newsletter-success" class="newsletter-signup-main__success success-message hidden">Thanks for signing up!</p> 
     </div> 
     <div class="social-icons"> 
      <span class="social-icons-title">Keep In Touch</span> 
      <ul class="social-icons-list"> 
       <li class="social-icon"><a href="https://www.facebook.com/duosec/">
         <svg class="icon-facebook-1">
          <use xlink:href="#icon-facebook-1"></use>
         </svg></a></li> 
       <li class="social-icon"><a href="https://twitter.com/duosec">
         <svg class="icon-twitter">
          <use xlink:href="#icon-twitter"></use>
         </svg></a></li> 
       <li class="social-icon"><a href="https://www.instagram.com/duosec/">
         <svg class="icon-instagram">
          <use xlink:href="#icon-instagram"></use>
         </svg></a></li> 
       <li class="social-icon"><a href="https://dribbble.com/duosec">
         <svg class="icon-dribbble">
          <use xlink:href="#icon-dribbble"></use>
         </svg></a></li> 
       <li class="social-icon"><a href="https://www.linkedin.com/company/duo-security">
         <svg class="icon-linkedin">
          <use xlink:href="#icon-linkedin"></use>
         </svg></a></li> 
       <li class="social-icon"><a href="https://plus.google.com/+DuoSecurity">
         <svg class="icon-googleplus">
          <use xlink:href="#icon-googleplus"></use>
         </svg></a></li> 
      </ul> 
     </div> 
    </div> 
    <div class="footer-utility"> 
     <div class="copyright-info">
      © 2017 Duo
     </div> 
     <ul class="other-sites"> 
      <li class="other-sites-li"><a class="other-sites-link js-other-site-en other-sites-active" href="https://duo.com/">English</a></li> 
      <li class="other-sites-li"><a class="other-sites-link js-other-site-fr" href="https://fr.duo.com">Français</a></li> 
      <li class="other-sites-li"><a class="other-sites-link js-other-site-de" href="https://de.duo.com">Deutsch</a></li> 
     </ul> 
    </div> 
    <div class="go-to-top-wrap">
     <a class="go-to-top-btn" href="#"><i class="icon-chevron-thick-up"></i></a>
    </div> 
   </div> 
  </footer> 
  <!-- js scripts --> 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> 
  <script src="/site/themes/duo/js/build/production-2017.min.js?v=1506978971"></script> 
  <!-- wistia video js --> 
  <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script> 
  <!-- OLARK only on /support --> 
  <!-- Phone number change on homepage --> 
  <!-- Press Index - show / hide all press releases --> 
  <!-- Fontastic SVG Icon Sprite --> 
  <script src="https://file.myfontastic.com/w67C5rU7rS3nhosptu567M/icons.js"></script> 
  <!-- Google Tag Manager --> 
  <noscript>
   <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MFPB9D" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript> 
  <!-- End Google Tag Manager --> 
  <!-- Begin Inspectlet Embed Code --> 
  <script type="text/javascript" id="inspectletjs">
window.__insp = window.__insp || [];
__insp.push(['wid', 679911470]);
(function() {
function ldinsp(){if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
setTimeout(ldinsp, 500); document.readyState != "complete" ? (window.attachEvent ? window.attachEvent('onload', ldinsp) : window.addEventListener('load', ldinsp, false)) : ldinsp();
})();
</script> 
  <!-- End Inspectlet Embed Code --> 
  <script src="//cdn.optimizely.com/js/160504861.js"></script>   
 </body>
</html>