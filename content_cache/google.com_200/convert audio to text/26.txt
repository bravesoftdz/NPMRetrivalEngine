<!doctype html>
<html lang="en">
 <head> 
  <meta charset="utf-8"> 
  <title>Fun Programming - Processing.js with sound / audio (I)</title> 
  <link type="text/css" rel="stylesheet" href="beauty.css"> 
  <link rel="canonical" href="http://funprogramming.org/141-Processing-js-with-sound-audio-I.html"> 
  <link rel="shortcut icon" type="image/png" href="/favicon.png"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
 </head> 
 <body> 
  <div id="main"> 
   <header> 
    <div id="header"> 
     <a href="https://funprogramming.org"><img alt="Fun Programming logo" src="i/funprogramming.png"></a> 
    </div> 
    <div id="subheader"> 
     <h2>Learn creative coding writing simple programs</h2> 
    </div> 
   </header> 
   <div id="video"> 
    <h3><span class="number">141.</span> <a href="141-Processing-js-with-sound-audio-I.html">Processing.js with sound / audio (I)</a></h3> 
    <p id="videoplayer"><iframe src="https://player.vimeo.com/video/77833485?byline=0&amp;portrait=0&amp;color=ffa319" width="760" height="570" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></p> 
    <nav> 
     <p id="prev_next_links"></p> 
    </nav> 
    <p id="videosummary" class="clear">This episode is special, as it is not about programming concepts in general, but about how to add sound to a processing.js program. You won't miss any important programming concepts if you skip it. <br> <br> Part I.<br> <br> Any libraries you import in the standard version of Processing are not available in Processing.js, so we need to think of another approach to play sound files.<br> <br> What we will do is to use JavaScript to play sounds. JavaScript is a programming language that runs in the browser. In fact, Processing.js programs are automatically converted to JavaScript, but that's something invisible to us.<br> <br> So Processing.js will take care of the graphics, and JavaScript will play sounds. We will have two programming languages, and we must find a way to communicate them.<br> <br> After making sure Processing is running in the JavaScript mode, we can use a menu option to create a custom template. This will create a folder called template inside our sketch folder. <br> <br> In that folder we will find an html file where we will write our JavaScript code to play sound. Also inside that folder we will drop the unzipped audio library, which we download from http://buzz.jaysalvat.com, and the audio files we want to play. I recommend saving the sounds both in .mp3 and in .ogg format, to make sure it plays in different browsers.<br> <br> We will edit the file template.html using a text editor. One new line will instruct the web page to load the audio library. Other lines will make the sound files ready for use. <br> <br> Before we learn how to communicate Processing with JavaScript, we will create two temporary HTML buttons to play the sounds, just to make sure things are working.<br> <br> You have probably noticed that we are doing things a bit different this time. Normally all the code of our program is Processing code. In this case we have both Processing code and JavaScript code. It's weird, but it works :)<br> <br> The files from this episode can be found at: https://github.com/hamoid/Fun-Programming/tree/master/processing/06/e141_pjs_audio<br> <br> Note: in the Examples menu of Processing there are some processing.js programs that include audio, but they did not work on my computer.</p> 
    <p id="videotags">Tags: pjs, audio, sound</p> 
    <h3>Code editor</h3> 
    <div id="p5display"> 
     <div id="p5container"></div> 
    </div> 
    <div>
      You can make changes to the code below. Then 
     <button id="but_run">run this program (Ctrl+R)</button> 
     <button id="but_stop">Stop (Esc)</button> 
    </div> 
    <div id="sourcewords">
     <b>Reference</b>
     <br>
     <a href="http://processing.org/reference/background_.html" target="p5ref">background</a>
     <br> 
     <a href="http://processing.org/reference/draw_.html" target="p5ref">draw</a>
     <br> 
     <a href="http://processing.org/reference/fill_.html" target="p5ref">fill</a>
     <br> 
     <a href="http://processing.org/reference/height.html" target="p5ref">height</a>
     <br> 
     <a href="http://processing.org/reference/if.html" target="p5ref">if</a>
     <br> 
     <a href="http://processing.org/reference/int.html" target="p5ref">int</a>
     <br> 
     <a href="http://processing.org/reference/noStroke_.html" target="p5ref">noStroke</a>
     <br> 
     <a href="http://processing.org/reference/null.html" target="p5ref">null</a>
     <br> 
     <a href="http://processing.org/reference/random_.html" target="p5ref">random</a>
     <br> 
     <a href="http://processing.org/reference/rect_.html" target="p5ref">rect</a>
     <br> 
     <a href="http://processing.org/reference/setup_.html" target="p5ref">setup</a>
     <br> 
     <a href="http://processing.org/reference/size_.html" target="p5ref">size</a>
     <br> 
     <a href="http://processing.org/reference/void.html" target="p5ref">void</a>
     <br> 
     <a href="http://processing.org/reference/width.html" target="p5ref">width</a>
     <br>
    </div> 
    <div id="editor" class="editor"></div> 
    <!-- <div class="editor">&nbsp;</div> --> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.5/ace.js" type="text/javascript" charset="utf-8"></script> 
    <script src="js/jquery-1.11.0.min.js" type="text/javascript"></script> 
    <script src="js/jquery.linkify.min.js" type="text/javascript"></script> 
    <script src="js/processing-1.4.1.min.js" type="text/javascript" charset="utf-8"></script> 
    <script src="js/highlight.pack.js" type="text/javascript"></script> 
    <script src="js/video_page.js" type="text/javascript"></script> 
    <h3>Questions and comments</h3> 
    <div class="aboutcomments"> 
     <p>Try to stay close to the topic of this episode. Use the Processing forums for help with unrelated Processing projects (or hire me for help ;-)</p> 
     <p> To indicate that a word in your comment is code, use the `backtick`. Example<br> <code>&nbsp; Do `float` and `int` smell similar?<br></code> To highlight code blocks, use ```processing and ``` like this:<br> <code> &nbsp; ```processing<br> &nbsp; void setup() {<br> &nbsp; &nbsp; size(600, 600);<br> &nbsp; }<br> &nbsp; ```<br> </code> </p> 
    </div> 
    <script type="text/javascript">
              (function() {
                  editor.setValue('interface JavaScript {\n  void playSound0();\n  void playSound1();\n}\nvoid bindJavascript(JavaScript js) {\n  javascript = js;\n}\nJavaScript javascript;\n\nint x, dx;\nvoid setup() {\n  size(200, 200);\n  noStroke();\n  x = 20;\n  dx = 6;\n}\nvoid draw() {\n  background(100);\n  fill(random(255),0,0);\n  rect(x, 0, 5, height);\n  x = x + dx;\n  if(x < 1) {\n    if(javascript != null) {\n      javascript.playSound0();\n    }\n    x = 0;\n    dx = 2;\n  }\n  if(x > width) {\n    if(javascript != null) {\n      javascript.playSound1();\n    }\n    x = width;\n    dx = -3;    \n  }  \n}\n\n\n\n\n');
                  editor.gotoLine(1);
              })();
          </script> 
    <!-- New comments that respect users privacy --> 
    <script data-isso="https://www.funprogramming.org/isso/" data-isso-reply-to-self="true" data-isso-lang="en" data-isso-avatar="false" data-isso-require-author="true" data-isso-require-email="false" data-isso-max-comments-top="15" data-isso-max-comments-nested="5" data-isso-reveal-on-click="10" data-isso-vote="true" data-isso-vote-levels="-5,0,5" src="/isso/js/embed.min.js">
          </script> 
    <section id="isso-thread"></section> 
   </div> 
  </div> 
  <footer> 
   <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="i/cc_by_sa.png"></a>
   <br>
   <span property="dc:title">Fun Programming</span> by 
   <a href="https://funprogramming.org" property="cc:attributionURL"><span property="cc:attributionName">Abe Pazos</span></a> is licensed under a 
   <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>. 
  </footer>  
  <script src="js/header.js" type="text/javascript"></script>   
 </body>
</html>