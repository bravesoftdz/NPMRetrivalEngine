<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" prefix="og: http://ogp.me/ns#">
 <!--<![endif]-->
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <title>How to store text and binary data with Node.js writable streams (streams2) - a programming tutorial for web developers | CodeWinds</title> 
  <meta name="description" content="How to store data with node.js writable streams. How to create your own custom writable node.js streams."> 
  <meta name="keywords" content="web, developer, training, fullstack, live classes, private classes, custom classes, webinars, screencasts, video, audio, online training, tutorials, video tutorials, classes, react.js, reactjs, javascript, js, es6, es7, node.js, nodejs, iojs, html, html5, functional programming, reactive programming, rxjs, redux"> 
  <meta name="author" content="Jeff Barczewski"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <!-- Icons --> 
  <link rel="shortcut icon" href="/favicon.ico"> 
  <link rel="icon" type="image/png" sizes="64x64" href="/assets/favicon-64.png"> 
  <link rel="icon" type="image/png" sizes="128x128" href="/assets/favicon-128.png"> 
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/favicon-57.png"> 
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/favicon-114.png"> 
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/favicon-144.png"> 
  <link href="/blog-atom.xml" type="application/atom+xml" rel="alternate" title="Blog ATOM Feed"> 
  <meta property="og:type" content="article"> 
  <meta property="og:title" content="How to store text and binary data with Node.js writable streams (streams2) - a programming tutorial for web developers | CodeWinds"> 
  <meta property="og:image" content="http://codewinds.com/assets/codewinds/codewinds-training-1400.png"> 
  <meta property="og:url" content="http://codewinds.com/blog/2013-08-19-nodejs-writable-streams.html"> 
  <meta property="og:description" content="How to store data with node.js writable streams. How to create your own custom writable node.js streams."> 
  <meta property="og:locale" content="en_US"> 
  <meta property="og:site_name" content="CodeWinds"> 
  <meta property="twitter:title" content="How to store text and binary data with Node.js writable streams (streams2) - a programming tutorial for web developers | CodeWinds"> 
  <meta property="twitter:image" content="http://codewinds.com/assets/codewinds/codewinds-training-1400.png"> 
  <meta property="twitter:url" content="http://codewinds.com/blog/2013-08-19-nodejs-writable-streams.html"> 
  <meta property="twitter:description" content="How to store data with node.js writable streams. How to create your own custom writable node.js streams."> 
  <meta property="twitter:site" content="@codewinds"> 
  <meta property="twitter:creator" content="@jeffbski"> 
  <meta property="twitter:card" content="summary"> 
  <link href="//fonts.googleapis.com/css?family=Gentium+Basic:400,700italic|Source+Code+Pro|Open+Sans:400,600|Sail" rel="stylesheet" type="text/css"> 
  <!-- Shims: IE6-8 support of HTML5 elements --> 
  <!--[if lt IE 9]>
		<script async src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]--> 
  <!-- DocPad Styles + Our Own --> 
  <link rel="stylesheet" href="/assets/site.min.css"> 
 </head> 
 <body> 
  <nav class="masthead"> 
   <a class="brand" href="/">CodeWinds</a> 
   <a class="nav-toggle">Menu</a> 
   <div class="nav-collapse"> 
    <ul> 
     <li typeof="sioc:Page" about="/about.html" class=""> <a href="/about.html" property="dc:title">About</a> </li> 
     <li typeof="sioc:Page" about="/courses.html" class=""> <a href="/courses.html" property="dc:title">Courses</a> </li> 
     <li typeof="sioc:Page" about="/blog.html" class=""> <a href="/blog.html" property="dc:title">Blog</a> </li> 
     <li typeof="sioc:Page" about="/podcast.html" class=""> <a href="/podcast.html" property="dc:title">Podcast</a> </li> 
     <li typeof="sioc:Page" about="/contact.html" class=""> <a href="/contact.html" property="dc:title">Contact</a> </li> 
    </ul> 
   </div> 
  </nav> 
  <div class="container"> 
   <div class="content"> 
    <!--[if lt IE 9]>
              <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
            <![endif]--> 
    <section class="main"> 
     <article id="post" class="post"> 
      <h1>Storing data with Node.js writable streams</h1> 
      <div class="postContent">
       <p>This tutorial will explain how to store data with Node.js writable streams and how to create your own custom writable stream.</p> 
       <div id="toc">
        <ol>
         <li><a href="#storing_data_with_writable_streams">Storing data with writable streams</a>
          <ol>
           <li><a href="#writing_text_file">Writing text file</a></li>
           <li><a href="#writing_binary_file">Writing binary file</a></li>
           <li><a href="#knowing_when_file_has_been_written">Knowing when file has been written</a></li>
          </ol></li>
         <li><a href="#creating_custom_node_js_writable_streams">Creating custom Node.js writable streams</a>
          <ol>
           <li><a href="#creating_writable_memory_stream">Creating writable memory stream</a></li>
          </ol></li>
         <li><a href="#writable_streams_are_elegant_and_simple_to_use">Writable streams are elegant and simple to use</a></li>
         <li><a href="#for_additional_reading">For additional reading</a></li>
        </ol>
       </div> 
       <h4 id="version-information">Version Information</h4> 
       <ul> 
        <li>Author: Jeff Barczewski</li> 
        <li>Published: August 18th, 2013</li> 
        <li>Tags: nodejs, streams</li> 
        <li>Level: Intermediate</li> 
        <li>Prerequisites: buffers, events, install npm modules</li> 
        <li>Node.js v0.10+ (latest stable is v0.10.16 as of this writing), but streams have generally been a part of Node.js from its early days</li> 
        <li>Streams2 Writable abstract class can be used with older versions (prior to v0.10) of node by using npm module readable-stream (tested with v1.0.15)</li> 
       </ul> 
       <a name="storing_data_with_writable_streams"></a>
       <h2 id="storing-data-with-writable-streams">Storing data with writable streams</h2> 
       <a name="writing_text_file"></a>
       <h3 id="writing-text-file">Writing text file</h3> 
       <p>The simplest example is just in writing utf8 text, since the default encoding if you write strings is <code>utf8</code>.</p> 
       <pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">var</span> wstream = fs.createWriteStream(<span class="hljs-string">'myOutput.txt'</span>);
wstream.write(<span class="hljs-string">'Hello world!\n'</span>);
wstream.write(<span class="hljs-string">'Another line\n'</span>);
wstream.end();
</code></pre> 
       <p>If you want to write strings with a different encoding then you can simply change the <code>createWriteStream</code> line or add encoding to each write.</p> 
       <pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> options = { <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf16le'</span> };
<span class="hljs-keyword">var</span> wstream = fs.createWriteStream(<span class="hljs-string">'foo'</span>, options);
<span class="hljs-comment">// OR add the encoding to each write</span>
wstream.write(str, <span class="hljs-string">'utf16le'</span>);
</code></pre> 
       <a name="writing_binary_file"></a>
       <h3 id="writing-binary-file">Writing binary file</h3> 
       <p>Writing a binary file is just a matter of using Buffers rather than strings for the write.</p> 
       <pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> crypto = <span class="hljs-built_in">require</span>(<span class="hljs-string">'crypto'</span>);
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">var</span> wstream = fs.createWriteStream(<span class="hljs-string">'myBinaryFile'</span>);
<span class="hljs-comment">// creates random Buffer of 100 bytes</span>
<span class="hljs-keyword">var</span> buffer = crypto.randomBytes(<span class="hljs-number">100</span>);
wstream.write(buffer);
<span class="hljs-comment">// create another Buffer of 100 bytes and write</span>
wstream.write(crypto.randomBytes(<span class="hljs-number">100</span>));
wstream.end();
</code></pre> 
       <p>In the example above, I use <code>crypto.createRandomBytes()</code> to create a Buffer of data, but you can use binary data that you create or read from another source just as easily.</p> 
       <a name="knowing_when_file_has_been_written"></a>
       <h3 id="knowing-when-file-has-been-written">Knowing when file has been written</h3> 
       <p>Input and output are asynchronous operations in Node.js so what if we want to know when a file has been fully written? The answer is to setup listeners to events that the stream emits.</p> 
       <p>The <code>finish</code> event (added in Node.js v0.10) indicates that all data has been flushed to the underlying system.</p> 
       <pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">var</span> wstream = fs.createWriteStream(<span class="hljs-string">'myOutput.txt'</span>);
<span class="hljs-comment">// Node.js 0.10+ emits finish when complete</span>
wstream.on(<span class="hljs-string">'finish'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'file has been written'</span>);
});
wstream.write(<span class="hljs-string">'Hello world!\n'</span>);
wstream.write(<span class="hljs-string">'Another line'</span>);
wstream.end();
</code></pre> 
       <p>On Node.js prior to v0.10, you could add a cb to the <code>.end()</code> to get an indication of when that had been flushed, however <code>finish</code> takes into account any other transformations downstream and such.</p> 
       <pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">var</span> wstream = fs.createWriteStream(<span class="hljs-string">'myOutput.txt'</span>);
wstream.write(<span class="hljs-string">'Hello world!\n'</span>);
wstream.write(<span class="hljs-string">'Another line'</span>);
<span class="hljs-comment">// on Node.js older than 0.10, add cb to end()</span>
wstream.end(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'done'</span>); });
</code></pre> 
       <a name="creating_custom_node_js_writable_streams"></a>
       <h2 id="creating-custom-node-js-writable-streams">Creating custom Node.js writable streams</h2> 
       <p>When you need to create your own custom writable stream to store data in a database or other storage facility, it is easy if you use the new Streams2 <a href="http://nodejs.org/api/stream.html#stream_class_stream_writable_1" title="Node.js Writable Stream API docs for implementors">Writable</a> abstract class available natively in Node.js 0.10 or via the npm polyfill module <a href="https://github.com/isaacs/readable-stream" title="Readable stream polyfill module">readable-stream</a>.</p> 
       <p>To create a writable stream which implements all of the normal Node.js stream behavior you only have to subclass Writable and implement <code>_write(chunk, encoding, cb)</code>.</p> 
       <pre class="highlight"><code class="hljs javascript"><span class="hljs-comment">// Using Streams2 Writable from Node.js 0.10+</span>
<span class="hljs-comment">// or falling back to using a polyfill from</span>
<span class="hljs-comment">// npm module readable-stream</span>
<span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'util'</span>);
<span class="hljs-keyword">var</span> stream = <span class="hljs-built_in">require</span>(<span class="hljs-string">'stream'</span>);
<span class="hljs-keyword">var</span> Writable = stream.Writable ||
  <span class="hljs-built_in">require</span>(<span class="hljs-string">'readable-stream'</span>).Writable;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MyStream</span>(<span class="hljs-params">options</span>) </span>{
  Writable.call(<span class="hljs-keyword">this</span>, options);
}
util.inherits(MyStream, Writable);

MyStream.prototype._write = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">chunk, enc, cb</span>) </span>{
 <span class="hljs-comment">// store chunk, then call cb when done</span>
 cb();
};
</code></pre> 
       <a name="creating_writable_memory_stream"></a>
       <h3 id="creating-writable-memory-stream">Creating writable memory stream</h3> 
       <p>Here is an example which is writing to a simple in-memory datastore. We are using the name given at the creation of the stream as the key, and we append data to the value until finished.</p> 
       <pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">var</span> stream = <span class="hljs-built_in">require</span>(<span class="hljs-string">'stream'</span>);
<span class="hljs-keyword">var</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">'util'</span>);
<span class="hljs-comment">// use Node.js Writable, otherwise load polyfill</span>
<span class="hljs-keyword">var</span> Writable = stream.Writable ||
  <span class="hljs-built_in">require</span>(<span class="hljs-string">'readable-stream'</span>).Writable;

<span class="hljs-keyword">var</span> memStore = { };

<span class="hljs-comment">/* Writable memory stream */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">WMStrm</span>(<span class="hljs-params">key, options</span>) </span>{
  <span class="hljs-comment">// allow use without new operator</span>
  <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> WMStrm)) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> WMStrm(key, options);
  }
  Writable.call(<span class="hljs-keyword">this</span>, options); <span class="hljs-comment">// init super</span>
  <span class="hljs-keyword">this</span>.key = key; <span class="hljs-comment">// save key</span>
  memStore[key] = <span class="hljs-keyword">new</span> Buffer(<span class="hljs-string">''</span>); <span class="hljs-comment">// empty</span>
}
util.inherits(WMStrm, Writable);

WMStrm.prototype._write = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">chunk, enc, cb</span>) </span>{
  <span class="hljs-comment">// our memory store stores things in buffers</span>
  <span class="hljs-keyword">var</span> buffer = (Buffer.isBuffer(chunk)) ?
    chunk :  <span class="hljs-comment">// already is Buffer use it</span>
    <span class="hljs-keyword">new</span> Buffer(chunk, enc);  <span class="hljs-comment">// string, convert</span>

  <span class="hljs-comment">// concat to the buffer already there</span>
  memStore[<span class="hljs-keyword">this</span>.key] = Buffer.concat([memStore[<span class="hljs-keyword">this</span>.key], buffer]);
  cb();
};


<span class="hljs-comment">// Trying our stream out</span>
<span class="hljs-keyword">var</span> wstream = <span class="hljs-keyword">new</span> WMStrm(<span class="hljs-string">'foo'</span>);
wstream.on(<span class="hljs-string">'finish'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'finished writing'</span>);
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'value is:'</span>, memStore.foo.toString());
});
wstream.write(<span class="hljs-string">'hello '</span>);
wstream.write(<span class="hljs-string">'world'</span>);
wstream.end();
</code></pre> 
       <a name="writable_streams_are_elegant_and_simple_to_use"></a>
       <h2 id="writable-streams-are-elegant-and-simple-to-use">Writable streams are elegant and simple to use</h2> 
       <p>Writing text or binary data to Node.js streams is effortless, and even creating fully functional custom writable streams is a walk in the park with the new streams2 functionality introduced in Node.js v0.10 (or using the polyfill <a href="https://github.com/isaacs/readable-stream" title="Readable stream polyfill module">readable-stream</a> module).</p> 
       <a name="for_additional_reading"></a>
       <h2 id="for-additional-reading">For additional reading</h2> 
       <ul> 
        <li><a href="http://nodejs.org/api/crypto.html" title="Node.js Crypto API docs">Crypto API</a></li> 
        <li><a href="http://nodejs.org/api/fs.html" title="Node.js File System API docs">File System API</a></li> 
        <li><a href="http://nodejs.org/api/stream.html" title="Node.js Stream API docs">Stream API</a></li> 
        <li><a href="http://nodejs.org/api/util.html" title="Node.js Util API docs">Util API</a></li> 
        <li><a href="http://nodejs.org/api/stream.html#stream_class_stream_writable_1" title="Node.js Writable Stream API docs for implementors">Writable</a></li> 
       </ul> 
      </div> 
     </article> 
     <footer class="relatedPostsFooter"> 
     </footer> 
     <nav> 
      <div class="subscribeFeed"> 
       <a class="text" href="/blog-atom.xml">Blog Feed</a> 
       <a class="icon" href="/blog-atom.xml"><img src="/assets/feed-icon.svg" alt="feed" title="News feed"></a> 
      </div> 
     </nav> 
    </section> 
    <div id="disqusDivAll"> 
     <div id="disqus_thread"></div> 
     <script type="text/javascript">
                var disqus_shortname = 'codewinds'; // required
                var disqus_identifier = 'blog-2013-08-19-nodejs-writable-streams';
                var disqus_title = 'Storing data with Node.js writable streams';
                var disqus_url = 'http://codewinds.com/blog/2013-08-19-nodejs-writable-streams.html';

                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
        </script> 
    </div> 
   </div> 
  </div> 
  <aside class="sidebar"> 
   <div class="logoAndSlogan"> 
    <div class="logo">
     CodeWinds
    </div> 
    <div class="slogan">
     Helping web developers to navigate the winds of change
    </div> 
    <img class="sitePhoto" src="/assets/dsc_2003_200px.jpg" alt="Sailboat" title="Navigate the codewinds"> 
   </div> 
   <div class="subscribeForm"></div> 
   <section class="miniProfile"> 
    <div class="photo"> 
     <img src="/assets/jeff/dsc_7809_crop-200px.jpg" alt="Jeff Barczewski" title="Jeff Barczewski" width="100"> 
    </div> 
    <div class="fullName">
     Jeff Barczewski
    </div> 
    <div class="role">
     Your CodeWinds host
    </div> 
   </section> 
   <nav class="twitter-posts"></nav> 
   <nav class="follow"> 
    <h1>Follow me</h1> 
    <div class="addthis_toolbox addthis_default_style"> 
     <a href="https://twitter.com/jeffbski" title="Follow me on Twitter"><img src="/assets/social-network/twitter-white.png" alt="Twitter"></a> 
     <a href="https://www.facebook.com/jeffbski" title="Follow me on Facebook"><img src="/assets/social-network/facebook-white.png" alt="Facebook"></a> 
     <a href="https://www.linkedin.com/in/jeffbski" title="Follow me on LinkedIn"><img src="/assets/social-network/linkedin-white.png" alt="LinkedIn"></a> 
     <a href="https://google.com/+JeffBarczewski?rel=author" title="Follow me on Google Plus"><img src="/assets/social-network/google-plus-white.png" alt="Google Plus"></a> 
     <a href="https://github.com/jeffbski" title="Follow me on Github"><img src="/assets/social-network/github-white.png" alt="Github"></a> 
    </div> 
   </nav> 
   <nav class="podcast-sidebar"> 
    <a href="/podcast.html" title="CodeWinds Podcast - web developer news and training"> <img src="/assets/codewinds/codewinds-podcast-200.png" alt="CodeWinds Podcast"> </a> 
   </nav> 
   <nav class="sharing"> 
    <h1>Share this page</h1> 
    <div class="sharing_toolbox"> 
     <a rel="nofollow" class="addthis_button_twitter" addthis:url="http://codewinds.com/blog/2013-08-19-nodejs-writable-streams.html" addthis:title="How to store text and binary data with Node.js writable streams (streams2) - a programming tutorial for web developers | CodeWinds" addthis:description="How to store data with node.js writable streams. How to create your own custom writable node.js streams." title="Share on Twitter"><img src="/assets/social-network/twitter-white.png" alt="Twitter"></a> 
     <a rel="nofollow" class="addthis_button_facebook" addthis:url="http://codewinds.com/blog/2013-08-19-nodejs-writable-streams.html" addthis:title="How to store text and binary data with Node.js writable streams (streams2) - a programming tutorial for web developers | CodeWinds" addthis:description="How to store data with node.js writable streams. How to create your own custom writable node.js streams." title="Share on Facebook"><img src="/assets/social-network/facebook-white.png" alt="Facebook"></a> 
     <a rel="nofollow" class="addthis_button_linkedin" addthis:url="http://codewinds.com/blog/2013-08-19-nodejs-writable-streams.html" addthis:title="How to store text and binary data with Node.js writable streams (streams2) - a programming tutorial for web developers | CodeWinds" addthis:description="How to store data with node.js writable streams. How to create your own custom writable node.js streams." title="Share on LinkedIn"><img src="/assets/social-network/linkedin-white.png" alt="LinkedIn"></a> 
     <a rel="nofollow" class="addthis_button_google_plusone_share" addthis:url="http://codewinds.com/blog/2013-08-19-nodejs-writable-streams.html" addthis:title="How to store text and binary data with Node.js writable streams (streams2) - a programming tutorial for web developers | CodeWinds" addthis:description="How to store data with node.js writable streams. How to create your own custom writable node.js streams." title="Share on Google Plus"><img src="/assets/social-network/google-plus-white.png" alt="Google Plus"></a> 
     <a rel="nofollow" class="addthis_button_expanded" addthis:url="http://codewinds.com/blog/2013-08-19-nodejs-writable-streams.html" addthis:title="How to store text and binary data with Node.js writable streams (streams2) - a programming tutorial for web developers | CodeWinds" addthis:description="How to store data with node.js writable streams. How to create your own custom writable node.js streams." title="Share on other social media"><img src="/assets/social-network/plus-white.png" alt="Extra"></a> 
    </div> 
   </nav> 
  </aside> 
  <footer class="bottom"> 
   <div> 
    <span class="copyright">CodeWinds™ © Inspired Horizons 2013 - 2017 <span class="rights-reserved">All rights reserved.</span></span> 
    <span class="privacy"><a href="/privacy.html">Privacy Policy</a></span> 
    <span class="sitemap"><a href="/sitemap.html">Sitemap</a></span> 
    <span class="contact"><a href="/contact.html">Contact</a></span> 
   </div> 
   <div> 
    <span class="NodejsTrademark">Node.js® is a registered trademark of Joyent</span> 
   </div> 
  </footer> 
  <div class="otherScripts"> 
   <!-- DocPad Scripts + Our Own --> 
   <script type="text/javascript">
  window['addSubscribeForm'] = true;
</script> 
   <script type="text/javascript">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                                     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-43068565-1', 'auto');
            ga('require', 'linkid');
            ga('require', 'autotrack');
            ga('send', 'pageview');
          </script> 
   <!-- google remarketing begin --> 
   <script type="text/javascript">
            /* <![CDATA[ */
            var google_conversion_id = 986992179;
            var google_custom_params = window.google_tag_params;
            var google_remarketing_only = true;
            /* ]]> */
          </script> 
   <script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script> 
   <noscript> 
    <div style="display:inline;"> 
     <img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/986992179/?value=0&amp;guid=ON&amp;script=0"> 
    </div> 
   </noscript> 
   <!-- google remarketing end --> 
   <script defer src="/assets/site.min.js"></script> 
   <script type="text/javascript">
            var addthis_config = {
              ui_click: false,
              data_track_clickback: false,
              data_ga_tracker: 'UA-43068565-1',
              data_ga_property: 'UA-43068565-1',
              data_ga_social : true
            };
          </script> 
   <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5203de1715e63403"></script> 
  </div>   
 </body>
</html>