<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#">
 <head> 
  <meta charset="utf-8"> 
  <title>mongoose-auth</title> 
  <meta name="description" content="User authentication plugin for mongoose node.js orm"> 
  <meta property="og:description" content="User authentication plugin for mongoose node.js orm"> 
  <meta property="og:title" content="mongoose-auth"> 
  <meta property="og:url" content="https://www.npmjs.com/package/mongoose-auth"> 
  <meta property="og:site_name" content="npm"> 
  <meta name="keywords" content=""> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:url" content="https://www.npmjs.com/package/mongoose-auth"> 
  <meta name="twitter:title" content="npm: mongoose-auth"> 
  <meta name="twitter:description" content="User authentication plugin for mongoose node.js orm"> 
  <meta http-equiv="cleartype" content="on"> 
  <meta name="apple-mobile-web-app-capable" content="no"> 
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,initial-scale=1,user-scalable=yes"> 
  <meta name="x-npm:ga:id" content="UA-47041310-1"> 
  <meta name="x-npm:ga:dimensions" content="{&quot;aboveChrome&quot;:&quot;dimension1&quot;,&quot;belowHeader&quot;:&quot;dimension3&quot;,&quot;packagePage&quot;:&quot;dimension2&quot;}"> 
  <link rel="canonical" href="https://www.npmjs.com/package/mongoose-auth"> 
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="npm"> 
  <link rel="stylesheet" media="all" href="/static/css/index.css?last-changed=6ce127b3f2f1d381a89d0ac9646eaa04"> 
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
  <![endif]--> 
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700"> 
  <script src="/static/js/index.min.js?last-changed=804eef6a8969a48ed62dc89e2bb9ce65"></script> 
  <style>
      .marketing {
  margin: 0px;
  margin-left: -10px;
  margin-bottom: 40px;
  padding: 0px 0px;
  font-size: 15px;
  font-style: normal;
  fond-variant: normal;
  fort-weight: normal;
  background: rgba(0, 0, 0, 0.02);
  border-radius: 2px;
  border: 1px solid rgba(0, 0, 0, 0.2);
  color: rgba(0, 0, 0, 0.4);
  text-decoration: none;
  letter-spacing: -0.03em;
  line-height: 22.5px;
  }
  
  .marketing a {
  font-weight: 400;
  text-decoration: none;
  color: #cb3837;
  }
  
  .marketing h3 {
  display: block;
  margin: 0;
  padding: 20px 0 10px 0;
  font-size: 20px;
  font-style: normal;
  font-variant: normal;
  font-weight: 400;
  line-height: 22px;
  text-decoration: none;
  color: rgba(0, 0, 0, 0.8);
  }
  
  .marketing h3 a {
  color: rgba(0, 0, 0, 0.8);
  }
  
  .marketing h3 a:hover {
  color: #cb3837;
  }
  
  .marketing p {
  line-height: 22.5px;
  margin-left: 10px;
  margin-right: 10px;
  }
  
  .marketing p a {
  white-space: nowrap;
  }
  
  #marketing-texthed {
  margin-left: 10px;
  }
    </style> 
  <link rel="apple-touch-icon" sizes="57x57" href="/static/images/touch-icons/apple-touch-icon-57x57.png"> 
  <link rel="apple-touch-icon" sizes="60x60" href="/static/images/touch-icons/apple-touch-icon-60x60.png"> 
  <link rel="apple-touch-icon" sizes="72x72" href="/static/images/touch-icons/apple-touch-icon-72x72.png"> 
  <link rel="apple-touch-icon" sizes="76x76" href="/static/images/touch-icons/apple-touch-icon-76x76.png"> 
  <link rel="apple-touch-icon" sizes="114x114" href="/static/images/touch-icons/apple-touch-icon-114x114.png"> 
  <link rel="apple-touch-icon" sizes="120x120" href="/static/images/touch-icons/apple-touch-icon-120x120.png"> 
  <link rel="apple-touch-icon" sizes="144x144" href="/static/images/touch-icons/apple-touch-icon-144x144.png"> 
  <link rel="apple-touch-icon" sizes="152x152" href="/static/images/touch-icons/apple-touch-icon-152x152.png"> 
  <link rel="apple-touch-icon" sizes="180x180" href="/static/images/touch-icons/apple-touch-icon-180x180.png"> 
  <link rel="icon" type="image/png" href="/static/images/touch-icons/favicon-32x32.png" sizes="32x32"> 
  <link rel="icon" type="image/png" href="/static/images/touch-icons/favicon-230x230.png" sizes="230x230"> 
  <link rel="icon" type="image/png" href="/static/images/touch-icons/favicon-96x96.png" sizes="96x96"> 
  <link rel="icon" type="image/png" href="/static/images/touch-icons/android-chrome-192x192.png" sizes="192x192"> 
  <link rel="icon" type="image/png" href="/static/images/touch-icons/coast-228x228.png" sizes="228x228"> 
  <link rel="icon" type="image/png" href="/static/images/touch-icons/favicon-16x16.png" sizes="16x16"> 
  <link rel="manifest" href="/static/images/touch-icons/manifest.json"> 
  <link rel="yandex-tableau-widget" href="/static/images/touch-icons/yandex-browser-manifest.json"> 
  <meta property="og:image" content="https://www.npmjs.com/static/images/touch-icons/open-graph.png"> 
  <meta name="apple-mobile-web-app-capable" content="yes"> 
  <meta name="msapplication-TileColor" content="#cb3837"> 
  <meta name="msapplication-TileImage" content="/static/images/touch-icons/mstile-144x144.png"> 
  <meta name="msapplication-config" content="/static/images/touch-icons/browserconfig.xml"> 
  <meta name="theme-color" content="#cb3837"> 
 </head> 
 <body itemscope itemtype="http://schema.org/WebSite" data-crumb="uo8fJLpi33n8ak8ZWVdN2LDFJAVC9xpU5Qu3--HsmWN"> 
  <meta itemprop="url" content="https://www.npmjs.com/"> 
  <header class="anonymous   "> 
   <!-- logo --> 
   <div class="header-item brand-container"> 
    <div class="logo-container" id="npm-logo"> 
     <a href="/">
      <svg viewbox="0 0 18 7"> 
       <path fill="#CB3837" d="M0,0v6h5v1h4v-1h9v-6" /> 
       <path fill="#FFF" d="M1,1v4h2v-3h1v3h1v-4h1v5h2v-4h1v2h-1v1h2v-4h1v4h2v-3h1v3h1v-3h1v3h1v-4" /> 
      </svg></a> 
    </div> 
   </div> 
   <!-- /logo --> 
   <!-- search --> 
   <div class="header-item header-search-container"> 
    <form class="site-search" id="npm-search" action="/search" method="get" itemprop="potentialAction" itemscope itemtype="http://schema.org/SearchAction"> 
     <meta itemprop="target" content="https://www.npmjs.com/search?q={q}"> 
     <div id="site-search-container"> 
      <input name="q" value="" type="search" id="site-search" placeholder="find packages" tabindex="1" autocorrect="off" autocapitalize="off" itemprop="query-input"> 
     </div> 
     <button tabindex="2" type="submit"> <span class="a11y-only">Search</span> 
      <svg viewbox="0 0 34 34" fill="none" stroke="currentColor"> 
       <ellipse stroke-width="3" cx="16" cy="15" rx="12" ry="12" /> 
       <path d="M26 26 l 8 8" stroke-width="3" stroke-linecap="square" /> 
      </svg> </button> 
    </form> 
   </div> 
   <!-- menu 1 --> 
   <div class="header-item user-info-container"> 
    <div class="user-info"> 
     <ul class="user-info-salutation single"> 
      <li><a href="/signup">sign up</a> or <a href="/login">log in</a></li> 
      <li><a href="/login"><span class="a11y-only">log in</span>
        <svg viewbox="-2765 2857 1080 1080"> 
         <path fill="#986844" d="M-1811.2 3598.5c-.1-4.3-.3-11.3-.8-20.3-.9-15.8-2.7-40.9-6.6-70.7-6.9-52.6-21.6-130.1-52.6-200.4-22.3-50.4-53.5-97.1-90.3-135.2-4.4-20.5-16.7-66.5-43.5-104.8l-5-7.2-54 35.5c-44.5-22.4-91-33.7-138.6-33.7-47.5 0-94.1 11.3-138.6 33.7l-54-35.5-5 7.2c-26.8 38.3-39 84.3-43.5 104.8-36.8 38.1-68 84.8-90.3 135.3-31.1 70.3-45.8 147.8-52.6 200.4-6.1 46.6-7.2 81.6-7.5 93.8 16.6 14 31.3 29.8 46.9 45 17.2 16.7 39.4 28.2 59.1 41.6 1.7 1.1 3.1 2.6 4.2 4.1 15.7 10.4 31 15.4 50.2 19.5 19.2 4.1 35.6 5.6 55.6 7.3 38.7 3.2 77 7.7 115.5 12.6 43.1 5.4 86.5 11.5 130 13.1 41.6 1.5 81.8-9 121.8-19.3 8.9-2.3 17.9-4.5 26.8-6.8.6-4.2 3-8.1 6.7-10.4 40.1-25 81.2-48.2 122-72 5.9-3.5 13.7-1.9 17.9 3.3 9-8.9 17.1-18.2 24.3-27.9l.2-.2.2-.2c1.7-2.6 1.8-2.7 1.5-12.6z" /> 
         <path fill="#FFF" d="M-1808.7 3494.8c-6.9-53.2-21.8-131.7-53.4-203.2-22.3-50.5-53.5-97.5-90.3-136.1-5.5-24.4-18.2-68.2-44.5-105.7l-10.6-15.1-57.3 37.7c-44.3-21.4-90.6-32.2-137.9-32.2-47.2 0-93.6 10.8-137.9 32.2l-57.3-37.7-10.6 15.1c-26.2 37.5-39 81.2-44.5 105.7-36.7 38.5-67.9 85.5-90.3 136.1-31.6 71.4-46.5 149.9-53.4 203.2-7.5 57.7-7.6 98-7.6 99.7v6.3l3.8 5.1c26 35 62.9 64.7 109.6 88.3 36.9 18.6 80 33.6 128.3 44.4 82.2 18.5 151.8 19 159.5 19h.6c7.7 0 77.3-.5 159.5-19 48.3-10.8 91.4-25.8 128.3-44.4 46.7-23.6 83.6-53.3 109.6-88.3l3.7-5v-6.3c.4-1.8.2-42.3-7.3-99.8zm-118.3 174.3c-34.8 17.6-75.8 31.8-121.8 42.1-80.7 18.1-150.4 18.3-153.4 18.3h-.6c-2.9 0-72.7-.2-153.4-18.3-46-10.3-87-24.5-121.8-42.1-41.7-21.1-74.7-47.2-98-77.6.4-22.5 5.1-167.5 58.6-288.5 21.8-49.3 52.4-94.9 88.5-131.8l1.8-1.9.5-2.6c2.7-13.1 12.9-56.4 36.3-93.4l37.2 24.5-7.3 16.6 22.8-11.9c43.3-22.6 88.7-34.1 135-34.1s91.7 11.5 135 34.1l22.8 11.9-7.3-16.6 37.2-24.5c23.4 37 33.6 80.4 36.3 93.4l.5 2.6 1.8 1.9c36.1 36.9 66.7 82.5 88.5 131.8 53.5 121 58.2 266.1 58.6 288.5-23.2 30.4-56.1 56.5-97.8 77.6zm-163-13c0 30.1-50.4 54.4-112.5 54.4s-112.5-24.4-112.5-54.4c0-30.1 50.4-54.4 112.5-54.4s112.5 24.3 112.5 54.4zm-223.5-65.3c0 12.3-10 22.3-22.3 22.3s-22.3-10-22.3-22.3 10-22.3 22.3-22.3c12.3-.1 22.3 9.9 22.3 22.3zm267.8 0c0 12.3-10 22.3-22.3 22.3s-22.3-10-22.3-22.3 10-22.3 22.3-22.3c12.3-.1 22.3 9.9 22.3 22.3z" /> 
        </svg></a></li> 
     </ul> 
    </div> 
    <!-- .user-info --> 
   </div> 
   <!-- /menu 1 --> 
   <!-- menu 2 --> 
   <div class="header-item header-nav-menu-container"> 
    <a href="#" id="npm-expansions" class="npm-expansions" data-event-trigger="click" data-event-name="npm-expansions">node package manager</a> 
    <div class="nav-menu-container" role="navigation"> 
     <a class="nav-toggle drop-down-menu-toggle" href="#product-navigation"><span class="a11y-only">Toggle Navigation</span> 
      <svg viewbox="0 0 44 44"> 
       <rect x="4" y="12" fill="currentColor" width="36" height="2" /> 
       <rect x="4" y="20" fill="currentColor" width="36" height="2" /> 
       <rect x="4" y="28" fill="currentColor" width="36" height="2" /> 
      </svg> </a> 
     <div class="drop-down-menu-container" role="menu"> 
      <nav id="product-navigation" class="product-navigation drop-down-menu"> 
       <ul class="drop-down-menu-section products-list"> 
        <li><a id="nav-enterprise-link" href="/npm/enterprise">npm Enterprise</a></li> 
        <li><a id="nav-features-link" href="/features" data-event-trigger="click" data-event-name="features-nav-link">features</a></li> 
        <li><a id="nav-pricing-link" href="/pricing">pricing</a></li> 
        <li><a id="nav-docs-link" href="https://docs.npmjs.com">documentation</a></li> 
        <li><a id="nav-support-link" href="/support">support</a></li> 
       </ul> 
      </nav> 
     </div> 
    </div> 
   </div> 
   <!-- /menu 2 --> 
  </header> 
  <div class="container content"> 
   <div class="content-column"> 
    <h1 class="package-name"> <a href="/package/mongoose-auth">mongoose-auth</a> <i class="icon-public"></i> </h1> 
    <form class="star"> 
     <input type="hidden" name="name" value="mongoose-auth"> 
     <input id="star-input" type="checkbox" name="isStarred" value="true"> 
     <label for="star-input" class="icon-star"></label> 
     <input type="hidden" name="crumb" value="uo8fJLpi33n8ak8ZWVdN2LDFJAVC9xpU5Qu3--HsmWN"> 
    </form> 
    <div id="readme" class="markdown"> 
     <h1 class="package-name-redundant"><a id="user-content-mongoose-auth" class="deep-link" href="#mongoose-auth">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>mongoose-auth</h1> 
     <p class="package-description-redundant">User authentication plugin for mongoose node.js orm.</p> 
     <p>mongoose-auth enables you to support authorization in any number of ways via authorization strategies.</p> 
     <p>An authorization strategy is how you authorize your user. Currently mongoose-auth supports the following authorization strategies:</p> 
     <ul> 
      <li><code>password</code></li> 
      <li><code>facebook</code></li> 
      <li><code>twitter</code></li> 
      <li><code>github</code></li> 
      <li><code>instagram</code></li> 
      <li><code>google</code></li> 
     </ul> 
     <p>mongoose-auth does 3 things:</p> 
     <ol> 
      <li>Schema decoration</li> 
      <li>(optional) Drop in routing for <a href="https://github.com/senchalabs/connect">connect</a> apps.</li> 
      <li>(optional) Dynamic helpers for <a href="https://github.com/visionmedia/express">express</a> apps.</li> 
     </ol> 
     <p>It integrates the <a href="https://github.com/bnoguchi/everyauth">everyauth</a> module to help it take care of the routing and helpers. everyauth is a general purpose npm module for authentication &amp; authorization that can be used independently of mongoose.</p> 
     <h2><a id="user-content-schema-decoration" class="deep-link" href="#schema-decoration">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>Schema Decoration</h2> 
     <p>As you add successive authorization strategies, mongoose-auth at a bare minimum augments your schema with typed attributes corresponding to parameters related to your chosen authorization strategies. For example, if facebook is one of your authorization strategies, then it will add attributes to your User Schema such as 'fb.id' and 'fb.email'.</p> 
     <p>To decorate your schema:</p> 
     <div class="highlight javascript">
      <pre class="editor editor-colors">
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type js"><span>var</span></span><span>&nbsp;mongoose&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="support function js"><span>require</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>mongoose</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;Schema&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable other object js"><span>mongoose</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>Schema</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;mongooseAuth&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="support function js"><span>require</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>mongoose-auth</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type js"><span>var</span></span><span>&nbsp;UserSchema&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta class instance constructor"><span class="keyword operator js"><span>new</span></span><span>&nbsp;</span><span class="entity name type instance js"><span>Schema</span></span></span><span class="meta brace round js"><span>(</span></span><span class="punctuation section scope begin js"><span>{</span></span><span class="punctuation section scope end js"><span>}</span></span><span class="meta brace round js"><span>)</span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>UserSchema</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>plugin</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>mongooseAuth</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;facebook</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="constant language boolean true js"><span>true</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div></pre>
     </div> 
     <h2><a id="user-content-beyond-schema-decoration-routing" class="deep-link" href="#beyond-schema-decoration-routing">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>Beyond Schema Decoration: Routing</h2> 
     <p>Applications require more than just User Schema augmentation in order to implement a complete authorization strategy. Applications also need routes exposing the one or more steps involved for a given authorization strategy. Moreover, applications each handle in their own unique way how they want to respond to successful or failed logins (in addition to logout handling). If you are not using a <a href="https://github.com/senchalabs/connect">connect</a>, then you will have to set all of this up yourself. In this case, mongoose-auth <em>only</em> provides you with Schema decoration.</p> 
     <p>But, if you are building your app on top of <a href="https://github.com/senchalabs/connect">connect</a>, then mongoose-auth provides drop in solutions for you. Here is how you can get access to the routing that mongoose-auth provides. Not the "STEP X: ..." comments:</p> 
     <div class="highlight javascript">
      <pre class="editor editor-colors">
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type js"><span>var</span></span><span>&nbsp;mongoose&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="support function js"><span>require</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>mongoose</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;Schema&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable other object js"><span>mongoose</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>Schema</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;mongooseAuth&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="support function js"><span>require</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>mongoose-auth</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type js"><span>var</span></span><span>&nbsp;UserSchema&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta class instance constructor"><span class="keyword operator js"><span>new</span></span><span>&nbsp;</span><span class="entity name type instance js"><span>Schema</span></span></span><span class="meta brace round js"><span>(</span></span><span class="punctuation section scope begin js"><span>{</span></span><span class="punctuation section scope end js"><span>}</span></span><span class="meta brace round js"><span>)</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;User</span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;STEP&nbsp;1:&nbsp;Schema&nbsp;Decoration&nbsp;and&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;Routing</span><span>&nbsp;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>UserSchema</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>plugin</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>mongooseAuth</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;Here,&nbsp;we&nbsp;attach&nbsp;your&nbsp;User&nbsp;model&nbsp;to&nbsp;every&nbsp;module</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everymodule</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function json js"><span class="entity name function js"><span>User</span></span><span class="keyword operator assignment js"><span>:</span></span><span>&nbsp;</span><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;User</span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;facebook</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myHostname</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span class="markup underline link hyperlink"><span>http://localhost:3000</span></span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;appId</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>YOUR&nbsp;APP&nbsp;ID&nbsp;HERE</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;appSecret</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>YOUR&nbsp;APP&nbsp;SECRET&nbsp;HERE</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;redirectPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>mongoose</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>model</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>User</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;UserSchema</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>mongoose</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>connect</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>mongodb://localhost/example</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable other object js"><span>mongoose</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>model</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>User</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type js"><span>var</span></span><span>&nbsp;app&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable other object js"><span>express</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>createServer</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>express</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>bodyParser</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable other object js"><span>express</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>static</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="support variable js"><span>__dirname</span></span><span>&nbsp;</span><span class="keyword operator js"><span>+</span></span><span>&nbsp;</span><span class="string quoted double js"><span class="punctuation definition string begin js"><span>"</span></span><span>/public</span><span class="punctuation definition string end js"><span>"</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable other object js"><span>express</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>cookieParser</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable other object js"><span>express</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>session</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="meta brace curly js"><span>{</span></span><span>&nbsp;secret</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>esoognom</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="meta brace curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;STEP&nbsp;2:&nbsp;Add&nbsp;in&nbsp;the&nbsp;Routing</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable other object js"><span>mongooseAuth</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>middleware</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;</span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;IMPORTANT!!!!!!!&nbsp;Do&nbsp;not&nbsp;add&nbsp;app.router,&nbsp;to&nbsp;your&nbsp;middleware&nbsp;chain&nbsp;</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;explicitly,&nbsp;or&nbsp;you&nbsp;will&nbsp;run&nbsp;into&nbsp;problems&nbsp;accessing&nbsp;`req.user`</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;i.e.,&nbsp;do&nbsp;not&nbsp;use&nbsp;app.use(app.router).&nbsp;Let&nbsp;express&nbsp;do&nbsp;this&nbsp;for&nbsp;you</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;automatically&nbsp;for&nbsp;you&nbsp;upon&nbsp;your&nbsp;first&nbsp;app.get&nbsp;or&nbsp;app.post.</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;STEP&nbsp;3:&nbsp;Add&nbsp;in&nbsp;Dynamic&nbsp;View&nbsp;Helpers&nbsp;(only&nbsp;if&nbsp;you&nbsp;are&nbsp;using&nbsp;express)</span><span>&nbsp;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>mongooseAuth</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>helpExpress</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>app</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>app</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>listen</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="constant numeric decimal js"><span>3000</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div></pre>
     </div> 
     <h2><a id="user-content-view-helpers-and-convenience-methods--getters" class="deep-link" href="#view-helpers-and-convenience-methods--getters">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>View Helpers and Convenience Methods &amp; Getters</h2> 
     <p>In "Step 3" of the last code sample, we are adding dynamic view helpers, for if you are using the <a href="https://github.com/visionmedia/express">Express</a> web framework. This automically gives you access to a convenient <code>everyauth</code> local variable from your view, so you do not have to pass <code>req</code> as a local to your view:</p> 
     <ul> 
      <li><code>everyauth.loggedIn</code> - a Boolean getter that tells you if the request is by a logged in user</li> 
      <li><code>everyauth.user</code> - the mongoose User document associated with the session</li> 
      <li><code>everyauth.facebook</code> - The is equivalent to what is stored at <code>req.session.auth.facebook</code>, so you can do things like ...</li> 
      <li><code>everyauth.facebook.user</code> - returns the user json provided from the OAuth provider.</li> 
      <li><code>everyauth.facebook.accessToken</code> - returns the access_token provided from the OAuth provider for authorized API calls on behalf of the user.</li> 
      <li>And you also get this pattern for other modules - e.g., <code>everyauth.twitter.user</code>, <code>everyauth.github.user</code>, etc.</li> 
     </ul> 
     <p>You also get access to the view helper</p> 
     <ul> 
      <li><code>user</code> - the same as <code>everyauth.user</code> above</li> 
     </ul> 
     <p>As an example of how you would use these, consider the following <code>./views/user.jade</code> jade template:</p> 
     <pre><code>.user-id
  .label User Id
  .value #{user.id}
.facebook-id
  .label User Facebook Id
  .value #{everyauth.facebook.user.id}
</code></pre> 
     <p>The "STEP 2: Add in the Routing" step in the last code sample also provides convenience methods on the <code>ServerRequest</code> instance <code>req</code>. From any scope that has access to <code>req</code>, you get the following convenience getter and method:</p> 
     <ul> 
      <li><code>req.loggedIn</code> - a Boolean getter that tells you if the request is by a logged in user</li> 
      <li><code>req.user</code> - the mongoose User document associated with the session</li> 
      <li><code>req.logout()</code> - clears the sesion of your auth data</li> 
     </ul> 
     <h2><a id="user-content-using-multiple-authorization-strategies-at-once" class="deep-link" href="#using-multiple-authorization-strategies-at-once">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>Using Multiple Authorization Strategies at Once</h2> 
     <p>You can also use multiple authorization strategies in the same application. Here is an example, using 5 authorization strategies:</p> 
     <div class="highlight javascript">
      <pre class="editor editor-colors">
       <div class="line">
        <span class="source js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;A&nbsp;configuration&nbsp;file&nbsp;for&nbsp;holding&nbsp;all&nbsp;of&nbsp;your</span><span>&nbsp;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;3rd&nbsp;party&nbsp;OAuth&nbsp;credentials</span><span>&nbsp;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type js"><span>var</span></span><span>&nbsp;conf&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta function-call js"><span class="support function js"><span>require</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>./conf</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>UserSchema</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>plugin</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>mongooseAuth</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;Here,&nbsp;we&nbsp;attach&nbsp;your&nbsp;User&nbsp;model&nbsp;to&nbsp;every&nbsp;module</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everymodule</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function json js"><span class="entity name function js"><span>User</span></span><span class="keyword operator assignment js"><span>:</span></span><span>&nbsp;</span><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;User</span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;facebook</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myHostname</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span class="markup underline link hyperlink"><span>http://localhost:3000</span></span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;appId</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="variable other object js"><span>conf</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>fb</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>appId</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;appSecret</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="variable other object js"><span>conf</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>fb</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>appSecret</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;redirectPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;twitter</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myHostname</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span class="markup underline link hyperlink"><span>http://localhost:3000</span></span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;consumerKey</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="variable other object js"><span>conf</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>twit</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>consumerKey</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;consumerSecret</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="variable other object js"><span>conf</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>twit</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>consumerSecret</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;redirectPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;password</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getLoginPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/login</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;postLoginPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/login</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;loginView</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>login.jade</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;getRegisterPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/register</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;postRegisterPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/register</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;registerView</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>register.jade</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;loginSuccessRedirect</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;registerSuccessRedirect</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;github</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myHostname</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span class="markup underline link hyperlink"><span>http://localhost:3000</span></span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;appId</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="variable other object js"><span>conf</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>github</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>appId</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;appSecret</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="variable other object js"><span>conf</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>github</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>appSecret</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;redirectPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;instagram</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myHostname</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span class="markup underline link hyperlink"><span>http://localhost:3000</span></span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;appId</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="variable other object js"><span>conf</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>instagram</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>clientId</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;appSecret</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="variable other object js"><span>conf</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>instagram</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>clientSecret</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;redirectPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div></pre>
     </div> 
     <h2><a id="user-content-example" class="deep-link" href="#example">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>Example</h2> 
     <p>There is an example app located in <a href="https://github.com/bnoguchi/mongoose-auth/tree/master/example">./example</a>. To run it:</p> 
     <pre><code>$ cd example
$ node server.js
</code></pre> 
     <p>Then navigate to <a href="http://localhost:3000">http://localhost:3000/</a></p> 
     <h2><a id="user-content-recipe-1-linking-multiple-account-logins-together" class="deep-link" href="#recipe-1-linking-multiple-account-logins-together">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>Recipe 1: Linking Multiple Account Logins Together</h2> 
     <p>A common recipe is allowing a user to login via multiple accounts <em>and</em> to link those accounts under one user document.</p> 
     <p>This can be done in the following way:</p> 
     <p>The real magic lies with <a href="https://github.com/bnoguchi/everyauth/">https://github.com/bnoguchi/everyauth/</a>, and it should be more obvious once I document everyauth more and document mongoose-auth's relationship to everyauth.</p> 
     <p>In <code>everyauth</code>'s design, every auth module is defined as a set of steps, which are exposed in such a way for you to over-ride. The step that is of particular interest for this scenario is the <code>findOrCreateUser</code> step required by every <code>everyauth</code> module. <code>mongoose-auth</code> defines a default version of this <code>findOrCreateUser</code> step for each <code>everyauth</code> auth module it supports (You can find these default definitions in "lib/modules/#{moduleName}/everyauth.js" -- e.g., see <a href="https://github.com/bnoguchi/mongoose-auth/tree/master/lib/modules/facebook/everyauth.js">.lib/modules/facebook/everyauth.js</a>).</p> 
     <p>So for example, this is how you would over-ride the default <code>findOrCreateUser</code> step for the facebook module if you are using both the facebook and password module:</p> 
     <div class="highlight javascript">
      <pre class="editor editor-colors">
       <div class="line">
        <span class="source js"><span class="variable other object js"><span>UserSchema</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>plugin</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>mongooseAuth</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;facebook</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myHostname</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="keyword operator js"><span>...</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="keyword operator js"><span>...</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta function json js"><span class="entity name function js"><span>findOrCreateUser</span></span><span class="keyword operator assignment js"><span>:</span></span><span>&nbsp;</span><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable function js"><span>session</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>accessTok</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>accessTokExtra</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>fbUser</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type js"><span>var</span></span><span>&nbsp;promise&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable language js"><span>this</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>Promise</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;User&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable language js"><span>this</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>User</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="meta brace round js"><span>(</span><span>)</span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>User</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>findById</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable other object js"><span>session</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>auth</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>userId</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>user</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fail</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>err</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span class="keyword operator logical js"><span>!</span></span><span>user</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>User</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>where</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>password.login</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable other object js"><span>fbUser</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>email</span></span><span class="punctuation definition end round js"><span>)</span></span></span><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>findOne</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>&nbsp;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>user</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fail</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>err</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span class="keyword operator logical js"><span>!</span></span><span>user</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>User</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>createWithFB</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>fbUser</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;accessTok</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable other object js"><span>accessTokExtra</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>expires</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>createdUser</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fail</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>err</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fulfill</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>createdUser</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span>&nbsp;</span><span class="keyword control js"><span>else</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call js"><span class="entity name function js"><span>assignFbDataToUser</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>user</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;accessTok</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;accessTokExtra</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;fbUser</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>user</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>save</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>&nbsp;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>user</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fail</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>err</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fulfill</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>user</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span>&nbsp;</span><span class="keyword control js"><span>else</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call js"><span class="entity name function js"><span>assignFbDataToUser</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>user</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;accessTok</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;accessTokExtra</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;fbUser</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;Save&nbsp;the&nbsp;new&nbsp;data&nbsp;to&nbsp;the&nbsp;user&nbsp;doc&nbsp;in&nbsp;the&nbsp;db</span><span>&nbsp;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>user</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>save</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>&nbsp;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>user</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fail</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>err</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fuilfill</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>user</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span><span>)</span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;promise</span><span class="punctuation terminator statement js"><span>;</span></span><span>&nbsp;</span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;Make&nbsp;sure&nbsp;to&nbsp;return&nbsp;the&nbsp;promise&nbsp;that&nbsp;promises&nbsp;the&nbsp;user</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta brace curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;Assign&nbsp;all&nbsp;properties&nbsp;-&nbsp;see&nbsp;lib/modules/facebook/schema.js&nbsp;for&nbsp;details</span><span>&nbsp;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="entity name function js"><span>assignFbDataToUser</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable function js"><span>user</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>accessTok</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>accessTokExtra</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>fbUser</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;</span><span class="variable other object js"><span>user</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>fb</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>accessToken</span></span><span>&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;accessTok</span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;</span><span class="variable other object js"><span>user</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>fb</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>expires</span></span><span>&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable other object js"><span>accessTokExtra</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>expires</span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;</span><span class="variable other object js"><span>user</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>fb</span></span><span class="meta delimiter period js"><span>.</span></span><span class="support constant dom js"><span>id</span></span><span>&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable other object js"><span>fbUser</span></span><span class="meta delimiter period js"><span>.</span></span><span class="support constant dom js"><span>id</span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;</span><span class="variable other object js"><span>user</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other object js"><span>fb</span></span><span class="meta delimiter period js"><span>.</span></span><span class="support constant dom js"><span>name</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>first</span></span><span>&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable other object js"><span>fbUser</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>first_name</span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="punctuation comment js"><span>&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;etc.&nbsp;more&nbsp;assigning...</span><span>&nbsp;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="punctuation definition function end curly js"><span>}</span></span></span>
       </div></pre>
     </div> 
     <p>As this is a common recipe, I plan on adding support for this into <code>everyauth</code> and <code>mongoose-auth</code>, so it's more drop-in, and developers do not have to add this custom code themselves. The intent is for common things like this to be invisible to the developer, so it just <em>works</em> <em>like</em> <em>magic</em>. So, in the near future, you won't have to over-ride the findOrCreateUser step every time you want this feature. This will be coming soon.</p> 
     <h2><a id="user-content-recipe-2-configuring-email-or-phone-to-be-your-login-for-the-password-module" class="deep-link" href="#recipe-2-configuring-email-or-phone-to-be-your-login-for-the-password-module">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>Recipe 2: Configuring Email or Phone to be your Login for the Password Module</h2> 
     <p>By default, <code>everyauth</code> and therefore <code>mongoose-auth</code> use the attribute <code>login</code> as the default attribute used for logging in with the password module.</p> 
     <p>However, the need can arise to use a different attribute (such as email) that implies a different schema (use <code>email: String</code> instead of <code>login: String</code>) in addition to different validation assumptions (email validations are more strict that login handle validations).</p> 
     <p>Luckily, <code>mongoose-auth</code> provide support for this out of the box. All you need to do is (look for the line labeled "THIS NEXT LINE IS THE ONLY ADDITION"):</p> 
     <div class="highlight javascript">
      <pre class="editor editor-colors">
       <div class="line">
        <span class="source js"><span class="variable other object js"><span>UserSchema</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>plugin</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>mongooseAuth</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;Here,&nbsp;we&nbsp;attach&nbsp;your&nbsp;User&nbsp;model&nbsp;to&nbsp;every&nbsp;module</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;everymodule</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function json js"><span class="entity name function js"><span>User</span></span><span class="keyword operator assignment js"><span>:</span></span><span>&nbsp;</span><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;User</span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;password</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;THIS&nbsp;NEXT&nbsp;LINE&nbsp;IS&nbsp;THE&nbsp;ONLY&nbsp;ADDITION</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loginWith</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>email</span><span class="punctuation definition string end js"><span>'</span></span></span><span>&nbsp;</span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;Or&nbsp;loginWith:&nbsp;'phone'</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;</span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getLoginPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/login</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;postLoginPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/login</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;loginView</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>login.jade</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;getRegisterPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/register</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;postRegisterPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/register</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;registerView</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>register.jade</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;loginSuccessRedirect</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;registerSuccessRedirect</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta brace curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div></pre>
     </div> 
     <p>Automatically, <code>mongoose-auth</code> will use an <code>email</code> String attribute in your User schema instead of the default <code>login</code> String attribute. Moreover, it will automatically add in validation checks to make sure that the email is valid before registering a user through the registration process of the password module.</p> 
     <h2><a id="user-content-recipe-3-extra-password-registration-data-besides-login--password" class="deep-link" href="#recipe-3-extra-password-registration-data-besides-login--password">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>Recipe 3: Extra password registration data besides login + password</h2> 
     <p>Sometimes your registration will ask for more information from the user besides the login and password.</p> 
     <p>For this particular scenario, you can configure <code>extraParams</code>.</p> 
     <div class="highlight javascript">
      <pre class="editor editor-colors">
       <div class="line">
        <span class="source js"><span class="variable other object js"><span>UserSchema</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>plugin</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>mongooseAuth</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;Here,&nbsp;we&nbsp;attach&nbsp;your&nbsp;User&nbsp;model&nbsp;to&nbsp;every&nbsp;module</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;everymodule</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function json js"><span class="entity name function js"><span>User</span></span><span class="keyword operator assignment js"><span>:</span></span><span>&nbsp;</span><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;User</span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;password</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extraParams</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phone</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="support class js"><span>String</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;name</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="support class js"><span>String</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;last</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="support class js"><span>String</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;</span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getLoginPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/login</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;postLoginPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/login</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;loginView</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>login.jade</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;getRegisterPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/register</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;postRegisterPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/register</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;registerView</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>register.jade</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;loginSuccessRedirect</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;registerSuccessRedirect</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta brace curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div></pre>
     </div> 
     <p>What this effectively does is:</p> 
     <ol> 
      <li>Adds <code>phone</code>, <code>name.first</code>, and <code>name.last</code> as attributes to your <code>UserSchema</code>.</li> 
      <li>Automatically extracts the registration parameters after a visitor submits the registration form and saves them to a new <code>User</code> document. The registration form <code>&lt;input&gt;</code> <code>name</code>s should be, e.g., in the example above: 'phone', 'name[first]', and 'name[last]'.</li> 
     </ol> 
     <p>Please see <a href="https://github.com/bnoguchi/mongoose-auth/tree/master/example/server.js#L45">./example/server.js</a> for a live example.</p> 
     <h2><a id="user-content-recipe-4-adding-more-attributes-to-your-schema" class="deep-link" href="#recipe-4-adding-more-attributes-to-your-schema">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>Recipe 4: Adding more attributes to your schema</h2> 
     <p>This one ha come up enough that it is here as a recipe, even though it is not specific to <code>mongoose-auth</code>. Suppose you want to add a special attribute such as <code>roles: [String]</code> to your UserSchema. This is something that you can do using just <code>mongoose</code></p> 
     <div class="highlight javascript">
      <pre class="editor editor-colors">
       <div class="line">
        <span class="source js"><span class="storage type js"><span>var</span></span><span>&nbsp;UserSchema&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta class instance constructor"><span class="keyword operator js"><span>new</span></span><span>&nbsp;</span><span class="entity name type instance js"><span>mongoose.Schema</span></span></span><span class="meta brace round js"><span>(</span></span><span class="meta brace curly js"><span>{</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;&nbsp;&nbsp;roles</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace square js"><span>[</span></span><span class="support class js"><span>String</span></span><span class="meta brace square js"><span>]</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;other&nbsp;custom&nbsp;attributes</span><span>&nbsp;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="variable other object js"><span>UserSchema</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>plugin</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>mongooseAuth</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;mongooseAuth&nbsp;*adds*&nbsp;other&nbsp;attributes&nbsp;to&nbsp;your&nbsp;UserSchema</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;depending&nbsp;on&nbsp;the&nbsp;auth&nbsp;modules&nbsp;you&nbsp;choose.</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta brace curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div></pre>
     </div> 
     <h2><a id="user-content-recipe-5-customizing-how-you-do-password-login-authentication" class="deep-link" href="#recipe-5-customizing-how-you-do-password-login-authentication">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>Recipe 5: Customizing how you do password login authentication</h2> 
     <p>Currently, <code>mongoose-auth</code> does password authentication by login and password. Suppose you also want to authenticate by checking against an additional parameter, like <code>active</code>, which is a Boolean attribute on your UserSchema that indicates whether this user has been activated or not. Then you can modify the <code>authenticate</code> everyauth step in the following way:</p> 
     <div class="highlight javascript">
      <pre class="editor editor-colors">
       <div class="line">
        <span class="source js"><span class="storage type js"><span>var</span></span><span>&nbsp;UserSchema&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta class instance constructor"><span class="keyword operator js"><span>new</span></span><span>&nbsp;</span><span class="entity name type instance js"><span>Schema</span></span></span><span class="meta brace round js"><span>(</span></span><span class="meta brace curly js"><span>{</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;&nbsp;active</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="support class js"><span>Boolean</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta brace curly js"><span>}</span></span><span class="meta brace round js"><span>)</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;User</span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="variable other object js"><span>UserSchema</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>plugin</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>mongooseAuth</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;everymodule</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function json js"><span class="entity name function js"><span>User</span></span><span class="keyword operator assignment js"><span>:</span></span><span>&nbsp;</span><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;User</span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;password</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loginWith</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>email</span><span class="punctuation definition string end js"><span>'</span></span></span><span>&nbsp;</span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;everyauth</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getLoginPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/login</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;postLoginPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/login</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;loginView</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>login.jade</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;getRegisterPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/register</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;postRegisterPath</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/register</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;registerView</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>register.jade</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;loginSuccessRedirect</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;registerSuccessRedirect</span><span class="keyword operator js"><span>:</span></span><span>&nbsp;</span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>/</span><span class="punctuation definition string end js"><span>'</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;</span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;WHAT&nbsp;YOU&nbsp;ADD&nbsp;IS&nbsp;THE&nbsp;FOLLOWING:</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;The&nbsp;logic&nbsp;is&nbsp;adapted&nbsp;from&nbsp;the&nbsp;default&nbsp;authenticate</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;implementation&nbsp;in&nbsp;lib/modules/password/everyauth.js</span><span>&nbsp;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta function json js"><span class="entity name function js"><span>authenticate</span></span><span class="keyword operator assignment js"><span>:</span></span><span>&nbsp;</span><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable function js"><span>login</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>password</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type js"><span>var</span></span><span>&nbsp;promise</span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;errors&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="meta brace square js"><span>[</span><span>]</span></span><span class="punctuation terminator statement js"><span>;</span></span><span>&nbsp;</span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span class="keyword operator logical js"><span>!</span></span><span>login</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="variable other object js"><span>errors</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>push</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>Missing&nbsp;login.</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span class="keyword operator logical js"><span>!</span></span><span>password</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="variable other object js"><span>errors</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>push</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>Missing&nbsp;password.</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span class="variable other object js"><span>errors</span></span><span class="meta delimiter period js"><span>.</span></span><span class="support constant js"><span>length</span></span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;errors</span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;</span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;promise&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable language js"><span>this</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>Promise</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable language js"><span>this</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>User</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="meta brace round js"><span>(</span><span>)</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>authenticate</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>login</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;password</span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="meta function js"><span class="storage type function js"><span>function</span></span><span>&nbsp;</span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable function js"><span>err</span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;</span><span class="variable function js"><span>user</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span>&nbsp;</span><span class="punctuation definition function begin curly js"><span>{</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span>err</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>errors</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>push</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="variable other object js"><span>err</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>message</span></span><span>&nbsp;</span><span class="keyword operator logical js"><span>||</span></span><span>&nbsp;err</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fulfill</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>errors</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span><span>&nbsp;&nbsp;&nbsp;</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span class="keyword operator logical js"><span>!</span></span><span>user</span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>errors</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>push</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>Failed&nbsp;login.</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fulfill</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>errors</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="punctuation comment js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash js"><span class="punctuation definition comment js"><span>//</span></span><span>&nbsp;The&nbsp;following&nbsp;block&nbsp;is&nbsp;the&nbsp;new&nbsp;code</span><span>&nbsp;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>if</span></span><span>&nbsp;</span><span class="meta brace round js"><span>(</span></span><span class="keyword operator logical js"><span>!</span></span><span class="variable other object js"><span>user</span></span><span class="meta delimiter period js"><span>.</span></span><span class="variable other js"><span>active</span></span><span class="meta brace round js"><span>)</span></span><span>&nbsp;</span><span class="meta brace curly js"><span>{</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>errors</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="support function js"><span>push</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>You&nbsp;are&nbsp;not&nbsp;yet&nbsp;activated.</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fulfill</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>errors</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable other object js"><span>promise</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>fulfill</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span>user</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control js"><span>return</span></span><span>&nbsp;promise</span><span class="punctuation terminator statement js"><span>;</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition function end curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta brace curly js"><span>}</span></span></span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="meta js"><span class="meta js"><span class="meta brace curly js"><span>}</span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span class="variable other object js"><span>mongoose</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>model</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>User</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="meta delimiter object comma js"><span>,</span></span><span>&nbsp;UserSchema</span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div>
       <div class="line">
        <span class="source js"><span>&nbsp;</span></span>
       </div>
       <div class="line">
        <span class="source js"><span>User&nbsp;</span><span class="keyword operator assignment js"><span>=</span></span><span>&nbsp;</span><span class="variable other object js"><span>mongoose</span></span><span class="meta js"><span class="meta delimiter method period js"><span>.</span></span><span class="entity name function js"><span>model</span></span><span class="meta js"><span class="punctuation definition begin round js"><span>(</span></span><span class="string quoted single js"><span class="punctuation definition string begin js"><span>'</span></span><span>User</span><span class="punctuation definition string end js"><span>'</span></span></span><span class="punctuation definition end round js"><span>)</span></span></span></span><span class="punctuation terminator statement js"><span>;</span></span></span>
       </div></pre>
     </div> 
     <h3><a id="user-content-license" class="deep-link" href="#license">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>License</h3> 
     <p>MIT License</p> 
     <hr> 
     <h3><a id="user-content-author" class="deep-link" href="#author">
       <svg aria-hidden="true" class="deep-link-icon" height="16" version="1.1" width="16">
        <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
       </svg></a>Author</h3> 
     <p>Brian Noguchi</p> 
    </div> 
   </div> 
   <div class="sidebar"> 
    <div class="promotion" data-promotion-id="726" data-promotion-spot="packagePage">
     <div class="marketing"> 
      <h3 id="marketing-texthed"> <a href="https://www.npmjs.com/enterprise" title="npm Enterprise">Use this within your firewall</a></h3> 
      <p>Combine open-source packages with your private code and publish to a private registry behind the firewall. <a href="https://www.npmjs.com/enterprise" title="npm Enterprise" target="_blank">npm ? enterprise developers</a></p>
     </div>
    </div> 
    <div class="autoselect-wrapper npm-install icon-download"> 
     <input type="text" value="npm install mongoose-auth" readonly> 
     <p><a href="/package/mongoose-auth/tutorial">how? learn more</a></p> 
    </div> 
    <ul class="box"> 
     <li class="last-publisher"> <a href="/~bnoguchi"> <img src="https://s.gravatar.com/avatar/80a7ef9f365cf269bc614ff8f4eaac06?size=100&amp;default=retro" alt="bnoguchi"> <span>bnoguchi</span> </a> published <span data-date="2012-02-09T23:18:09.740Z" data-date-format="relative"> 2012-02-09T23:18:09.740Z </span> </li> 
     <li> <strong>0.0.12</strong> is the latest of 11 releases </li> 
     <li> <a href="https://github.com/bnoguchi/mongoose-auth">github.com/bnoguchi/mongoose-auth</a> </li> 
    </ul> 
    <h3 title="collaborators"> Collaborators <small><a href="/package/mongoose-auth/access">list</a></small> </h3> 
    <ul class="humans collaborators"> 
     <li> <a href="/~bnoguchi" rel="tipsy" title="bnoguchi"> <img src="https://s.gravatar.com/avatar/80a7ef9f365cf269bc614ff8f4eaac06?size=100&amp;default=retro" alt="bnoguchi"> </a> </li> 
    </ul> 
    <h3>Stats</h3> 
    <ul class="box"> 
     <li> <strong class="pretty-number daily-downloads">5</strong> downloads in the last day </li> 
     <li> <strong class="pretty-number weekly-downloads">42</strong> downloads in the last week </li> 
     <li> <strong class="pretty-number monthly-downloads">181</strong> downloads in the last month </li> 
     <li id="issues" data-ghapi="https://api.github.com/repos/bnoguchi/mongoose-auth"> <span class="original">Have an issue? <a href="https://github.com/bnoguchi/mongoose-auth/issues">File it.</a></span> <span class="enhanced" style="display:none"> <a href="https://github.com/bnoguchi/mongoose-auth/issues"></a> on GitHub </span> </li> 
     <li id="pull_requests" style="display:none"> <a href="https://github.com/bnoguchi/mongoose-auth/pulls"></a> on GitHub </li> 
    </ul> 
    <h3>Try it out</h3> 
    <ul class="box"> 
     <li class="runkit"><a href="https://runkit.com/npm/mongoose-auth" target="_blank">Test mongoose-auth in your browser.</a></li> 
    </ul> 
    <h3>Keywords</h3> 
    <p class="list-of-links"> None </p> 
    <h3>Dependencies (4)</h3> 
    <p class="list-of-links"> <a href="/package/bcrypt">bcrypt</a>, <a href="/package/mongoose">mongoose</a>, <a href="/package/everyauth">everyauth</a>, <a href="/package/mongoose-types">mongoose-types</a> </p> 
    <h3><a href="/browse/depended/mongoose-auth">Dependents (1)</a></h3> 
    <p class="list-of-links dependents"> <a href="/package/node-activities-boilerplate">node-activities-boilerplate</a> </p> 
    <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "SoftwareApplication",
      "name": "mongoose-auth",
      "description": "User authentication plugin for mongoose node.js orm",
      "url": "https://www.npmjs.com/package/mongoose-auth",
      "keywords": "",
      "applicationCategory": "DeveloperApplication",
      "offers": {
         "@type": "Offer",
         "price": "0.00"
      }
    }
  </script> 
    <div class="hiring-container" data-template="sidebar"></div> 
   </div> 
  </div> 
  <footer class="pane bg-npm-navy-1"> 
   <div class="container"> 
    <div class="row"> 
     <div class="col-md-6 col-md-offset-3"> 
      <h3 class="h4 type-npm-pastel-3">You Need Help</h3> 
      <hr class="divider-1"> 
      <ul class="list-unstyled h6 em-default"> 
       <li class="pbl"><a class="type-neutral-11" href="https://docs.npmjs.com">Documentation</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="/support">Support / Contact Us</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="http://status.npmjs.org/">Registry Status</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="https://github.com/npm/www/issues">Website Issues</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="https://github.com/npm/npm/issues">CLI Issues</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="/policies/security">Security</a></li> 
      </ul> 
     </div> 
     <div class="col-md-6 col-md-offset-1"> 
      <h3 class="h4 type-npm-pastel-3">About npm</h3> 
      <hr class="divider-1"> 
      <ul class="list-unstyled h6 em-default"> 
       <li class="pbl"><a class="type-neutral-11" href="/about">About npm, Inc</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="/jobs">Jobs</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="/npm-weekly">npm Weekly</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="http://blog.npmjs.org">Blog</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="https://twitter.com/npmjs">Twitter</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="https://github.com/npm">GitHub</a></li> 
      </ul> 
     </div> 
     <div class="col-md-6 col-md-offset-1"> 
      <h3 class="h4 type-npm-pastel-3">Legal Stuff</h3> 
      <hr class="divider-1"> 
      <ul class="list-unstyled h6 em-default"> 
       <li class="pbl"><a class="type-neutral-11" href="/policies/terms">Terms of Use</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="/policies/conduct">Code of Conduct</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="/policies/disputes">Package Name Disputes</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="/policies/privacy">Privacy Policy</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="/policies/receiving-reports">Reporting Abuse</a></li> 
       <li class="pbl"><a class="type-neutral-11" href="/policies/">Other policies</a></li> 
      </ul> 
     </div> 
    </div> 
   </div> 
   <div class="txt-c container"> 
    <a class="npm-loves-you type-neutral-11" href="/"> npm loves you </a> 
   </div> 
  </footer> 
  <script defer async src="https://cdn.optimizely.com/js/3318080746.js"></script> 
  <script defer async src="//img.en25.com/i/elqCfg.min.js"></script>
  <!-- Eloqua -->   
  <!-- pid&#x3D;12952 d2bb1d5ce18a409301499285a5c4b1741714dca6 https://www.npmjs.com www-18-west.internal.npmjs.com  --> 
 </body>
</html>