<!doctype html>
<html lang="en-US" prefix="og: http://ogp.me/ns#" class="no-js">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="profile" href="http://gmpg.org/xfn/11">
  <link rel="pingback" href="https://jonathanmh.com/xmlrpc.php"> 
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> 
  <script>(adsbygoogle = window.adsbygoogle || []).push({
			google_ad_client: "ca-pub-5974028522968677",
			enable_page_level_ads: true
		});</script> 
  <script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script> 
  <title>Express, Passport and JSON Web Token (jwt) Authentication for Beginners - JonathanMH</title>
  <meta name="description" content="This post is going to be about creating an authentication with express, passport, passport-jwt and JSON Web Tokens for your project.">
  <link rel="canonical" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Express, Passport and JSON Web Token (jwt) Authentication for Beginners - JonathanMH">
  <meta property="og:description" content="This post is going to be about creating an authentication with express, passport, passport-jwt and JSON Web Tokens for your project.">
  <meta property="og:url" content="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/">
  <meta property="og:site_name" content="JonathanMH">
  <meta property="article:tag" content="express.js">
  <meta property="article:tag" content="JSON Web Token">
  <meta property="article:tag" content="node.js">
  <meta property="article:tag" content="passport.js passport-jwt">
  <meta property="article:tag" content="Postman">
  <meta property="article:section" content="code">
  <meta property="article:published_time" content="2016-10-22T16:23:33+00:00">
  <meta property="article:modified_time" content="2017-09-16T19:15:55+00:00">
  <meta property="og:updated_time" content="2017-09-16T19:15:55+00:00">
  <meta property="og:image" content="https://jonathanmh.com/wp-content/uploads/2016/10/express-passport-json-web-token.png">
  <meta property="og:image:secure_url" content="https://jonathanmh.com/wp-content/uploads/2016/10/express-passport-json-web-token.png">
  <meta property="og:image:width" content="1222">
  <meta property="og:image:height" content="411"> 
  <script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"WebSite","@id":"#website","url":"https:\/\/jonathanmh.com\/","name":"JonathanMH","potentialAction":{"@type":"SearchAction","target":"https:\/\/jonathanmh.com\/?s={search_term_string}","query-input":"required name=search_term_string"}}</script> 
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//s.w.org">
  <link rel="alternate" type="application/rss+xml" title="JonathanMH » Feed" href="https://jonathanmh.com/feed/">
  <link rel="alternate" type="application/rss+xml" title="JonathanMH » Comments Feed" href="https://jonathanmh.com/comments/feed/">
  <link rel="alternate" type="application/rss+xml" title="JonathanMH » Express, Passport and JSON Web Token (jwt) Authentication for Beginners Comments Feed" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/feed/"> 
  <script type="text/javascript">window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/jonathanmh.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.1"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b===c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);</script> 
  <style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style>
  <link rel="stylesheet" id="yarppWidgetCss-css" href="https://jonathanmh.com/wp-content/plugins/yet-another-related-posts-plugin/style/widget.css?ver=4.8.1" type="text/css" media="all">
  <link rel="stylesheet" id="colorbox-theme1-css" href="https://jonathanmh.com/wp-content/plugins/jquery-lightbox-for-native-galleries/colorbox/theme1/colorbox.css?ver=1.3.14" type="text/css" media="screen">
  <link rel="stylesheet" id="twentysixteen-css" href="https://jonathanmh.com/wp-content/themes/twentysixteen/style.css?ver=4.8.1" type="text/css" media="all">
  <link rel="stylesheet" id="twentysixteen-fonts-css" href="https://fonts.googleapis.com/css?family=Merriweather%3A400%2C700%2C900%2C400italic%2C700italic%2C900italic%7CMontserrat%3A400%2C700%7CInconsolata%3A400&amp;subset=latin%2Clatin-ext" type="text/css" media="all">
  <link rel="stylesheet" id="genericons-css" href="https://jonathanmh.com/wp-content/themes/twentysixteen/genericons/genericons.css?ver=3.4.1" type="text/css" media="all">
  <link rel="stylesheet" id="twentysixteen-style-css" href="https://jonathanmh.com/wp-content/themes/jonathanmh/style.css?ver=4.8.1" type="text/css" media="all">
  <style id="twentysixteen-style-inline-css" type="text/css">/* Custom Link Color */
		.menu-toggle:hover,
		.menu-toggle:focus,
		a,
		.main-navigation a:hover,
		.main-navigation a:focus,
		.dropdown-toggle:hover,
		.dropdown-toggle:focus,
		.social-navigation a:hover:before,
		.social-navigation a:focus:before,
		.post-navigation a:hover .post-title,
		.post-navigation a:focus .post-title,
		.tagcloud a:hover,
		.tagcloud a:focus,
		.site-branding .site-title a:hover,
		.site-branding .site-title a:focus,
		.entry-title a:hover,
		.entry-title a:focus,
		.entry-footer a:hover,
		.entry-footer a:focus,
		.comment-metadata a:hover,
		.comment-metadata a:focus,
		.pingback .comment-edit-link:hover,
		.pingback .comment-edit-link:focus,
		.comment-reply-link,
		.comment-reply-link:hover,
		.comment-reply-link:focus,
		.required,
		.site-info a:hover,
		.site-info a:focus {
			color: #c9007f;
		}

		mark,
		ins,
		button:hover,
		button:focus,
		input[type="button"]:hover,
		input[type="button"]:focus,
		input[type="reset"]:hover,
		input[type="reset"]:focus,
		input[type="submit"]:hover,
		input[type="submit"]:focus,
		.pagination .prev:hover,
		.pagination .prev:focus,
		.pagination .next:hover,
		.pagination .next:focus,
		.widget_calendar tbody a,
		.page-links a:hover,
		.page-links a:focus {
			background-color: #c9007f;
		}

		input[type="date"]:focus,
		input[type="time"]:focus,
		input[type="datetime-local"]:focus,
		input[type="week"]:focus,
		input[type="month"]:focus,
		input[type="text"]:focus,
		input[type="email"]:focus,
		input[type="url"]:focus,
		input[type="password"]:focus,
		input[type="search"]:focus,
		input[type="tel"]:focus,
		input[type="number"]:focus,
		textarea:focus,
		.tagcloud a:hover,
		.tagcloud a:focus,
		.menu-toggle:hover,
		.menu-toggle:focus {
			border-color: #c9007f;
		}

		@media screen and (min-width: 56.875em) {
			.main-navigation li:hover > a,
			.main-navigation li.focus > a {
				color: #c9007f;
			}
		}
	

		/* Custom Secondary Text Color */

		/**
		 * IE8 and earlier will drop any block with CSS3 selectors.
		 * Do not combine these styles with the next block.
		 */
		body:not(.search-results) .entry-summary {
			color: #5b5b5b;
		}

		blockquote,
		.post-password-form label,
		a:hover,
		a:focus,
		a:active,
		.post-navigation .meta-nav,
		.image-navigation,
		.comment-navigation,
		.widget_recent_entries .post-date,
		.widget_rss .rss-date,
		.widget_rss cite,
		.site-description,
		.author-bio,
		.entry-footer,
		.entry-footer a,
		.sticky-post,
		.taxonomy-description,
		.entry-caption,
		.comment-metadata,
		.pingback .edit-link,
		.comment-metadata a,
		.pingback .comment-edit-link,
		.comment-form label,
		.comment-notes,
		.comment-awaiting-moderation,
		.logged-in-as,
		.form-allowed-tags,
		.site-info,
		.site-info a,
		.wp-caption .wp-caption-text,
		.gallery-caption,
		.widecolumn label,
		.widecolumn .mu_register label {
			color: #5b5b5b;
		}

		.widget_calendar tbody a:hover,
		.widget_calendar tbody a:focus {
			background-color: #5b5b5b;
		}</style>
  <!--[if lt IE 10]><link
rel='stylesheet' id='twentysixteen-ie-css'  href='https://jonathanmh.com/wp-content/themes/twentysixteen/css/ie.css?ver=20160816' type='text/css' media='all' />
<![endif]--> 
  <!--[if lt IE 9]><link
rel='stylesheet' id='twentysixteen-ie8-css'  href='https://jonathanmh.com/wp-content/themes/twentysixteen/css/ie8.css?ver=20160816' type='text/css' media='all' />
<![endif]--> 
  <!--[if lt IE 8]><link
rel='stylesheet' id='twentysixteen-ie7-css'  href='https://jonathanmh.com/wp-content/themes/twentysixteen/css/ie7.css?ver=20160816' type='text/css' media='all' />
<![endif]--> 
  <script type="text/javascript" src="https://jonathanmh.com/wp-includes/js/jquery/jquery.js?ver=1.12.4"></script> 
  <script type="text/javascript" src="https://jonathanmh.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1"></script> 
  <script type="text/javascript" src="https://jonathanmh.com/wp-content/plugins/jquery-lightbox-for-native-galleries/colorbox/jquery.colorbox-min.js?ver=1.3.14"></script> 
  <!--[if lt IE 9]> <script type='text/javascript' src='https://jonathanmh.com/wp-content/themes/twentysixteen/js/html5.js?ver=3.7.3'></script> <![endif]-->
  <link rel="https://api.w.org/" href="https://jonathanmh.com/wp-json/">
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://jonathanmh.com/xmlrpc.php?rsd">
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://jonathanmh.com/wp-includes/wlwmanifest.xml">
  <meta name="generator" content="WordPress 4.8.1">
  <link rel="shortlink" href="https://jonathanmh.com/?p=2215">
  <link rel="alternate" type="application/json+oembed" href="https://jonathanmh.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fjonathanmh.com%2Fexpress-passport-json-web-token-jwt-authentication-beginners%2F">
  <link rel="alternate" type="text/xml+oembed" href="https://jonathanmh.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fjonathanmh.com%2Fexpress-passport-json-web-token-jwt-authentication-beginners%2F&amp;format=xml">
  <meta name="news_keywords" content="express.js,JSON Web Token,node.js,passport.js passport-jwt,Postman">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@jonathanmh_com">
  <meta name="twitter:creator" content="@jonathanmh_com">
  <meta name="twitter:url" content="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/">
  <meta name="twitter:title" content="Express, Passport and JSON Web Token (jwt) Authentication for Beginners">
  <meta name="twitter:description" content="This post is going to be about creating an authentication with JSON Web Tokens for your project, presumably an API that's going to be used by Angular, Vue.js or similar frontend frameworks. [...]">
  <meta name="twitter:image" content="http://jonathanmh.com/wp-content/uploads/2016/10/expressjs-json-response.png"> 
  <script type="text/javascript">// 
	jQuery(document).ready(function($){
		$(".gallery").each(function(index, obj){
			var galleryid = Math.floor(Math.random()*10000);
			$(obj).find("a").colorbox({rel:galleryid, maxWidth:"95%", maxHeight:"95%"});
		});
		$("a.lightbox").colorbox({maxWidth:"95%", maxHeight:"95%"});
	});
//</script> 
  <style type="text/css" id="custom-background-css">body.custom-background { background-color: #0c0c0c; }</style> 
  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-67702622-1', 'auto');
  ga('send', 'pageview');</script> 
 </head>
 <body class="post-template-default single single-post postid-2215 single-format-standard custom-background">
  <div id="page" class="site">
   <div class="site-inner"> 
    <a class="skip-link screen-reader-text" href="#content">Skip to content</a>
    <header id="masthead" class="site-header" role="banner">
     <div class="site-header-main">
      <div class="site-branding">
       <p class="site-title"><a href="https://jonathanmh.com/" rel="home">JonathanMH</a></p>
       <p class="site-description">Developer, Photographer, Blogger in Copenhagen.</p>
      </div>
      <button id="menu-toggle" class="menu-toggle">Menu</button>
      <div id="site-header-menu" class="site-header-menu"> 
       <nav id="site-navigation" class="main-navigation" role="navigation" aria-label="Primary Menu">
        <div class="menu-top-container">
         <ul id="menu-top" class="primary-menu">
          <li id="menu-item-2461" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-2461"><a href="https://jonathanmh.com/category/blog/">Blog</a></li>
          <li id="menu-item-2472" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2472"><a href="https://jonathanmh.com/hire-me/">Hire Me</a></li>
          <li id="menu-item-15" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-15"><a href="https://jonathanmh.com/about/">About</a></li>
         </ul>
        </div> 
       </nav> 
       <nav id="social-navigation" class="social-navigation" role="navigation" aria-label="Social Links Menu">
        <div class="menu-social_media-container">
         <ul id="menu-social_media" class="social-links-menu">
          <li id="menu-item-787" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-787"><a href="https://twitter.com/JonathanMH_com"><span class="screen-reader-text">twitter</span></a></li>
          <li id="menu-item-839" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-839"><a href="http://jonathanmh.com/feed/"><span class="screen-reader-text">rss feed</span></a></li>
          <li id="menu-item-786" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-786"><a href="https://github.com/JonathanMH"><span class="screen-reader-text">github</span></a></li>
          <li id="menu-item-1334" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1334"><a href="http://stackoverflow.com/users/896285/jonathan-m-hethey"><span class="screen-reader-text">stackoverflow</span></a></li>
          <li id="menu-item-1335" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1335"><a href="http://instagram.com/jonathanmh"><span class="screen-reader-text">instagram</span></a></li>
          <li id="menu-item-788" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-788"><a href="https://www.facebook.com/pages/JonathanMH/159526834122370"><span class="screen-reader-text">facebook</span></a></li>
          <li id="menu-item-790" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-790"><a href="http://www.linkedin.com/in/jonathanmh"><span class="screen-reader-text">linkedin</span></a></li>
         </ul>
        </div> 
       </nav>
      </div>
     </div>
    </header>
    <div id="content" class="site-content">
     <div id="primary" class="content-area"> 
      <main id="main" class="site-main" role="main"> 
       <article id="post-2215" class="post-2215 post type-post status-publish format-standard has-post-thumbnail hentry category-code tag-express-js tag-json-web-token tag-node-js tag-passport-js-passport-jwt tag-postman"> 
        <header class="entry-header">
         <h1 class="entry-title">Express, Passport and JSON Web Token (jwt) Authentication for Beginners</h1> 
        </header>
        <div class="post-thumbnail"> 
         <img width="1200" height="404" src="https://jonathanmh.com/wp-content/uploads/2016/10/express-passport-json-web-token-1200x404.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="" srcset="https://jonathanmh.com/wp-content/uploads/2016/10/express-passport-json-web-token-1200x404.png 1200w, https://jonathanmh.com/wp-content/uploads/2016/10/express-passport-json-web-token-300x101.png 300w, https://jonathanmh.com/wp-content/uploads/2016/10/express-passport-json-web-token-768x258.png 768w, https://jonathanmh.com/wp-content/uploads/2016/10/express-passport-json-web-token-1024x344.png 1024w, https://jonathanmh.com/wp-content/uploads/2016/10/express-passport-json-web-token.png 1222w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 60vw, (max-width: 1362px) 62vw, 840px">
        </div>
        <div class="entry-content">
         <p>This post is going to be about creating an authentication with <a href="https://jwt.io/">JSON Web Tokens</a> for your project, presumably an API thats going to be used by Angular, Vue.js or similar frontend frameworks. Were going to send the jwt with every request, meaning that we dont rely on sessions, but simply put the token on every request we make to the API. This way you dont have to worry about cookies, but you can save it in <code>localStorage</code> or other places on the frontend.</p>
         <p>In essence this tutorial will go through:</p>
         <ul>
          <li>creating a <code>/login</code> route to acquire a token</li>
          <li>creating a <code>/secret</code> route, that only is available to logged in users with a JSON web token</li>
         </ul>
         <p>If youre curious about the final result and dont want the step by step guide, check out the final <a href="https://gist.github.com/JonathanMH/6bd82c0954fb8f21a837ce281da4265a">jwt express gist</a>.</p>
         <p><span id="more-2215"></span></p>
         <p><strong>Updated 10th of August 2017</strong>, thanks to <a href="https://hackernoon.com/your-node-js-authentication-tutorial-is-wrong-f1a3bf831a46">the feedback from&nbsp;micaksica</a>!</p>
         <p>What youll need:</p>
         <ul>
          <li><a href="https://www.getpostman.com/">Postman</a> or a similar tool to test the requests</li>
          <li>Node, npm and a text editor</li>
         </ul>
         <p>First of all we need to set up our express project, so we go ahead and create a directory and an <code>index.js</code> file.</p>
         <p>Next, were going to install the dependencies for an express based API and the <a href="http://passportjs.org/">passport.js</a> strategies for JSON web tokens.</p>
         <pre><code>npm init -y
npm install --save express body-parser passport passport-jwt jsonwebtoken lodash
</code></pre>
         <p>First, lets create a simple page with express with the <code>index.js</code> file:</p>
         <pre><code>// file: index.js

var express = require("express");
var app = express();


app.get("/", function(req, res) {
  res.json({message: "Express is up!"});
});

app.listen(3000, function() {
  console.log("Express running");
});
</code></pre>
         <p>You can node start the express server with <code>node index.js</code>, but for development I recommend <code>nodemon</code>, installed by <code>npm -g install nodemon</code> to make sure that your server restarts when ever you change the file.</p>
         <p>The result you should see in your browser now should be similar to the image below:</p>
         <p><img class="aligncenter size-full wp-image-2216" src="http://jonathanmh.com/wp-content/uploads/2016/10/expressjs-json-response.png" alt="expressjs-json-response" width="398" height="135" srcset="https://jonathanmh.com/wp-content/uploads/2016/10/expressjs-json-response.png 398w, https://jonathanmh.com/wp-content/uploads/2016/10/expressjs-json-response-300x102.png 300w" sizes="(max-width: 398px) 85vw, 398px"></p>
         <h2 id="authentication-with-passport-js-and-json-web-tokens">Example Authentication with passport.js and JSON web tokens</h2>
         <p>In order to get the next iteration of our code working, well need to add a couple of more packages to our <code>index.js</code> file:</p>
         <pre><code>// file: index.js
var _ = require("lodash");
var express = require("express");
var bodyParser = require("body-parser");
var jwt = require('jsonwebtoken');

var passport = require("passport");
var passportJWT = require("passport-jwt");

var ExtractJwt = passportJWT.ExtractJwt;
var JwtStrategy = passportJWT.Strategy;
</code></pre>
         <p><code>_</code> or lodash will just be for a small utility function, everything <code>passport</code> related will be used in functions for user login and token validation.</p>
         <p>Next up is our fake users array, usually youd get your users from the database, but well just use a plain JavaScript array:</p>
         <pre><code>var users = [
  {
    id: 1,
    name: 'jonathanmh',
    password: '%2yx4'
  },
  {
    id: 2,
    name: 'test',
    password: 'test'
  }
];
</code></pre>
         <p><strong>Security notice:&nbsp;</strong>Dont ever save passwords in plain text. Every time you do outside of a learning environment, an ancient god decapitates an alpaca!</p>
         <ol>
          <li>Use bcrypt (or similar strength)</li>
          <li><a href="https://www.owasp.org/index.php/Password_Storage_Cheat_Sheet">Read The OWASP wikis Password Storage Cheat Sheet</a> (its really good)</li>
         </ol>
         <h2 id="the-passport-jwt-strategy">The Passport JWT strategy</h2>
         <p><a href="http://passportjs.org/">passport.js</a> works with the concept of strategies. They basically are a middleware function that a requests runs through before getting to the actual route. If your defined authentication strategy fails, which means that the callback will be called with an error that is not <code>null</code> or <code>false</code> as the second argument, the route will not be called, but a <code>401 Unauthorized</code> response will be sent.</p>
         <p><input name="IL_IN_ARTICLE" type="hidden"></p>
         <p>Here the strategy were going to use for the web token authentication:</p>
         <pre><code>var jwtOptions = {}
jwtOptions.jwtFromRequest = ExtractJwt.fromAuthHeader();
jwtOptions.secretOrKey = 'tasmanianDevil';

var strategy = new JwtStrategy(jwtOptions, function(jwt_payload, next) {
  console.log('payload received', jwt_payload);
  // usually this would be a database call:
  var user = users[_.findIndex(users, {id: jwt_payload.id})];
  if (user) {
    next(null, user);
  } else {
    next(null, false);
  }
});

passport.use(strategy);
</code></pre>
         <p>Our strategy is configured to read the JWT from the <code>Authorization</code> http headers of each request. Instead of <code>ExtractJwt.fromAuthHeader()</code> you can define an number of other extraction methods or even write your own. See the <a href="https://github.com/themikenicholson/passport-jwt">passport-jwt repository</a> for the full list.</p>
         <p>The <code>secretOrKey</code> is the secret that our tokens will be signed with. Choose this wisely or use a private key.</p>
         <p>Inside our strategy we <code>console.log</code> the received payload for debugging purposes, try to find a user with a matching id field in our array and return either no error and the user object or <code>false</code> if the user was not found.</p>
         <h2 id="express-js-and-the-json-web-token-login-route">Express.js and the JSON Web Token login route</h2>
         <p>Lets continue to update our express app with the body parser and the login route:</p>
         <pre><code>var app = express();
app.use(passport.initialize());

// parse application/x-www-form-urlencoded
// for easier testing with Postman or plain HTML forms
app.use(bodyParser.urlencoded({
  extended: true
}));

// parse application/json
app.use(bodyParser.json())

app.get("/", function(req, res) {
  res.json({message: "Express is up!"});
});
</code></pre>
         <p>This part almost stays the same, we need to initialize passport with express and enable the <code>bodyParser</code> (<code>urlencoded</code> for usual forms and <code>json</code> for requests with type: <code>application/json</code>, common for APIs).</p>
         <pre><code>app.post("/login", function(req, res) {
  if(req.body.name &amp;&amp; req.body.password){
    var name = req.body.name;
    var password = req.body.password;
  }
  // usually this would be a database call:
  var user = users[_.findIndex(users, {name: name})];
  if( ! user ){
    res.status(401).json({message:"no such user found"});
  }

  if(user.password === req.body.password) {
    // from now on we'll identify the user by the id and the id is the only personalized value that goes into our token
    var payload = {id: user.id};
    var token = jwt.sign(payload, jwtOptions.secretOrKey);
    res.json({message: "ok", token: token});
  } else {
    res.status(401).json({message:"passwords did not match"});
  }
});
</code></pre>
         <p>The login route checks if both <code>name</code> and <code>password</code> have been posted, if so, we look for the corresponding user in our fake <code>users</code> array.</p>
         <p>If no user has been found, we signal that to the user in question.</p>
         <p>Now if a user has been found and the password is correct, we set the <code>payload</code> for the JWT to <code>{id: user.id}</code> we use the <code>jsonwebtoken</code> package to create the token and respond with it.</p>
         <p><strong>Note:</strong> Put simple identifiers in your token, no sensitive data like passwords.</p>
         <p>We can now test if our login functionality works as expected with <a href="https://www.getpostman.com/">Postman</a>. Set the HTTP method to <code>POST</code> and the URL to <code>http://localhost:3000</code>. The type is <code>x-www-form-urlencoded</code> (you can also post RAW json if you want to).</p>
         <p>Here we see a wrong password response for our login attempt:</p>
         <p><img class="aligncenter size-full wp-image-2219" src="http://jonathanmh.com/wp-content/uploads/2016/10/postman-x-www-form-urlencoded.png" alt="postman-x-www-form-urlencoded" width="840" height="614" srcset="https://jonathanmh.com/wp-content/uploads/2016/10/postman-x-www-form-urlencoded.png 840w, https://jonathanmh.com/wp-content/uploads/2016/10/postman-x-www-form-urlencoded-300x219.png 300w, https://jonathanmh.com/wp-content/uploads/2016/10/postman-x-www-form-urlencoded-768x561.png 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></p>
         <p>A correct username and password combination should yield the following result:</p>
         <p><img class="aligncenter size-full wp-image-2218" src="http://jonathanmh.com/wp-content/uploads/2016/10/postman-post-request-login.png" alt="postman-post-request-login" width="840" height="614" srcset="https://jonathanmh.com/wp-content/uploads/2016/10/postman-post-request-login.png 840w, https://jonathanmh.com/wp-content/uploads/2016/10/postman-post-request-login-300x219.png 300w, https://jonathanmh.com/wp-content/uploads/2016/10/postman-post-request-login-768x561.png 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></p>
         <h2 id="accessing-the-passport-jwt-protected-api-route">Accessing The passport-jwt Protected API Route</h2>
         <p>So far, so good. We have created a login function that works and we get a token. Now we need to use that token to be able to access some kind of secret information.</p>
         <pre><code>app.get("/secret", passport.authenticate('jwt', { session: false }), function(req, res){
  res.json("Success! You can not see this without a token");
});

app.listen(3000, function() {
  console.log("Express running");
});
</code></pre>
         <p>We see our <code>/secret</code> route and that we have a second function defined before we finally pass <code>req</code> and <code>res</code> on. The <code>passport.authenticate</code> part means that we pass the request through our previously defined authentication strategy and run it. If its successful, we respond with the secret message, else the request will be unauthorized (401).</p>
         <p>To test if this works, first log in and copy the token, then open a new Postman tab and change the settings to:</p>
         <ul>
          <li>method: <code>GET</code></li>
          <li>URL: <code>http://localhost:3000/secret</code></li>
          <li>inside Headers: add <code>Authorization</code> and add <code>JWT</code> + token</li>
         </ul>
         <p><strong>Note:</strong> Its important the Auth header starts with <code>JWT</code> and a whitespace followed by the token, else <code>passport-jwt</code> will <strong>not extract it</strong>.</p>
         <p><img class="aligncenter size-full wp-image-2220" src="http://jonathanmh.com/wp-content/uploads/2016/10/postman-http-authorization-headers.png" alt="postman-http-authorization-headers" width="840" height="614" srcset="https://jonathanmh.com/wp-content/uploads/2016/10/postman-http-authorization-headers.png 840w, https://jonathanmh.com/wp-content/uploads/2016/10/postman-http-authorization-headers-300x219.png 300w, https://jonathanmh.com/wp-content/uploads/2016/10/postman-http-authorization-headers-768x561.png 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></p>
         <h2 id="express-and-debugging-passport-or-middleware">Express and Debugging Passport or Middleware</h2>
         <p>In the process I of course forgot to prepend <code>JWT</code> so I created a temporary route for debugging my request that would <code>console.log</code> the received headers:</p>
         <pre><code>app.get("/secretDebug",
  function(req, res, next){
    console.log(req.get('Authorization'));
    next();
  }, function(req, res){
    res.json("debugging");
});
</code></pre>
         <p>Terminal output:</p>
         <pre><code>[nodemon] restarting due to changes...
[nodemon] starting `node index.js`
Express running
JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNDc3MTM0NzM4fQ.Ky3iKYcguIstYPDbMbIbDR5s7e_UF0PI1gal6VX5eyI
</code></pre>
         <p>See the full files on github:</p>
         <p><script src="https://gist.github.com/JonathanMH/6bd82c0954fb8f21a837ce281da4265a.js"></script></p>
         <p><a href="http://jonathanmh.com/example-json-web-tokens-vanilla-javascript/">In the next post</a> well have a look at how we can use the issued web token with JavaScript inside the browser and have protected API access.</p>
         <p>If you liked this post, feel free to <a href="http://cloud.feedly.com/#subscription%2Ffeed%2Fhttp%3A%2F%2Fjonathanmh.com%2Ffeed">subscribe on feedly</a>, <a href="https://twitter.com/JonathanMH_com">follow on twitter</a> or check out some of my other posts. If you think I could have explained or done something better or more beginner friendly, please let me know in the comments!</p>
         <h2>Further Steps</h2>
         <p>Most importantly: Dont put secret stuff into a JWT, <a href="https://auth0.com/blog/critical-vulnerabilities-in-json-web-token-libraries/">unless youve read the following post</a> and know what youre doing.If you want to build anything half-way secure, you should use a token store that associates a generated string with a user-id backed by redis, in memory or your database like MongoDB or SQL. These rows or documents will basically store a session equivalent with the following fields:</p>
         <ul>
          <li>the token</li>
          <li>the user id</li>
          <li>expiration time</li>
         </ul>
         <p>Dont put your stuff into production without this ?</p>
         <div class="yarpp-related">
          <h3>Related posts:</h3>
          <ol>
           <li><a href="https://jonathanmh.com/working-with-spam-analysis/" rel="bookmark" title="Working with Spam Analysis">Working with Spam Analysis </a></li>
           <li><a href="https://jonathanmh.com/cigtrack-day-6-security-bcrypt/" rel="bookmark" title="CigTrack Day #6: Security and bcrypt">CigTrack Day #6: Security and bcrypt </a></li>
           <li><a href="https://jonathanmh.com/running-locomotive-js-with-node-dev/" rel="bookmark" title="running locomotive.js with node-dev">running locomotive.js with node-dev </a></li>
           <li><a href="https://jonathanmh.com/taking-full-page-screenshots-headless-chrome/" rel="bookmark" title="Taking Full Page Screenshots with Headless Chrome">Taking Full Page Screenshots with Headless Chrome </a></li>
          </ol>
         </div>
        </div>
        <footer class="entry-footer"> 
         <span class="byline"><span class="author vcard"><img alt="" src="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=49&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=98&amp;d=mm&amp;r=g 2x" class="avatar avatar-49 photo" height="49" width="49"><span class="screen-reader-text">Author </span> <a class="url fn n" href="https://jonathanmh.com/author/jonathan/">Jonathan</a></span></span>
         <span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/" rel="bookmark"><time class="entry-date published" datetime="2016-10-22T16:23:33+00:00">October 22, 2016</time><time class="updated" datetime="2017-09-16T19:15:55+00:00">September 16, 2017</time></a></span>
         <span class="cat-links"><span class="screen-reader-text">Categories </span><a href="https://jonathanmh.com/category/blog/code/" rel="category tag">code</a></span>
         <span class="tags-links"><span class="screen-reader-text">Tags </span><a href="https://jonathanmh.com/tag/express-js/" rel="tag">express.js</a>, <a href="https://jonathanmh.com/tag/json-web-token/" rel="tag">JSON Web Token</a>, <a href="https://jonathanmh.com/tag/node-js/" rel="tag">node.js</a>, <a href="https://jonathanmh.com/tag/passport-js-passport-jwt/" rel="tag">passport.js passport-jwt</a>, <a href="https://jonathanmh.com/tag/postman/" rel="tag">Postman</a></span> 
        </footer> 
       </article>
       <div id="comments" class="comments-area">
        <h2 class="comments-title"> 35 thoughts on Express, Passport and JSON Web Token (jwt) Authentication for Beginners</h2>
        <ol class="comment-list">
         <li id="comment-562575" class="comment even thread-even depth-1"> 
          <article id="div-comment-562575" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/789d85d1989d84c7adfa4f9ba45f0d28?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/789d85d1989d84c7adfa4f9ba45f0d28?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">ProfessorR</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-562575"> <time datetime="2016-10-23T13:07:58+00:00"> October 23, 2016 at 13:07 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Thank you for a good overview and examples!</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=562575#respond" onclick="return addComment.moveForm( &quot;div-comment-562575&quot;, &quot;562575&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to ProfessorR">Reply</a>
           </div> 
          </article></li>
         <li id="comment-566965" class="comment odd alt thread-odd thread-alt depth-1 parent"> 
          <article id="div-comment-566965" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/4d804791b4a781d46f70276967058945?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4d804791b4a781d46f70276967058945?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Chris Allnutt</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-566965"> <time datetime="2016-12-15T08:12:27+00:00"> December 15, 2016 at 08:12 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Great Article. Worked perfectly for me and saved me some time. I did notice there was on typo</p>
            <p>In the process I of course forgot to prepend JWT so I created a temporary route for debugging my request that would console.log the received headers:</p>
            <p>JWT should be JTW.</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=566965#respond" onclick="return addComment.moveForm( &quot;div-comment-566965&quot;, &quot;566965&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Chris Allnutt">Reply</a>
           </div> 
          </article>
          <ol class="children">
           <li id="comment-579906" class="comment even depth-2"> 
            <article id="div-comment-579906" class="comment-body"> 
             <footer class="comment-meta">
              <div class="comment-author vcard"> 
               <img alt="" src="https://secure.gravatar.com/avatar/0bbf4dcf1c9521691185c8edffadb623?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0bbf4dcf1c9521691185c8edffadb623?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
               <b class="fn">Juan Enrique Segebre Zaghmout</b> 
               <span class="says">says:</span>
              </div>
              <div class="comment-metadata"> 
               <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-579906"> <time datetime="2017-06-07T12:05:12+00:00"> June 7, 2017 at 12:05 </time> </a>
              </div>
             </footer>
             <div class="comment-content">
              <p>Its actually JsonWebToken(JWT)</p>
             </div>
             <div class="reply">
              <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=579906#respond" onclick="return addComment.moveForm( &quot;div-comment-579906&quot;, &quot;579906&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Juan Enrique Segebre Zaghmout">Reply</a>
             </div> 
            </article></li>
          </ol></li>
         <li id="comment-569117" class="comment odd alt thread-even depth-1"> 
          <article id="div-comment-569117" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/5c01b4367fea137c1b8022fdd2f4d3af?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/5c01b4367fea137c1b8022fdd2f4d3af?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Dave</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-569117"> <time datetime="2017-01-05T01:46:19+00:00"> January 5, 2017 at 01:46 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Many thanks for taking the time to write this up  very well explained.</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=569117#respond" onclick="return addComment.moveForm( &quot;div-comment-569117&quot;, &quot;569117&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Dave">Reply</a>
           </div> 
          </article></li>
         <li id="comment-569220" class="comment even thread-odd thread-alt depth-1 parent"> 
          <article id="div-comment-569220" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/cd3b2ce8a07332f6262978ce55f741eb?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/cd3b2ce8a07332f6262978ce55f741eb?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn"><a href="http://none" rel="external nofollow" class="url">John Henry</a></b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-569220"> <time datetime="2017-01-06T18:44:42+00:00"> January 6, 2017 at 18:44 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>this is such a big help for people trying to understand jwt auth. Honestly, this is the first simple explanation of this Ive seen.</p>
            <p>BTW: for anyone trying to use the localStorage, this needs to be done in client script. So add<br> if (responseObject.token) {<br> localStorage.setItem(token, responseObject.token); //THIS IS THE ADDED LINE TO ADD ITEM<br> tokenElement.innerHTML = responseObject.token;</p>
            <p>To retrieve simply use var token = localStorage.getItem(token);<br> in your getSecret function(make sure to add a check if token is null or not before sending xhr object.</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=569220#respond" onclick="return addComment.moveForm( &quot;div-comment-569220&quot;, &quot;569220&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to John Henry">Reply</a>
           </div> 
          </article>
          <ol class="children">
           <li id="comment-569710" class="comment byuser comment-author-jonathan bypostauthor odd alt depth-2"> 
            <article id="div-comment-569710" class="comment-body"> 
             <footer class="comment-meta">
              <div class="comment-author vcard"> 
               <img alt="" src="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
               <b class="fn">Jonathan</b> 
               <span class="says">says:</span>
              </div>
              <div class="comment-metadata"> 
               <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-569710"> <time datetime="2017-01-14T11:27:42+00:00"> January 14, 2017 at 11:27 </time> </a>
              </div>
             </footer>
             <div class="comment-content">
              <p>Thank you so much! Happy to hear that!</p>
              <p>Yes we should check the existence of things before trying to insert them, youre absolutely right. People will hopefully figure that out before deploying to production ?</p>
             </div>
             <div class="reply">
              <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=569710#respond" onclick="return addComment.moveForm( &quot;div-comment-569710&quot;, &quot;569710&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Jonathan">Reply</a>
             </div> 
            </article></li>
          </ol></li>
         <li id="comment-569425" class="comment even thread-even depth-1"> 
          <article id="div-comment-569425" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/0095141a44f74239be3aa2d7cc941280?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0095141a44f74239be3aa2d7cc941280?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">andrew</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-569425"> <time datetime="2017-01-10T03:57:33+00:00"> January 10, 2017 at 03:57 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Actually, references to JTW above should be JWT.</p>
            <p>Great tutorial otherwise. Thanks!</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=569425#respond" onclick="return addComment.moveForm( &quot;div-comment-569425&quot;, &quot;569425&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to andrew">Reply</a>
           </div> 
          </article></li>
         <li id="comment-570218" class="comment odd alt thread-odd thread-alt depth-1"> 
          <article id="div-comment-570218" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/7acee825fd8ddd1fb1b7ec61d95685d1?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7acee825fd8ddd1fb1b7ec61d95685d1?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Name1</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-570218"> <time datetime="2017-01-23T12:21:15+00:00"> January 23, 2017 at 12:21 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Great tutorial for the JWT authetication basics, a good start to go further.</p>
            <p>Thanks!</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=570218#respond" onclick="return addComment.moveForm( &quot;div-comment-570218&quot;, &quot;570218&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Name1">Reply</a>
           </div> 
          </article></li>
         <li id="comment-571077" class="comment even thread-even depth-1"> 
          <article id="div-comment-571077" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/a6b9b7a40d5d5b222c037648b147db3f?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a6b9b7a40d5d5b222c037648b147db3f?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Mark</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-571077"> <time datetime="2017-02-05T20:42:16+00:00"> February 5, 2017 at 20:42 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Just adding to the people who said thanks for this. It was easy to adapt your examples to using postgres and bcrypt.</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=571077#respond" onclick="return addComment.moveForm( &quot;div-comment-571077&quot;, &quot;571077&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Mark">Reply</a>
           </div> 
          </article></li>
         <li id="comment-571129" class="comment odd alt thread-odd thread-alt depth-1"> 
          <article id="div-comment-571129" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/3cc95dc0184afdd96a742d873964f19f?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3cc95dc0184afdd96a742d873964f19f?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Abdulaziz</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-571129"> <time datetime="2017-02-07T00:13:37+00:00"> February 7, 2017 at 00:13 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Thanks. I search through internet several days looking for any article to teach me how to use passport authenticate. Finally, i found what i need in this article. Its very helpful and clear to me. Thank you for your efforts on this article. Now i got the idea.</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=571129#respond" onclick="return addComment.moveForm( &quot;div-comment-571129&quot;, &quot;571129&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Abdulaziz">Reply</a>
           </div> 
          </article></li>
         <li id="comment-571330" class="comment even thread-even depth-1"> 
          <article id="div-comment-571330" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/455fe3acbd42d26b4ebadff8beb9f327?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/455fe3acbd42d26b4ebadff8beb9f327?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Bharat</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-571330"> <time datetime="2017-02-09T20:59:30+00:00"> February 9, 2017 at 20:59 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Fantastic Article! Please write an article explaining jwt authentication with vue js, Maybe like a part 2 to this artcle! ?</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=571330#respond" onclick="return addComment.moveForm( &quot;div-comment-571330&quot;, &quot;571330&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Bharat">Reply</a>
           </div> 
          </article></li>
         <li id="comment-571652" class="comment odd alt thread-odd thread-alt depth-1"> 
          <article id="div-comment-571652" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/f816f04d23f4dbce8a2b21314b20518c?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f816f04d23f4dbce8a2b21314b20518c?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Pratik</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-571652"> <time datetime="2017-02-13T13:11:02+00:00"> February 13, 2017 at 13:11 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Thank you. Its help me to authenticate user.</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=571652#respond" onclick="return addComment.moveForm( &quot;div-comment-571652&quot;, &quot;571652&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Pratik">Reply</a>
           </div> 
          </article></li>
         <li id="comment-572113" class="comment even thread-even depth-1 parent"> 
          <article id="div-comment-572113" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/a15bc522697439dbdf2e58e4d98ee22b?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a15bc522697439dbdf2e58e4d98ee22b?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Passiday</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-572113"> <time datetime="2017-02-20T23:41:01+00:00"> February 20, 2017 at 23:41 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>I have couple of questions:<br> 1) Wouldnt that be good to be consistent and also send the JWT to the client over a header? Or use body for both getting and submitting it. But not mix the two methods.<br> 2) Yes, the JWT can contain the payload that can be read at the client-side, unless the JWT is encrypted. But a more straightforward way to get the data to the client is to send it in the body. Wouldnt it be a better practice to keep the JWT always encrypted?</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=572113#respond" onclick="return addComment.moveForm( &quot;div-comment-572113&quot;, &quot;572113&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Passiday">Reply</a>
           </div> 
          </article>
          <ol class="children">
           <li id="comment-572161" class="comment byuser comment-author-jonathan bypostauthor odd alt depth-2 parent"> 
            <article id="div-comment-572161" class="comment-body"> 
             <footer class="comment-meta">
              <div class="comment-author vcard"> 
               <img alt="" src="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
               <b class="fn">Jonathan</b> 
               <span class="says">says:</span>
              </div>
              <div class="comment-metadata"> 
               <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-572161"> <time datetime="2017-02-21T20:21:47+00:00"> February 21, 2017 at 20:21 </time> </a>
              </div>
             </footer>
             <div class="comment-content">
              <p>Absolutely valid points and thank you for asking:</p>
              <p>1) To me, thats a matter of taste. If you prefer to have auth in the header, put it there, but its irrelevant to both workflow and technology on client and server.<br> 2) Without the secret, the payload of the JWT should not be readable to client, but; If you put any sensitive information in there it can be cracked. Its a good idea to keep track of sessions that are affiliated with a user and to set sane timeouts. For attacks and algorithms for JWT I recommend: <a href="https://www.sjoerdlangkemper.nl/2016/09/28/attacking-jwt-authentication/" rel="nofollow">https://www.sjoerdlangkemper.nl/2016/09/28/attacking-jwt-authentication/</a></p>
             </div>
             <div class="reply">
              <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=572161#respond" onclick="return addComment.moveForm( &quot;div-comment-572161&quot;, &quot;572161&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Jonathan">Reply</a>
             </div> 
            </article>
            <ol class="children">
             <li id="comment-572313" class="comment even depth-3"> 
              <article id="div-comment-572313" class="comment-body"> 
               <footer class="comment-meta">
                <div class="comment-author vcard"> 
                 <img alt="" src="https://secure.gravatar.com/avatar/a15bc522697439dbdf2e58e4d98ee22b?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a15bc522697439dbdf2e58e4d98ee22b?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
                 <b class="fn">Passiday</b> 
                 <span class="says">says:</span>
                </div>
                <div class="comment-metadata"> 
                 <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-572313"> <time datetime="2017-02-23T09:52:49+00:00"> February 23, 2017 at 09:52 </time> </a>
                </div>
               </footer>
               <div class="comment-content">
                <p>Thank you for your answer. And, I failed to mention, your tutorial is also very good.<br> Its just easy to overlook, the fact that the second part of JWT is just a Base64-encoded payload, plain in sight. Id not call it cracking. I think it should be mentioned in bold letters, so that novices (like me) beware of false security. This is why I mentioned the need for payload encryption  so that it is readable only by the server. I the client needs any info, it can always ask the server and get it in the response body and, if needed, save in local storage. Better be safe than sorry, and thus the JWT could contain also sensitive data.</p>
               </div>
               <div class="reply">
                <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=572313#respond" onclick="return addComment.moveForm( &quot;div-comment-572313&quot;, &quot;572313&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Passiday">Reply</a>
               </div> 
              </article></li>
            </ol></li>
          </ol></li>
         <li id="comment-572438" class="comment odd alt thread-odd thread-alt depth-1 parent"> 
          <article id="div-comment-572438" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/4d489e2ce0466ae201a8405aed7fede5?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4d489e2ce0466ae201a8405aed7fede5?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Mark Adel</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-572438"> <time datetime="2017-02-24T23:09:36+00:00"> February 24, 2017 at 23:09 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Thank you very much, that was very helpful!</p>
            <p>just fix that ?<br> <a href="http://imgur.com/24SbzAB" rel="nofollow">http://imgur.com/24SbzAB</a></p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=572438#respond" onclick="return addComment.moveForm( &quot;div-comment-572438&quot;, &quot;572438&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Mark Adel">Reply</a>
           </div> 
          </article>
          <ol class="children">
           <li id="comment-572461" class="comment byuser comment-author-jonathan bypostauthor even depth-2"> 
            <article id="div-comment-572461" class="comment-body"> 
             <footer class="comment-meta">
              <div class="comment-author vcard"> 
               <img alt="" src="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
               <b class="fn">Jonathan</b> 
               <span class="says">says:</span>
              </div>
              <div class="comment-metadata"> 
               <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-572461"> <time datetime="2017-02-25T08:10:34+00:00"> February 25, 2017 at 08:10 </time> </a>
              </div>
             </footer>
             <div class="comment-content">
              <p>Fix what?</p>
             </div>
             <div class="reply">
              <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=572461#respond" onclick="return addComment.moveForm( &quot;div-comment-572461&quot;, &quot;572461&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Jonathan">Reply</a>
             </div> 
            </article></li>
          </ol></li>
         <li id="comment-572441" class="comment odd alt thread-even depth-1"> 
          <article id="div-comment-572441" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/4d489e2ce0466ae201a8405aed7fede5?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4d489e2ce0466ae201a8405aed7fede5?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Mark Adel</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-572441"> <time datetime="2017-02-24T23:17:05+00:00"> February 24, 2017 at 23:17 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Oh, I accidentally added several comments, sorry for that.</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=572441#respond" onclick="return addComment.moveForm( &quot;div-comment-572441&quot;, &quot;572441&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Mark Adel">Reply</a>
           </div> 
          </article></li>
         <li id="comment-574393" class="comment even thread-odd thread-alt depth-1"> 
          <article id="div-comment-574393" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/09fef043e8c9020c35d609efd23508f7?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/09fef043e8c9020c35d609efd23508f7?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Dan</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-574393"> <time datetime="2017-03-17T16:03:21+00:00"> March 17, 2017 at 16:03 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Just curious, what is the purpose of using passport for local authentication if you are not using the session middleware? Cant you just decode the token with jsonwebtoken?</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=574393#respond" onclick="return addComment.moveForm( &quot;div-comment-574393&quot;, &quot;574393&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Dan">Reply</a>
           </div> 
          </article></li>
         <li id="comment-576442" class="comment odd alt thread-even depth-1 parent"> 
          <article id="div-comment-576442" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/4330aea3a019c27d8e1087be0608ba01?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4330aea3a019c27d8e1087be0608ba01?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Arun Babu</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-576442"> <time datetime="2017-04-13T07:18:50+00:00"> April 13, 2017 at 07:18 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Hi,</p>
            <p>How can I extract the user ID form a header for an authenticated user?</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=576442#respond" onclick="return addComment.moveForm( &quot;div-comment-576442&quot;, &quot;576442&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Arun Babu">Reply</a>
           </div> 
          </article>
          <ol class="children">
           <li id="comment-576514" class="comment byuser comment-author-jonathan bypostauthor even depth-2"> 
            <article id="div-comment-576514" class="comment-body"> 
             <footer class="comment-meta">
              <div class="comment-author vcard"> 
               <img alt="" src="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
               <b class="fn">Jonathan</b> 
               <span class="says">says:</span>
              </div>
              <div class="comment-metadata"> 
               <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-576514"> <time datetime="2017-04-14T10:29:25+00:00"> April 14, 2017 at 10:29 </time> </a>
              </div>
             </footer>
             <div class="comment-content">
              <p>Have a look at this route: secretDebug that shows you how to access a header field</p>
             </div>
             <div class="reply">
              <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=576514#respond" onclick="return addComment.moveForm( &quot;div-comment-576514&quot;, &quot;576514&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Jonathan">Reply</a>
             </div> 
            </article></li>
          </ol></li>
         <li id="comment-576970" class="comment odd alt thread-odd thread-alt depth-1 parent"> 
          <article id="div-comment-576970" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/f07628d1cc81da013c43cd42cbf3b9b6?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f07628d1cc81da013c43cd42cbf3b9b6?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Ricardo</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-576970"> <time datetime="2017-04-22T12:07:16+00:00"> April 22, 2017 at 12:07 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Hi Jonathan,</p>
            <p>The standard jwt-strategy does a database validation, every time a secret endpoint is used. How can this be stateless? As JWT pattern should be</p>
            <p>I got this doubt inside of me and I have to take it out ?<br> Thanks for the post is quite clear.</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=576970#respond" onclick="return addComment.moveForm( &quot;div-comment-576970&quot;, &quot;576970&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Ricardo">Reply</a>
           </div> 
          </article>
          <ol class="children">
           <li id="comment-577171" class="comment byuser comment-author-jonathan bypostauthor even depth-2"> 
            <article id="div-comment-577171" class="comment-body"> 
             <footer class="comment-meta">
              <div class="comment-author vcard"> 
               <img alt="" src="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
               <b class="fn">Jonathan</b> 
               <span class="says">says:</span>
              </div>
              <div class="comment-metadata"> 
               <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-577171"> <time datetime="2017-04-25T20:07:18+00:00"> April 25, 2017 at 20:07 </time> </a>
              </div>
             </footer>
             <div class="comment-content">
              <p>The stateless part is that there is no session / no remembering things outside of the database</p>
             </div>
             <div class="reply">
              <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=577171#respond" onclick="return addComment.moveForm( &quot;div-comment-577171&quot;, &quot;577171&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Jonathan">Reply</a>
             </div> 
            </article></li>
          </ol></li>
         <li id="comment-577898" class="comment odd alt thread-even depth-1 parent"> 
          <article id="div-comment-577898" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/9fe80f47f01494a2941550a968f6c01a?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/9fe80f47f01494a2941550a968f6c01a?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Nick</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-577898"> <time datetime="2017-05-04T21:48:50+00:00"> May 4, 2017 at 21:48 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Thanks Jonathan! I was wondering how this all translates to the following use case:<br> 1) Web portal uses Passport JWT for authentication.<br> 2) A web app, completely seperate from the web portal, wants to authenticate users using the Passport JWT authentication system of the web portal.<br> Does Passport then facilitate the web portal and web app talking with each other?</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=577898#respond" onclick="return addComment.moveForm( &quot;div-comment-577898&quot;, &quot;577898&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Nick">Reply</a>
           </div> 
          </article>
          <ol class="children">
           <li id="comment-578059" class="comment byuser comment-author-jonathan bypostauthor even depth-2"> 
            <article id="div-comment-578059" class="comment-body"> 
             <footer class="comment-meta">
              <div class="comment-author vcard"> 
               <img alt="" src="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
               <b class="fn">Jonathan</b> 
               <span class="says">says:</span>
              </div>
              <div class="comment-metadata"> 
               <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-578059"> <time datetime="2017-05-07T13:31:52+00:00"> May 7, 2017 at 13:31 </time> </a>
              </div>
             </footer>
             <div class="comment-content">
              <p>Hi Nick! If you store sessions in the same db or use the same secret, that would work!</p>
             </div>
             <div class="reply">
              <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=578059#respond" onclick="return addComment.moveForm( &quot;div-comment-578059&quot;, &quot;578059&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Jonathan">Reply</a>
             </div> 
            </article></li>
          </ol></li>
         <li id="comment-578591" class="comment odd alt thread-odd thread-alt depth-1"> 
          <article id="div-comment-578591" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/3ec8e6456b251a20de21d0efc267874a?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3ec8e6456b251a20de21d0efc267874a?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn"><a href="http://crookedcode.com" rel="external nofollow" class="url">Jeremy Hurley</a></b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-578591"> <time datetime="2017-05-17T01:58:43+00:00"> May 17, 2017 at 01:58 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>This helped me a ton. Thank you!</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=578591#respond" onclick="return addComment.moveForm( &quot;div-comment-578591&quot;, &quot;578591&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Jeremy Hurley">Reply</a>
           </div> 
          </article></li>
         <li id="comment-579515" class="comment even thread-even depth-1 parent"> 
          <article id="div-comment-579515" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/f305e56ea28f6626e1067d1b6bfc70b8?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f305e56ea28f6626e1067d1b6bfc70b8?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">David</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-579515"> <time datetime="2017-06-01T10:20:31+00:00"> June 1, 2017 at 10:20 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Man thank you sooo much! As some people said this is really simple exaple to explain jwt/passport auth process. Ive spend much time to UNDERSTAND salt of that and found it here!</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=579515#respond" onclick="return addComment.moveForm( &quot;div-comment-579515&quot;, &quot;579515&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to David">Reply</a>
           </div> 
          </article>
          <ol class="children">
           <li id="comment-579568" class="comment odd alt depth-2 parent"> 
            <article id="div-comment-579568" class="comment-body"> 
             <footer class="comment-meta">
              <div class="comment-author vcard"> 
               <img alt="" src="https://secure.gravatar.com/avatar/f305e56ea28f6626e1067d1b6bfc70b8?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f305e56ea28f6626e1067d1b6bfc70b8?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
               <b class="fn">David</b> 
               <span class="says">says:</span>
              </div>
              <div class="comment-metadata"> 
               <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-579568"> <time datetime="2017-06-02T15:39:01+00:00"> June 2, 2017 at 15:39 </time> </a>
              </div>
             </footer>
             <div class="comment-content">
              <p>Sorry ive found some confusion. In the end of post<br> Note: Its important the Auth header starts with JTW and a whitespace followed by the token, else passport-jwt will not extract it.<br> But in the POSTMAN screenshot its JWT plus whitespace before JWToken itself.<br> Anyway i tried both and still reciveing error-401. Readed many topics. Most of them mentionin the main issue about that JWT  prefix. But i didnt figure out the issue.<br> Thank you.</p>
             </div>
             <div class="reply">
              <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=579568#respond" onclick="return addComment.moveForm( &quot;div-comment-579568&quot;, &quot;579568&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to David">Reply</a>
             </div> 
            </article>
            <ol class="children">
             <li id="comment-579603" class="comment byuser comment-author-jonathan bypostauthor even depth-3"> 
              <article id="div-comment-579603" class="comment-body"> 
               <footer class="comment-meta">
                <div class="comment-author vcard"> 
                 <img alt="" src="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
                 <b class="fn">Jonathan</b> 
                 <span class="says">says:</span>
                </div>
                <div class="comment-metadata"> 
                 <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-579603"> <time datetime="2017-06-03T09:30:16+00:00"> June 3, 2017 at 09:30 </time> </a>
                </div>
               </footer>
               <div class="comment-content">
                <p>Whoops! Updated ?</p>
               </div>
               <div class="reply">
                <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=579603#respond" onclick="return addComment.moveForm( &quot;div-comment-579603&quot;, &quot;579603&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Jonathan">Reply</a>
               </div> 
              </article></li>
            </ol></li>
          </ol></li>
         <li id="comment-580076" class="comment odd alt thread-odd thread-alt depth-1"> 
          <article id="div-comment-580076" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/837ffb4a755d4c65df5680b72aec669e?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/837ffb4a755d4c65df5680b72aec669e?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Mayur Ch</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-580076"> <time datetime="2017-06-10T18:15:14+00:00"> June 10, 2017 at 18:15 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Hey Jonathan,</p>
            <p>Great tutorial, it helped me implement this. Now I am trying something else.</p>
            <p>If I use a standard username/password authentication, I am able to use JwtStrategy to authenticate the JWT Token that I receive in the request header. jwt.sign() happens on the user id and secret. All of this works fine.</p>
            <p>When I try to modify this code to verify the id_token (JWT Token signed using RS256) from OpenID Connect, then I get 401 Unauthorized no matter what. I tried to debug in the JwtStrategy method and it looks like the request doesnt even go inside that function. This id_token appears to be a lot longer than the one signed with HS256 algorithm.</p>
            <p>A simple passport.authenticate call app.get(/callback, passport.authenticate(jwt, { session: false }), function(req, res, next) {<br> });</p>
            <p>Can you please explain why it doesnt even recognize my token or am I doing something wrong?</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=580076#respond" onclick="return addComment.moveForm( &quot;div-comment-580076&quot;, &quot;580076&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Mayur Ch">Reply</a>
           </div> 
          </article></li>
         <li id="comment-580569" class="comment even thread-even depth-1"> 
          <article id="div-comment-580569" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/188b85723a6b3129c981442d36513420?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/188b85723a6b3129c981442d36513420?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Jiten Shah</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-580569"> <time datetime="2017-06-17T08:50:16+00:00"> June 17, 2017 at 08:50 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Very Helpful. a perfect example. Thank you ?</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=580569#respond" onclick="return addComment.moveForm( &quot;div-comment-580569&quot;, &quot;580569&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Jiten Shah">Reply</a>
           </div> 
          </article></li>
         <li id="comment-582291" class="comment odd alt thread-odd thread-alt depth-1 parent"> 
          <article id="div-comment-582291" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/2bf4fb57e9ab14d6b0a9b973081038c8?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2bf4fb57e9ab14d6b0a9b973081038c8?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">dozie</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-582291"> <time datetime="2017-07-19T14:16:27+00:00"> July 19, 2017 at 14:16 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Goodday.<br> Wow. Thanks a lot.</p>
            <p>I tried implementing the passport-jwt and it returns a text/html response when there is no token.<br> Is there a way to customize this response?</p>
            <p>NodeJS beginner here.</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=582291#respond" onclick="return addComment.moveForm( &quot;div-comment-582291&quot;, &quot;582291&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to dozie">Reply</a>
           </div> 
          </article>
          <ol class="children">
           <li id="comment-582361" class="comment byuser comment-author-jonathan bypostauthor even depth-2"> 
            <article id="div-comment-582361" class="comment-body"> 
             <footer class="comment-meta">
              <div class="comment-author vcard"> 
               <img alt="" src="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/eaedcd2540ecda257aff1d55b21e97fc?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
               <b class="fn">Jonathan</b> 
               <span class="says">says:</span>
              </div>
              <div class="comment-metadata"> 
               <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-582361"> <time datetime="2017-07-20T14:45:43+00:00"> July 20, 2017 at 14:45 </time> </a>
              </div>
             </footer>
             <div class="comment-content">
              <p>Absolutely, you can have another res.redirect for example if the token is empty or unset</p>
             </div>
             <div class="reply">
              <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=582361#respond" onclick="return addComment.moveForm( &quot;div-comment-582361&quot;, &quot;582361&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Jonathan">Reply</a>
             </div> 
            </article></li>
          </ol></li>
         <li id="comment-584143" class="comment odd alt thread-even depth-1"> 
          <article id="div-comment-584143" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/8f7e8ebc2f5cf5fde7a946f246dbab68?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8f7e8ebc2f5cf5fde7a946f246dbab68?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">Vijay Rao</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-584143"> <time datetime="2017-08-11T07:18:32+00:00"> August 11, 2017 at 07:18 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>Great Tutorial !!!</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=584143#respond" onclick="return addComment.moveForm( &quot;div-comment-584143&quot;, &quot;584143&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to Vijay Rao">Reply</a>
           </div> 
          </article></li>
         <li id="comment-586980" class="comment even thread-odd thread-alt depth-1"> 
          <article id="div-comment-586980" class="comment-body"> 
           <footer class="comment-meta">
            <div class="comment-author vcard"> 
             <img alt="" src="https://secure.gravatar.com/avatar/2ce24bc08558a3dc17af3f32b4af4619?s=42&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/2ce24bc08558a3dc17af3f32b4af4619?s=84&amp;d=mm&amp;r=g 2x" class="avatar avatar-42 photo" height="42" width="42"> 
             <b class="fn">matt</b> 
             <span class="says">says:</span>
            </div>
            <div class="comment-metadata"> 
             <a href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/#comment-586980"> <time datetime="2017-09-15T15:56:01+00:00"> September 15, 2017 at 15:56 </time> </a>
            </div>
           </footer>
           <div class="comment-content">
            <p>This entirely defeats the purpose of JWT. The whole point is to have a stateless api and reduce calls to the database. By making a request against the database for every call, and using a session, youve eliminated any benefit you might get from using JWT.</p>
           </div>
           <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://jonathanmh.com/express-passport-json-web-token-jwt-authentication-beginners/?replytocom=586980#respond" onclick="return addComment.moveForm( &quot;div-comment-586980&quot;, &quot;586980&quot;, &quot;respond&quot;, &quot;2215&quot; )" aria-label="Reply to matt">Reply</a>
           </div> 
          </article></li>
        </ol>
        <div id="respond" class="comment-respond">
         <h2 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/express-passport-json-web-token-jwt-authentication-beginners/#respond" style="display:none;">Cancel reply</a></small></h2>
         <form action="https://jonathanmh.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
          <p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p>
          <p class="comment-form-comment"><label for="comment">Comment</label><textarea autocomplete="nope" id="edc8030031" name="458e58ed58" cols="45" rows="8" maxlength="65525" aria-required="true" required></textarea><textarea id="comment" aria-hidden="true" name="comment" autocomplete="nope" style="clip:rect(1px, 1px, 1px, 1px);position:absolute !important;white-space:nowrap;height:1px;width:1px;overflow:hidden;" tabindex="-1"></textarea><script type="text/javascript">document.getElementById("comment").setAttribute( "id", "20927e5ea337db61a0136c9fe6ad29f3" );document.getElementById("edc8030031").setAttribute( "id", "comment" );</script></p>
          <p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required="true" required></p>
          <p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required="true" required></p>
          <p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200"></p>
          <p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="2215" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"></p>
         </form>
        </div>
       </div>
       <nav class="navigation post-navigation" role="navigation">
        <h2 class="screen-reader-text">Post navigation</h2>
        <div class="nav-links">
         <div class="nav-previous">
          <a href="https://jonathanmh.com/angular-2-tips-beginners/" rel="prev"><span class="meta-nav" aria-hidden="true">Previous</span> <span class="screen-reader-text">Previous post:</span> <span class="post-title">Angular 2 Tips for Beginners</span></a>
         </div>
         <div class="nav-next">
          <a href="https://jonathanmh.com/example-json-web-tokens-vanilla-javascript/" rel="next"><span class="meta-nav" aria-hidden="true">Next</span> <span class="screen-reader-text">Next post:</span> <span class="post-title">Example: JSON Web Tokens with Vanilla JavaScript</span></a>
         </div>
        </div> 
       </nav> 
      </main>
     </div>
     <aside id="secondary" class="sidebar widget-area" role="complementary"> 
      <section id="text-2" class="widget widget_text">
       <div class="textwidget">
        <p>This website uses cookies.</p> 
        <img src="https://jonathanmh.com/wp-content/uploads/2017/02/IMG_9369-3.jpg" alt="jonathanmh logo"> 
        <img src="https://jonathanmh.com/wp-content/uploads/2015/02/jonathanmh-logo-without-text.png" alt="jonathanmh logo">
       </div> 
      </section>
      <section id="search-2" class="widget widget_search">
       <h2 class="widget-title">Search</h2>
       <form role="search" method="get" class="search-form" action="https://jonathanmh.com/"> 
        <label> <span class="screen-reader-text">Search for:</span> <input type="search" class="search-field" placeholder="Search " value="" name="s"> </label> 
        <button type="submit" class="search-submit"><span class="screen-reader-text">Search</span></button>
       </form> 
      </section>
      <section id="lastpost-2" class="widget widget_lastpost">
       last post: 3 days ago
      </section>
      <section id="nav_menu-3" class="widget widget_nav_menu">
       <h2 class="widget-title">Get in Touch</h2>
       <div class="menu-social_media-container">
        <ul id="menu-social_media-1" class="menu">
         <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-787"><a href="https://twitter.com/JonathanMH_com">twitter</a></li>
         <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-839"><a href="http://jonathanmh.com/feed/">rss feed</a></li>
         <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-786"><a href="https://github.com/JonathanMH">github</a></li>
         <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1334"><a href="http://stackoverflow.com/users/896285/jonathan-m-hethey">stackoverflow</a></li>
         <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1335"><a href="http://instagram.com/jonathanmh">instagram</a></li>
         <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-788"><a href="https://www.facebook.com/pages/JonathanMH/159526834122370">facebook</a></li>
         <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-790"><a href="http://www.linkedin.com/in/jonathanmh">linkedin</a></li>
        </ul>
       </div>
      </section>
      <section id="tag_cloud-2" class="widget widget_tag_cloud">
       <h2 class="widget-title">Tags</h2>
       <div class="tagcloud">
        <a href="https://jonathanmh.com/tag/htaccess/" class="tag-cloud-link tag-link-10 tag-link-position-1" style="font-size: 1em;">.htaccess</a> 
        <a href="https://jonathanmh.com/tag/adobe/" class="tag-cloud-link tag-link-98 tag-link-position-2" style="font-size: 1em;">Adobe</a> 
        <a href="https://jonathanmh.com/tag/android/" class="tag-cloud-link tag-link-256 tag-link-position-3" style="font-size: 1em;">Android</a> 
        <a href="https://jonathanmh.com/tag/arch-linux/" class="tag-cloud-link tag-link-285 tag-link-position-4" style="font-size: 1em;">Arch Linux</a> 
        <a href="https://jonathanmh.com/tag/atom/" class="tag-cloud-link tag-link-362 tag-link-position-5" style="font-size: 1em;">atom</a> 
        <a href="https://jonathanmh.com/tag/bash/" class="tag-cloud-link tag-link-158 tag-link-position-6" style="font-size: 1em;">bash</a> 
        <a href="https://jonathanmh.com/tag/blogging/" class="tag-cloud-link tag-link-311 tag-link-position-7" style="font-size: 1em;">blogging</a> 
        <a href="https://jonathanmh.com/tag/brackets/" class="tag-cloud-link tag-link-99 tag-link-position-8" style="font-size: 1em;">Brackets</a> 
        <a href="https://jonathanmh.com/tag/cigtrack/" class="tag-cloud-link tag-link-88 tag-link-position-9" style="font-size: 1em;">cigtrack</a> 
        <a href="https://jonathanmh.com/tag/codeigniter/" class="tag-cloud-link tag-link-56 tag-link-position-10" style="font-size: 1em;">CodeIgniter</a> 
        <a href="https://jonathanmh.com/tag/css/" class="tag-cloud-link tag-link-238 tag-link-position-11" style="font-size: 1em;">CSS</a> 
        <a href="https://jonathanmh.com/tag/digital-ocean/" class="tag-cloud-link tag-link-343 tag-link-position-12" style="font-size: 1em;">Digital Ocean</a> 
        <a href="https://jonathanmh.com/tag/express-js/" class="tag-cloud-link tag-link-127 tag-link-position-13" style="font-size: 1em;">express.js</a> 
        <a href="https://jonathanmh.com/tag/facebook/" class="tag-cloud-link tag-link-62 tag-link-position-14" style="font-size: 1em;">facebook</a> 
        <a href="https://jonathanmh.com/tag/ghost/" class="tag-cloud-link tag-link-265 tag-link-position-15" style="font-size: 1em;">ghost</a> 
        <a href="https://jonathanmh.com/tag/git/" class="tag-cloud-link tag-link-49 tag-link-position-16" style="font-size: 1em;">git</a> 
        <a href="https://jonathanmh.com/tag/github/" class="tag-cloud-link tag-link-50 tag-link-position-17" style="font-size: 1em;">github</a> 
        <a href="https://jonathanmh.com/tag/gitlab/" class="tag-cloud-link tag-link-130 tag-link-position-18" style="font-size: 1em;">gitlab</a> 
        <a href="https://jonathanmh.com/tag/go/" class="tag-cloud-link tag-link-406 tag-link-position-19" style="font-size: 1em;">go</a> 
        <a href="https://jonathanmh.com/tag/golang/" class="tag-cloud-link tag-link-407 tag-link-position-20" style="font-size: 1em;">golang</a> 
        <a href="https://jonathanmh.com/tag/google/" class="tag-cloud-link tag-link-211 tag-link-position-21" style="font-size: 1em;">Google</a> 
        <a href="https://jonathanmh.com/tag/gulp/" class="tag-cloud-link tag-link-497 tag-link-position-22" style="font-size: 1em;">Gulp</a> 
        <a href="https://jonathanmh.com/tag/gvim/" class="tag-cloud-link tag-link-271 tag-link-position-23" style="font-size: 1em;">gvim</a> 
        <a href="https://jonathanmh.com/tag/javascript/" class="tag-cloud-link tag-link-303 tag-link-position-24" style="font-size: 1em;">JavaScript</a> 
        <a href="https://jonathanmh.com/tag/kickstarter/" class="tag-cloud-link tag-link-145 tag-link-position-25" style="font-size: 1em;">kickstarter</a> 
        <a href="https://jonathanmh.com/tag/linux/" class="tag-cloud-link tag-link-121 tag-link-position-26" style="font-size: 1em;">Linux</a> 
        <a href="https://jonathanmh.com/tag/markdown/" class="tag-cloud-link tag-link-241 tag-link-position-27" style="font-size: 1em;">markdown</a> 
        <a href="https://jonathanmh.com/tag/mindset/" class="tag-cloud-link tag-link-45 tag-link-position-28" style="font-size: 1em;">mindset</a> 
        <a href="https://jonathanmh.com/tag/mvc/" class="tag-cloud-link tag-link-189 tag-link-position-29" style="font-size: 1em;">MVC</a> 
        <a href="https://jonathanmh.com/tag/nginx/" class="tag-cloud-link tag-link-532 tag-link-position-30" style="font-size: 1em;">Nginx</a> 
        <a href="https://jonathanmh.com/tag/node-js/" class="tag-cloud-link tag-link-23 tag-link-position-31" style="font-size: 1em;">node.js</a> 
        <a href="https://jonathanmh.com/tag/npm/" class="tag-cloud-link tag-link-53 tag-link-position-32" style="font-size: 1em;">npm</a> 
        <a href="https://jonathanmh.com/tag/photography/" class="tag-cloud-link tag-link-462 tag-link-position-33" style="font-size: 1em;">Photography</a> 
        <a href="https://jonathanmh.com/tag/php/" class="tag-cloud-link tag-link-19 tag-link-position-34" style="font-size: 1em;">PHP</a> 
        <a href="https://jonathanmh.com/tag/plugin/" class="tag-cloud-link tag-link-137 tag-link-position-35" style="font-size: 1em;">plugin</a> 
        <a href="https://jonathanmh.com/tag/raspberry-pi/" class="tag-cloud-link tag-link-110 tag-link-position-36" style="font-size: 1em;">Raspberry PI</a> 
        <a href="https://jonathanmh.com/tag/scss/" class="tag-cloud-link tag-link-499 tag-link-position-37" style="font-size: 1em;">SCSS</a> 
        <a href="https://jonathanmh.com/tag/ssh/" class="tag-cloud-link tag-link-228 tag-link-position-38" style="font-size: 1em;">ssh</a> 
        <a href="https://jonathanmh.com/tag/terminal/" class="tag-cloud-link tag-link-159 tag-link-position-39" style="font-size: 1em;">Terminal</a> 
        <a href="https://jonathanmh.com/tag/toolbox/" class="tag-cloud-link tag-link-472 tag-link-position-40" style="font-size: 1em;">toolbox</a> 
        <a href="https://jonathanmh.com/tag/uberwriter/" class="tag-cloud-link tag-link-262 tag-link-position-41" style="font-size: 1em;">UberWriter</a> 
        <a href="https://jonathanmh.com/tag/ubuntu/" class="tag-cloud-link tag-link-261 tag-link-position-42" style="font-size: 1em;">Ubuntu</a> 
        <a href="https://jonathanmh.com/tag/vim/" class="tag-cloud-link tag-link-270 tag-link-position-43" style="font-size: 1em;">vim</a> 
        <a href="https://jonathanmh.com/tag/web-crawling/" class="tag-cloud-link tag-link-493 tag-link-position-44" style="font-size: 1em;">web crawling</a> 
        <a href="https://jonathanmh.com/tag/wordpress/" class="tag-cloud-link tag-link-461 tag-link-position-45" style="font-size: 1em;">WordPress</a>
       </div> 
      </section> 
     </aside>
    </div>
    <footer id="colophon" class="site-footer" role="contentinfo"> 
     <nav class="main-navigation" role="navigation" aria-label="Footer Primary Menu">
      <div class="menu-top-container">
       <ul id="menu-top-1" class="primary-menu">
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-2461"><a href="https://jonathanmh.com/category/blog/">Blog</a></li>
        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2472"><a href="https://jonathanmh.com/hire-me/">Hire Me</a></li>
        <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-15"><a href="https://jonathanmh.com/about/">About</a></li>
       </ul>
      </div> 
     </nav> 
     <nav class="social-navigation" role="navigation" aria-label="Footer Social Links Menu">
      <div class="menu-social_media-container">
       <ul id="menu-social_media-2" class="social-links-menu">
        <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-787"><a href="https://twitter.com/JonathanMH_com"><span class="screen-reader-text">twitter</span></a></li>
        <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-839"><a href="http://jonathanmh.com/feed/"><span class="screen-reader-text">rss feed</span></a></li>
        <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-786"><a href="https://github.com/JonathanMH"><span class="screen-reader-text">github</span></a></li>
        <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1334"><a href="http://stackoverflow.com/users/896285/jonathan-m-hethey"><span class="screen-reader-text">stackoverflow</span></a></li>
        <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1335"><a href="http://instagram.com/jonathanmh"><span class="screen-reader-text">instagram</span></a></li>
        <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-788"><a href="https://www.facebook.com/pages/JonathanMH/159526834122370"><span class="screen-reader-text">facebook</span></a></li>
        <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-790"><a href="http://www.linkedin.com/in/jonathanmh"><span class="screen-reader-text">linkedin</span></a></li>
       </ul>
      </div> 
     </nav>
     <div class="site-info"> 
      <span class="site-title"><a href="https://jonathanmh.com/" rel="home">JonathanMH</a></span> 
      <a href="https://wordpress.org/">Proudly powered by WordPress</a>
     </div> 
    </footer>
   </div>
  </div>
  <link rel="stylesheet" id="yarppRelatedCss-css" href="https://jonathanmh.com/wp-content/plugins/yet-another-related-posts-plugin/style/related.css?ver=4.8.1" type="text/css" media="all"> 
  <script type="text/javascript" src="https://jonathanmh.com/wp-content/plugins/prism-syntax-highlighter/prism/prism.js?ver=1.0"></script> 
  <script type="text/javascript" src="https://jonathanmh.com/wp-content/themes/twentysixteen/js/skip-link-focus-fix.js?ver=20160816"></script> 
  <script type="text/javascript" src="https://jonathanmh.com/wp-includes/js/comment-reply.min.js?ver=4.8.1"></script> 
  <script type="text/javascript">/*  */
var screenReaderText = {"expand":"expand child menu","collapse":"collapse child menu"};
/*  */</script> 
  <script type="text/javascript" src="https://jonathanmh.com/wp-content/themes/twentysixteen/js/functions.js?ver=20160816"></script> 
  <script type="text/javascript" src="https://jonathanmh.com/wp-includes/js/wp-embed.min.js?ver=4.8.1"></script> 
 </body>
</html>