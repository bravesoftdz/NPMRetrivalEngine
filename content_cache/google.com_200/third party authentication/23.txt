<!doctype html>
<html lang="en-US">
 <head> 
  <!-- TITLE OF SITE --> 
  <meta charset="UTF-8"> 
  <title>Authentication using Google’s oAuth api with node.js | Void Canvas</title> 
  <meta name="description" content="JavaScript, Node.js, mongo, react, angular and many more"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"> 
  <!-- =========================
      FAV AND TOUCH ICONS  
    ============================== --> 
  <link rel="shortcut icon" href="http://voidcanvas.com/wp-content/themes/reader/images/favicon.ico"> 
  <link rel="apple-touch-icon" sizes="60x60" href="http://voidcanvas.com/wp-content/uploads/2016/11/favicon-vc.png"> 
  <link rel="apple-touch-icon" sizes="120x120" href="http://voidcanvas.com/wp-content/uploads/2016/11/favicon-vc.png"> 
  <link rel="apple-touch-icon" sizes="76x76" href="http://voidcanvas.com/wp-content/uploads/2016/11/favicon-vc.png"> 
  <link rel="alternate" type="application/rss+xml" title="Void Canvas" href="http://feedburner.google.com/fb/a/mailverify?uri=VoidCanvas"> 
  <link rel="alternate" type="application/atom+xml" title="Void Canvas" href="http://voidcanvas.com/feed/atom/"> 
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "WebSite",
      "url": "http://www.voidcanvas.com/",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "http://voidcanvas.com/?s={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script> 
  <!-- JM Twitter Cards by Julien Maury 7.8 --> 
  <meta name="twitter:card" content="summary"> 
  <meta name="twitter:creator" content="@"> 
  <meta name="twitter:site" content="@"> 
  <meta name="twitter:title" content="Authentication using Google’s oAuth api with node.js"> 
  <meta name="twitter:description" content="OAuth authentications are pretty popular now a days and another thing which is popular is JavaScript. This article shows how to plugin google’s oAuth api for authentication in your own node applicat"> 
  <meta name="twitter:image" content="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1.png"> 
  <!-- /JM Twitter Cards by Julien Maury 7.8 --> 
  <link rel="dns-prefetch" href="//fonts.googleapis.com"> 
  <link rel="dns-prefetch" href="//s.w.org"> 
  <link rel="alternate" type="application/rss+xml" title="Void Canvas » Feed" href="http://voidcanvas.com/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Void Canvas » Comments Feed" href="http://voidcanvas.com/comments/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Void Canvas » Authentication using Google’s oAuth api with node.js Comments Feed" href="http://voidcanvas.com/googles-oauth-api-node-js/feed/"> 
  <script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/voidcanvas.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.7"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script> 
  <style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style> 
  <link rel="stylesheet" id="yarppWidgetCss-css" href="http://voidcanvas.com/wp-content/plugins/yet-another-related-posts-plugin/style/widget.css?ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="crayon-css" href="http://voidcanvas.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta" type="text/css" media="all"> 
  <link rel="stylesheet" id="crayon-theme-classic-css" href="http://voidcanvas.com/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta" type="text/css" media="all"> 
  <link rel="stylesheet" id="crayon-font-monaco-css" href="http://voidcanvas.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta" type="text/css" media="all"> 
  <link rel="stylesheet" id="easy_testimonial_style-css" href="http://voidcanvas.com/wp-content/plugins/easy-testimonials/include/assets/css/style.css?ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="wp-syntax-css-css" href="http://voidcanvas.com/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.0" type="text/css" media="all"> 
  <link rel="stylesheet" id="googlefont1-css" href="http://fonts.googleapis.com/css?family=Raleway%3A400%2C100%2C200%2C300%2C500%2C600%2C700&amp;ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="bootstrap-css" href="http://voidcanvas.com/wp-content/themes/reader/css/bootstrap.min.css?ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="flaticon-css" href="http://voidcanvas.com/wp-content/themes/reader/css/flaticon.css?ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="fontawesome-css" href="http://voidcanvas.com/wp-content/themes/reader/css/font-awesome.min.css?ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="nprogress-css" href="http://voidcanvas.com/wp-content/themes/reader/css/nprogress.css?ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="mediaelementplayer-css" href="http://voidcanvas.com/wp-content/themes/reader/css/mediaelementplayer.css?ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="owl-css" href="http://voidcanvas.com/wp-content/themes/reader/css/owl.carousel.css?ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="style-css" href="http://voidcanvas.com/wp-content/themes/reader/style.css?q=1&amp;ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="header_white-css" href="http://voidcanvas.com/wp-content/themes/reader/css/header-white.css?q=1&amp;ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="responsive-css" href="http://voidcanvas.com/wp-content/themes/reader/css/responsive.css?ver=4.6.7" type="text/css" media="all"> 
  <link rel="stylesheet" id="custom_color-css" href="http://voidcanvas.com/wp-content/themes/reader/css/colors/lime.css?ver=4.6.7" type="text/css" media="all"> 
  <script type="text/javascript">
/* <![CDATA[ */
var templateUrl = "http:\/\/voidcanvas.com\/wp-content\/themes\/reader";
/* ]]> */
</script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-includes/js/jquery/jquery.js?ver=1.12.4"></script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1"></script> 
  <script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/voidcanvas.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta"></script> 
  <link rel="https://api.w.org/" href="http://voidcanvas.com/wp-json/"> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://voidcanvas.com/xmlrpc.php?rsd"> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://voidcanvas.com/wp-includes/wlwmanifest.xml"> 
  <link rel="prev" title="How to install postgresql, run the server and connect using cli?" href="http://voidcanvas.com/how-to-install-postgresql-run-the-server-and-connect-using-cli/"> 
  <link rel="next" title="sync-node : a npm module which makes node synchronous without blocking the main thread" href="http://voidcanvas.com/sync-node/"> 
  <meta name="generator" content="WordPress 4.6.7"> 
  <link rel="canonical" href="http://voidcanvas.com/googles-oauth-api-node-js/"> 
  <link rel="shortlink" href="http://voidcanvas.com/?p=1318"> 
  <link rel="alternate" type="application/json+oembed" href="http://voidcanvas.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fvoidcanvas.com%2Fgoogles-oauth-api-node-js%2F"> 
  <link rel="alternate" type="text/xml+oembed" href="http://voidcanvas.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fvoidcanvas.com%2Fgoogles-oauth-api-node-js%2F&amp;format=xml"> 
  <style type="text/css" media="screen"></style>
  <link rel="author" href="https://plus.google.com/106193677598484611452/"> 
  <link rel="publisher" href="https://plus.google.com/106193677598484611452/"> 
  <meta property="og:image" content="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1.png"> 
  <meta property="og:image:url" content="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1.png"> 
  <meta property="og:image:secure_url" content="https://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1.png"> 
  <meta property="twitter:image" content="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1.png"> 
  <meta property="st:image" content="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1.png"> 
  <link rel="image_src" href="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1.png"> 
  <!--[if lt IE 9]><script src="http://voidcanvas.com/wp-content/themes/reader/js/html5shiv.js"></script><script src="http://voidcanvas.com/wp-content/themes/reader/js/respond.min.js"></script><![endif]-->
  <style type="text/css" id="syntaxhighlighteranchor"></style> 
 </head> 
 <body id="header-top" class="single single-post postid-1318 single-format-standard layout-improved style-blog-classic loading-ajax-post style-sidebar-both_s  header_white page-template-page-main green_line_bp"> 
  <header class="header header-rana"> 
   <nav class="navbar navbar-default navbar-rana navbar-fixed-top" role="navigation"> 
    <div class="container-fluid"> 
     <div class="row"> 
      <!-- Navigation Items --> 
      <div class="col-md-10"> 
       <div class="collapse navbar-collapse main-navigation" id="bs-example-navbar-collapse-1"> 
        <ul id="menu-reader-header" class="nav navbar-nav uppercase">
         <li id="menu-item-1536" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-1536 dropdown"><a title="Level 5" href="#" data-toggle="dropdown" class="dropdown-toggle" aria-haspopup="true" data-hover="dropdown"><span class="glyphicon In depth articles"></span>&nbsp;Level 5 </a> 
          <ul role="menu" class=" dropdown-menu"> 
           <li id="menu-item-1878" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1878"><a title="setImmediate() vs nextTick() vs setTimeout(fn,0) – in depth explanation" href="http://voidcanvas.com/setimmediate-vs-nexttick-vs-settimeout/">setImmediate() vs nextTick() vs setTimeout(fn,0) – in depth explanation</a></li> 
           <li id="menu-item-1875" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1875"><a title="Diving deep into JavaScript array – evolution &amp; performance" href="http://voidcanvas.com/javascript-array-evolution-performance/">Diving deep into JavaScript array – evolution &amp; performance</a></li> 
           <li id="menu-item-1876" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1876"><a title="Is JavaScript really interpreted or compiled language?" href="http://voidcanvas.com/is-javascript-really-interpreted-or-compiled-language/">Is JavaScript really interpreted or compiled language?</a></li> 
           <li id="menu-item-1877" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-1877"><a title="import vs require – ESM &amp; commonJs module differences" href="http://voidcanvas.com/import-vs-require/">import vs require – ESM &amp; commonJs module differences</a></li> 
          </ul> </li> 
         <li id="menu-item-1740" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1740"><a title="Last 7 Days" href="http://voidcanvas.com/last7days/">Last 7 Days</a></li> 
         <li id="menu-item-1885" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1885"><a title="Write &amp; Earn" href="http://voidcanvas.com/careers/"><span class="glyphicon Join us &amp; grow"></span>&nbsp;Write &amp; Earn</a></li> 
        </ul> 
       </div> 
      </div> 
      <div class="col-md-4 col-sm-24"> 
       <div class="navbar-header"> 
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#left-sedebar-mobile"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> 
        <a class="navbar-brand  logo-img" href="http://voidcanvas.com/"> 
         <!-- YOUR LOGO --> <img src="http://voidcanvas.com/wp-content/themes/reader/images/logo.png" alt="Void Canvas" class="vc-logo"> </a> 
       </div> 
      </div> 
      <div class="col-md-10 search-top-col"> 
       <form class="search-box navbar-form navbar-right" action="http://voidcanvas.com" role="search"> 
        <div class="input-group"> 
         <input type="text" name="s" id="ss" class="form-control" placeholder="Click to Search"> 
        </div>
        <!-- /input-group --> 
       </form> 
      </div> 
     </div> 
    </div>  
   </nav>
  </header> 
  <!-- BODY CONTAINER - FULL WIDTH --> 
  <div class="container-fluid"> 
   <div class="row"> 
    <!-- =========================
             LEFT SIDEBAR - NAVIGATION 
        ============================== --> 
    <!--  For mobile  --> 
    <aside class="left-sidebar left-sidebar-mobile main-navigation collapse" id="left-sedebar-mobile"> 
     <div class="col-md-4 col-sm-6 items "> 
      <nav class="left-navigation"> 
       <ul> 
        <li class="widget widget_nav_menu" id="nav_menu-2"><h4>JavaScript</h4>
         <div class="menu-javascript-container">
          <ul id="menu-javascript" class="menu">
           <li id="menu-item-1372" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-1372"><a href="http://voidcanvas.com/category/javascript/">All JS</a></li> 
           <li id="menu-item-1683" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1683"><a href="http://voidcanvas.com/category/javascript/vanilla-js/">Vanilla JS</a> 
            <ul class="sub-menu"> 
             <li id="menu-item-1684" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1684"><a href="http://voidcanvas.com/category/javascript/vanilla-js/es6/">ES6</a></li> 
             <li id="menu-item-1686" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1686"><a href="http://voidcanvas.com/category/javascript/vanilla-js/es7/">ES7</a></li> 
             <li id="menu-item-1685" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1685"><a href="http://voidcanvas.com/category/javascript/vanilla-js/es8/">ES8</a></li> 
            </ul> </li> 
           <li id="menu-item-1680" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1680"><a href="http://voidcanvas.com/category/javascript/node-js/">Node JS</a></li> 
           <li id="menu-item-1677" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1677"><a href="http://voidcanvas.com/category/javascript/angular-js/">Angular JS</a></li> 
           <li id="menu-item-1678" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1678"><a href="http://voidcanvas.com/category/javascript/ember-js/">Ember JS</a></li> 
           <li id="menu-item-1682" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1682"><a href="http://voidcanvas.com/category/javascript/react-js/">React JS</a></li> 
           <li id="menu-item-1679" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1679"><a href="http://voidcanvas.com/category/javascript/jquery/">jQuery</a></li> 
           <li id="menu-item-1681" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1681"><a href="http://voidcanvas.com/category/javascript/polymer-js/">Polymer JS</a></li> 
          </ul>
         </div></li>
        <li class="widget widget_nav_menu" id="nav_menu-4"><h4>DOM</h4>
         <div class="menu-dom-container">
          <ul id="menu-dom" class="menu">
           <li id="menu-item-1380" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1380"><a href="http://voidcanvas.com/category/html-html5/">HTML</a></li> 
           <li id="menu-item-1381" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1381"><a href="http://voidcanvas.com/category/css-css3/">CSS</a></li> 
          </ul>
         </div></li>
        <li class="widget widget_nav_menu" id="nav_menu-3"><h4>Our Plugins</h4>
         <div class="menu-our-plugins-container">
          <ul id="menu-our-plugins" class="menu">
           <li id="menu-item-1385" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1385"><a href="http://voidcanvas.com/cli/">VoidCanvas CLI</a></li> 
           <li id="menu-item-1384" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1384"><a href="http://voidcanvas.com/smartjax-ajax-call-store/">Smartjax.js</a></li> 
           <li id="menu-item-1382" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1382"><a href="http://voidcanvas.com/3deye/">3dEye.js</a></li> 
           <li id="menu-item-1383" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1383"><a href="http://voidcanvas.com/pairselect/">PairSelect.js</a></li> 
          </ul>
         </div></li>
        <li class="widget widget_nav_menu" id="nav_menu-5"><h4>Others</h4>
         <div class="menu-others-reader-container">
          <ul id="menu-others-reader" class="menu">
           <li id="menu-item-1688" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1688"><a href="http://voidcanvas.com/category/database/">Database</a></li> 
           <li id="menu-item-1387" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1387"><a href="http://voidcanvas.com/category/tips-tricks/">Tips n Tricks</a></li> 
           <li id="menu-item-1388" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1388"><a href="http://voidcanvas.com/category/miscellaneous/graphics-animation/">Graphics n Animation</a></li> 
           <li id="menu-item-1707" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1707"><a href="http://voidcanvas.com/category/issue-fix/">Issue Fix</a></li> 
          </ul>
         </div></li>
        <li class="widget widget_text" id="text-2"><h4>Sponsored</h4> 
         <div class="textwidget">
          <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> 
          <!-- the-reader-responsive --> 
          <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2546455652218454" data-ad-slot="3302798650" data-ad-format="auto"></ins> 
          <script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
         </div> </li> 
       </ul> 
      </nav> 
      <!-- end of .left-navigation --> 
     </div> 
    </aside> 
    <!-- for desktop --> 
    <aside class="left-sidebar left-sidebar-desk hidden-xs"> 
     <div class="col-md-4 col-sm-6 items "> 
      <nav class="left-navigation"> 
       <ul> 
        <li class="widget widget_nav_menu" id="nav_menu-2"><h4>JavaScript</h4>
         <div class="menu-javascript-container">
          <ul id="menu-javascript-1" class="menu">
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-1372"><a href="http://voidcanvas.com/category/javascript/">All JS</a></li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1683"><a href="http://voidcanvas.com/category/javascript/vanilla-js/">Vanilla JS</a> 
            <ul class="sub-menu"> 
             <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1684"><a href="http://voidcanvas.com/category/javascript/vanilla-js/es6/">ES6</a></li> 
             <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1686"><a href="http://voidcanvas.com/category/javascript/vanilla-js/es7/">ES7</a></li> 
             <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1685"><a href="http://voidcanvas.com/category/javascript/vanilla-js/es8/">ES8</a></li> 
            </ul> </li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1680"><a href="http://voidcanvas.com/category/javascript/node-js/">Node JS</a></li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1677"><a href="http://voidcanvas.com/category/javascript/angular-js/">Angular JS</a></li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1678"><a href="http://voidcanvas.com/category/javascript/ember-js/">Ember JS</a></li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1682"><a href="http://voidcanvas.com/category/javascript/react-js/">React JS</a></li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1679"><a href="http://voidcanvas.com/category/javascript/jquery/">jQuery</a></li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1681"><a href="http://voidcanvas.com/category/javascript/polymer-js/">Polymer JS</a></li> 
          </ul>
         </div></li>
        <li class="widget widget_nav_menu" id="nav_menu-4"><h4>DOM</h4>
         <div class="menu-dom-container">
          <ul id="menu-dom-1" class="menu">
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1380"><a href="http://voidcanvas.com/category/html-html5/">HTML</a></li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1381"><a href="http://voidcanvas.com/category/css-css3/">CSS</a></li> 
          </ul>
         </div></li>
        <li class="widget widget_nav_menu" id="nav_menu-3"><h4>Our Plugins</h4>
         <div class="menu-our-plugins-container">
          <ul id="menu-our-plugins-1" class="menu">
           <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1385"><a href="http://voidcanvas.com/cli/">VoidCanvas CLI</a></li> 
           <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1384"><a href="http://voidcanvas.com/smartjax-ajax-call-store/">Smartjax.js</a></li> 
           <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1382"><a href="http://voidcanvas.com/3deye/">3dEye.js</a></li> 
           <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1383"><a href="http://voidcanvas.com/pairselect/">PairSelect.js</a></li> 
          </ul>
         </div></li>
        <li class="widget widget_nav_menu" id="nav_menu-5"><h4>Others</h4>
         <div class="menu-others-reader-container">
          <ul id="menu-others-reader-1" class="menu">
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1688"><a href="http://voidcanvas.com/category/database/">Database</a></li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1387"><a href="http://voidcanvas.com/category/tips-tricks/">Tips n Tricks</a></li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1388"><a href="http://voidcanvas.com/category/miscellaneous/graphics-animation/">Graphics n Animation</a></li> 
           <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1707"><a href="http://voidcanvas.com/category/issue-fix/">Issue Fix</a></li> 
          </ul>
         </div></li>
        <li class="widget widget_text" id="text-2"><h4>Sponsored</h4> 
         <div class="textwidget">
          <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> 
          <!-- the-reader-responsive --> 
          <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2546455652218454" data-ad-slot="3302798650" data-ad-format="auto"></ins> 
          <script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
         </div> </li> 
       </ul> 
      </nav> 
      <!-- end of .left-navigation --> 
     </div> 
    </aside> 
    <!-- /END LEFT SIDEBAR - NAVIGATION --> 
    <!-- =========================
             BLOG SECTION 
        ============================== --> 
    <div class="col-md-14 col-sm-18"> 
     <div class="blog-style-one"> 
      <!-- GENERAL BLOG POST --> 
      <article class="blog-item"> 
       <header> 
        <h1 class="title"> Authentication using Google’s oAuth api with node.js </h1> 
        <div class="meta-info"> 
         <img alt="" src="http://1.gravatar.com/avatar/48692c25db0cdbbe426d6c3dc947ecb2?s=90&amp;d=monsterid&amp;r=g" srcset="http://1.gravatar.com/avatar/48692c25db0cdbbe426d6c3dc947ecb2?s=180&amp;d=monsterid&amp;r=g 2x" class="avatar thumb avatar-90 photo" height="90" width="90"> 
         <ul> 
          <li> <a href="http://voidcanvas.com/author/paulshan/" title="Posts by Paul Shan" rel="author">Paul Shan</a></li> 
          <li> 10th Mar 2016</li> 
          <li><a href="http://voidcanvas.com/category/javascript/node-js/">Node JS</a></li> 
         </ul> 
        </div> 
       </header> 
       <div> 
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> 
        <!-- reader-Link-responsive2 --> 
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2546455652218454" data-ad-slot="5351281454" data-ad-format="link"></ins> 
        <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        </script> 
       </div> 
       <div class="post-body"> 
        <p>OAuth authentications are pretty popular now a days and another thing which is popular is JavaScript. This article shows how to plugin google’s oAuth api for authentication in your own node application. The <a href="https://github.com/metalshan/google-oauth-node" target="_blank">github repo</a> is also available.</p> 
        <h3 id="a-background-of-oauth">A background of oAuth</h3> 
        <p>OAuth is an authentication technique which provides you a secure and delegate access to some server resources on behalf of the resource owner. This is a very commonly used technique in third party websites to authenticate a user via his/her facebook, twitter or google account, without disclosing the password and also without taking the headache of storing user credentials in their websites.</p> 
        <h2 id="get-the-client-id-and-client-secret">Get the client-id and client-secret</h2> 
        <p>To use oAuth (or any other api) of google you need to create an app in <a href="https://console.developers.google.com/">google developers console</a>. Follow the steps below, described in the images and you will be able to generate the client-id and client-secret.</p> 
        <p><a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen1.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen1.png" alt="google-app-id-secret-gen1" class="alignnone size-medium wp-image-1325" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen1.png 1429w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen1-300x154.png 300w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen1-1024x525.png 1024w" sizes="(max-width: 1429px) 100vw, 1429px"></a><br> <br> <a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen2.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen2.png" alt="google-app-id-secret-gen2" class="alignnone size-medium wp-image-1324" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen2.png 641w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen2-300x263.png 300w" sizes="(max-width: 641px) 100vw, 641px"></a><br> <br> <a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen3.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen3.png" alt="google-app-id-secret-gen3" class="alignnone size-medium wp-image-1323" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen3.png 1438w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen3-300x124.png 300w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen3-1024x424.png 1024w" sizes="(max-width: 1438px) 100vw, 1438px"></a><br> <br> <a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen4.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen4.png" alt="google-app-id-secret-gen4" class="alignnone size-medium wp-image-1322" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen4.png 1439w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen4-300x114.png 300w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen4-1024x391.png 1024w" sizes="(max-width: 1439px) 100vw, 1439px"></a><br> <br> <a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen5.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen5.png" alt="google-app-id-secret-gen5" class="alignnone size-medium wp-image-1321" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen5.png 1161w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen5-300x170.png 300w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen5-1024x580.png 1024w" sizes="(max-width: 1161px) 100vw, 1161px"></a><br> <br> <a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen6.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen6.png" alt="google-app-id-secret-gen6" class="alignnone size-medium wp-image-1320" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen6.png 1260w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen6-300x165.png 300w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen6-1024x564.png 1024w" sizes="(max-width: 1260px) 100vw, 1260px"></a><br> <br> <a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen7.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen7.png" alt="google-app-id-secret-gen7" class="alignnone size-medium wp-image-1319" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen7.png 638w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-id-secret-gen7-300x151.png 300w" sizes="(max-width: 638px) 100vw, 638px"></a></p> 
        <h2 id="code-in-node-for-oauth">Code in node for OAuth</h2> 
        <p>I am describing things here with a small node/express application which has few routes and returns normal html with some links. However you can implement the same thing may be in a popup window or wherever you needed.</p> 
        <h3 id="install-express-and-googleapis-modules">Install express and googleapis modules</h3> 
        <p></p>
        <!-- Crayon Syntax Highlighter v_2.7.2_beta --> 
        <div id="crayon-59d38088ec09d631296865" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"> 
         <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
          <span class="crayon-title"></span> 
          <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
           <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-expand-button" title="Expand Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-copy-button" title="Copy">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
            <div class="crayon-button-icon"></div>
           </div>
          </div>
         </div> 
         <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div> 
         <div class="crayon-plain-wrap">
          <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
npm install express
npm install googleapis
</textarea>
         </div> 
         <div class="crayon-main" style=""> 
          <table class="crayon-table"> 
           <tbody>
            <tr class="crayon-row"> 
             <td class="crayon-nums " data-settings="show"> 
              <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
               <div class="crayon-num" data-line="crayon-59d38088ec09d631296865-1">
                1
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec09d631296865-2">
                2
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec09d631296865-3">
                3
               </div>
              </div> </td> 
             <td class="crayon-code">
              <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
               <div class="crayon-line" id="crayon-59d38088ec09d631296865-1">
                <span class="crayon-e">npm </span>
                <span class="crayon-e">install </span>
                <span class="crayon-e">express</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec09d631296865-2">
                <span class="crayon-e">npm </span>
                <span class="crayon-e">install </span>
                <span class="crayon-i">googleapis</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec09d631296865-3">
                &nbsp;
               </div>
              </div></td> 
            </tr> 
           </tbody>
          </table> 
         </div> 
        </div> 
        <!-- [Format Time: 0.0006 seconds] --> 
        <p></p> 
        <p>Let us also install express’s session plugin which I will describe later on, why it was necessary. </p> 
        <p></p>
        <!-- Crayon Syntax Highlighter v_2.7.2_beta --> 
        <div id="crayon-59d38088ec0af681872319" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"> 
         <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
          <span class="crayon-title"></span> 
          <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
           <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-expand-button" title="Expand Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-copy-button" title="Copy">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
            <div class="crayon-button-icon"></div>
           </div>
          </div>
         </div> 
         <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div> 
         <div class="crayon-plain-wrap">
          <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
npm install express-session
</textarea>
         </div> 
         <div class="crayon-main" style=""> 
          <table class="crayon-table"> 
           <tbody>
            <tr class="crayon-row"> 
             <td class="crayon-nums " data-settings="show"> 
              <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
               <div class="crayon-num" data-line="crayon-59d38088ec0af681872319-1">
                1
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0af681872319-2">
                2
               </div>
              </div> </td> 
             <td class="crayon-code">
              <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
               <div class="crayon-line" id="crayon-59d38088ec0af681872319-1">
                <span class="crayon-e">npm </span>
                <span class="crayon-e">install </span>
                <span class="crayon-v">express</span>
                <span class="crayon-o">-</span>
                <span class="crayon-i">session</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0af681872319-2">
                &nbsp;
               </div>
              </div></td> 
            </tr> 
           </tbody>
          </table> 
         </div> 
        </div> 
        <!-- [Format Time: 0.0005 seconds] --> 
        <p></p> 
        <p>I will be using only one file, that is <em>server.js</em>. All the codes below will go into that only.</p> 
        <h3 id="setup-the-basic-app">Setup the basic app</h3> 
        <p></p>
        <!-- Crayon Syntax Highlighter v_2.7.2_beta --> 
        <div id="crayon-59d38088ec0b7674867817" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"> 
         <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
          <span class="crayon-title"></span> 
          <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
           <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-expand-button" title="Expand Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-copy-button" title="Copy">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
            <div class="crayon-button-icon"></div>
           </div>
          </div>
         </div> 
         <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div> 
         <div class="crayon-plain-wrap">
          <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');
var express = require('express');
var Session = require('express-session');
var google = require('googleapis');
var OAuth2 = google.auth.OAuth2;
var plus = google.plus('v1');
const ClientId = "YourGoogleAppClientId";
const ClientSecret = "YourGoogleAppClientSecret";
const RedirectionUrl = "http://localhost:1234/oauthCallback";

//starting the express app
var app = express();

//using session in express
app.use(Session({
    secret: 'your-random-secret-19890913007',
    resave: true,
    saveUninitialized: true
}));

//this is the base route
app.use("/", function (req, res) {
    res.send(`
        &amp;lt;h1&amp;gt;Authentication using google oAuth&amp;lt;/h1&amp;gt;
    `)
});

var port = 1234;
var server = http.createServer(app);
server.listen(port);
server.on('listening', function () {
    console.log(`listening to ${port}`);
});
</textarea>
         </div> 
         <div class="crayon-main" style=""> 
          <table class="crayon-table"> 
           <tbody>
            <tr class="crayon-row"> 
             <td class="crayon-nums " data-settings="show"> 
              <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-1">
                1
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-2">
                2
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-3">
                3
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-4">
                4
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-5">
                5
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-6">
                6
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-7">
                7
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-8">
                8
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-9">
                9
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-10">
                10
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-11">
                11
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-12">
                12
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-13">
                13
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-14">
                14
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-15">
                15
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-16">
                16
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-17">
                17
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-18">
                18
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-19">
                19
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-20">
                20
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-21">
                21
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-22">
                22
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-23">
                23
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-24">
                24
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-25">
                25
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-26">
                26
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-27">
                27
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-28">
                28
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-29">
                29
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-30">
                30
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-31">
                31
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-32">
                32
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0b7674867817-33">
                33
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0b7674867817-34">
                34
               </div>
              </div> </td> 
             <td class="crayon-code">
              <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-1">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">http</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">require</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'http'</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-2">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">express</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">require</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'express'</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-3">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">Session</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">require</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'express-session'</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-4">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">google</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">require</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'googleapis'</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-5">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">OAuth2</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">google</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">auth</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">OAuth2</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-6">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">plus</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">google</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">plus</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'v1'</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-7">
                <span class="crayon-m">const</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">ClientId</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">"YourGoogleAppClientId"</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-8">
                <span class="crayon-m">const</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">ClientSecret</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">"YourGoogleAppClientSecret"</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-9">
                <span class="crayon-m">const</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">RedirectionUrl</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">"http://localhost:1234/oauthCallback"</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-10">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-11">
                <span class="crayon-c">//starting the express app</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-12">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">app</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">express</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-13">
                &nbsp;
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-14">
                <span class="crayon-c">//using session in express</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-15">
                <span class="crayon-v">app</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">use</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-e">Session</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-16">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">secret</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">'your-random-secret-19890913007'</span>
                <span class="crayon-sy">,</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-17">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">resave</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">true</span>
                <span class="crayon-sy">,</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-18">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">saveUninitialized</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">true</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-19">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-20">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-21">
                <span class="crayon-c">//this is the base route</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-22">
                <span class="crayon-v">app</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">use</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">"/"</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-23">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">send</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-24">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">h1</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Authentication </span>
                <span class="crayon-e">using </span>
                <span class="crayon-e">google </span>
                <span class="crayon-v">oAuth</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">h1</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-25">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-26">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-27">
                &nbsp;
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-28">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">port</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-cn">1234</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-29">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">server</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">http</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">createServer</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">app</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-30">
                <span class="crayon-v">server</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">listen</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">port</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-31">
                <span class="crayon-v">server</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">on</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'listening'</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-32">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">console</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">log</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-e">listening</span>
                <span class="crayon-h"> </span>
                <span class="crayon-st">to</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">$</span>
                <span class="crayon-sy">{</span>
                <span class="crayon-v">port</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0b7674867817-33">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0b7674867817-34">
                &nbsp;
               </div>
              </div></td> 
            </tr> 
           </tbody>
          </table> 
         </div> 
        </div> 
        <!-- [Format Time: 0.0096 seconds] --> 
        <p></p> 
        <h3 id="create-oauth-url">create oAuth url</h3> 
        <p></p>
        <!-- Crayon Syntax Highlighter v_2.7.2_beta --> 
        <div id="crayon-59d38088ec0bf573037148" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"> 
         <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
          <span class="crayon-title"></span> 
          <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
           <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-expand-button" title="Expand Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-copy-button" title="Copy">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
            <div class="crayon-button-icon"></div>
           </div>
          </div>
         </div> 
         <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div> 
         <div class="crayon-plain-wrap">
          <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
function getOAuthClient () {
    return new OAuth2(ClientId ,  ClientSecret, RedirectionUrl);
}

function getAuthUrl () {
    var oauth2Client = getOAuthClient();
    // generate a url that asks permissions for Google+ and Google Calendar scopes
    var scopes = [
      'https://www.googleapis.com/auth/plus.me'
    ];

    var url = oauth2Client.generateAuthUrl({
        access_type: 'offline',
        scope: scopes // If you only need one scope you can pass it as string
    });

    return url;
}
</textarea>
         </div> 
         <div class="crayon-main" style=""> 
          <table class="crayon-table"> 
           <tbody>
            <tr class="crayon-row"> 
             <td class="crayon-nums " data-settings="show"> 
              <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
               <div class="crayon-num" data-line="crayon-59d38088ec0bf573037148-1">
                1
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0bf573037148-2">
                2
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0bf573037148-3">
                3
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0bf573037148-4">
                4
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0bf573037148-5">
                5
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0bf573037148-6">
                6
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0bf573037148-7">
                7
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0bf573037148-8">
                8
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0bf573037148-9">
                9
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0bf573037148-10">
                10
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0bf573037148-11">
                11
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0bf573037148-12">
                12
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0bf573037148-13">
                13
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0bf573037148-14">
                14
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0bf573037148-15">
                15
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0bf573037148-16">
                16
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0bf573037148-17">
                17
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0bf573037148-18">
                18
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0bf573037148-19">
                19
               </div>
              </div> </td> 
             <td class="crayon-code">
              <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
               <div class="crayon-line" id="crayon-59d38088ec0bf573037148-1">
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getOAuthClient</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0bf573037148-2">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-st">return</span>
                <span class="crayon-h"> </span>
                <span class="crayon-r">new</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">OAuth2</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-i">ClientId</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h">&nbsp;&nbsp;</span>
                <span class="crayon-v">ClientSecret</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">RedirectionUrl</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0bf573037148-3">
                <span class="crayon-sy">}</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0bf573037148-4">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0bf573037148-5">
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getAuthUrl</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0bf573037148-6">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getOAuthClient</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0bf573037148-7">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-c">// generate a url that asks permissions for Google+ and Google Calendar scopes</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0bf573037148-8">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">scopes</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">[</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0bf573037148-9">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-s">'https://www.googleapis.com/auth/plus.me'</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0bf573037148-10">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">]</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0bf573037148-11">
                &nbsp;
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0bf573037148-12">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">url</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">generateAuthUrl</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0bf573037148-13">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">access_type</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">'offline'</span>
                <span class="crayon-sy">,</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0bf573037148-14">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">scope</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">scopes</span>
                <span class="crayon-h"> </span>
                <span class="crayon-c">// If you only need one scope you can pass it as string</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0bf573037148-15">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0bf573037148-16">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0bf573037148-17">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-st">return</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">url</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0bf573037148-18">
                <span class="crayon-sy">}</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0bf573037148-19">
                &nbsp;
               </div>
              </div></td> 
            </tr> 
           </tbody>
          </table> 
         </div> 
        </div> 
        <!-- [Format Time: 0.0043 seconds] --> 
        <p></p> 
        <p>The function <em>getOAuthClient()</em> creates an oAuth client and the <em>getAuthUrl()</em> function creates the url to be hit for authentication.</p> 
        <p>Let’s link that url to our base route.</p> 
        <p></p>
        <!-- Crayon Syntax Highlighter v_2.7.2_beta --> 
        <div id="crayon-59d38088ec0c7018744172" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"> 
         <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
          <span class="crayon-title"></span> 
          <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
           <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-expand-button" title="Expand Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-copy-button" title="Copy">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
            <div class="crayon-button-icon"></div>
           </div>
          </div>
         </div> 
         <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div> 
         <div class="crayon-plain-wrap">
          <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
app.use("/", function (req, res) {
    var url = getAuthUrl();
    res.send(`
        &amp;lt;h1&amp;gt;Authentication using google oAuth&amp;lt;/h1&amp;gt;
        &amp;lt;a href=${url}&amp;gt;Login&amp;lt;/a&amp;gt;
    `)
});
</textarea>
         </div> 
         <div class="crayon-main" style=""> 
          <table class="crayon-table"> 
           <tbody>
            <tr class="crayon-row"> 
             <td class="crayon-nums " data-settings="show"> 
              <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
               <div class="crayon-num" data-line="crayon-59d38088ec0c7018744172-1">
                1
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0c7018744172-2">
                2
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0c7018744172-3">
                3
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0c7018744172-4">
                4
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0c7018744172-5">
                5
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0c7018744172-6">
                6
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0c7018744172-7">
                7
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0c7018744172-8">
                8
               </div>
              </div> </td> 
             <td class="crayon-code">
              <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
               <div class="crayon-line" id="crayon-59d38088ec0c7018744172-1">
                <span class="crayon-v">app</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">use</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">"/"</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0c7018744172-2">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">url</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getAuthUrl</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0c7018744172-3">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">send</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0c7018744172-4">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">h1</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Authentication </span>
                <span class="crayon-e">using </span>
                <span class="crayon-e">google </span>
                <span class="crayon-v">oAuth</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">h1</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0c7018744172-5">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-i">a</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">href</span>
                <span class="crayon-o">=</span>
                <span class="crayon-sy">$</span>
                <span class="crayon-sy">{</span>
                <span class="crayon-v">url</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">Login</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">a</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0c7018744172-6">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0c7018744172-7">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0c7018744172-8">
                &nbsp;
               </div>
              </div></td> 
            </tr> 
           </tbody>
          </table> 
         </div> 
        </div> 
        <!-- [Format Time: 0.0031 seconds] --> 
        <p></p> 
        <p>If you run the <em>node server.js</em> now, it will look like the following image.</p> 
        <p><a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output1.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output1.png" alt="google-auth-output1" class="alignnone size-medium wp-image-1326" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output1.png 925w, http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output1-300x133.png 300w" sizes="(max-width: 925px) 100vw, 925px"></a></p> 
        <h3 id="things-you-need-to-know-about-scopes">Things you need to know about scopes</h3> 
        <p>Scopes are like permissions. What kind of permissions do you want from the user? Is it just the identity and basic details of him (for which I am using the plus.me scope), or calendar (‘<a href="https://www.googleapis.com/auth/calendar">https://www.googleapis.com/auth/calendar</a>‘) or drive or something else. Just remember to enable that scope from developers console. How to enable is shown in the images below. </p> 
        <p><a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1.png" alt="google-app-permission1" class="alignnone size-medium wp-image-1327" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1.png 1398w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1-300x140.png 300w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1-1024x481.png 1024w" sizes="(max-width: 1398px) 100vw, 1398px"></a></p> 
        <p><a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission2.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission2.png" alt="google-app-permission2" class="alignnone size-medium wp-image-1328" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission2.png 1294w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission2-300x141.png 300w, http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission2-1024x484.png 1024w" sizes="(max-width: 1294px) 100vw, 1294px"></a></p> 
        <h3 id="the-callback-route">The callback route</h3> 
        <p>If you remember, while creating the client id and secret in google’s developer console, we provided the callback link. So now it’s time to actually develop that route.</p> 
        <p></p>
        <!-- Crayon Syntax Highlighter v_2.7.2_beta --> 
        <div id="crayon-59d38088ec0d1028752312" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"> 
         <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
          <span class="crayon-title"></span> 
          <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
           <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-expand-button" title="Expand Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-copy-button" title="Copy">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
            <div class="crayon-button-icon"></div>
           </div>
          </div>
         </div> 
         <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div> 
         <div class="crayon-plain-wrap">
          <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
app.use("/oauthCallback", function (req, res) {
    var oauth2Client = getOAuthClient();
    var session = req.session;
    var code = req.query.code; // the query param code
    oauth2Client.getToken(code, function(err, tokens) {
      // Now tokens contains an access_token and an optional refresh_token. Save them.

      if(!err) {
        oauth2Client.setCredentials(tokens);
        //saving the token to current session
        session["tokens"]=tokens;
        res.send(`
            &amp;lt;h3&amp;gt;Login successful!!&amp;lt;/h3&amp;gt;
            &amp;lt;a href="/details"&amp;gt;Go to details page&amp;lt;/a&amp;gt;
        `);
      }
      else{
        res.send(`
            &amp;lt;h3&amp;gt;Login failed!!&amp;lt;/h3&amp;gt;
        `);
      }
    });
});
</textarea>
         </div> 
         <div class="crayon-main" style=""> 
          <table class="crayon-table"> 
           <tbody>
            <tr class="crayon-row"> 
             <td class="crayon-nums " data-settings="show"> 
              <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-1">
                1
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-2">
                2
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-3">
                3
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-4">
                4
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-5">
                5
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-6">
                6
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-7">
                7
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-8">
                8
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-9">
                9
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-10">
                10
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-11">
                11
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-12">
                12
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-13">
                13
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-14">
                14
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-15">
                15
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-16">
                16
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-17">
                17
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-18">
                18
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-19">
                19
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-20">
                20
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-21">
                21
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-22">
                22
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0d1028752312-23">
                23
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0d1028752312-24">
                24
               </div>
              </div> </td> 
             <td class="crayon-code">
              <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-1">
                <span class="crayon-v">app</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">use</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">"/oauthCallback"</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-2">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getOAuthClient</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-3">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">session</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">session</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-4">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">code</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">query</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">code</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-h"> </span>
                <span class="crayon-c">// the query param code</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-5">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">getToken</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">code</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">err</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">tokens</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-6">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-c">// Now tokens contains an access_token and an optional refresh_token. Save them.</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-7">
                &nbsp;
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-8">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-st">if</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-o">!</span>
                <span class="crayon-v">err</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-9">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">setCredentials</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">tokens</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-10">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-c">//saving the token to current session</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-11">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">session</span>
                <span class="crayon-sy">[</span>
                <span class="crayon-s">"tokens"</span>
                <span class="crayon-sy">]</span>
                <span class="crayon-o">=</span>
                <span class="crayon-v">tokens</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-12">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">send</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-13">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Login </span>
                <span class="crayon-v">successful</span>
                <span class="crayon-o">!</span>
                <span class="crayon-o">!</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-14">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-i">a</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">href</span>
                <span class="crayon-o">=</span>
                <span class="crayon-s">"/details"</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Go </span>
                <span class="crayon-st">to</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">details </span>
                <span class="crayon-v">page</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">a</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-15">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-16">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-17">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-st">else</span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-18">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">send</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-19">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Login </span>
                <span class="crayon-v">failed</span>
                <span class="crayon-o">!</span>
                <span class="crayon-o">!</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-20">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-21">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-22">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0d1028752312-23">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0d1028752312-24">
                &nbsp;
               </div>
              </div></td> 
            </tr> 
           </tbody>
          </table> 
         </div> 
        </div> 
        <!-- [Format Time: 0.0080 seconds] --> 
        <p></p> 
        <p>So, we are creating a route <em>oauthCallback</em> which is used as a callback in out google app where we are receiving the <em>code</em> which is being provided by google as a query parameter; and using that we are fetching the access token and saving that token to the current user session.</p> 
        <p>A successful login will redirect you to the following page.</p> 
        <p><a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output2.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output2.png" alt="google-auth-output2" class="alignnone size-medium wp-image-1329" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output2.png 747w, http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output2-300x89.png 300w" sizes="(max-width: 747px) 100vw, 747px"></a></p> 
        <h3 id="fetch-user-data">Fetch user data</h3> 
        <p>So if the login is successful, let us fetch some details of that user using google apis. Below is the code for the <em>/details</em> route.</p> 
        <p></p>
        <!-- Crayon Syntax Highlighter v_2.7.2_beta --> 
        <div id="crayon-59d38088ec0da796735993" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"> 
         <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
          <span class="crayon-title"></span> 
          <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
           <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-expand-button" title="Expand Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-copy-button" title="Copy">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
            <div class="crayon-button-icon"></div>
           </div>
          </div>
         </div> 
         <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div> 
         <div class="crayon-plain-wrap">
          <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
app.use("/details", function (req, res) {
    var oauth2Client = getOAuthClient();
    oauth2Client.setCredentials(req.session["tokens"]);

    var p = new Promise(function (resolve, reject) {
        plus.people.get({ userId: 'me', auth: oauth2Client }, function(err, response) {
            resolve(response || err);
        });
    }).then(function (data) {
        res.send(`
            &amp;lt;img src=${data.image.url} /&amp;gt;
            &amp;lt;h3&amp;gt;Hello ${data.displayName}&amp;lt;/h3&amp;gt;
        `);
    })
});
</textarea>
         </div> 
         <div class="crayon-main" style=""> 
          <table class="crayon-table"> 
           <tbody>
            <tr class="crayon-row"> 
             <td class="crayon-nums " data-settings="show"> 
              <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
               <div class="crayon-num" data-line="crayon-59d38088ec0da796735993-1">
                1
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0da796735993-2">
                2
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0da796735993-3">
                3
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0da796735993-4">
                4
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0da796735993-5">
                5
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0da796735993-6">
                6
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0da796735993-7">
                7
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0da796735993-8">
                8
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0da796735993-9">
                9
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0da796735993-10">
                10
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0da796735993-11">
                11
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0da796735993-12">
                12
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0da796735993-13">
                13
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0da796735993-14">
                14
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0da796735993-15">
                15
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0da796735993-16">
                16
               </div>
              </div> </td> 
             <td class="crayon-code">
              <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
               <div class="crayon-line" id="crayon-59d38088ec0da796735993-1">
                <span class="crayon-v">app</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">use</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">"/details"</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0da796735993-2">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getOAuthClient</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0da796735993-3">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">setCredentials</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">session</span>
                <span class="crayon-sy">[</span>
                <span class="crayon-s">"tokens"</span>
                <span class="crayon-sy">]</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0da796735993-4">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0da796735993-5">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">p</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-r">new</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">Promise</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">resolve</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">reject</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0da796735993-6">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">plus</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">people</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">get</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">{</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">userId</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">'me'</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">auth</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-i">oauth2Client</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">err</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">response</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0da796735993-7">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-e">resolve</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">response</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">||</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">err</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0da796735993-8">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0da796735993-9">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">then</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">data</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0da796735993-10">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">send</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0da796735993-11">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">img </span>
                <span class="crayon-v">src</span>
                <span class="crayon-o">=</span>
                <span class="crayon-sy">$</span>
                <span class="crayon-sy">{</span>
                <span class="crayon-v">data</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">image</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">url</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">/</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0da796735993-12">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Hello</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">$</span>
                <span class="crayon-sy">{</span>
                <span class="crayon-v">data</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">displayName</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0da796735993-13">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0da796735993-14">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0da796735993-15">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0da796735993-16">
                &nbsp;
               </div>
              </div></td> 
            </tr> 
           </tbody>
          </table> 
         </div> 
        </div> 
        <!-- [Format Time: 0.0063 seconds] --> 
        <p></p> 
        <p>We’re just getting the saved token back from session and using that we’re fetching the user details. If things run good, you will see a details page like following.</p> 
        <p><a href="http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output3.png"><img src="http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output3.png" alt="google-auth-output3" class="alignnone size-medium wp-image-1330" srcset="http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output3.png 547w, http://voidcanvas.com/wp-content/uploads/2016/03/google-auth-output3-300x116.png 300w" sizes="(max-width: 547px) 100vw, 547px"></a></p> 
        <h2 id="entire-serverjs">Entire server.js</h2> 
        <p></p>
        <!-- Crayon Syntax Highlighter v_2.7.2_beta --> 
        <div id="crayon-59d38088ec0e2615688197" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;"> 
         <div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
          <span class="crayon-title"></span> 
          <div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;">
           <div class="crayon-button crayon-nums-button" title="Toggle Line Numbers">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-plain-button" title="Toggle Plain Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-expand-button" title="Expand Code">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-copy-button" title="Copy">
            <div class="crayon-button-icon"></div>
           </div>
           <div class="crayon-button crayon-popup-button" title="Open Code In New Window">
            <div class="crayon-button-icon"></div>
           </div>
          </div>
         </div> 
         <div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div> 
         <div class="crayon-plain-wrap">
          <textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var http = require('http');
var express = require('express');
var Session = require('express-session');
var google = require('googleapis');
var plus = google.plus('v1');
var OAuth2 = google.auth.OAuth2;
const ClientId = "YourGoogleAppClientId";
const ClientSecret = "YourGoogleAppClientSecret";
const RedirectionUrl = "http://localhost:1234/oauthCallback";

var app = express();
app.use(Session({
    secret: 'raysources-secret-19890913007',
    resave: true,
    saveUninitialized: true
}));

function getOAuthClient () {
    return new OAuth2(ClientId ,  ClientSecret, RedirectionUrl);
}

function getAuthUrl () {
    var oauth2Client = getOAuthClient();
    // generate a url that asks permissions for Google+ and Google Calendar scopes
    var scopes = [
      'https://www.googleapis.com/auth/plus.me'
    ];

    var url = oauth2Client.generateAuthUrl({
        access_type: 'offline',
        scope: scopes // If you only need one scope you can pass it as string
    });

    return url;
}

app.use("/oauthCallback", function (req, res) {
    var oauth2Client = getOAuthClient();
    var session = req.session;
    var code = req.query.code;
    oauth2Client.getToken(code, function(err, tokens) {
      // Now tokens contains an access_token and an optional refresh_token. Save them.
      if(!err) {
        oauth2Client.setCredentials(tokens);
        session["tokens"]=tokens;
        res.send(`
            &amp;lt;h3&amp;gt;Login successful!!&amp;lt;/h3&amp;gt;
            &amp;lt;a href="/details"&amp;gt;Go to details page&amp;lt;/a&amp;gt;
        `);
      }
      else{
        res.send(`
            &amp;lt;h3&amp;gt;Login failed!!&amp;lt;/h3&amp;gt;
        `);
      }
    });
});

app.use("/details", function (req, res) {
    var oauth2Client = getOAuthClient();
    oauth2Client.setCredentials(req.session["tokens"]);

    var p = new Promise(function (resolve, reject) {
        plus.people.get({ userId: 'me', auth: oauth2Client }, function(err, response) {
            resolve(response || err);
        });
    }).then(function (data) {
        res.send(`
            &amp;lt;img src=${data.image.url} /&amp;gt;
            &amp;lt;h3&amp;gt;Hello ${data.displayName}&amp;lt;/h3&amp;gt;
        `);
    })
});

app.use("/", function (req, res) {
    var url = getAuthUrl();
    res.send(`
        &amp;lt;h1&amp;gt;Authentication using google oAuth&amp;lt;/h1&amp;gt;
        &amp;lt;a href=${url}&amp;gt;Login&amp;lt;/a&amp;gt;
    `)
});


var port = 1234;
var server = http.createServer(app);
server.listen(port);
server.on('listening', function () {
    console.log(`listening to ${port}`);
});
</textarea>
         </div> 
         <div class="crayon-main" style=""> 
          <table class="crayon-table"> 
           <tbody>
            <tr class="crayon-row"> 
             <td class="crayon-nums " data-settings="show"> 
              <div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;">
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-1">
                1
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-2">
                2
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-3">
                3
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-4">
                4
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-5">
                5
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-6">
                6
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-7">
                7
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-8">
                8
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-9">
                9
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-10">
                10
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-11">
                11
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-12">
                12
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-13">
                13
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-14">
                14
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-15">
                15
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-16">
                16
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-17">
                17
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-18">
                18
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-19">
                19
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-20">
                20
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-21">
                21
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-22">
                22
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-23">
                23
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-24">
                24
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-25">
                25
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-26">
                26
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-27">
                27
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-28">
                28
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-29">
                29
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-30">
                30
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-31">
                31
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-32">
                32
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-33">
                33
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-34">
                34
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-35">
                35
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-36">
                36
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-37">
                37
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-38">
                38
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-39">
                39
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-40">
                40
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-41">
                41
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-42">
                42
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-43">
                43
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-44">
                44
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-45">
                45
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-46">
                46
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-47">
                47
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-48">
                48
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-49">
                49
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-50">
                50
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-51">
                51
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-52">
                52
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-53">
                53
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-54">
                54
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-55">
                55
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-56">
                56
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-57">
                57
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-58">
                58
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-59">
                59
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-60">
                60
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-61">
                61
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-62">
                62
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-63">
                63
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-64">
                64
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-65">
                65
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-66">
                66
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-67">
                67
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-68">
                68
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-69">
                69
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-70">
                70
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-71">
                71
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-72">
                72
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-73">
                73
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-74">
                74
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-75">
                75
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-76">
                76
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-77">
                77
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-78">
                78
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-79">
                79
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-80">
                80
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-81">
                81
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-82">
                82
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-83">
                83
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-84">
                84
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-85">
                85
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-86">
                86
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-87">
                87
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-88">
                88
               </div>
               <div class="crayon-num" data-line="crayon-59d38088ec0e2615688197-89">
                89
               </div>
               <div class="crayon-num crayon-striped-num" data-line="crayon-59d38088ec0e2615688197-90">
                90
               </div>
              </div> </td> 
             <td class="crayon-code">
              <div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-1">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">http</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">require</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'http'</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-2">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">express</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">require</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'express'</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-3">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">Session</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">require</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'express-session'</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-4">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">google</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">require</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'googleapis'</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-5">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">plus</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">google</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">plus</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'v1'</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-6">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">OAuth2</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">google</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">auth</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">OAuth2</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-7">
                <span class="crayon-m">const</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">ClientId</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">"YourGoogleAppClientId"</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-8">
                <span class="crayon-m">const</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">ClientSecret</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">"YourGoogleAppClientSecret"</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-9">
                <span class="crayon-m">const</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">RedirectionUrl</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">"http://localhost:1234/oauthCallback"</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-10">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-11">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">app</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">express</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-12">
                <span class="crayon-v">app</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">use</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-e">Session</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-13">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">secret</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">'raysources-secret-19890913007'</span>
                <span class="crayon-sy">,</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-14">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">resave</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">true</span>
                <span class="crayon-sy">,</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-15">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">saveUninitialized</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">true</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-16">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-17">
                &nbsp;
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-18">
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getOAuthClient</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-19">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-st">return</span>
                <span class="crayon-h"> </span>
                <span class="crayon-r">new</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">OAuth2</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-i">ClientId</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h">&nbsp;&nbsp;</span>
                <span class="crayon-v">ClientSecret</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">RedirectionUrl</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-20">
                <span class="crayon-sy">}</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-21">
                &nbsp;
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-22">
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getAuthUrl</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-23">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getOAuthClient</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-24">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-c">// generate a url that asks permissions for Google+ and Google Calendar scopes</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-25">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">scopes</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">[</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-26">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-s">'https://www.googleapis.com/auth/plus.me'</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-27">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">]</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-28">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-29">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">url</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">generateAuthUrl</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-30">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">access_type</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">'offline'</span>
                <span class="crayon-sy">,</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-31">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">scope</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">scopes</span>
                <span class="crayon-h"> </span>
                <span class="crayon-c">// If you only need one scope you can pass it as string</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-32">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-33">
                &nbsp;
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-34">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-st">return</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">url</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-35">
                <span class="crayon-sy">}</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-36">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-37">
                <span class="crayon-v">app</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">use</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">"/oauthCallback"</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-38">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getOAuthClient</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-39">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">session</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">session</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-40">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">code</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">query</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">code</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-41">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">getToken</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">code</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">err</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">tokens</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-42">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-c">// Now tokens contains an access_token and an optional refresh_token. Save them.</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-43">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-st">if</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-o">!</span>
                <span class="crayon-v">err</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-44">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">setCredentials</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">tokens</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-45">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">session</span>
                <span class="crayon-sy">[</span>
                <span class="crayon-s">"tokens"</span>
                <span class="crayon-sy">]</span>
                <span class="crayon-o">=</span>
                <span class="crayon-v">tokens</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-46">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">send</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-47">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Login </span>
                <span class="crayon-v">successful</span>
                <span class="crayon-o">!</span>
                <span class="crayon-o">!</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-48">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-i">a</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">href</span>
                <span class="crayon-o">=</span>
                <span class="crayon-s">"/details"</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Go </span>
                <span class="crayon-st">to</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">details </span>
                <span class="crayon-v">page</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">a</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-49">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-50">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-51">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-st">else</span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-52">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">send</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-53">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Login </span>
                <span class="crayon-v">failed</span>
                <span class="crayon-o">!</span>
                <span class="crayon-o">!</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-54">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-55">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-56">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-57">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-58">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-59">
                <span class="crayon-v">app</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">use</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">"/details"</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-60">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getOAuthClient</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-61">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">oauth2Client</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">setCredentials</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">session</span>
                <span class="crayon-sy">[</span>
                <span class="crayon-s">"tokens"</span>
                <span class="crayon-sy">]</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-62">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-63">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">p</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-r">new</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">Promise</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">resolve</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">reject</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-64">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">plus</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">people</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">get</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">{</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">userId</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-s">'me'</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">auth</span>
                <span class="crayon-o">:</span>
                <span class="crayon-h"> </span>
                <span class="crayon-i">oauth2Client</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">err</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">response</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-65">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-e">resolve</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">response</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">||</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">err</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-66">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-67">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">then</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">data</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-68">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">send</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-69">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">img </span>
                <span class="crayon-v">src</span>
                <span class="crayon-o">=</span>
                <span class="crayon-sy">$</span>
                <span class="crayon-sy">{</span>
                <span class="crayon-v">data</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">image</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">url</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">/</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-70">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Hello</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">$</span>
                <span class="crayon-sy">{</span>
                <span class="crayon-v">data</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-v">displayName</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">h3</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-71">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-72">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-73">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-74">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-75">
                <span class="crayon-v">app</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-st">use</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">"/"</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">req</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-76">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">url</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-e">getAuthUrl</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-77">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">res</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">send</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-78">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">h1</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-e">Authentication </span>
                <span class="crayon-e">using </span>
                <span class="crayon-e">google </span>
                <span class="crayon-v">oAuth</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">h1</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-79">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-i">a</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">href</span>
                <span class="crayon-o">=</span>
                <span class="crayon-sy">$</span>
                <span class="crayon-sy">{</span>
                <span class="crayon-v">url</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-v">Login</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">lt</span>
                <span class="crayon-sy">;</span>
                <span class="crayon-o">/</span>
                <span class="crayon-v">a</span>
                <span class="crayon-o">&amp;</span>
                <span class="crayon-v">gt</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-80">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-81">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-82">
                &nbsp;
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-83">
                &nbsp;
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-84">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">port</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-cn">1234</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-85">
                <span class="crayon-t">var</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">server</span>
                <span class="crayon-h"> </span>
                <span class="crayon-o">=</span>
                <span class="crayon-h"> </span>
                <span class="crayon-v">http</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">createServer</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">app</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-86">
                <span class="crayon-v">server</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">listen</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-v">port</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-87">
                <span class="crayon-v">server</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">on</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-s">'listening'</span>
                <span class="crayon-sy">,</span>
                <span class="crayon-h"> </span>
                <span class="crayon-t">function</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">{</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-88">
                <span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span class="crayon-v">console</span>
                <span class="crayon-sy">.</span>
                <span class="crayon-e">log</span>
                <span class="crayon-sy">(</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-e">listening</span>
                <span class="crayon-h"> </span>
                <span class="crayon-st">to</span>
                <span class="crayon-h"> </span>
                <span class="crayon-sy">$</span>
                <span class="crayon-sy">{</span>
                <span class="crayon-v">port</span>
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">`</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line" id="crayon-59d38088ec0e2615688197-89">
                <span class="crayon-sy">}</span>
                <span class="crayon-sy">)</span>
                <span class="crayon-sy">;</span>
               </div>
               <div class="crayon-line crayon-striped-line" id="crayon-59d38088ec0e2615688197-90">
                &nbsp;
               </div>
              </div></td> 
            </tr> 
           </tbody>
          </table> 
         </div> 
        </div> 
        <!-- [Format Time: 0.0271 seconds] --> 
        <p></p> 
        <h2 id="conclusion">Conclusion</h2> 
        <p>So, why we saved the token in session? The reason is, if we didn’t save the token in session and just set it to the oauth2Client, it would have been gone by next request as every router hit creates the oauth2Client again. If you set oauth2Client globally, than if a person A logs in, it will automatically reflect to person B’s computer.</p> 
        <p>Google apis are not just for authentication, they are for many more. You can check them in their <a href="https://github.com/google/google-api-nodejs-client">github repo</a>. Just like a very similar approach to google’s OAuth, you can also integrate facebook, twitter oAuth apis too with their respective node modules.</p> 
        <div class="yarpp-related"> 
         <h2>Related posts:</h2>
         <ol> 
          <li><a href="http://voidcanvas.com/create-ssl-https-server-in-nodejs/" rel="bookmark" title="Create ssl / https server in nodejs">Create ssl / https server in nodejs </a></li> 
          <li><a href="http://voidcanvas.com/sync-node/" rel="bookmark" title="sync-node : a npm module which makes node synchronous without blocking the main thread">sync-node : a npm module which makes node synchronous without blocking the main thread </a></li> 
          <li><a href="http://voidcanvas.com/cli/" rel="bookmark" title="Setup your node.js project easily with voidcanvas-cli">Setup your node.js project easily with voidcanvas-cli </a></li> 
          <li><a href="http://voidcanvas.com/best-way-to-update-manage-your-node-js-versions/" rel="bookmark" title="Best way to update &amp; manage your node.js versions">Best way to update &amp; manage your node.js versions </a></li> 
          <li><a href="http://voidcanvas.com/global-module-not-found-when-node-version-is-changed-using-nvm/" rel="bookmark" title="Global module not found when node version is changed using nvm">Global module not found when node version is changed using nvm </a></li> 
          <li><a href="http://voidcanvas.com/node-js-googleapis-v4-spreadsheet/" rel="bookmark" title="Read, write, update &amp; create google spreadsheets by node.js with googleapis v4">Read, write, update &amp; create google spreadsheets by node.js with googleapis v4 </a></li> 
         </ol> 
        </div> 
        <div style="margin-top:28px;"> 
         <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> 
         <!-- reader-responsive-2 --> 
         <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2546455652218454" data-ad-slot="9095419455" data-ad-format="auto"></ins> 
         <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                            </script> 
        </div> 
       </div>
       <!-- post-body end --> 
      </article> 
      <div class="social-share"> 
       <div class="row"> 
        <div class="col-sm-13"> 
         <div class="social-icons"> 
          <p><strong>Share This Post:</strong></p> 
          <ul> 
           <li><a target="_blank" class="" href="http://www.facebook.com/sharer.php?u=http://voidcanvas.com/googles-oauth-api-node-js/&amp;t=Authentication using Google’s oAuth api with node.js"><i class="fa fa-facebook"></i></a></li> 
           <li><a target="_blank" class="" href="http://twitter.com/home?status=Authentication using Google’s oAuth api with node.js http://voidcanvas.com/googles-oauth-api-node-js/"><i class="fa fa-twitter"></i></a></li> 
           <li><a target="_blank" class="" href="http://linkedin.com/shareArticle?mini=true&amp;url=http://voidcanvas.com/googles-oauth-api-node-js/&amp;title=Authentication using Google’s oAuth api with node.js"><i class="fa fa-linkedin"></i></a></li> 
           <li><a target="_blank" class="" href="https://plus.google.com/share?url=http://voidcanvas.com/googles-oauth-api-node-js/" onclick="javascript:window.open(this.href,'', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><i class="fa fa-google-plus"></i></a></li> 
           <li><a class="" target="_blank" href="http://pinterest.com/pin/create/button/?url=http%3A%2F%2Fvoidcanvas.com%2Fgoogles-oauth-api-node-js%2F&amp;description=Authentication+using+Google%27s+oAuth+api+with+node.js&amp;media=http://voidcanvas.com/wp-content/uploads/2016/03/google-app-permission1-150x150.png"><i class="fa fa-pinterest"></i></a></li> 
           <li><a class="" target="_blank" href="http://reddit.com/submit?url=http://voidcanvas.com/googles-oauth-api-node-js/&amp;title=Authentication using Google’s oAuth api with node.js"><i class="fa fa-reddit"></i></a></li> 
          </ul> 
         </div> 
        </div> 
        <div class="col-sm-11 post-tags"> 
         <p><strong>Tags: </strong><a href="http://voidcanvas.com/tag/google/" rel="tag">Google</a>, <a href="http://voidcanvas.com/tag/node-js/" rel="tag">Node.js</a>, <a href="http://voidcanvas.com/tag/oauth/" rel="tag">oAuth</a></p> 
        </div> 
       </div> 
      </div> 
      <!-- end of .social-share --> 
      <div class="about-author"> 
       <div class="row"> 
        <div class="col-sm-4 hidden-xs"> 
         <div class="thumb"> 
          <img alt="" src="http://1.gravatar.com/avatar/48692c25db0cdbbe426d6c3dc947ecb2?s=74&amp;d=monsterid&amp;r=g" srcset="http://1.gravatar.com/avatar/48692c25db0cdbbe426d6c3dc947ecb2?s=148&amp;d=monsterid&amp;r=g 2x" class="avatar thumb avatar-74 photo" height="74" width="74"> 
         </div> 
        </div> 
        <div class="col-sm-20"> 
         <div class="desc"> 
          <h5>About This Author</h5> 
          <p>Hello! I am Paul Shan, a JavaScript Expert, Full Stack and DevOps Engineer cum Consultant based out of Bengaluru, India. </p> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div id="disqus_thread"> 
       <div id="dsq-content"> 
        <ul id="dsq-comments"> 
         <li class="comment even thread-even depth-1" id="dsq-comment-310"> 
          <div id="dsq-comment-header-310" class="dsq-comment-header"> 
           <cite id="dsq-cite-310"> <span id="dsq-author-user-310">Wouter Nieuwerth</span> </cite> 
          </div> 
          <div id="dsq-comment-body-310" class="dsq-comment-body"> 
           <div id="dsq-comment-message-310" class="dsq-comment-message">
            <p>Thanks a lot for the instructions!</p> 
            <p>I was just wondering, in one of the screenshots you erased the ClientID and ClientSecret, while in the final code example they are both visible. Accident?</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment odd alt depth-2" id="dsq-comment-320"> 
            <div id="dsq-comment-header-320" class="dsq-comment-header"> 
             <cite id="dsq-cite-320"> <span id="dsq-author-user-320">Paul Shan</span> </cite> 
            </div> 
            <div id="dsq-comment-body-320" class="dsq-comment-body"> 
             <div id="dsq-comment-message-320" class="dsq-comment-message">
              <p>Yup accident. Thanks for notifying.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-odd thread-alt depth-1" id="dsq-comment-314"> 
          <div id="dsq-comment-header-314" class="dsq-comment-header"> 
           <cite id="dsq-cite-314"> <span id="dsq-author-user-314">Anand Duddella</span> </cite> 
          </div> 
          <div id="dsq-comment-body-314" class="dsq-comment-body"> 
           <div id="dsq-comment-message-314" class="dsq-comment-message">
            <p>Thank you for the example. I am using your code as it is and the callback route is not called. The flow is I click the link , browser redirects me google and once i accept the callback fails with a HTTP 500 error. I have even tried console logging into the callback route function but it seems that it never gets invoked. </p> 
            <p>I would have the following in the url </p> 
            <p><a href="http://localhost:3000/googlecallback?code=%5Bmy" rel="nofollow">http://localhost:3000/googlecallback?code=%5Bmy</a> code]</p> 
            <p>and the get route code is as below </p> 
            <p>app.use(“/googlecallback”, function(req, res) {<br> var oauth2Client = getOAuthClient();<br> var session = req.session;<br> var code = req.query.code;<br> oauth2Client.getToken(code, function(err, tokens) {<br> // Now tokens contains an access_token and an optional refresh_token. Save them.<br> if (!err) {<br> oauth2Client.setCredentials(tokens);<br> session[“tokens”] = tokens;<br> res.send(‘User Authenticated’);<br> } else {<br> res.send(‘User Authentication failed’);<br> }<br> });<br> });</p> 
            <p>Any help would be greatly appreciated.</p> 
           </div> 
          </div> 
          <ul class="children"> 
           <li class="comment odd alt depth-2" id="dsq-comment-321"> 
            <div id="dsq-comment-header-321" class="dsq-comment-header"> 
             <cite id="dsq-cite-321"> <span id="dsq-author-user-321">Paul Shan</span> </cite> 
            </div> 
            <div id="dsq-comment-body-321" class="dsq-comment-body"> 
             <div id="dsq-comment-message-321" class="dsq-comment-message">
              <p>Hi Anand, sorry I was not much involved in voidcanvas for the past 6 months. Probably you’ve fixed the error by now, but still if there is any issue we can talk.</p> 
             </div> 
            </div> </li>
           <!-- #comment-## --> 
          </ul>
          <!-- .children --> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-even depth-1" id="dsq-comment-372"> 
          <div id="dsq-comment-header-372" class="dsq-comment-header"> 
           <cite id="dsq-cite-372"> <span id="dsq-author-user-372">Ali Poder</span> </cite> 
          </div> 
          <div id="dsq-comment-body-372" class="dsq-comment-body"> 
           <div id="dsq-comment-message-372" class="dsq-comment-message">
            <p>for those who worries about memory leak, don’t worry, nodejs garbage collector will handle it.</p> 
           </div> 
          </div> </li>
         <!-- #comment-## --> 
         <li class="comment odd alt thread-odd thread-alt depth-1" id="dsq-comment-390"> 
          <div id="dsq-comment-header-390" class="dsq-comment-header"> 
           <cite id="dsq-cite-390"> <span id="dsq-author-user-390">Paul Shan</span> </cite> 
          </div> 
          <div id="dsq-comment-body-390" class="dsq-comment-body"> 
           <div id="dsq-comment-message-390" class="dsq-comment-message">
            <p>this should be the output. You need to click on the login link.</p> 
           </div> 
          </div> </li>
         <!-- #comment-## --> 
         <li class="comment even thread-even depth-1" id="dsq-comment-437"> 
          <div id="dsq-comment-header-437" class="dsq-comment-header"> 
           <cite id="dsq-cite-437"> <span id="dsq-author-user-437">Paul Shan</span> </cite> 
          </div> 
          <div id="dsq-comment-body-437" class="dsq-comment-body"> 
           <div id="dsq-comment-message-437" class="dsq-comment-message">
            <p>host your code somewhere and provide the link</p> 
           </div> 
          </div> </li>
         <!-- #comment-## --> 
        </ul> 
       </div> 
      </div> 
      <script type="text/javascript">
var disqus_url = 'http://voidcanvas.com/googles-oauth-api-node-js/';
var disqus_identifier = '1318 http://voidcanvas.com/?p=1318';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'voidcanvas';
var disqus_title = "Authentication using Google&#8217;s oAuth api with node.js";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    
    
    this.language = '';
        this.callbacks.onReady.push(function () {

        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = '?cf_action=sync_comments&post_id=1318';

        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script> 
      <!-- PAGINATION --> 
      <!-- /PAGINATION --> 
     </div> 
    </div> 
    <!-- /END BLOG SECTION --> 
    <!-- =========================
             RIGHT SIDEBAR 
        ============================== --> 
    <div class="col-md-6 hidden-sm hidden-xs"> 
     <aside class="right-sidebar"> 
      <div class="widget widget_text" id="text-8">
       <h5 class="sr_w_title">A mail on 7th day</h5> 
       <div class="textwidget">
        Our newsletter 
        <strong>Last 7 Days</strong>, provides you more concrete news rather than web links. 
        <a href="/last7days">Subscribe here.</a>
       </div> 
      </div>
      <hr class="small">
      <div class="widget widget_text" id="text-3">
       <h5 class="sr_w_title">Sponsored</h5> 
       <div class="textwidget">
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> 
        <!-- reader-Link2-200X90 --> 
        <ins class="adsbygoogle" style="display:inline-block;width:200px;height:90px" data-ad-client="ca-pub-2546455652218454" data-ad-slot="9781481050"></ins> 
        <script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
       </div> 
      </div>
      <hr class="small">
      <div class="widget widget_text" id="text-7">
       <h5 class="sr_w_title">Get the tweets</h5> 
       <div class="textwidget">
        <a class="twitter-timeline" href="https://twitter.com/metalshan" data-width="275" data-height="500">Tweets by metalshan</a> 
        <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
       </div> 
      </div>
      <hr class="small">
      <div class="widget widget_text" id="text-6">
       <h5 class="sr_w_title">We on Facebook</h5> 
       <div class="textwidget">
        <iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2Fvoidcanvaspage&amp;width=450&amp;layout=standard&amp;action=like&amp;size=large&amp;show_faces=true&amp;share=true&amp;height=80&amp;appId=1406227086104274" width="275" height="50" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowtransparency="true"></iframe>
       </div> 
      </div>
      <hr class="small"> 
      <div class="widget-popular-article"> 
       <h5 class="sr_w_title">Recent Post</h5> 
       <div class="popular-article clearfix"> 
        <div class="thumb"> 
         <img width="50" height="50" src="http://voidcanvas.com/wp-content/uploads/2017/09/Visual-Studio-Code-For-Windows-50x50.jpg" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="visual studio code extenions for javascript developement" srcset="http://voidcanvas.com/wp-content/uploads/2017/09/Visual-Studio-Code-For-Windows-50x50.jpg 50w, http://voidcanvas.com/wp-content/uploads/2017/09/Visual-Studio-Code-For-Windows-150x150.jpg 150w" sizes="(max-width: 50px) 100vw, 50px"> 
        </div> 
        <div class="article-link"> 
         <a href="http://voidcanvas.com/15-best-essential-vs-code-extensions-for-javascript-development/">15+ best &amp; essential VS Code extensions for JavaScript development</a> 
        </div> 
       </div> 
       <div class="popular-article clearfix"> 
        <div class="thumb"> 
         <img width="50" height="50" src="http://voidcanvas.com/wp-content/uploads/2017/09/text-color-in-library-50x50.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="text color in library" srcset="http://voidcanvas.com/wp-content/uploads/2017/09/text-color-in-library-50x50.png 50w, http://voidcanvas.com/wp-content/uploads/2017/09/text-color-in-library-150x150.png 150w" sizes="(max-width: 50px) 100vw, 50px"> 
        </div> 
        <div class="article-link"> 
         <a href="http://voidcanvas.com/make-console-log-output-colorful-and-stylish-in-browser-node/">Make Console.log() output colorful and stylish in browser &amp; node</a> 
        </div> 
       </div> 
       <div class="popular-article clearfix"> 
        <div class="thumb"> 
         <img width="50" height="35" src="http://voidcanvas.com/wp-content/uploads/2014/01/JavaScript-logo.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="JavaScript-logo"> 
        </div> 
        <div class="article-link"> 
         <a href="http://voidcanvas.com/javascript-array-evolution-performance/">Diving deep into JavaScript array – evolution &amp; performance</a> 
        </div> 
       </div> 
       <div class="popular-article clearfix"> 
        <div class="thumb"> 
         <img width="50" height="35" src="http://voidcanvas.com/wp-content/uploads/2014/01/JavaScript-logo.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="JavaScript-logo"> 
        </div> 
        <div class="article-link"> 
         <a href="http://voidcanvas.com/create-filter-an-array-to-have-only-unique-elements-in-it/">Create / filter an array to have only unique elements in it</a> 
        </div> 
       </div> 
       <div class="popular-article clearfix"> 
        <div class="thumb"> 
         <img width="50" height="50" src="http://voidcanvas.com/wp-content/uploads/2016/11/pcity-all-programming-1-50x50.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Programming City" srcset="http://voidcanvas.com/wp-content/uploads/2016/11/pcity-all-programming-1-50x50.png 50w, http://voidcanvas.com/wp-content/uploads/2016/11/pcity-all-programming-1-150x150.png 150w" sizes="(max-width: 50px) 100vw, 50px"> 
        </div> 
        <div class="article-link"> 
         <a href="http://voidcanvas.com/ecmascript-in/">EcmaScript.in – get notified on any ESNext spec change</a> 
        </div> 
       </div> 
       <div class="popular-article clearfix"> 
        <div class="thumb"> 
         <img width="50" height="50" src="http://voidcanvas.com/wp-content/uploads/2017/08/lightslider-50x50.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="lightslider jquery slider" srcset="http://voidcanvas.com/wp-content/uploads/2017/08/lightslider-50x50.png 50w, http://voidcanvas.com/wp-content/uploads/2017/08/lightslider-150x150.png 150w" sizes="(max-width: 50px) 100vw, 50px"> 
        </div> 
        <div class="article-link"> 
         <a href="http://voidcanvas.com/20-best-jquery-slidercarousel-plugin-comparison-with-demo/">20 best jQuery slider/carousel plugin comparison with demo</a> 
        </div> 
       </div> 
       <hr class="small"> 
      </div> 
     </aside> 
    </div> 
    <!-- /END RIGHT SIDEBAR --> 
   </div> 
  </div> 
  <!-- end of .container-fluid --> 
  <!-- =========================
     FOOTER SECTION 
============================== --> 
  <footer class="footer bluish-dark"> 
   <div class="container-fluid"> 
    <div class="row"> 
     <div class="col-md-14 col-md-offset-4"> 
      <div class="footer-widgets row"> 
       <div class="col-footer col-sm-9"> 
        <div class="widget widget_text" id="text-4"> 
         <div class="textwidget">
          <div class="widget_text"> 
           <div class="logo"> 
            <img src="http://voidcanvas.com/wp-content/themes/reader/images/favicon-vc.png" alt="VC"> 
            <h5>Void Canvas</h5> 
           </div> 
           <div class="textwidget">
             Void Canvas is a blog covering majorly JavaScript and many other major technologies. Apart from publishing articles void canvas also publish its plugins, many of which are being used by a lot of people in the community everyday. 
           </div> 
          </div>
         </div> 
        </div> 
       </div> 
       <div class="col-footer col-sm-6 "> 
       </div> 
       <div class="col-footer col-sm-9 "> 
        <div class="widget widget_text" id="text-5"> 
         <div class="textwidget">
          <div class="widget_text"> 
           <div class="logo"> 
            <a href="http://ecmascript.in/" target="_blank"> <h5>EcmaScript.in</h5> </a> 
           </div> 
           <div class="textwidget">
             The fastest growing programing language on earth, JavaScript, is really hard to chase. Especially, always staying updated about ECMAScript proposals are really painful and complex. EcmaScript.in is the solution to make your life easier here. 
           </div> 
          </div>
         </div> 
        </div> 
       </div> 
      </div> 
      <!-- end of .footer-widgets --> 
     </div> 
    </div> 
   </div> 
   <!-- /END CONTAINER --> 
   <hr class="fullwd" style="margin:0"> 
   <div class="container-fluid"> 
    <p class="copyright pull-left"> <a href="/consultancy">Coding help</a> | <a href="/careers">Careers</a> | <a href="/contact">Contact us</a> </p> 
    <p class="copyright">All Right Reserved © <a href="#">Void Canvas</a> </p> 
   </div> 
  </footer> 
  <!-- /END FOOTER SECTION --> 
  <!-- ANALYTICS --> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41677529-1', 'auto');
  ga('send', 'pageview');

</script> 
  <script type="text/javascript">
</script> 
  <script type="text/javascript">
        // <![CDATA[
        var disqus_shortname = 'voidcanvas';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1 && nodes[i].parentNode.tagName == 'A') {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        // ]]>
        </script> 
  <link rel="stylesheet" id="yarppRelatedCss-css" href="http://voidcanvas.com/wp-content/plugins/yet-another-related-posts-plugin/style/related.css?ver=4.6.7" type="text/css" media="all"> 
  <script type="text/javascript">
/* <![CDATA[ */
var ajaxurl = "http:\/\/voidcanvas.com\/wp-admin\/admin-ajax.php";
var styleblogjs = "classic";
/* ]]> */
</script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-content/themes/reader/js/bootstrap.min.js?ver=4.6.7"></script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-content/themes/reader/js/mediaelement-and-player.min.js?ver=4.6.7"></script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-content/themes/reader/js/tweetie.min.js?ver=4.6.7"></script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-content/themes/reader/js/jquery.fitvids.js?ver=4.6.7"></script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-content/themes/reader/js/jquery.jscroll.js?ver=4.6.7"></script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-content/themes/reader/js/owl.carousel.min.js?ver=4.6.7"></script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-content/themes/reader/js/custom.js?ver=4.6.7"></script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-content/plugins/easy-testimonials/include/assets/js/jquery.cycle2.min.js?ver=4.6.7"></script> 
  <script type="text/javascript" src="http://voidcanvas.com/wp-includes/js/wp-embed.min.js?ver=4.6.7"></script> 
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> 
  <script>

function getAdUnit(marginTop, containerWidth) {
    var dynamicAdUnit = document.createElement('div');
    if(marginTop){
       dynamicAdUnit.style.marginTop=marginTop+"px";
    }
    if(containerWidth>=600){
    	    dynamicAdUnit.innerHTML = '<ins class="adsbygoogle"'+
    	'     style="display:inline-block;width:600px;height:280px"'+
    	'     data-ad-client="ca-pub-2546455652218454"'+
    	'     data-ad-slot="5527908251"></ins>';
    } else {
        dynamicAdUnit.innerHTML = '<ins class="adsbygoogle"'+
     'style="display:block"'+
     'data-ad-client="ca-pub-2546455652218454"'+
     'data-ad-slot="6281553855"'+
     'data-ad-format="auto"></ins>';
    }
	return dynamicAdUnit;
}


var singlePost2ndPara = null;

//var postBody = document.querySelectorAll(".single-post .blog-item .post-body")[0];
//if(postBody){
//  singlePost2ndPara = null;
//  for(var i=0; i<postBody.children.length; i++){
//    if(!singlePost2ndPara && postBody.children[i].nodeName==="P"){
//        singlePost2ndPara = postBody.children[i];
//    }
//  }
//  if(singlePost2ndPara){
//        singlePost2ndPara.parentNode.insertBefore(getAdUnit(null, singlePost2ndPara.offsetWidth), singlePost2ndPara.nextSibling);
//        (adsbygoogle = window.adsbygoogle || []).push({});
//    }
//}

postBody = document.querySelectorAll(".single-post .blog-item .post-body")[0];
if(postBody){
  singlePost2ndPara = null;
  var totalH2 = document.querySelectorAll(".single-post .blog-item .post-body h2").length;
  if(totalH2>2){
    singlePost2ndPara = document.querySelectorAll(".single-post .blog-item .post-body h2")[1];
  } else {
    var totalH3 = document.querySelectorAll(".single-post .blog-item .post-body h3").length;
    if(totalH3>4){
        singlePost2ndPara = document.querySelectorAll(".single-post .blog-item .post-body h3")[2];
    }
  }    
}
if(singlePost2ndPara){
        singlePost2ndPara.parentNode.insertBefore(getAdUnit(null, singlePost2ndPara.offsetWidth), singlePost2ndPara);
        (adsbygoogle = window.adsbygoogle || []).push({});
}

//singlePost2ndPara = document.querySelectorAll(".home .post-body")[0];
//if(singlePost2ndPara){
//	singlePost2ndPara.parentNode.insertBefore(getAdUnit(20, singlePost2ndPara.offsetWidth), singlePost2ndPara.nextSibling);
//    (adsbygoogle = window.adsbygoogle || []).push({});
//}
//
//singlePost2ndPara = document.querySelectorAll(".home .post-body")[3];
//if(singlePost2ndPara){
//	singlePost2ndPara.parentNode.insertBefore(getAdUnit(20, singlePost2ndPara.offsetWidth), singlePost2ndPara.nextSibling);
//    (adsbygoogle = window.adsbygoogle || []).push({});
//}

//Live chat
if($(".show-support").length>0){
    window.$zopim||(function(d,s){var z=$zopim=function(c){z._.push(c)},$=z.s=
d.createElement(s),e=d.getElementsByTagName(s)[0];z.set=function(o){z.set.
_.push(o)};z._=[];z.set._=[];$.async=!0;$.setAttribute("charset","utf-8");
$.src="https://v2.zopim.com/?4WAtbRW5HPLyxKBTax4Mnv0ffPpYZLQ1";z.t=+new Date;$.
type="text/javascript";e.parentNode.insertBefore($,e)})(document,"script");

}

</script>  
 </body>
</html>