<!doctype html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
 <head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <title> How to integrate Node.JS/React App with Xero - Modern Web</title> 
  <link rel="apple-touch-icon-precomposed" href="https://modernweb.com/wp-content/themes/modern-web/favicon-152.png"> 
  <link rel="icon" href="https://modernweb.com/wp-content/themes/modern-web/favicon-32.png" sizes="32x32"> 
  <link rel="shortcut icon" sizes="196x196" href="https://modernweb.com/wp-content/themes/modern-web/favicon-196.png"> 
  <meta name="msapplication-TileColor" content="#FFFFFF"> 
  <meta name="msapplication-TileImage" content="https://modernweb.com/wp-content/themes/modern-web/favicon-144.png"> 
  <link rel="stylesheet" href="https://modernweb.com/wp-content/themes/modern-web/style.css?v=2.0"> 
  <meta property="og:title" content="How to integrate Node.JS/React App with Xero"> 
  <meta name="twitter:title" content="How to integrate Node.JS/React App with Xero"> 
  <meta property="og:type" content="article"> 
  <meta property="og:url" content="https://modernweb.com/how-to-integrate-node-jsreact-app-with-xero/"> 
  <meta property="og:site_name" content="How to integrate Node.JS/React App with Xero - Modern Web"> 
  <meta property="og:description" content="Top software development companies vetted by Modern Web"> 
  <meta property="og:image" content="https://modernweb.com/wp-content/uploads/2016/05/qppuxf5qsg4jwd3d1oim-946x300.png"> 
  <meta name="twitter:card" content="summary_large_image"> 
  <meta name="twitter:site" content="@modernwebhq"> 
  <meta name="twitter:description" content="Top software development companies vetted by Modern Web"> 
  <meta name="description" content="As a software business owner you might want your software to communicate with other apps around the web for various reasons: Temporary extension before you"> 
  <link rel="canonical" href="https://modernweb.com/how-to-integrate-node-jsreact-app-with-xero/"> 
  <link rel="publisher" href="https://plus.google.com/+ModernWebHQ"> 
  <meta property="og:locale" content="en_US"> 
  <meta property="og:type" content="article"> 
  <meta property="og:title" content="How to integrate Node.JS/React App with Xero - Modern Web"> 
  <meta property="og:description" content="As a software business owner you might want your software to communicate with other apps around the web for various reasons: Temporary extension before you"> 
  <meta property="og:url" content="https://modernweb.com/how-to-integrate-node-jsreact-app-with-xero/"> 
  <meta property="og:site_name" content="Modern Web"> 
  <meta property="article:publisher" content="https://www.facebook.com/modernwebhq"> 
  <meta property="article:tag" content="Node.js"> 
  <meta property="article:tag" content="React"> 
  <meta property="article:section" content="Backend Development"> 
  <meta property="article:published_time" content="2016-06-06T08:30:56-05:00"> 
  <meta property="article:modified_time" content="2016-11-14T20:28:50-05:00"> 
  <meta property="og:updated_time" content="2016-11-14T20:28:50-05:00"> 
  <meta property="og:image" content="https://modernweb.com/wp-content/uploads/2016/05/qppuxf5qsg4jwd3d1oim.png"> 
  <meta property="og:image:secure_url" content="https://modernweb.com/wp-content/uploads/2016/05/qppuxf5qsg4jwd3d1oim.png"> 
  <meta property="og:image:width" content="1538"> 
  <meta property="og:image:height" content="683"> 
  <meta name="twitter:card" content="summary_large_image"> 
  <meta name="twitter:description" content="As a software business owner you might want your software to communicate with other apps around the web for various reasons: Temporary extension before you"> 
  <meta name="twitter:title" content="How to integrate Node.JS/React App with Xero - Modern Web"> 
  <meta name="twitter:site" content="@modernwebhq"> 
  <meta name="twitter:image" content="https://modernweb.com/wp-content/uploads/2016/05/qppuxf5qsg4jwd3d1oim.png"> 
  <meta name="twitter:creator" content="@modernwebhq"> 
  <link rel="dns-prefetch" href="//a.optnmstr.com"> 
  <link rel="dns-prefetch" href="//s.w.org"> 
  <link rel="alternate" type="application/rss+xml" title="Modern Web » How to integrate Node.JS/React App with Xero Comments Feed" href="https://modernweb.com/how-to-integrate-node-jsreact-app-with-xero/feed/"> 
  <link rel="stylesheet" id="gglcptch-css" href="https://modernweb.com/wp-content/plugins/google-captcha/css/gglcptch.css?ver=1.30" type="text/css" media="all"> 
  <script type="text/javascript" src="https://modernweb.com/wp-includes/js/jquery/jquery.js?ver=1.12.4"></script> 
  <script type="text/javascript" src="https://modernweb.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1"></script> 
  <script type="text/javascript" data-cfasync="false" id="omapi-script" async src="//a.optnmstr.com/app/js/api.min.js?ver=1.2.1"></script> 
  <link rel="https://api.w.org/" href="https://modernweb.com/wp-json/"> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://modernweb.com/xmlrpc.php?rsd"> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://modernweb.com/wp-includes/wlwmanifest.xml"> 
  <meta name="generator" content="WordPress 4.8.2"> 
  <link rel="shortlink" href="https://modernweb.com/?p=4046"> 
  <link rel="alternate" type="application/json+oembed" href="https://modernweb.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmodernweb.com%2Fhow-to-integrate-node-jsreact-app-with-xero%2F"> 
  <link rel="alternate" type="text/xml+oembed" href="https://modernweb.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fmodernweb.com%2Fhow-to-integrate-node-jsreact-app-with-xero%2F&amp;format=xml"> 
 </head> 
 <body class="post-template-default single single-post postid-4046 single-format-standard post-how-to-integrate-node-jsreact-app-with-xero"> 
  <div class="wrap"> 
   <header class="header"> 
    <div class="container"> 
     <a class="header__logo" href="https://modernweb.com"> <img src="https://modernweb.com/wp-content/themes/modern-web/images/modernweb-logo-light.svg" alt="Modern Web logo" width="190" height="32"> </a> 
     <button class="header__nav-trigger" id="js-nav-trigger"> 
      <svg class="show-nav" height="6" viewbox="0 0 30.38 6.38"> 
       <circle fill="#92b1b5" cx="3.19" cy="3.19" r="3.19" /> 
       <circle fill="#92b1b5" cx="15.19" cy="3.19" r="3.19" /> 
       <circle fill="#92b1b5" cx="27.19" cy="3.19" r="3.19" /> 
      </svg> 
      <svg class="close-nav" fill="#000000" height="24" viewbox="0 0 24 24" width="24"> 
       <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" /> 
       <path d="M0 0h24v24H0z" fill="none" /> 
      </svg> </button> 
     <nav class="nav"> 
      <ul class="nav__list"> 
       <li class="nav__item"> <a href="https://modernweb.com/articles" class="nav__link"> Articles 
         <svg x="0px" y="0px" viewbox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> 
          <path d="M13.418,7.859c0.271-0.268,0.709-0.268,0.978,0c0.27,0.268,0.272,0.701,0,0.969l-3.908,3.83 c-0.27,0.268-0.707,0.268-0.979,0l-3.908-3.83c-0.27-0.267-0.27-0.701,0-0.969c0.271-0.268,0.709-0.268,0.978,0L10,11L13.418,7.859z" /> 
         </svg> </a> 
        <div class="menu-categories-container">
         <ul id="menu-categories" class="subnav">
          <li id="menu-item-4274" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4274"><a href="https://modernweb.com/category/design/">Design</a></li> 
          <li id="menu-item-4272" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4272"><a href="https://modernweb.com/category/frontend-development/">Frontend Development</a></li> 
          <li id="menu-item-4273" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-4273"><a href="https://modernweb.com/category/backend-development/">Backend Development</a></li> 
          <li id="menu-item-4276" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4276"><a href="https://modernweb.com/category/devops/">DevOps</a></li> 
          <li id="menu-item-4275" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4275"><a href="https://modernweb.com/category/work/">Work</a></li> 
         </ul>
        </div> </li> 
       <li class="nav__button"> <a href="/find-a-team" class="button --secondary">Hire A Team</a> </li> 
      </ul> 
     </nav> 
    </div> 
   </header> 
   <section class="main"> 
    <div class="container"> 
     <article class="article"> 
      <h1>How to integrate Node.JS/React App with Xero</h1> 
      <p class="author-line"> <img alt="" src="https://secure.gravatar.com/avatar/63b88712509d267bbcb30affdd276855?s=28&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/63b88712509d267bbcb30affdd276855?s=56&amp;d=mm&amp;r=g 2x" class="avatar avatar-28 photo" height="28" width="28"> by <a href="https://modernweb.com/author/shazzad"><strong>Shazzad Hossen</strong></a> on June 6, 2016 </p> 
      <div class="article__meta"> 
       <svg class="article__icon" x="0px" y="0px" viewbox="0 0 20 20"> 
        <path fill="#d0d3d4" d="M18.662,5.521L5.237,19l0.707-4.967l-4.945,0.709L14.424,1.263c0.391-0.392,1.133-0.308,1.412,0l2.826,2.839 C19.162,4.575,19.053,5.128,18.662,5.521z" /> 
       </svg> 
       <div class="article__categories"> 
        <a href="https://modernweb.com/category/backend-development/" rel="category tag">Backend Development</a> 
       </div> 
       <svg class="article__icon" x="0px" y="0px" viewbox="0 0 20 20"> 
        <path fill="#d0d3d4" d="M16,4H4C2.899,4,2,4.9,2,6v7c0,1.1,0.899,2,2,2h4l4,3v-3h4c1.1,0,2-0.9,2-2V6C18,4.9,17.1,4,16,4z M6,10.6 c-0.607,0-1.1-0.492-1.1-1.1c0-0.608,0.492-1.1,1.1-1.1s1.1,0.492,1.1,1.1C7.1,10.107,6.607,10.6,6,10.6z M10,10.6 c-0.607,0-1.1-0.492-1.1-1.1c0-0.608,0.492-1.1,1.1-1.1s1.1,0.492,1.1,1.1C11.1,10.107,10.607,10.6,10,10.6z M14,10.6 c-0.607,0-1.1-0.492-1.1-1.1c0-0.608,0.492-1.1,1.1-1.1s1.1,0.492,1.1,1.1C15.1,10.107,14.607,10.6,14,10.6z" /> 
       </svg> 
       <a href="#comments"><span class="dsq-postid" data-dsqidentifier="4046 http://modernweb.com/?p=4046">No Comments</span></a> 
      </div> 
      <div class="accuracy --old"> 
       <p>This article is more than six months old, and some specifics have likely changed.</p> 
      </div> 
      <div class="article__main-image"> 
       <img width="946" height="300" src="https://modernweb.com/wp-content/uploads/2016/05/qppuxf5qsg4jwd3d1oim-946x300.png" class="attachment-large size-large wp-post-image" alt="React App"> 
      </div> 
      <p>As a software business owner you might want your software to communicate with other apps around the web for various reasons:</p> 
      <ol> 
       <li>Temporary extension before you bake third party functionality in your app.</li> 
       <li>Extending your app functionality which is not your core business but some customers want it.</li> 
       <li>Bringing customers from existing established apps to your app.</li> 
      </ol> 
      <p>The list can be longer but the point is there are very good reasons why your app needs to communicate with third party software. One such service is very popular Australian (and global) accounting software <a href="https://www.xero.com/">https://www.xero.com</a>. Xero is subscription based Software as a service mostly used by small businesses. They have a marketplace of partner apps which is a good way for your app to get more credibility and customers.</p> 
      <p>Recently we worked with <a href="https://hero.work/app">HERO.WORK App</a>  a popular job management app for tradies and small businesses. Some of their customers were using Xero and requested the feature to synchronize their contacts, invoices and payments between HERO.WORK and Xero. We have jumped on to the task and successfully connected Node.JS based app HERO.WORK with Xero. The rest of the blog post is about technical challenges we had to solve for that.</p> 
      <p>For those who dont want to read the whole post but want to jump straight into code, check following <strong>2 Node Vision github repositories</strong>:</p> 
      <p><a href="https://github.com/node-vision/xero-client">xero-client</a>  npm module which:</p> 
      <ul> 
       <li>connects to xero rest api (you will need your own xero credentials)</li> 
       <li>requests authentication token and stores it in session</li> 
       <li>reads, creates and updates data in connected Xero organization</li> 
      </ul> 
      <p><a href="https://github.com/node-vision/node-react-xero-app">node-react-xero-app</a>  full stack javascript application written with Node.JS, Express, React and MongoDB</p> 
      <ul> 
       <li>you can <code>git clone</code> it or see a hosted version on <a href="http://reactxeroapp.nodevision.com.au/">reactxeroapp.nodevision.com.au</a></li> 
       <li>application allows adding invoices and contacts and demonstrates synchronization with Xero</li> 
      </ul> 
      <h2 id="research-and-implementation">Research and implementation</h2> 
      <p>HERO.WORK required 2 way synchronization for contacts, invoices and payments with easily extendible api for future upgrades to other entities. For that we needed to do 5 steps:</p> 
      <ol> 
       <li>Research  where to start?, how Xero Api works? whats already available in open source world?</li> 
       <li>Xero client  ideally a library or custom service which connects to Xero and pulls and pushes data.</li> 
       <li>Transformation service  pieces of code to translate xero data structure to internal one.</li> 
       <li>Business logic  create or update? Does Xero or our app have the most recent version? When to trigger sync? How to handle errors?</li> 
       <li>UI  for this post we created a short app with React.JS frontend to demonstrate xero synchronization.</li> 
      </ol> 
      <h3 id="-step-1-research-"><strong>Step 1. Research</strong></h3> 
      <p>Xero enables 3 different types of integrations:</p> 
      <ul> 
       <li>private apps  think web or desktop app which connects to single Xero organization.</li> 
       <li>public apps  web or desktop app which can connect to many organizations but allows only short-term access enabled by user.</li> 
       <li>partner apps  similar to public but without limitations. Read <a href="http://developer.xero.com/documentation/getting-started/api-application-types/">more on xero application types</a>.</li> 
      </ul> 
      <p>As we have written several apps and apis with Node.JS, we know that one of its biggest advantages is enormous community around the platform and heaps of useful npm modules. Therefore we started by searching for useful stuff on npm and github.</p> 
      <p>HERO.WORK is by definition a public app so we searched for npm modules which would help with the task:</p> 
      <ul> 
       <li>The most popular extension was <a href="https://www.npmjs.com/package/xero">https://www.npmjs.com/package/xero</a>  it is recommended by Xero but unfortunately works only for private apps.</li> 
       <li>Then there is a github repository with a sample code for connecting public apps: <a href="https://github.com/jeromyevans/xero-api-public-application-nodejs">https://github.com/jeromyevans/xero-api-public-application-nodejs</a></li> 
       <li>and of course we cant forget the official documentation at <a href="http://developer.xero.com/documentation/">http://developer.xero.com/documentation/</a> which goes in to great details when we needed to check data structures of entities and other requirements for API endpoints.</li> 
      </ul> 
      <div style="clear:both; margin-top:0em; margin-bottom:1em;">
       <a href="https://modernweb.com/groupon-microservices/" target="_blank" rel="nofollow" class="ueda4674982dd069b3376a771ccc370f5"><style> .ueda4674982dd069b3376a771ccc370f5 { padding:0px; margin: 0; padding-top:1em!important; padding-bottom:1em!important; width:100%; display: block; font-weight:bold; background-color:#34495E; border:0!important; border-left:4px solid #27AE60!important; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -o-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); text-decoration:none; } .ueda4674982dd069b3376a771ccc370f5:active, .ueda4674982dd069b3376a771ccc370f5:hover { opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; text-decoration:none; } .ueda4674982dd069b3376a771ccc370f5 { transition: background-color 250ms; webkit-transition: background-color 250ms; opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; } .ueda4674982dd069b3376a771ccc370f5 .ctaText { font-weight:bold; color:#FFFFFF; text-decoration:none; font-size: 16px; } .ueda4674982dd069b3376a771ccc370f5 .postTitle { color:#FFFFFF; text-decoration: underline!important; font-size: 16px; } .ueda4674982dd069b3376a771ccc370f5:hover .postTitle { text-decoration: underline!important; } </style>
        <div style="padding-left:1em; padding-right:1em;">
         <span class="ctaText">See Also:</span>&nbsp; 
         <span class="postTitle">How Microservices Saved the Day: Sean McCullough on Explosive Growth at Groupon</span>
        </div></a>
      </div>
      <h3 id="-step-2-creating-a-xero-client-"><strong>Step 2. Creating a xero client.</strong></h3> 
      <p>As there was no magic bullet to plug into the app, we had to build xero-client from the beginning while getting inspired by above mentioned modules.</p> 
      <h4 id="-2-1-first-step-authentication-"><strong>2.1 First step  authentication</strong></h4> 
      <p>To allow our app to connect to Xero, user needs to log in to her Xero account and authorize our app to have access to organization. Xero supports Oauth protocol which facilitates authentication without necessity of a third party app having to know user name and password. It would take another post to explain how oauth works, you can read this post <a href="https://blog.varonis.com/introduction-to-oauth/">https://blog.varonis.com/introduction-to-oauth/</a> to get a good overview. In essence we need to request a <code>Consumer Key</code> and <code>Consumer Secret</code> from Xero developer api console and use it for oauth requests when communicating with Xero. Another essential part is to provide a <code>callback url</code>  thats an address (or api endpoint) which is called by xero upon successful authentication. The code on this url receives access token and secret which is stored in the session and is used for any additional requests. (Xero Public apps limit a token validity for 30 minutes  this limitation can be avoided by upgrading to a partner app)</p> 
      <p>There is a great npm module which encapsulates oauth functionality  <a href="https://www.npmjs.com/package/oauth">oauth</a> and code to initialize oauth request and receive token and secret in response</p> 
      <pre class=" language-javascript"><code class=" language-javascript">
<span class="token keyword">var</span> oauth <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OAuth<span class="token punctuation">.</span>OAuth</span><span class="token punctuation">(</span>
    <span class="token string">'https://api.xero.com/oauth/RequestToken'</span><span class="token punctuation">,</span>
    <span class="token string">'https://api.xero.com/oauth/AccessToken'</span><span class="token punctuation">,</span>
    config<span class="token punctuation">.</span>xeroConsumerKey<span class="token punctuation">,</span>
    config<span class="token punctuation">.</span>xeroConsumerSecret<span class="token punctuation">,</span>
    <span class="token string">'1.0A'</span><span class="token punctuation">,</span>
    <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">'HMAC-SHA1'</span><span class="token punctuation">,</span>
    <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string">"Accept"</span><span class="token punctuation">:</span> <span class="token string">"application/json"</span><span class="token punctuation">,</span>
      <span class="token string">"Connection"</span><span class="token punctuation">:</span> <span class="token string">"close"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    _authorize_callback<span class="token punctuation">:</span> config<span class="token punctuation">.</span>xeroCallbackUrl
  <span class="token punctuation">)</span><span class="token punctuation">;</span>  

oauth<span class="token punctuation">.</span><span class="token function">getOAuthRequestToken</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> oauth_token<span class="token punctuation">,</span> oauth_token_secret<span class="token punctuation">,</span> results<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//handle error</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// store the token in the session</span>
    req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>xeroAuth <span class="token operator">=</span> <span class="token punctuation">{</span>
      token<span class="token punctuation">:</span> oauth_token<span class="token punctuation">,</span>
      token_secret<span class="token punctuation">:</span> oauth_token_secret
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
      <h4 id="-2-2-one-or-two-way-sync-"><strong>2.2 one or two way sync?</strong></h4> 
      <p>Synchronization algorithm can become pretty complex with multiple database operations, network calls, deciding wheter create, update or delete records, figuring out which data has the latest version and which needs to be updated. You can save a lot of trouble if you decide that you need to synchronize only one way  e.g. our sample app only sends created contacts and invoices to Xero but doesnt download invoices from there.</p> 
      <h4 id="-2-3-json-or-xml-"><strong>2.3 json or xml?</strong></h4> 
      <p>In a Node.JS and javascript world the obvious preference for the data transfer format is JSON. Xero Api request and response format is configurable by setting appropriate headers and can accept both JSON and XML in GET requests. But when we need to modify data with PUT or POST requests, we have to use XML format. Fortunately building xml from native js objects in Node.JS is quite simple. We can use npm module <a href="https://www.npmjs.com/package/easyxml">easyxml</a>. Converting js object into a xml which is used to create/update invoices or contacts is as easy as:</p> 
      <pre class=" language-javascript"><code class=" language-javascript">
<span class="token keyword">var</span> post_body <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EasyXml</span><span class="token punctuation">(</span><span class="token punctuation">{</span>rootElement<span class="token punctuation">:</span> <span class="token string">'Invoices'</span><span class="token punctuation">,</span> rootArray<span class="token punctuation">:</span> invoices<span class="token punctuation">,</span> manifest<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
      <p>See <a href="https://github.com/node-vision/xero-client">xero-client</a> for full implementation of a client code.</p> 
      <h3 id="-step-3-transforming-data-from-and-to-xero-"><strong>Step 3. Transforming data from and to Xero</strong></h3> 
      <p>If you build an app with a sole purpose to connect with Xero, Id recommend using data model which is used by Xero. They have put a lot of time to make sure its flexible enough. But chances are that you have your own model and therefore need a transformation service to translate data. There are also data types which need a special attention like Date and time fields. Xero accepts only strict formats which we need to translate before sending.</p> 
      <ul> 
       <li><strong>Contacts </strong>are straightforward  there is only one thing which can save few issues down the line and that is a <code>ContactNumber</code> field  it is designed to be populated with a custom id (can be string, not just number). It is handy to save there a unique identifier from a local app so later on its easier to match local and xero contacts and resolve duplicates.</li> 
       <li><strong>Invoices </strong> are more complex. One must be very careful with setting if invoice line items include GST or not. Our sample app always includes GST in prices so we need to set <code>LineAmountTypes</code> to <code>Inclusive</code>. We also have to make sure that line items actually include GST. Its not relevant in the sample app, but when integrating a real world public application, users usually have a choice to either include or exclude tax in their pricing. With invoices we can set <code>InvoiceNumber</code> for the same purposes as in contacts. Invoices are more strict than contacts and require more mandatory fields (like link to a contact, line items, due date etc.) See official documentation and try api explorer to verify that everything is in place. See <a href="https://github.com/node-vision/node-react-xero-app/blob/master/server/services/xeroTransforms.js">xeroTransforms</a> service for more details.</li> 
      </ul> 
      <div style="clear:both; margin-top:0em; margin-bottom:1em;">
       <a href="https://modernweb.com/cars-com-nodejs/" target="_blank" rel="nofollow" class="u54aa6e71ab2eb0005b5e9c2a956c9fe0"><style> .u54aa6e71ab2eb0005b5e9c2a956c9fe0 { padding:0px; margin: 0; padding-top:1em!important; padding-bottom:1em!important; width:100%; display: block; font-weight:bold; background-color:#34495E; border:0!important; border-left:4px solid #27AE60!important; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -o-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.17); text-decoration:none; } .u54aa6e71ab2eb0005b5e9c2a956c9fe0:active, .u54aa6e71ab2eb0005b5e9c2a956c9fe0:hover { opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; text-decoration:none; } .u54aa6e71ab2eb0005b5e9c2a956c9fe0 { transition: background-color 250ms; webkit-transition: background-color 250ms; opacity: 1; transition: opacity 250ms; webkit-transition: opacity 250ms; } .u54aa6e71ab2eb0005b5e9c2a956c9fe0 .ctaText { font-weight:bold; color:#FFFFFF; text-decoration:none; font-size: 16px; } .u54aa6e71ab2eb0005b5e9c2a956c9fe0 .postTitle { color:#FFFFFF; text-decoration: underline!important; font-size: 16px; } .u54aa6e71ab2eb0005b5e9c2a956c9fe0:hover .postTitle { text-decoration: underline!important; } </style>
        <div style="padding-left:1em; padding-right:1em;">
         <span class="ctaText">See Also:</span>&nbsp; 
         <span class="postTitle">How Cars.com Developer Mac Heller-Ogden Convinced His Bosses to Adopt Node.js</span>
        </div></a>
      </div>
      <h3 id="-step-4-business-logic-"><strong>Step 4. Business logic</strong></h3> 
      <p>Why do we integrate with Xero? For <a href="https://hero.work/app">HERO.WORK</a> we needed to synchronize contacts and invoices and download reconciled payments so users can see accurate reporting and use invoicing features flawlessly in both apps without worrying that they have to enter details twice. For our example app we only demonstrated how to send contacts and invoices to Xero. Whatever you need to do, this is the place where multiple network and database operations are performed and you will need a solid asynchronous flow control library to keep the code clean and well organized. We used well known npm module <a href="https://www.npmjs.com/package/async">async</a> which allows to stack multiple serial, parallel and batch calls without running into callback hell issues.</p> 
      <h3 id="-step-5-ui-"><strong>Step 5. UI</strong></h3> 
      <p><img title="enter image title here" src="https://res.cloudinary.com/nodevision-com-au/image/upload/v1462437429/invoices_jz4f2k.png" alt="enter image description here"></p> 
      <p>As the name of the sample node-react-xero-app suggests we have used React to build UI for the app. In Node Vision we have been developing client side code with Angular.js and Ionic a lot, but as React has some clear advantages over Angular.js 1.x as server side rendering and works generally faster in mobile browsers, we decided to create a demo app with React. There are a lot of tutorials how to start with React which are out of scope of this blog post. You can just clone the code on <a href="https://github.com/node-vision/node-react-xero-app">github</a> and have a play.</p> 
      <p>One note for implementing Xero authentication flow in UI  we chose to open the login ui in a popup window  thats good when we dont want our single page app to leave to a xero login page and then fully reload after returning back. As a side effect we dont know exactly when user finishes authentication. Because of that we have set a 2 second interval which polls xero authentication status and if it changes, we change button and add more info about token expiry. The better approach would be to set up web sockets connection which would notify React client when sync is ready. But thats too heavy weight for this demo.</p> 
      <h2 id="final-notes">Final notes</h2> 
      <p>The guide is quite short but should be sufficient enough to get an idea whats involved when integrating the Node.JS based web app with Xero. For more details check <a href="https://github.com/node-vision">Node Vision github account</a> and check our <a href="http://reactxeroapp.nodevision.com.au/">live demo</a></p> 
      <p>The article&nbsp;was originally posted&nbsp;on&nbsp;<a href="https://nodevision.com.au/blog/post/how-to-integrate-nodejsreact-app-with-xero">Node Vision Website</a>.</p> 
      <div id="om-g9walg85bbdgxnst-holder"></div>
      <script>var g9walg85bbdgxnst,g9walg85bbdgxnst_poll=function(){var r=0;return function(n,l){clearInterval(r),r=setInterval(n,l)}}();!function(e,t,n){if(e.getElementById(n)){g9walg85bbdgxnst_poll(function(){if(window['om_loaded']){if(!g9walg85bbdgxnst){g9walg85bbdgxnst=new OptinMonsterApp();return g9walg85bbdgxnst.init({"u":"2583.557438","staging":0,"dev":0,"beta":0});}}},25);return;}var d=false,o=e.createElement(t);o.id=n,o.src="//a.optnmstr.com/app/js/api.min.js",o.async=true,o.onload=o.onreadystatechange=function(){if(!d){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){try{d=om_loaded=true;g9walg85bbdgxnst=new OptinMonsterApp();g9walg85bbdgxnst.init({"u":"2583.557438","staging":0,"dev":0,"beta":0});o.onload=o.onreadystatechange=null;}catch(t){}}}};(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}(document,"script","omapi-script");</script> 
      <div class="article__author"> 
       <div class="article__author-thumb">
        <a href="https://modernweb.com/author/shazzad"><img alt="" src="https://secure.gravatar.com/avatar/63b88712509d267bbcb30affdd276855?s=83&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/63b88712509d267bbcb30affdd276855?s=166&amp;d=mm&amp;r=g 2x" class="avatar avatar-83 photo" height="83" width="83"></a>
       </div> 
       <div class="article__author-content"> 
        <h3><em><a href="https://modernweb.com/author/shazzad">Shazzad Hossen</a></em></h3> 
        <p><em></em></p> 
       </div> 
      </div> 
      <div class="dcl-disqus-thread" id="comments"> 
       <div id="disqus_thread"> 
       </div> 
      </div> 
      <script type="text/javascript">
	/* <![CDATA[ */
		var disqus_url = 'https://modernweb.com/how-to-integrate-node-jsreact-app-with-xero/';
		var disqus_identifier = '4046 http://modernweb.com/?p=4046';
		var disqus_container_id = 'disqus_thread';
		var disqus_domain = 'disqus.com';
		var disqus_shortname = 'flippinawesome';
		var disqus_title = "How to integrate Node.JS\/React App with Xero";
		var disqus_config = function () {
			var config = this; // Access to the config object
			config.language = '';

			/* Add the ability to add javascript callbacks */
			
			/*
			   All currently supported events:
				* preData  fires just before we request for initial data
				* preInit - fires after we get initial data but before we load any dependencies
				* onInit  - fires when all dependencies are resolved but before dtpl template is rendered
				* afterRender - fires when template is rendered but before we show it
				* onReady - everything is done
			 */

			config.callbacks.preData.push(function() {
				// clear out the container (its filled for SEO/legacy purposes)
				document.getElementById(disqus_container_id).innerHTML = '';
			});
						config.callbacks.onReady.push(function() {
				// sync comments in the background so we don't block the page
				var script = document.createElement('script');
				script.async = true;
				script.src = '?cf_action=sync_comments&post_id=4046';

				var firstScript = document.getElementsByTagName( "script" )[0];
				firstScript.parentNode.insertBefore(script, firstScript);
			});
								};
	/* ]]> */
	</script> 
      <script type="text/javascript">
	/* <![CDATA[ */
		var DsqLocal = {
			'trackbacks': [
				],
			'trackback_url': "https:\/\/modernweb.com\/how-to-integrate-node-jsreact-app-with-xero\/trackback\/"		};
	/* ]]> */
	</script> 
     </article> 
    </div> 
   </section> 
   <footer class="footer"> 
    <div class="container --small"> 
     <a class="footer__left" href="https://modernweb.com"> <img src="https://modernweb.com/wp-content/themes/modern-web/images/modernweb-logo.svg" alt="Modern Web logo" width="190" height="32"> <p>© 2017 Modern Web &amp; our authors.<br>All rights reserved.</p> </a> 
     <div class="footer__right"> 
      <div class="footer__column"> 
       <h5 class="footer__title">Articles</h5> 
       <ul id="menu-categories-1" class="footer__links">
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4274"><a href="https://modernweb.com/category/design/">Design</a></li> 
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4272"><a href="https://modernweb.com/category/frontend-development/">Frontend Development</a></li> 
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-4273"><a href="https://modernweb.com/category/backend-development/">Backend Development</a></li> 
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4276"><a href="https://modernweb.com/category/devops/">DevOps</a></li> 
        <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4275"><a href="https://modernweb.com/category/work/">Work</a></li> 
       </ul> 
      </div> 
      <div class="footer__column"> 
       <h5 class="footer__title">Company</h5> 
       <ul class="footer__links"> 
        <li><a href="https://modernweb.com/authors">Authors</a></li> 
        <li><a href="https://modernweb.com/about">About</a></li> 
        <li><a href="https://modernweb.com/terms-conditions">Terms and conditions</a></li> 
        <li><a href="https://modernweb.com/privacy-policy">Privacy policy</a></li> 
       </ul> 
      </div> 
     </div> 
    </div>
   </footer> 
  </div> 
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-44065579-2', 'auto');
    ga('require', 'GTM-N97L9PT');
    ga('send', 'pageview');
  </script> 
  <style>.async-hide { opacity: 0 !important} </style> 
  <script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
  h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
  (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
  })(window,document.documentElement,'async-hide','dataLayer',4000,
  {'GTM-N97L9PT':true});</script> 
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-T3ZPRS');</script> 
  <noscript>
   <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T3ZPRS" height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript> 
  <script type="text/javascript">
    (function(d,s,i,r) {
      if (d.getElementById(i)){return;}
      var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
      n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/2591117.js';
      e.parentNode.insertBefore(n, e);
    })(document,"script","hs-analytics",300000);
  </script> 
  <script type="text/javascript">
var fesdpid = 'ZpZGgHqkOY';
var fesdp_BaseURL = (("https:" == document.location.protocol) ? "https://fe.sitedataprocessing.com/fewv1/" : "http://fe.sitedataprocessing.com/fewv1/");
(function () {
var va = document.createElement('script'); va.type = 'text/javascript'; va.async = true;
va.src = fesdp_BaseURL + 'Scripts/fewliveasync.js';
var sv = document.getElementsByTagName('script')[0]; sv.parentNode.insertBefore(va, sv);
})();
</script> 
  <script src="https://modernweb.com/wp-content/themes/modern-web/bundle.js"></script> 
  <div id="om-nqmrgq4jwbxr5bb85gcx-holder"></div>
  <script>var nqmrgq4jwbxr5bb85gcx,nqmrgq4jwbxr5bb85gcx_poll=function(){var r=0;return function(n,l){clearInterval(r),r=setInterval(n,l)}}();!function(e,t,n){if(e.getElementById(n)){nqmrgq4jwbxr5bb85gcx_poll(function(){if(window['om_loaded']){if(!nqmrgq4jwbxr5bb85gcx){nqmrgq4jwbxr5bb85gcx=new OptinMonsterApp();return nqmrgq4jwbxr5bb85gcx.init({"u":"2583.581978","staging":0,"dev":0,"beta":0});}}},25);return;}var d=false,o=e.createElement(t);o.id=n,o.src="//a.optnmstr.com/app/js/api.min.js",o.async=true,o.onload=o.onreadystatechange=function(){if(!d){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){try{d=om_loaded=true;nqmrgq4jwbxr5bb85gcx=new OptinMonsterApp();nqmrgq4jwbxr5bb85gcx.init({"u":"2583.581978","staging":0,"dev":0,"beta":0});o.onload=o.onreadystatechange=null;}catch(t){}}}};(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}(document,"script","omapi-script");</script>
  <div id="om-moqdya5gu8yschbv-holder"></div>
  <script>var moqdya5gu8yschbv,moqdya5gu8yschbv_poll=function(){var r=0;return function(n,l){clearInterval(r),r=setInterval(n,l)}}();!function(e,t,n){if(e.getElementById(n)){moqdya5gu8yschbv_poll(function(){if(window['om_loaded']){if(!moqdya5gu8yschbv){moqdya5gu8yschbv=new OptinMonsterApp();return moqdya5gu8yschbv.init({"u":"2583.557523","staging":0,"dev":0,"beta":0});}}},25);return;}var d=false,o=e.createElement(t);o.id=n,o.src="//a.optnmstr.com/app/js/api.min.js",o.async=true,o.onload=o.onreadystatechange=function(){if(!d){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){try{d=om_loaded=true;moqdya5gu8yschbv=new OptinMonsterApp();moqdya5gu8yschbv.init({"u":"2583.557523","staging":0,"dev":0,"beta":0});o.onload=o.onreadystatechange=null;}catch(t){}}}};(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(o)}(document,"script","omapi-script");</script> 
  <script type="text/javascript">var g9walg85bbdgxnst_shortcode = true;var nqmrgq4jwbxr5bb85gcx_shortcode = true;var moqdya5gu8yschbv_shortcode = true;</script> 
  <script type="text/javascript" src="https://modernweb.com/wp-includes/js/wp-embed.min.js?ver=4.8.2"></script> 
  <script data-cfasync="false" type="text/javascript">

    var disqus_shortname = "flippinawesome";
    if (typeof ds_loaded == "undefined") {
        var ds_loaded = false;
    }
    function loadDisqus() {
        var disqus_div = document.getElementById("disqus_thread");
        var top = disqus_div.offsetTop;
        var disqus_data = disqus_div.dataset;
        if ( !ds_loaded && ( window.scrollY || window.pageYOffset ) + window.innerHeight > top ) {
            ds_loaded = true;
            for (var key in disqus_data) {
                if (key.substr(0,6) == "disqus") {
                    window["disqus_" + key.replace("disqus","").toLowerCase()] = disqus_data[key];
								}
                }
                var dsq = document.createElement("script");
                dsq.type = "text/javascript";
                dsq.async = true;
                dsq.src = "https://" + window.disqus_shortname + ".disqus.com/embed.js";
                if(document.getElementById("dcl-hidden-div")) {
                    document.getElementById("dcl-hidden-div").innerHTML = "Loading...";
                }
                (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
            }
        }
					var disqus_div_new = document.getElementById("disqus_thread");
		var divExists = disqus_div_new != null;
                if(document.body.scrollHeight < window.innerHeight){
                    loadDisqus();
                } else if(divExists) {
                    window.onscroll = function() { loadDisqus(); }
                }
	</script>
  <script data-cfasync="false" type="text/javascript">
                /* <![CDATA[ */
                var hash = window.location.hash;
                var disqus_shortname = 'flippinawesome';
                if(hash!==''){
                    var ds_loaded = true;
                    var dcl_loaded = 1;
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript';
                        dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.' + 'disqus.com' + '/' + 'embed' + '.js' + '?pname=wordpress&pver=2.84';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();}
                /* ]]> */
            </script> 
  <script type="text/javascript">var omapi_localized = { ajax: 'https://modernweb.com/wp-admin/admin-ajax.php?optin-monster-ajax-route=1', nonce: 'db6d23cce4', slugs: {"g9walg85bbdgxnst":{"slug":"g9walg85bbdgxnst","mailpoet":false},"nqmrgq4jwbxr5bb85gcx":{"slug":"nqmrgq4jwbxr5bb85gcx","mailpoet":false},"moqdya5gu8yschbv":{"slug":"moqdya5gu8yschbv","mailpoet":false}} };</script>   
 </body>
</html>