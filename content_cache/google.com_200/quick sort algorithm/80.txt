<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- base_content.html -->
<html xmlns="http://www.w3.org/1999/xhtml">
 <head> 
  <title>Find Median in an Unsorted Array Without Sorting it - CodeChef Discuss</title> 
  <meta name="description" content="Given an unsorted Array A[1,2,3,.....N], Find the Medians in this array without sorting it in an efficient Way?"> 
  <meta name="keywords" content="sorting,algorithm"> 
  <link rel="canonical" href="https://discuss.codechef.com/questions/1489/find-median-in-an-unsorted-array-without-sorting-it"> 
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/questions/1489/find-median-in-an-unsorted-array-without-sorting-it?type=rss"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <link rel="shortcut icon" href="/upfiles/favicon_1.ico"> 
  <link href="/m/default/media/style/style.css" rel="stylesheet" type="text/css"> 
  <link href="/m/default/media/style/custom.css?q=star_system" rel="stylesheet" type="text/css"> 
  <meta property="og:type" content="article"> 
  <meta property="og:title" content="Find Median in an Unsorted Array Without Sorting i"> 
  <meta property="og:description" content="Given an unsorted Array A[1,2,3,.....N], Find the Medians in this array without sorting it in an efficient Way?"> 
  <meta property="og:image" content="https://s3.amazonaws.com/codechef_shared/misc/fb-image-icon.png"> 
  <link rel="stylesheet" type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.1/jquery-ui.js"> 
  <!--[if IE 6]>

        <style type="text/css">
        img, div, a { behavior: url(/m/default/media/iepngfix/iepngfix.htc) }
        </style>
        <![endif]--> 
  <script src="//www.google.com/jsapi" type="text/javascript"></script> 
  <script type="text/javascript">
        /*<![CDATA[*/
            google.load("jquery", "1.4.2");
            google.load("jqueryui", "1", {autoload:true});

            var i18nLang = 'en';
            var appUrl = 'https://discuss.codechef.com'
            var scriptUrl = '/'
            var osqaSkin = 'default';

            var messages = {
                username: '',
                confirm: "Are you sure?",
                yes: "Yes",
                no: "No",
                message: "Message:",
                cancel: "Cancel",
                close: "Close",
                ok: "Ok",
                matching_tags_url: "/matching_tags/",
                word: "word",
                words: "words",
                character: "character",
                characters: "characters"
            }
        /*]]>*/
        </script> 
  <script type="text/javascript" src="/m/default/media/js/osqa.main.js?rv=318"></script> 
  <style type="text/css">
                body { margin-top:2.7em; }
            </style> 
  <script type="text/javascript">
                $(document).ready(function() {
                    var element = $('#validate_email_alert');
                    element.click(function(){notify.close(true);})
                    notify.show();
                });
            </script> 
  <script type="text/javascript" src="/m/default/media/js/osqa.question.js"></script> 
  <script type="text/javascript" src="/m/default/media/js/jquery.caret.js"></script> 
  <script type="text/javascript" src="/m/default/media/js/wmd/showdown.js"></script> 
  <script type="text/javascript" src="/m/default/media/js/wmd/wmd.js"></script> 
  <link rel="stylesheet" type="text/css" href="/m/default/media/js/wmd/wmd.css"> 
  <script type="text/javascript" src="/m/default/media/js/viewbox_min.js"></script> 
  <script type="text/javascript" src="/m/default/media/js/youtube.js"></script> 
  <link rel="stylesheet" type="text/css" href="/m/default/media/js/viewbox.css"> 
  <script type="text/javascript">
        $().ready(function(){
            $("#nav_questions").attr('className',"on");
            var answer_sort_tab = "";

            if (answer_sort_tab) {
                $("#" + answer_sort_tab).attr('className',"on");
            }

            $('#editor').TextAreaResizer();

            //toggle preview of editor
            var display = true;
            var txt = "[hide preview]";
            $('#pre-collapse').text(txt);
            $('#pre-collapse').bind('click', function(){
                txt = display ? "[show preview]" : "[hide preview]";
                display = !display;
                $('#previewer').toggle();
                $('#pre-collapse').text(txt);
            });
        });

        function submitClicked(e, f) {
            if(!(browserTester('chrome') || browserTester('safari'))) {
                $("input.submit")[0].disabled=true;
            }
            window.removeEventListener('beforeunload', beforeUnload, true);
            if (f) {
                f.submit();
            }
        }

        function beforeUnload(e) {

            if($("textarea#editor")[0].value != "") {
                return yourWorkWillBeLost(e);
            }

            var commentBoxes = $("textarea.commentBox");
            for(var index = 0; index < commentBoxes.length; index++) {
                if(commentBoxes[index].value != "") {
                    return yourWorkWillBeLost(e);
                }
            }
        }
        window.addEventListener('beforeunload', beforeUnload, true);
        </script> 
  <noscript> 
   <style>
                .comment.not_top_scorer {
                    display: block;
                }
                .comment-form-container {
                    display: block;
                }
                .div.comment-tools {
                    display: none;
                }
            </style> 
  </noscript> 
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="CodeChef Discuss Search"> 
 </head> 
 <body> 
  <div class="wrapper"> 
   <!-- template header.html --> 
   <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script> 
   <style>
.MathJax {
    font-size: 2em;
}
</style> 
   <script type="text/javascript">

    $(document).ready(function () {
        initSearchBoxValue();
    });

    MathJax.Hub.Config({
        "tex2jax": {
            inlineMath: [['$', '$']],
            multiLine: true
        }
    });

    function initSearchBoxValue()
    {
        var searchKeyword= $("#keywords").val();
            if (searchKeyword=="")
            {
                $("#keywords").val("Search Here...");
            }
   }

    function searchBoxOnBlur(){
        $("#keyword").className="searchInput";
        if ($("#keywords").val()=="")
                $("#keywords").val("Search Here...");
    }

    function searchBoxOnFocus(){
        $("#keyword").className="searchInputFocused";
        if ($("#keywords").val()=="Search Here...")
            $("#keywords").val("");
   }

    function about(){
        if (document.URL=="http://osqa.codechef.local/about/")
        {
            $("")
        }
    }

</script> 
   <div class="notify"> 
    <p>You are not logged in. Please login at <a target="_blank" href="http://www.codechef.com/">www.codechef.com</a> to post your questions!</p> 
    <a id="close-notifycustom" onclick="notify.close(true)">×</a> 
   </div> 
   <div id="roof"> 
    <div id="top" style="position:absolute; text-align: left;"> 
     <a href="https://www.codechef.com/"> &lt;&lt; Back to CodeChef </a> 
    </div> 
    <div id="logo"> 
     <a href="/"> <img src="/upfiles/site-logo_21.png" title="back to home page" alt="CodeChef Discuss logo"> </a> 
    </div> 
    <div id="top"> 
     <div id="nav"> 
      <a id="nav_questions" class="on" href="/questions/">questions</a>
      <a id="nav_tags" href="/tags/">tags</a>
      <a id="nav_users" href="/users/">users</a>
      <a id="nav_badges" href="/badges/">badges</a>
      <a id="nav_unanswered" href="/questions/unanswered/">unanswered</a> 
      <a id="horiSeparator"></a> 
      <a id="nav_ask" href="/questions/ask/" class="special">ask a question</a> 
      <a id="nav_about" href="/about" class="off" onclick="about()">about</a> 
      <a id="nav_faq" href="/faq">faq</a> 
     </div> 
    </div> 
   </div> 
   <div class="clear"></div> 
   <div id="searchBar"> 
    <table id="searchBarTable"> 
     <tbody>
      <tr> 
       <td class="left"> CodeChef Discussion </td> 
       <td class="right"> 
        <form action="/search/" method="get"> 
         <input type="hidden" name="csrfmiddlewaretoken" value="c0fLKN6P9zLqOqFg3ErosU1OZFC6m1ll"> 
         <table> 
          <tbody>
           <tr> 
            <td> <input type="text" class="searchInput" value="" name="q" id="keywords" onfocus="searchBoxOnFocus()" onblur="searchBoxOnBlur()"> </td> 
            <td> 
             <div class="options"> 
              <input id="type-question" type="radio" value="question" name="t" checked>
              <label for="type-question">questions</label> 
              <input id="type-tag" type="radio" value="tag" name="t">
              <label for="type-tag">tags</label> 
              <input id="type-user" type="radio" value="user" name="t">
              <label for="type-user">users</label> 
             </div> </td> 
           </tr> 
          </tbody>
         </table> 
        </form> </td> 
      </tr> 
     </tbody>
    </table> 
    <h1 id="separator"> </h1> 
   </div> 
   <!-- end template header.html --> 
   <div id="wrapper"> 
    <div id="room"> 
     <div id="CALeft"> 
      <div class="headNormal"> 
       <h1>Find Median in an Unsorted Array Without Sorting it</h1> 
      </div> 
      <div id="main-body" class=""> 
       <div id="askform"> 
        <table style="width:100%;" id="question-table"> 
         <tbody>
          <tr> 
           <td style="width:30px;vertical-align:top"> 
            <div class="vote-buttons"> 
             <a id="post-1489-upvote" title="I like this post (click again to cancel)" class="ajax-command post-vote up " href="/vote/1489/up/" rel="nofollow"> </a> 
             <div id="post-1489-score" class="post-score" title="current number of votes">
               5 
             </div> 
             <a id="post-1489-downvote" title="I dont like this post (click again to cancel)" class="ajax-command post-vote down" href="/vote/1489/down/" rel="nofollow"> </a> 
             <a id="favorite-mark" title="mark/unmark this question as favorite (click again to cancel)" class="ajax-command favorite-mark " href="/mark_favorite/1489/" rel="nofollow"> </a> 
             <div id="favorite-count" class="favorite-count">
               2 
             </div> 
            </div> </td> 
           <td> 
            <div id="item-right"> 
             <div class="question-body"> 
              <p>Given an unsorted Array A[1,2,3,.....N], Find the Medians in this array without sorting it in an efficient Way?</p> 
             </div> 
             <div id="question-tags" class="tags-container tags"> 
              <span class="approved-tags"> <a href="/tags/sorting/" class="post-tag tag-link-sorting " title="see questions tagged 'sorting'" rel="tag">sorting</a> <a href="/tags/algorithm/" class="post-tag tag-link-algorithm " title="see questions tagged 'algorithm'" rel="tag">algorithm</a> </span> 
              <span class="unapproved-tags" title="Unapproved tags"> </span> 
             </div> 
             <div id="question-controls" class="post-controls"> 
             </div> 
             <div class="post-update-info-container"> 
              <div class="post-update-info post-update-info-user"> 
               <p style="line-height:12px;"> asked <strong>30 Jun '12, 23:07</strong> </p> 
               <img class="gravatar" width="32" height="32" src="//www.codechef.com/sites/default/files/uploads/pictures/default.jpg?s=32&amp;d=identicon&amp;r=g" alt="cpluspluscoder's gravatar image"> 
               <p><span class="user-rating user-rating-4"><span>4?</span><a href="/users/2054/cpluspluscoder">cpluspluscoder</a></span><br> <span class="score" title="92 reputation points">92</span><span title="1 badges"><span class="badge1">?</span><span class="badgecount">1</span></span><span title="4 badges"><span class="silver">?</span><span class="badgecount">4</span></span><span title="8 badges"><span class="bronze">?</span><span class="badgecount">8</span></span><br> <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span> <span title="cpluspluscoder has no accepted answers">0%</span> </p> 
              </div> 
             </div> 
             <div class="comments-container" id="comments-container-1489"> 
             </div> 
             <div id="comment-tools-1489" class="comment-tools"> 
             </div> 
             <div id="comment-1489-form-container" class="comment-form-container"> 
             </div> 
            </div> </td> 
          </tr> 
         </tbody>
        </table> 
        <hr> 
        <div class="tabBar"> 
         <a name="sort-top"></a> 
         <div class="headQuestions">
           6 Answers: 
         </div> 
         <div class="tabsA">
          <a href="/questions/1489/find-median-in-an-unsorted-array-without-sorting-it?sort=oldest" title="oldest answers will be shown first">oldest answers</a>
          <a href="/questions/1489/find-median-in-an-unsorted-array-without-sorting-it?sort=newest" title="newest answers will be shown first">newest answers</a>
          <a href="/questions/1489/find-median-in-an-unsorted-array-without-sorting-it?sort=votes" class="on" title="most voted answers will be shown first">popular answers</a>
         </div> 
        </div> 
        <a name="1490"></a> 
        <div id="answer-container-1490" class="answer accepted-answer"> 
         <table style="width:100%;"> 
          <tbody>
           <tr> 
            <td style="width:30px;vertical-align:top"> 
             <div class="vote-buttons"> 
              <a id="post-1490-upvote" title="I like this post (click again to cancel)" class="ajax-command post-vote up " href="/vote/1490/up/" rel="nofollow"> </a> 
              <div id="post-1490-score" class="post-score" title="current number of votes">
                22 
              </div> 
              <a id="post-1490-downvote" title="I dont like this post (click again to cancel)" class="ajax-command post-vote down" href="/vote/1490/down/" rel="nofollow"> </a> 
              <a class="accept-answer on" title="cpluspluscoder has selected this answer as the correct answer" href="/accept_answer/1490/" rel="nofollow"> </a> 
             </div> </td> 
            <td> 
             <div class="item-right"> 
              <div class="answer-body"> 
               <p>This Problem Can be done is a <strong>linear Time</strong> O(N),where N=A.length() . Yes ,<strong><a href="http://en.wikipedia.org/wiki/Selection_algorithm">Selection Algorithm</a></strong> Finds th<em>e Median of an unsorted Array without Sorting it</em>.</p> 
               <p>The Selection Algorithm uses the <strong>concept of Quick Sort</strong>[But does not actually sort the array though] ,especially the partition Steps.</p> 
               <p>This algorithm works in two steps. The partitioning step works by picking some pivot element, then rearranging the elements of the array such that everything less than the pivot is to one side, everything greater than the pivot is to the other side, and the pivot is in the correct place.</p> 
               <p>In a simple words:: </p> 
               <p>In a quick sort ,when you calls the Partition Function, and Lets say the partition Function returns 'Idx' , then the job of sorting 'Idx' position is Done, that is the A[Idx] contains the same element as the Idx th element of final answers (sorted Array) ,and all element to the left of 'Idx' is less than or equal to A[idx].</p> 
               <p>This is the main concept used by the selection Algorithm.</p> 
               <p>So to find the Medians basically <em>our aim is to call recursively,the partitions functions unless the Pivot</em> reached the N/ 2th element.</p> 
               <p>This is the implementation in C++ :</p> 
               <pre><code>int A[MAX],N;
int partitions(int low,int high)
{
    int p=low,r=high,x=A[r],i=p-1;
    for(int j=p;j&lt;=r-1;j++)
    {
        if (A[j]&lt;=x)
        {

            i=i+1;
            swap(A[i],A[j]);
        }
    }
    swap(A[i+1],A[r]);
    return i+1;
}
int selection_algorithm(int left,int right,int kth)
{
    for(;;)
    {
        int pivotIndex=partitions(left,right);          //Select the Pivot Between Left and Right
        int len=pivotIndex-left+1;

        if(kth==len)
            return A[pivotIndex];

        else if(kth&lt;len)
            right=pivotIndex-1;

        else
        {
            kth=kth-len;
            left=pivotIndex+1;
        }
    }
}
</code></pre> 
               <p>Run this code calling the function , selection_algorithm(1,N,K),where K=N/2 (For median Elements)from the Main Function.</p> 
               <p>Note:: Using selection Algorithm ,we can't only find the Median elements without sorting , We can Find any Kth Smallest element .</p> 
               <p>Also ,note In partition Function,i selected the Pivot as the last element of Array( x=A[r] ).</p> 
               <p>You can improve the performance using the Randomized-Partition concept given in CLRS.</p> 
               <p>Hope this Helps!!!!!</p> 
              </div> 
              <div class="answer-controls post-controls"> 
               <span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/1490/">link</a></span> 
              </div> 
              <div class="post-update-info-container"> 
               <div class="post-update-info post-update-info-user"> 
                <p style="line-height:12px;"> answered <strong>30 Jun '12, 23:25</strong> </p> 
                <img class="gravatar" width="32" height="32" src="//www.codechef.com/sites/default/files/uploads/pictures/72d071312f3eddc68c22d3d715579086.jpg?s=32&amp;d=identicon&amp;r=g" alt="ritesh_gupta's gravatar image"> 
                <p><span class="user-rating user-rating-5"><span>5?</span><a href="/users/51/ritesh_gupta">ritesh_gupta ?</a></span><br> <span class="score" title="3677 reputation points"><span class="">3.7k</span></span><span title="4 badges"><span class="badge1">?</span><span class="badgecount">4</span></span><span title="25 badges"><span class="silver">?</span><span class="badgecount">25</span></span><span title="49 badges"><span class="bronze">?</span><span class="badgecount">49</span></span><br> <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span> <span title="ritesh_gupta has 14 accepted answers">27%</span> </p> 
               </div> 
               <div class="post-update-info post-update-info-edited"> 
                <p style="line-height:12px;"> <a href="/revisions/1490/"> edited <strong>30 Jun '12, 23:33</strong> </a> </p> 
               </div> 
              </div> 
              <div class="comments-container" id="comments-container-1490"> 
               <a name="1491"></a> 
               <div class="comment" id="comment-1491"> 
                <div id="post-1491-score" class="comment-score"></div> 
                <div class="comment-text">
                 <p><a href="/users/51/ritesh_gupta">@ritesh_gupta</a> :: Thanks a lot .Never thought ,there exist a linear Solution for Median Finding :)</p>
                </div> 
                <div class="comment-info" id="comment-1491-info"> 
                 <span class="comment-age">(30 Jun '12, 23:37)</span> 
                 <span class="user-rating user-rating-4"><a class="comment-user userinfo" href="/users/2054/cpluspluscoder">cpluspluscoder</a><span>4?</span></span> 
                </div> 
               </div> 
               <a name="1492"></a> 
               <div class="comment" id="comment-1492"> 
                <div id="post-1492-score" class="comment-score"></div> 
                <div class="comment-text">
                 <p>cpluspluscoder :)</p>
                </div> 
                <div class="comment-info" id="comment-1492-info"> 
                 <span class="comment-age">(30 Jun '12, 23:39)</span> 
                 <span class="user-rating user-rating-5"><a class="comment-user userinfo" href="/users/51/ritesh_gupta">ritesh_gupta ?</a><span>5?</span></span> 
                </div> 
               </div> 
               <a name="1506"></a> 
               <div class="comment" id="comment-1506"> 
                <div id="post-1506-score" class="comment-score"></div> 
                <div class="comment-text">
                 <p>I cannot see at first sight that this is O(n) algorithm, especially if it's inspired by quick sort where worst case is O(n^2), also "Median of Medians algorithm" is O(n), but (if I'm not wrong here) with some big constant O(C*n). When C is 20 or so, O(n*log(n)) algorithm is equally good or better for n &lt;= 1.000.000 ...</p>
                </div> 
                <div class="comment-info" id="comment-1506-info"> 
                 <span class="comment-age">(02 Jul '12, 15:32)</span> 
                 <span class="user-rating user-rating-3"><a class="comment-user userinfo" href="/users/1169/betlista">betlista ??</a><span>3?</span></span> 
                </div> 
               </div> 
               <a name="1515"></a> 
               <div class="comment" id="comment-1515"> 
                <div id="post-1515-score" class="comment-score">
                 2
                </div> 
                <div class="comment-text">
                 <p>for an array of integers elements, there exists a sorting algorithm in O(n). thus, you can find the median by sorting it and keeping O(n) anyway. ( <a href="http://en.wikipedia.org/wiki/Counting_sort">http://en.wikipedia.org/wiki/Counting_sort</a> )</p>
                </div> 
                <div class="comment-info" id="comment-1515-info"> 
                 <span class="comment-age">(02 Jul '12, 23:45)</span> 
                 <span class="user-rating user-rating-3"><a class="comment-user userinfo" href="/users/12/cyberax">cyberax ??</a><span>3?</span></span> 
                </div> 
               </div> 
               <a name="1523"></a> 
               <div class="comment" id="comment-1523"> 
                <div id="post-1523-score" class="comment-score"></div> 
                <div class="comment-text">
                 <p>But Counting Sort is inefficient when diff b.w n and max element is really large and is almost O(N^2)so i think Selection Algo is the Best</p>
                </div> 
                <div class="comment-info" id="comment-1523-info"> 
                 <span class="comment-age">(04 Jul '12, 11:22)</span> 
                 <span class="user-rating user-rating-4"><a class="comment-user userinfo" href="/users/2054/cpluspluscoder">cpluspluscoder</a><span>4?</span></span> 
                </div> 
               </div> 
               <a name="16392"></a> 
               <div class="comment not_top_scorer" id="comment-16392"> 
                <div id="post-16392-score" class="comment-score"></div> 
                <div class="comment-text">
                 <p>why is this linear? median of medians divides the whole array into groups of 5 elements then insertion sorts the subarrays...these are then used..i think ritesh your algorithm will be nlogn or since quicksort's worst case is n^2 it will be On^2 in worst case.</p> 
                 <p>( <a href="http://cs.indstate.edu/~spitla/presentation.pdf">http://cs.indstate.edu/~spitla/presentation.pdf</a> )</p>
                </div> 
                <div class="comment-info" id="comment-16392-info"> 
                 <span class="comment-age">(03 Jul '13, 18:08)</span> 
                 <span class="user-rating user-rating-2"><a class="comment-user userinfo" href="/users/1231/panicker">panicker</a><span>2?</span></span> 
                </div> 
               </div> 
               <a name="49107"></a> 
               <div class="comment not_top_scorer" id="comment-49107"> 
                <div id="post-49107-score" class="comment-score"></div> 
                <div class="comment-text">
                 <p>How time complexity is O(n) ?</p>
                </div> 
                <div class="comment-info" id="comment-49107-info"> 
                 <span class="comment-age">(06 Aug '14, 18:26)</span> 
                 <span class="user-rating user-rating-3"><a class="comment-user userinfo" href="/users/4946/herman">herman</a><span>3?</span></span> 
                </div> 
               </div> 
              </div> 
              <div id="comment-tools-1490" class="comment-tools"> 
               <span class="comments-showing"> showing 5 of 7 </span> 
               <a href="#" class="show-all-comments-link">show all</a> 
              </div> 
              <div id="comment-1490-form-container" class="comment-form-container"> 
              </div> 
             </div> </td> 
           </tr> 
          </tbody>
         </table> 
        </div> 
        <a name="16395"></a> 
        <div id="answer-container-16395" class="answer "> 
         <table style="width:100%;"> 
          <tbody>
           <tr> 
            <td style="width:30px;vertical-align:top"> 
             <div class="vote-buttons"> 
              <a id="post-16395-upvote" title="I like this post (click again to cancel)" class="ajax-command post-vote up " href="/vote/16395/up/" rel="nofollow"> </a> 
              <div id="post-16395-score" class="post-score" title="current number of votes">
                2 
              </div> 
              <a id="post-16395-downvote" title="I dont like this post (click again to cancel)" class="ajax-command post-vote down" href="/vote/16395/down/" rel="nofollow"> </a> 
             </div> </td> 
            <td> 
             <div class="item-right"> 
              <div class="answer-body"> 
               <p><a href="http://cs.indstate.edu/~spitla/presentation.pdf">Median of Medians</a><a href="http://cs.indstate.edu/~spitla/presentation.pdf">http://cs.indstate.edu/~spitla/presentation.pdf</a></p> 
               <blockquote> 
                <pre><code>int select(int *a, int s, int e, int k) {
if(e-s+1 &lt;= 5)
{
    sort(a+s, a+e);
    return s+k-1;
}

for(int i=0; i&lt;(e+1)/5; i++)
{
    int left = 5*i;
    int right = left + 4;
    if(right &gt; e) right = e;

    int median = select(a, left, right, 3);
    swap(a[median], a[i]);
}
return select(a, 0, (e+1)/5, (e+1)/10); }

int main() 
{  
int a[] = {6,7,8,1,2,3,4,5,9,10};
int n = 10;

int mom = select(a, 0, n-1, n/2);
cout&lt;&lt;"Median of Medians: " &lt;&lt; a[mom] &lt;&lt; endl;
return 0; }
</code></pre> 
               </blockquote> 
              </div> 
              <div class="answer-controls post-controls"> 
               <span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/16395/">link</a></span> 
              </div> 
              <div class="post-update-info-container"> 
               <div class="post-update-info post-update-info-user"> 
                <p style="line-height:12px;"> answered <strong>03 Jul '13, 18:09</strong> </p> 
                <img class="gravatar" width="32" height="32" src="//www.codechef.com/sites/default/files/uploads/pictures/ad6283489894e269cd51152afb0a1bec.jpeg?s=32&amp;d=identicon&amp;r=g" alt="panicker's gravatar image"> 
                <p><span class="user-rating user-rating-2"><span>2?</span><a href="/users/1231/panicker">panicker</a></span><br> <span class="score" title="31 reputation points">31</span><span title="1 badges"><span class="silver">?</span><span class="badgecount">1</span></span><span title="4 badges"><span class="bronze">?</span><span class="badgecount">4</span></span><br> <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span> <span title="panicker has no accepted answers">0%</span> </p> 
               </div> 
               <div class="post-update-info post-update-info-edited"> 
                <p style="line-height:12px;"> <a href="/revisions/16395/"> edited <strong>03 Jul '13, 18:14</strong> </a> </p> 
               </div> 
              </div> 
              <div class="comments-container" id="comments-container-16395"> 
              </div> 
              <div id="comment-tools-16395" class="comment-tools"> 
              </div> 
              <div id="comment-16395-form-container" class="comment-form-container"> 
              </div> 
             </div> </td> 
           </tr> 
          </tbody>
         </table> 
        </div> 
        <a name="78647"></a> 
        <div id="answer-container-78647" class="answer "> 
         <table style="width:100%;"> 
          <tbody>
           <tr> 
            <td style="width:30px;vertical-align:top"> 
             <div class="vote-buttons"> 
              <a id="post-78647-upvote" title="I like this post (click again to cancel)" class="ajax-command post-vote up " href="/vote/78647/up/" rel="nofollow"> </a> 
              <div id="post-78647-score" class="post-score" title="current number of votes">
                0 
              </div> 
              <a id="post-78647-downvote" title="I dont like this post (click again to cancel)" class="ajax-command post-vote down" href="/vote/78647/down/" rel="nofollow"> </a> 
             </div> </td> 
            <td> 
             <div class="item-right"> 
              <div class="answer-body"> 
               <p>it actually depends on <strong>sortedness of data</strong> </p> 
               <p>if data is <strong>sorted</strong> <strong>use medians of medians</strong> because this is worst case for normal quick select it will go in O(n^2) but med-of-med will keep worst case also in O(n) , obviously there will be some overhead of calculating pivot. </p> 
               <p>if data is <strong>partially sorted</strong> <strong>use randomised quickselect</strong> </p> 
               <p>if data is <strong>unsorted</strong> <strong>use normal quickselect</strong> (starting from first index as pivot element</p> 
               <p>choice is to choose from three methods i) medians of medians ii)randomised quickselect iii) normal quickselect </p> 
              </div> 
              <div class="answer-controls post-controls"> 
               <span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/78647/">link</a></span> 
              </div> 
              <div class="post-update-info-container"> 
               <div class="post-update-info post-update-info-user"> 
                <p style="line-height:12px;"> answered <strong>16 Jan '16, 23:03</strong> </p> 
                <img class="gravatar" width="32" height="32" src="//www.codechef.com/sites/default/files/uploads/pictures/default.jpg?s=32&amp;d=identicon&amp;r=g" alt="road_runner's gravatar image"> 
                <p><span class="user-rating user-rating-1"><span>1?</span><a href="/users/87027/road_runner">road_runner</a></span><br> <span class="score" title="1 reputation points">1</span><br> <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span> <span title="road_runner has no accepted answers">0%</span> </p> 
               </div> 
              </div> 
              <div class="comments-container" id="comments-container-78647"> 
              </div> 
              <div id="comment-tools-78647" class="comment-tools"> 
              </div> 
              <div id="comment-78647-form-container" class="comment-form-container"> 
              </div> 
             </div> </td> 
           </tr> 
          </tbody>
         </table> 
        </div> 
        <a name="78679"></a> 
        <div id="answer-container-78679" class="answer "> 
         <table style="width:100%;"> 
          <tbody>
           <tr> 
            <td style="width:30px;vertical-align:top"> 
             <div class="vote-buttons"> 
              <a id="post-78679-upvote" title="I like this post (click again to cancel)" class="ajax-command post-vote up " href="/vote/78679/up/" rel="nofollow"> </a> 
              <div id="post-78679-score" class="post-score" title="current number of votes">
                0 
              </div> 
              <a id="post-78679-downvote" title="I dont like this post (click again to cancel)" class="ajax-command post-vote down" href="/vote/78679/down/" rel="nofollow"> </a> 
             </div> </td> 
            <td> 
             <div class="item-right"> 
              <div class="answer-body"> 
               <p>median for even no fo elements (m)= (N+1)/2;(if array starts with index 1)</p> 
               <p>approch to find median without sorting array -: chose a random number(pivot) and calculate the no of elements which are greater than equal to pivot element and update right counter(r) also calculate the no of elements which are less than pivot element and update left counter(l). if l == m-1 &amp;&amp; r == m then mth element is median.</p> 
               <p>code in c -:</p> 
               <p>int main()</p> 
               <p>{</p> 
               <p>int l,r,m,N,a[20],p;</p> 
               <p>clrscr();</p> 
               <p>l=0;</p> 
               <p>r=0;</p> 
               <p>m = N;</p> 
               <p>p = (N+1)/2;</p> 
               <p>for(i=1;i&lt;=N-1;i++)</p> 
               <p>{ </p> 
               <p>if(i == m)</p> 
               <p>continue;</p> 
               <p>else{</p> 
               <p>if(a[m]&lt;a[i])</p> 
               <p>l++;</p> 
               <p>else</p> 
               <p>r++; }</p> 
               <p>if(l == (p-1) &amp;&amp; r == p){</p> 
               <p>printf("median is %dth locatin %d",m,a[m]);</p> 
               <pre><code>break;  }


 m--;
         }
</code></pre> 
               <p>return 0; }</p> 
               <p>Compelxity O(N) !</p> 
               <p>Hope this helps !</p> 
              </div> 
              <div class="answer-controls post-controls"> 
               <span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/78679/">link</a></span> 
              </div> 
              <div class="post-update-info-container"> 
               <div class="post-update-info post-update-info-user"> 
                <p style="line-height:12px;"> answered <strong>17 Jan '16, 23:55</strong> </p> 
                <img class="gravatar" width="32" height="32" src="//www.codechef.com/sites/default/files/uploads/pictures/default.jpg?s=32&amp;d=identicon&amp;r=g" alt="grv221's gravatar image"> 
                <p><span class="user-rating user-rating-0"><span>0?</span><a href="/users/135342/grv221">grv221</a></span><br> <span class="score" title="1 reputation points">1</span><span title="1 badges"><span class="bronze">?</span><span class="badgecount">1</span></span><br> <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span> <span title="grv221 has no accepted answers">0%</span> </p> 
               </div> 
               <div class="post-update-info post-update-info-edited"> 
                <p style="line-height:12px;"> <a href="/revisions/78679/"> edited <strong>17 Jan '16, 23:58</strong> </a> </p> 
               </div> 
              </div> 
              <div class="comments-container" id="comments-container-78679"> 
              </div> 
              <div id="comment-tools-78679" class="comment-tools"> 
              </div> 
              <div id="comment-78679-form-container" class="comment-form-container"> 
              </div> 
             </div> </td> 
           </tr> 
          </tbody>
         </table> 
        </div> 
        <a name="94050"></a> 
        <div id="answer-container-94050" class="answer "> 
         <table style="width:100%;"> 
          <tbody>
           <tr> 
            <td style="width:30px;vertical-align:top"> 
             <div class="vote-buttons"> 
              <a id="post-94050-upvote" title="I like this post (click again to cancel)" class="ajax-command post-vote up " href="/vote/94050/up/" rel="nofollow"> </a> 
              <div id="post-94050-score" class="post-score" title="current number of votes">
                0 
              </div> 
              <a id="post-94050-downvote" title="I dont like this post (click again to cancel)" class="ajax-command post-vote down" href="/vote/94050/down/" rel="nofollow"> </a> 
             </div> </td> 
            <td> 
             <div class="item-right"> 
              <div class="answer-body"> 
               <p>I can explain how the code using Quicksort idea O(n) complexity. We can see, at first time run partition function, we compared n times. In average case, the array will shrink the size down to n/2 (left-right = n/2), and partition function run, we compare n/2 times.... Continue, we compared n, n/2, n/4, n/8, ... times. n, n/2, n/4, n/8 is a geometric progression with initial value = n, common ration = 1/2. SUM(n, n/2, n/4, n/8,...) = lim(t-&gt;oo) n*(1-1/2^t)/(1-1/2) = n/(1/2) = 2n. We averagely compared 2n times, so it's O(n) complexity. </p> 
              </div> 
              <div class="answer-controls post-controls"> 
               <span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/94050/">link</a></span> 
               <div class="community-wiki">
                 This answer is marked "community wiki". 
               </div> 
              </div> 
              <div class="post-update-info-container"> 
               <div class="post-update-info post-update-info-user"> 
                <p style="line-height:12px;"> answered <strong>21 Mar, 23:30</strong> </p> 
                <img class="gravatar" width="32" height="32" src="//www.codechef.com/sites/default/files/uploads/pictures/e0e6b05f74aa17a9d0804deb9d6e4d7a.jpg?s=32&amp;d=identicon&amp;r=g" alt="ntloi95's gravatar image"> 
                <p><span class="user-rating user-rating-0"><span>0?</span><a href="/users/145980/ntloi95">ntloi95</a></span><br> <span class="score" title="1 reputation points">1</span><br> <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span> <span title="ntloi95 has no accepted answers">0%</span> </p> 
               </div> 
              </div> 
              <div class="comments-container" id="comments-container-94050"> 
              </div> 
              <div id="comment-tools-94050" class="comment-tools"> 
              </div> 
              <div id="comment-94050-form-container" class="comment-form-container"> 
              </div> 
             </div> </td> 
           </tr> 
          </tbody>
         </table> 
        </div> 
        <a name="108053"></a> 
        <div id="answer-container-108053" class="answer "> 
         <table style="width:100%;"> 
          <tbody>
           <tr> 
            <td style="width:30px;vertical-align:top"> 
             <div class="vote-buttons"> 
              <a id="post-108053-upvote" title="I like this post (click again to cancel)" class="ajax-command post-vote up " href="/vote/108053/up/" rel="nofollow"> </a> 
              <div id="post-108053-score" class="post-score" title="current number of votes">
                0 
              </div> 
              <a id="post-108053-downvote" title="I dont like this post (click again to cancel)" class="ajax-command post-vote down" href="/vote/108053/down/" rel="nofollow"> </a> 
             </div> </td> 
            <td> 
             <div class="item-right"> 
              <div class="answer-body"> 
               <p>Use std::nth_element</p> 
              </div> 
              <div class="answer-controls post-controls"> 
               <span class="action-link"><a rel="nofollow" title="answer permanent link" class="ajax-command withprompt  copy" href="/answer_link/108053/">link</a></span> 
              </div> 
              <div class="post-update-info-container"> 
               <div class="post-update-info post-update-info-user"> 
                <p style="line-height:12px;"> answered <strong>14 Aug, 12:14</strong> </p> 
                <img class="gravatar" width="32" height="32" src="//www.codechef.com/sites/default/files/uploads/pictures/default.jpg?s=32&amp;d=identicon&amp;r=g" alt="mrigendra_7's gravatar image"> 
                <p><span class="user-rating user-rating-3"><span>3?</span><a href="/users/237807/mrigendra_7">mrigendra_7</a></span><br> <span class="score" title="1 reputation points">1</span><br> <span title="Rate of the user's accepted answers" class="accept_rate">accept rate:</span> <span title="mrigendra_7 has no accepted answers">0%</span> </p> 
               </div> 
              </div> 
              <div class="comments-container" id="comments-container-108053"> 
              </div> 
              <div id="comment-tools-108053" class="comment-tools"> 
              </div> 
              <div id="comment-108053-form-container" class="comment-form-container"> 
              </div> 
             </div> </td> 
           </tr> 
          </tbody>
         </table> 
        </div> 
        <div class="paginator-container-left"> 
        </div> 
        <form id="fmanswer" action="/questions/1489/answer/" method="post"> 
         <input type="hidden" name="csrfmiddlewaretoken" value="c0fLKN6P9zLqOqFg3ErosU1OZFC6m1ll"> 
         <div style="clear:both"> 
         </div> 
         <div style="padding:10px 0 0 0;"> 
         </div> 
         <div id="description" class=""> 
          <div id="wmd-button-bar" class="wmd-panel"></div> 
          <textarea cols="40" id="editor" name="text" rows="10">
</textarea> 
          <div class="preview-toggle"> 
           <table width="100%"> 
            <tbody>
             <tr> 
              <td> <span id="pre-collapse" title="Toggle the real time Markdown editor preview"> toggle preview </span> </td> 
              <td style="text-align: right;" id="editor-metrics"></td> 
              <td style="text-align:right;"> <input id="id_wiki" name="wiki" type="checkbox"> <span style="font-weight:normal;cursor:help" title="if you choose community wiki option, the question and answer do not generate points and name of author will not be shown"> <label for="id_wiki">community wiki:</label> </span> </td> 
             </tr> 
            </tbody>
           </table> 
          </div> 
          <div class="wmd-preview-text">
           Preview
          </div> 
          <div id="previewer" class="wmd-preview"></div> 
         </div> 
         <div class="question-captcha" style="float: left;"> 
          <script type="text/javascript" src="https://www.google.com/recaptcha/api/challenge?k=6Ld28wYTAAAAAIAqh2vqc4dsCE3bz-oDorke5j4E"></script> 
          <noscript> 
           <iframe src="https://www.google.com/recaptcha/api/noscript?k=6Ld28wYTAAAAAIAqh2vqc4dsCE3bz-oDorke5j4E" height="300" width="500" frameborder="0"></iframe>
           <br> 
           <textarea name="recaptcha_challenge_field" rows="3" cols="40"></textarea> 
           <input type="hidden" name="recaptcha_response_field" value="manual_challenge"> 
          </noscript> 
         </div> 
         <div class="clear"></div> 
         <p><span class="form-error"></span></p> 
         <input type="button" disabled value="Post Your Answer" class="submit" style="float:left" onclick="submitClicked(event, this.form)"> 
        </form> 
       </div> 
      </div> 
     </div> 
     <div id="CARight"> 
      <div class="boxC" id="subscription_box"> 
       <h3 class="subtitle">Follow this question</h3>
       <strong>By Email:</strong>
       <p>Once you sign in you will be able to subscribe for any updates here</p>
       <strong>By RSS:</strong>
       <p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');" href="/questions/1489/find-median-in-an-unsorted-array-without-sorting-it?type=rss" title="subscribe to answers"></a> Answers </p>
       <p><a class="feed-icon" style="background-image:url('/m/default/media/images/feed-icon-small.png');" href="/questions/1489/find-median-in-an-unsorted-array-without-sorting-it?type=rss&amp;comments=yes" title="subscribe to comments and answers"></a> Answers and Comments </p> 
      </div> 
      <div class="boxC" id="editor_side_bar"> 
       <p class="subtitle darkred">Markdown Basics</p> 
       <ul class="list-item"> 
        <li> *italic* or _italic_ </li> 
        <li> **bold** or __bold__ </li> 
        <li> <b>link</b>:[text](http://url.com/ "title") </li> 
        <li> <b>image</b>?![alt text](/path/img.jpg "title") </li> 
        <li> numbered list: 1. Foo 2. Bar </li> 
        <li> to add a line break simply add two spaces to where you would like the new line to be. </li> 
        <li> basic HTML tags are also supported </li> 
        <li> mathemetical formulas in Latex between $ symbol </li> 
       </ul> 
       <p class="info-box-follow-up-links"> <a href="/markdown_help/" target="_blank">learn more about Markdown </a> </p> 
      </div> 
      <div class="boxC"> 
       <p> Question tags: </p> 
       <p class="tags"> <a href="/tags/algorithm/" class="tag-link-algorithm" title="see questions tagged'algorithm'using tags" rel="tag">algorithm</a> <span class="tag-number">×1,417</span><br> <a href="/tags/sorting/" class="tag-link-sorting" title="see questions tagged'sorting'using tags" rel="tag">sorting</a> <span class="tag-number">×519</span><br> </p> 
       <p> question asked: <strong title="June 30, 2012, 11:07 p.m.">30 Jun '12, 23:07</strong> </p> 
       <p> question was seen: <strong>78,033 times</strong> </p> 
       <p> last updated: <strong title="Aug. 14, 2017, 12:14 p.m.">14 Aug, 12:14</strong> </p> 
      </div> 
      <div class="boxC"> 
       <h3 class="subtitle">Related questions</h3> 
       <div class="questions-related"> 
        <p> <a href="/questions/97572/which-one-is-faster-sort-or-qsort" title="People who code in C use the built-in QSORT, while C++ users prefer the SORT function. Looking through the documentation, I see that both have an average time complexity of nlog(n). But in GeekForGeeks it says experimentally sort() was faster than qsort().I was wondering why and how sort() is fast">Which one is faster, sort() or qsort()?</a> </p> 
        <p> <a href="/questions/103374/maximum-difference" title="In this problem ,why can't we just sort the weights and subtract the minimum among the sum of k/n-k weights from the maximum among the sum of n/n-k weights...question-link text">Maximum difference</a> </p> 
        <p> <a href="/questions/87045/visualization-of-sorting-algorithm" title="Click on this link and watch how 15 different types of Algorithm works!!https://www.youtube.com/watch?v=kPRA0W1kECg">Visualization of sorting Algorithm</a> </p> 
        <p> <a href="/questions/5707/sorting-algorithm" title="which is the best sorting algorithm for a large array ??">Sorting algorithm</a> </p> 
        <p> <a href="/questions/64242/find-closest-in-value-to-the-median-of-s" title="Given an unsorted array A[1....N], trying to find the K numbers in A that are closes in value to the median of A.I can find the median of A in linear time O(N). Can I also find K in linear time??for example.A = [9,2,7,3,8,1,12}, Median(A) = 7, and 3 items with closes values to 7 are {7,8,9}.">Find closest in value to the median of S</a> </p> 
        <p> <a href="/questions/79078/stl-sort-algorithm" title="Which sorting algorithm does the STL sort uses to sort elements? Is it always the same or different for different sets of data.">STL sort algorithm</a> </p> 
        <p> <a href="/questions/84745/how-to-find-distance-between-adjacent-elements-in-an-array" title="Given an array as input A[0,1,2,3.....N], in this array two elements A[i] and A[j] are said to be adjacent if there is no element in range (A[i],A[j]) i.e, if A[i]=1 and A[j]=5 then A[i] and A[j] are said to be adjacent if array doesn't contain element in range (1,5). Calculate the maximum possible">How to find distance between adjacent elements in an array.</a> </p> 
        <p> <a href="/questions/31689/lower-bound-in-sorting-algorithm" title="In geeksforgeeks.com there is an interesting fact about the lower bound of the sorting algorithm .the link is :----http://www.geeksforgeeks.org/lower-bound-on-comparison-based-sorting-algorithms/please explain this part which I felt a tricky part --- n! &amp;lt;= 2^x Taking Log on both sides. ">lower bound in sorting algorithm</a> </p> 
        <p> <a href="/questions/36063/tsort-tle-i-tried-merge-sort-and-sorting-in-algorithm-header" title="I tried merge sort.and stable_sort() bt both gives TLE. plz help.links to my submission is given.">[closed] TSORT- TLE.. i tried merge sort and sorting in algorithm header</a> </p> 
        <p> <a href="/questions/92613/help-for-solving-this-subarray-inversion-problem" title="You are given an array consisting of N integers. Now, you need to find the length of largest sub array of this array where first element of this sub array is ? than the last element of that sub array.Let us consider a sub array from index i to j. You need to find the length of the maximum length su">Help for solving this subarray inversion problem</a> </p> 
       </div> 
      </div> 
     </div> 
     <div id="tail" style="clear:both;"> 
     </div> 
    </div> 
    <div class="spacer3"></div> 
   </div> 
   <div id="ground"> 
    <p>  
     <link rel="stylesheet" type="text/css" href="/m/default/media/style/cc.css"> </p> 
    <div id="cc-footer" class="cc-wrapper"> 
     <div class="cc-inner-wrapper"> 
      <!-- SECOND NAV --> 
      <div class="cc-cols-2"> 
       <div id="cc-secondary-nav"> 
        <ul> 
         <!-- <li><a href="http://blog.corp.pw/" target="_blank">.pw Corp Blog</a></li>
                    <li><a href="http://start.pw/" target="_blank">Vision</li> --> 
         <li><a href="http://www.codechef.com/aboutus/">About CodeChef</a></li> 
         <li><a href="http://www.directi.com/" target="_blank">About Directi</a></li> 
         <li><a href="http://www.codechef.com/ceoscorner/">CEO's Corner</a></li> 
         <!-- <li><a href="http://wiki.directi.com/" target="_blank">Wiki</a></li>
                    <li><a href="http://wiki.directi.com/display/corp/Home" target="_blank">About</a></li> --> 
        </ul> 
        <ul> 
         <li><a href="http://www.codechef.com/campus/">CodeChef Campus Chapters</a></li> 
         <li><a href="http://www.codechef.com/school/">CodeChef For Schools</a></li> 
         <li><a href="http://www.codechef.com/contactus">Contact Us</a></li> 
        </ul> 
       </div> 
       <div id="cc-fineprint"> 
        <p>© 2009, Directi Group. All Rights Reserved.</p> 
        <p><small>Powered by OSQA<br> </small></p> 
       </div> 
      </div> 
      <!-- /SECOND NAV --> 
      <!-- LEGAL & COPYRIGHT --> 
      <div> 
       <div id="cc-sponsor-strip"> 
        <a href="http://www.directi.com" target="_blank"><img src="/m/default/media/images/footer-sponsor-strip.gif" alt="Sponsors" title="Sponsors"></a> 
       </div> 
      </div> 
      <!-- /LEGAL & COPYRIGHT --> 
     </div> 
    </div> 
    <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script> 
    <script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4090524-6");
pageTracker._trackPageview();
} catch(err) {}</script> 
    <!-- Start Alexa Certify Javascript --> 
    <script type="text/javascript">
_atrk_opts = { atrk_acct:"q16Cj1a8gN00iz", domain:"codechef.com",dynamic: true};
(function() { var as = document.createElement('script'); as.type = 'text/javascript'; as.async = true; as.src = "https://d31qbv1cthcecs.cloudfront.net/atrk.js"; var s = document.getElementsByTagName('script')[0];s.parentNode.insertBefore(as, s); })();
</script> 
    <noscript>
     <img src="https://d5nxst8fruw4z.cloudfront.net/atrk.gif?account=q16Cj1a8gN00iz" style="display:none" height="1" width="1" alt="">
    </noscript> 
    <!-- End Alexa Certify Javascript --> 
   </div> 
  </div> 
  <!-- Put all elements with fixed position here, IE6 fixed position fix: http://ryanfait.com/position-fixed-ie6/ --> 
  <div class="notify" style="display:none"> 
   <a id="close-notify" onclick="notify.close(true)">×</a> 
  </div>   
  <!-- end template base_content.html --> 
 </body>
</html>