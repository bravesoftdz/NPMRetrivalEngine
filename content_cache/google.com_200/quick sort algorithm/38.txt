<!doctype html>
<html lang="en">
 <head> 
  <title>Implementing the quicksort algorithm - O'Reilly Media</title> 
  <!-- Meta --> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <meta property="twitter:card" content="summary_large_image"> 
  <meta property="twitter:site" content="@OReillyMedia"> 
  <meta property="twitter:title" content="Implementing the quicksort algorithm"> 
  <meta property="twitter:description" content="It’s pretty easy to grasp the concept, but it’s a tricky algorithm to implement."> 
  <meta property="description:site" content="It’s pretty easy to grasp the concept, but it’s a tricky algorithm to implement."> 
  <meta property="twitter:url" content="https://www.oreilly.com/ideas/implementing-the-quicksort-algorithm"> 
  <meta property="fb:pages" content="15137500430"> 
  <meta property="og:type" content="article"> 
  <meta property="og:site_name" content="O'Reilly Media"> 
  <meta property="og:title" content="Implementing the quicksort algorithm"> 
  <meta property="og:description" content="It’s pretty easy to grasp the concept, but it’s a tricky algorithm to implement."> 
  <meta property="og:url" content="https://www.oreilly.com/ideas/implementing-the-quicksort-algorithm"> 
  <meta property="article:published_time" content="2017-07-12T12:35:00Z"> 
  <meta property="article:author" content="Mike Loukides"> 
  <meta name="description" content="It’s pretty easy to grasp the concept, but it’s a tricky algorithm to implement."> 
  <meta name="author" content="Mike Loukides"> 
  <meta name="date" content="2017-07-12"> 
  <meta property="og:image" content="https://d3tdunqjn7n0wj.cloudfront.net/1400x933/quicksort_crop-800de060953ea9649f2b9cae2b77cea1.jpg"> 
  <meta property="twitter:image" content="https://d3tdunqjn7n0wj.cloudfront.net/1400x933/quicksort_crop-800de060953ea9649f2b9cae2b77cea1.jpg"> 
  <meta name="thumbnail" content="https://d3tdunqjn7n0wj.cloudfront.net/360x240/quicksort_crop-800de060953ea9649f2b9cae2b77cea1.jpg"> 
  <meta name="graphic_medium" content="https://d3tdunqjn7n0wj.cloudfront.net/360x240/quicksort_crop-800de060953ea9649f2b9cae2b77cea1.jpg"> 
  <meta name="oreilly:topic" content="Jupyter"> 
  <meta name="oreilly:parent_topic" content="Data"> 
  <meta name="oreilly:keywords" content="Jupyter,Jupytercon,Jupyter notebook,quicksort"> 
  <!-- Assets --> 
  <script type="text/javascript" src="https://d3ebicv0uqgr7t.cloudfront.net/assets/application-bb2079ffdc.js"></script> 
  <link rel="stylesheet" type="text/css" href="https://d3ebicv0uqgr7t.cloudfront.net/assets/application-87c8821c05.css"> 
  <!-- Extra Assets --> 
  <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.js"></script> 
  <!-- Start Adobe Digital Tag Manager Header--> 
  <script type="text/javascript">
    dataLayer = [];
  </script> 
  <script src="//assets.adobedtm.com/cdb881fdfcc417bad9035bdbc61f4a2b2135b110/satelliteLib-2d3d7e7aff56a08b02334ccd859df32171807210.js"></script> 
  <!-- End Adobe Digital Tag Manager Header--> 
  <script type="text/javascript">
    // init app.events for all communication
    app.events = new orm.Events();

    var tempData = {"content_type":"text","flag":{"flag-slug":"jupyter","flag-title":"Jupyter","flag-url":"/topics/jupyter","parent-topic-slug":"data"},"gateway_api_url":"https://gateway.oreilly.com","icons-svg":"/assets/icons-8812ab3f83.svg","post_info":{"byline":{"authors":[{"first-name":"Mike","last-name":"Loukides","url":"/people/1b7da-mike-loukides"}]},"excerpt":"\r\n    \u003cp\u003e\u003cem\u003e\u003ca href=\"https://medium.com/100-days-of-algorithms/\"\u003e100 Days of Algorithms\u003c/a\u003e\u003c/em\u003e is a series of Medium posts and \u003ca href=\"https://github.com/coells/100days\"\u003eJupyter Notebooks\u003c/a\u003e by \u003ca href=\"https://medium.com/@tomas.bouda\"\u003eTomáš Bouda\u003c/a\u003e that implement 100 interesting algorithms. They're a programming exercise that Bouda set for himself: can he implement 100 interesting algorithms, one per day?\u003c/p\u003e\r\n\u003cp\u003eThe answer was “yes.” The algorithms range from classics like Towers of Hanoi to Bloom filters and graph traversal. Over the coming weeks, \u003ca href=\"https://www.google.com/url?q=https%3A%2F%2Fwww.oreilly.com%2Ftags%2F100-Days-of-Algorithms\u0026amp;sa=D\u0026amp;sntz=1\u0026amp;usg=AFQjCNHP9NOUKRmKk5W0nRcckFU3gtC0Fg\"\u003ewe’ll be featuring selections\u003c/a\u003e from Bouda's \u003cem\u003e100 Days of Algorithms\u003c/em\u003e project here on O’Reilly.\u003c/p\u003e\r\n\r\n\u003ch2\u003eDay 57, Quicksort\u003c/h2\u003e\r\n\u003cp\u003eQuicksort is the sorting algorithm used in almost every programming library. It's very fast—probably the fastest general purpose sort out there. As Bouda points out in his post on Medium, it's more than a bit scary: getting it right is tricky, and there are a lot of unexpected worst cases. You'll probably never need to implement this, but it's worth seeing how it's done.\u003c/p\u003e\r\n\r\n\u003cp\u003eHere's Bouda's \u003ca href=\"https://medium.com/100-days-of-algorithms/day-57-quicksort-7adbebe69801\"\u003eMedium post\u003c/a\u003e, and you can access and clone the \u003ca href=\"https://github.com/coells/100days/blob/master/day%2057%20-%20quicksort.ipynb\"\u003eJupyter Notebook here\u003c/a\u003e.\u003c/p\u003e\r\n\r\n\u003cpre data-code-language=\"python\" data-executable=\"true\" data-type=\"programlisting\"\u003e\r\nimport numpy as np\r\n\u003c/pre\u003e\r\n\r\n\u003csection data-type=\"sect1\" id=\"algorithm-34ksZ\"\u003e\r\n\u003ch1\u003ealgorithm\u003c/h1\u003e\r\n\r\n\u003cpre data-code-language=\"python\" data-executable=\"true\" data-type=\"programlisting\"\u003e\r\ndef swap(data, i, j):\r\n    data[i], data[j] = data[j], data[i]\r\n\u003c/pre\u003e\r\n\r\n\r\n\u003cpre data-code-language=\"python\" data-executable=\"true\" data-type=\"programlisting\"\u003e\r\ndef qsort3(data, left, right):\r\n    # sorted\r\n    if left \u0026gt;= right:\r\n        return\r\n\r\n    # select pivot\r\n    i = np.random.randint(left, right + 1)\r\n    swap(data, left, i)\r\n    pivot = data[left]\r\n\r\n    # i ~ points behind left partition\r\n    # j ~ points ahead of right partition\r\n    # k ~ current element\r\n    i, j, k = left, right, left + 1\r\n\r\n    # split to [left] + [pivot] + [right]\r\n    while k \u0026lt;= j:\r\n        if data[k] \u0026lt; pivot:\r\n            swap(data, i, k)\r\n            i += 1\r\n        elif data[k] \u0026gt; pivot:\r\n            swap(data, j, k)\r\n            j -= 1\r\n            k -= 1\r\n        k += 1\r\n\r\n    # recursion\r\n    qsort3(data, left, i - 1)\r\n    qsort3(data, j + 1, right)\r\n\u003c/pre\u003e\r\n\r\n\r\n\u003cpre data-code-language=\"python\" data-executable=\"true\" data-type=\"programlisting\"\u003e\r\ndef qsort(data):\r\n    qsort3(data, 0, len(data) - 1)\r\n\u003c/pre\u003e\r\n\r\n\u003csection data-type=\"sect1\" id=\"run-zVsrhe\"\u003e\r\n\u003ch1\u003erun\u003c/h1\u003e\r\n\r\n\u003cpre data-code-language=\"python\" data-executable=\"true\" data-type=\"programlisting\"\u003e\r\ndata = np.random.randint(0, 10, 100)\r\nprint(data)\r\n\u003c/pre\u003e\r\n\r\n\u003cpre data-type=\"programlisting\" class=\"nb_output\"\u003e\r\n[6 1 7 9 9 9 9 8 7 6 9 9 6 3 5 4 1 8 1 7 0 1 9 3 1 0 3 2 4 3 1 7 6 0 2 7 0\r\n 7 9 1 0 4 9 2 3 4 5 9 5 8 9 1 8 2 0 5 4 9 5 3 1 0 1 1 2 3 8 1 4 2 2 4 7 9\r\n 3 0 0 4 9 3 0 7 0 8 5 8 3 5 9 6 7 6 5 9 3 4 0 1 0 7]\r\n\r\n\u003c/pre\u003e\r\n\r\n\r\n\u003cpre data-code-language=\"python\" data-executable=\"true\" data-type=\"programlisting\"\u003e\r\nqsort(data)\r\nprint(data)\r\n\u003c/pre\u003e\r\n\r\n\u003cpre data-type=\"programlisting\" class=\"nb_output\"\u003e\r\n[0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 3 3\r\n 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 5 5 5 5 5 5 5 5 6 6 6 6 6 6 7 7 7 7 7 7 7\r\n 7 7 7 8 8 8 8 8 8 8 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9]\r\n\r\n\u003c/pre\u003e\r\n\u003c/section\u003e\r\n\u003c/section\u003e\r\n\r\n\u003ch2\u003eTechnical notes\u003c/h2\u003e\r\n\u003cp\u003eThe implementations work; the Jupyter Notebooks all run. Since this started off as a personal exercise, don't expect the implementations to be optimal, bullet-proof, or even necessarily correct (though we don't see anything wrong with them). And don't expect them to contain your favorite algorithms (or the ones you need for your homework assignments).\u003c/p\u003e\r\n\u003cp\u003eThe easiest way to install Jupyter Notebooks is to use \u003ca href=\"https://www.continuum.io/downloads\"\u003eAnaconda\u003c/a\u003e. The second easiest (and most bulletproof) way is to install \u003ca href=\"https://www.docker.com/community-edition\"\u003eDocker\u003c/a\u003e and then use the \u003ca href=\"https://github.com/jupyter/docker-stacks/tree/master/scipy-notebook\"\u003escipy-notebook\u003c/a\u003e container.\u003c/p\u003e\r\n\u003cp\u003eIf you're rolling your own Jupyter environment, you need:\u003c/p\u003e\r\n\u003cul\u003e\r\n  \u003cli\u003e\r\n    \u003cp\u003e\u003ca href=\"https://www.python.org/downloads/release/python-350/\"\u003ePython 3.5\u003c/a\u003e (a few of the “days” require 3.6; most will work with 3.4)\u003c/p\u003e\r\n  \u003c/li\u003e\r\n  \u003cli\u003e\r\n    \u003cp\u003e\u003ca href=\"http://jupyter.org/\"\u003eJupyter\u003c/a\u003e\u003c/p\u003e\r\n  \u003c/li\u003e\r\n  \u003cli\u003e\r\n    \u003cp\u003e\u003ca href=\"https://matplotlib.org/\"\u003eMatplotlib\u003c/a\u003e\u003c/p\u003e\r\n  \u003c/li\u003e\r\n  \u003cli\u003e\r\n    \u003cp\u003e\u003ca href=\"http://www.numpy.org/\"\u003eNumPy\u003c/a\u003e\u003c/p\u003e\r\n  \u003c/li\u003e\r\n  \u003cli\u003e\r\n    \u003cp\u003e\u003ca href=\"https://www.scipy.org/\"\u003eSciPy\u003c/a\u003e\u003c/p\u003e\r\n  \u003c/li\u003e\r\n  \u003cli\u003e\r\n    \u003cp\u003e\u003ca href=\"http://bokeh.pydata.org/en/latest/\"\u003eBokeh\u003c/a\u003e\u003c/p\u003e\r\n  \u003c/li\u003e\r\n  \u003cli\u003e\r\n    \u003cp\u003e\u003ca href=\"https://networkx.github.io/\"\u003eNetworkX\u003c/a\u003e\u003c/p\u003e\r\n  \u003c/li\u003e\r\n\u003c/ul\u003e\r\n\r\n  ","title":"Implementing the quicksort algorithm"},"post_slug":"implementing-the-quicksort-algorithm","production":true,"segment_write":"c1bqZBPpSt05Stv3bKthxtFmC2etfgEK"};

    var kalturaVideoId = "";
    var kalturaAccount = "";
    var kalturaPlayer = "";

    // This should be genetated on the API directly.
    tempData.allTopics = [{"flag-title":"Money","flag-slug":"money"},{"flag-title":"Internet of Things","flag-slug":"internet-of-things","parent-topic-slug":"data"},{"flag-title":"Open Source","flag-slug":"open-source","parent-topic-slug":"software-engineering"},{"flag-title":"Data marketplace","flag-slug":"data-marketplace","parent-topic-slug":"data"},{"flag-title":"Cognitive augmentation","flag-slug":"cognitive-augmentation","parent-topic-slug":"data"},{"flag-title":"Software Architecture","flag-slug":"software-architecture","parent-topic-slug":"software-engineering"},{"flag-title":"Economy","flag-slug":"economy"},{"flag-title":"Data science","flag-slug":"data-science","parent-topic-slug":"data"},{"flag-title":"Design and Business","flag-slug":"design-and-business","parent-topic-slug":"design"},{"flag-title":"Data perils","flag-slug":"data-perils","parent-topic-slug":"data"},{"flag-title":"Data design","flag-slug":"data-design","parent-topic-slug":"data"},{"flag-title":"Data","flag-slug":"data"},{"flag-title":"Data culture","flag-slug":"data-culture","parent-topic-slug":"data"},{"flag-title":"Software Engineering","flag-slug":"software-engineering"},{"flag-title":"Data Tools","flag-slug":"data-tools","parent-topic-slug":"data"},{"flag-title":"Design","flag-slug":"design"},{"flag-title":"Artificial intelligence","flag-slug":"artificial-intelligence","parent-topic-slug":"data"}];

    // Add metrics, using a different write key for dev than for prod
    injectSegment(tempData.segment_write)

    $(function() {
      app.metrics = new orm.Metrics();
      app.metrics.pageView();

      app.pageInit(tempData);

      // load data into events so it dispatched 'data:loaded'
      app.events.addData(tempData);
    })
  </script> 
  <!-- Start Visual Website Optimizer Asynchronous Code --> 
  <script type="text/javascript">
    var _vwo_code=(function(){
    var account_id=244658,
    settings_tolerance=2000,
    library_tolerance=2500,
    use_existing_jquery=false,
  // DO NOT EDIT BELOW THIS LINE
  f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
  </script> 
  <!-- End Visual Website Optimizer Asynchronous Code --> 
 </head> 
 <body class="body t-data" data-section="ideas"> 
  <div class="flashes"></div> 
  <header id="page-header"> 
   <div id="header-bar" class="t-bkg"> 
    <h1 class="logo t-bkg"> <a href="/" class=" logo-white "> 
      <svg role="heading" aria-label="O'Reilly"> 
       <title>O'Reilly</title> 
       <use xlink:href="/assets/icons-8812ab3f83.svg#oreilly-logo"></use> 
      </svg> </a> </h1> 
    <nav> 
     <a href="/ideas">Ideas</a> 
     <a href="https://www.safaribooksonline.com/home/?utm_medium=content&amp;utm_source=oreilly.com&amp;utm_campaign=lgen&amp;utm_content=20170601+nav">Learning Platform</a> 
     <a href="http://www.oreilly.com/conferences/">Conferences</a> 
     <a href="http://shop.oreilly.com/">Shop</a> 
    </nav> 
    <div class="right invert"> 
     <div id="search" class="hide"> 
      <form class="search-form expanded" action="https://ssearch.oreilly.com" method="GET" target="_blank"> 
       <label class="hide" for="text">Search </label> 
       <input class="transparent" name="q" type="text" placeholder="Search..."> 
       <a class="search-cta"><span class="icon icon-search   "> 
         <svg role="img"> 
          <title>search</title> 
          <use xlink:href="/assets/icons-8812ab3f83.svg#search"></use> 
         </svg> </span></a> 
       <input class="hide" type="submit" value="Submit"> 
      </form> 
     </div> 
     <div id="user"> 
      <!-- <a href="#feedback"  class="t-c--d feedback" id="feedback">Feedback</a> --> 
      <a class="t-c--d login" id="log-in-loading">Loading...</a> 
      <a href="?log-in" class="t-c--d login" id="log-in">Log in</a> 
      <a href="?log-out" class="t-c--d capture_end_session login" id="log-out">Log out</a> 
      <a href="/user/preferences" class="t-c--d login" id="preferences"><span class="icon icon-configure icon--small t-fill "> 
        <svg role="img"> 
         <title>configure</title> 
         <use xlink:href="/assets/icons-8812ab3f83.svg#configure"></use> 
        </svg> </span></a> 
     </div> 
    </div> 
    <a id="menu-toggle" class="invert"><span class="icon icon-white icon-menu"> 
      <svg role="img" id="close" class="is-hidden"> 
       <title>Close Menu</title> 
       <use xlink:href="/assets/icons-8812ab3f83.svg#close"></use> 
      </svg> 
      <svg role="img" id="open"> 
       <title>Open Menu</title> 
       <use xlink:href="/assets/icons-8812ab3f83.svg#menu"></use> 
      </svg> </span></a> 
   </div> 
   <div class="topics"> 
    <div class="scrollable"> 
     <h3>On our radar</h3> 
     <div class="topics-list"> 
      <div class="flag t-bkg--before bg-ai--before flag--xsmall"> 
       <a href="/topics/ai">AI</a> 
      </div> 
      <div class="flag t-bkg--before bg-business--before flag--xsmall"> 
       <a href="/topics/business">Business</a> 
      </div> 
      <div class="flag t-bkg--before bg-data--before flag--xsmall"> 
       <a href="/topics/data">Data</a> 
      </div> 
      <div class="flag t-bkg--before bg-design--before flag--xsmall"> 
       <a href="/topics/design">Design</a> 
      </div> 
      <div class="flag t-bkg--before bg-economy--before flag--xsmall"> 
       <a href="/topics/economy">Economy</a> 
      </div> 
      <div class="flag t-bkg--before bg-operations--before flag--xsmall"> 
       <a href="/topics/operations">Operations</a> 
      </div> 
      <div class="flag t-bkg--before bg-security--before flag--xsmall"> 
       <a href="/topics/security">Security</a> 
      </div> 
      <div class="flag t-bkg--before bg-software-engineering--before flag--xsmall"> 
       <a href="/topics/software-architecture">Software Architecture</a> 
      </div> 
      <div class="flag t-bkg--before bg-software-engineering--before flag--xsmall"> 
       <a href="/topics/software-engineering">Software Engineering</a> 
      </div> 
      <div class="flag t-bkg--before bg-web-programming--before flag--xsmall"> 
       <a href="/topics/web-programming">Web Programming</a> 
      </div> 
     </div> 
    </div> 
    <a href="/topics" class="t-bkg all-topics">See all</a> 
   </div> 
   <div id="mobile-menu"> 
    <nav> 
     <a href="/ideas">Ideas</a> 
     <a href="https://www.safaribooksonline.com/home/?utm_medium=content&amp;utm_source=oreilly.com&amp;utm_campaign=lgen&amp;utm_content=20170601+nav">Learning Platform</a> 
     <a href="http://www.oreilly.com/conferences/">Conferences</a> 
     <a href="http://shop.oreilly.com/">Shop</a> 
    </nav> 
    <form class="search-form expanded" action="https://ssearch.oreilly.com" method="GET" target="_blank"> 
     <label class="hide" for="text">Search </label> 
     <input class="transparent" name="q" type="text" placeholder="Search..."> 
     <a class="search-cta"><span class="icon icon-search   "> 
       <svg role="img"> 
        <title>search</title> 
        <use xlink:href="/assets/icons-8812ab3f83.svg#search"></use> 
       </svg> </span></a> 
     <input class="hide" type="submit" value="Submit"> 
    </form> 
    <div class="topics"> 
     <div class="scrollable"> 
      <h3>On our radar</h3> 
      <div class="topics-list"> 
       <div class="flag t-bkg--before bg-ai--before flag--xsmall"> 
        <a href="/topics/ai">AI</a> 
       </div> 
       <div class="flag t-bkg--before bg-business--before flag--xsmall"> 
        <a href="/topics/business">Business</a> 
       </div> 
       <div class="flag t-bkg--before bg-data--before flag--xsmall"> 
        <a href="/topics/data">Data</a> 
       </div> 
       <div class="flag t-bkg--before bg-design--before flag--xsmall"> 
        <a href="/topics/design">Design</a> 
       </div> 
       <div class="flag t-bkg--before bg-economy--before flag--xsmall"> 
        <a href="/topics/economy">Economy</a> 
       </div> 
       <div class="flag t-bkg--before bg-operations--before flag--xsmall"> 
        <a href="/topics/operations">Operations</a> 
       </div> 
       <div class="flag t-bkg--before bg-security--before flag--xsmall"> 
        <a href="/topics/security">Security</a> 
       </div> 
       <div class="flag t-bkg--before bg-software-engineering--before flag--xsmall"> 
        <a href="/topics/software-architecture">Software Architecture</a> 
       </div> 
       <div class="flag t-bkg--before bg-software-engineering--before flag--xsmall"> 
        <a href="/topics/software-engineering">Software Engineering</a> 
       </div> 
       <div class="flag t-bkg--before bg-web-programming--before flag--xsmall"> 
        <a href="/topics/web-programming">Web Programming</a> 
       </div> 
      </div> 
     </div> 
     <a href="/topics" class="t-bkg all-topics">See all</a> 
    </div> 
   </div> 
  </header> 
  <!-- Linked In --> 
  <script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US</script> 
  <!-- Load Facebook SDK for JavaScript --> 
  <div id="fb-root"></div> 
  <script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.9";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script> 
  <main aria-live="polite"> 
   <article class="article" itemscope itemtype="http://schema.org/Article"> 
    <header class="article-header"> 
     <div class="flag-follow " data-status="" id=""> 
      <div class="flag t-bkg--before bg-data--before flag--small"> 
       <a href="/topics/jupyter">Jupyter</a> 
      </div> 
      <span class="cta"> <span class="icons"> </span> <span class="messages"> </span> </span> 
     </div> 
     <h1 class="title t-c" itemprop="headline">Implementing the quicksort algorithm</h1> 
     <p class="dek" itemprop="alternativeHeadline">It’s pretty easy to grasp the concept, but it’s a tricky algorithm to implement.</p> 
     <div class="byline">
       By 
      <span class="author" itemscope itemtype="http://schema.org/Person"><a href="/people/1b7da-mike-loukides" itemprop="name">Mike Loukides</a></span> 
     </div> 
     <time class="date">July 12, 2017</time> 
    </header> 
    <div class="article-body" itemprop="articleBody"> 
     <figure class="article-image right"> 
      <img src="https://d3tdunqjn7n0wj.cloudfront.net/360x240/quicksort_crop-800de060953ea9649f2b9cae2b77cea1.jpg" alt="Quicksort." srcset="https://d3tdunqjn7n0wj.cloudfront.net/360x240/quicksort_crop-800de060953ea9649f2b9cae2b77cea1.jpg 360w, https://d3tdunqjn7n0wj.cloudfront.net/720x480/quicksort_crop-800de060953ea9649f2b9cae2b77cea1.jpg 720w, https://d3tdunqjn7n0wj.cloudfront.net/1440x960/quicksort_crop-800de060953ea9649f2b9cae2b77cea1.jpg 1440w" sizes="(min-width: 1390px) 420px, (min-width: 600px) 45vw, 100vw" class=""> 
      <figcaption>
       Quicksort. 
       <span class="source-name"> (source: <a class="secondary" target="_blank" href="https://commons.wikimedia.org/wiki/File:Quicksort.gif">Simpsons contributor on Wikimedia Commons</a>) </span> 
       <figcaption> 
       </figcaption>
      </figcaption>
     </figure> 
     <aside data-type="note"> 
      <p><a href="https://conferences.oreilly.com/jupyter/jup-ny?intcmp=il-data-confreg-lp-jpny17_201700711_new_site_100_algorithms_quicksort_post_top_cta_conf_reg_link">Register for JupyterCon</a>, August 22-25, 2017, in New York, to learn more about how Jupyter Notebooks are helping a variety of businesses and domains.</p> 
     </aside> 
     <p><em><a href="https://medium.com/100-days-of-algorithms/">100 Days of Algorithms</a></em> is a series of Medium posts and <a href="https://github.com/coells/100days">Jupyter Notebooks</a> by <a href="https://medium.com/@tomas.bouda">Tomáš Bouda</a> that implement 100 interesting algorithms. They're a programming exercise that Bouda set for himself: can he implement 100 interesting algorithms, one per day?</p> 
     <p>The answer was “yes.” The algorithms range from classics like Towers of Hanoi to Bloom filters and graph traversal. Over the coming weeks, <a href="https://www.google.com/url?q=https%3A%2F%2Fwww.oreilly.com%2Ftags%2F100-Days-of-Algorithms&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHP9NOUKRmKk5W0nRcckFU3gtC0Fg">we’ll be featuring selections</a> from Bouda's <em>100 Days of Algorithms</em> project here on O’Reilly.</p> 
     <h2>Day 57, Quicksort</h2> 
     <p>Quicksort is the sorting algorithm used in almost every programming library. It's very fast—probably the fastest general purpose sort out there. As Bouda points out in his post on Medium, it's more than a bit scary: getting it right is tricky, and there are a lot of unexpected worst cases. You'll probably never need to implement this, but it's worth seeing how it's done.</p> 
     <p>Here's Bouda's <a href="https://medium.com/100-days-of-algorithms/day-57-quicksort-7adbebe69801">Medium post</a>, and you can access and clone the <a href="https://github.com/coells/100days/blob/master/day%2057%20-%20quicksort.ipynb">Jupyter Notebook here</a>.</p> 
     <pre data-code-language="python" data-executable="true" data-type="programlisting">
import numpy as np
</pre> 
     <section data-type="sect1" id="algorithm-34ksZ"> 
      <h1>algorithm</h1> 
      <pre data-code-language="python" data-executable="true" data-type="programlisting">
def swap(data, i, j):
    data[i], data[j] = data[j], data[i]
</pre> 
      <pre data-code-language="python" data-executable="true" data-type="programlisting">
def qsort3(data, left, right):
    # sorted
    if left &gt;= right:
        return

    # select pivot
    i = np.random.randint(left, right + 1)
    swap(data, left, i)
    pivot = data[left]

    # i ~ points behind left partition
    # j ~ points ahead of right partition
    # k ~ current element
    i, j, k = left, right, left + 1

    # split to [left] + [pivot] + [right]
    while k &lt;= j:
        if data[k] &lt; pivot:
            swap(data, i, k)
            i += 1
        elif data[k] &gt; pivot:
            swap(data, j, k)
            j -= 1
            k -= 1
        k += 1

    # recursion
    qsort3(data, left, i - 1)
    qsort3(data, j + 1, right)
</pre> 
      <pre data-code-language="python" data-executable="true" data-type="programlisting">
def qsort(data):
    qsort3(data, 0, len(data) - 1)
</pre> 
      <section data-type="sect1" id="run-zVsrhe"> 
       <h1>run</h1> 
       <pre data-code-language="python" data-executable="true" data-type="programlisting">
data = np.random.randint(0, 10, 100)
print(data)
</pre> 
       <pre data-type="programlisting" class="nb_output">
[6 1 7 9 9 9 9 8 7 6 9 9 6 3 5 4 1 8 1 7 0 1 9 3 1 0 3 2 4 3 1 7 6 0 2 7 0
 7 9 1 0 4 9 2 3 4 5 9 5 8 9 1 8 2 0 5 4 9 5 3 1 0 1 1 2 3 8 1 4 2 2 4 7 9
 3 0 0 4 9 3 0 7 0 8 5 8 3 5 9 6 7 6 5 9 3 4 0 1 0 7]

</pre> 
       <pre data-code-language="python" data-executable="true" data-type="programlisting">
qsort(data)
print(data)
</pre> 
       <pre data-type="programlisting" class="nb_output">
[0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 3 3
 3 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 5 5 5 5 5 5 5 5 6 6 6 6 6 6 7 7 7 7 7 7 7
 7 7 7 8 8 8 8 8 8 8 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9]

</pre> 
      </section> 
     </section> 
     <h2>Technical notes</h2> 
     <p>The implementations work; the Jupyter Notebooks all run. Since this started off as a personal exercise, don't expect the implementations to be optimal, bullet-proof, or even necessarily correct (though we don't see anything wrong with them). And don't expect them to contain your favorite algorithms (or the ones you need for your homework assignments).</p> 
     <p>The easiest way to install Jupyter Notebooks is to use&nbsp;<a href="https://www.continuum.io/downloads">Anaconda</a>. The second easiest (and most bulletproof) way is to install&nbsp;<a href="https://www.docker.com/community-edition">Docker</a>&nbsp;and then use the&nbsp;<a href="https://github.com/jupyter/docker-stacks/tree/master/scipy-notebook">scipy-notebook</a>&nbsp;container.</p> 
     <p>If you're rolling your own Jupyter environment, you need:</p> 
     <ul> 
      <li> <p><a href="https://www.python.org/downloads/release/python-350/">Python 3.5</a>&nbsp;(a few of the “days” require 3.6; most will work with 3.4)</p> </li> 
      <li> <p><a href="http://jupyter.org/">Jupyter</a></p> </li> 
      <li> <p><a href="https://matplotlib.org/">Matplotlib</a></p> </li> 
      <li> <p><a href="http://www.numpy.org/">NumPy</a></p> </li> 
      <li> <p><a href="https://www.scipy.org/">SciPy</a></p> </li> 
      <li> <p><a href="http://bokeh.pydata.org/en/latest/">Bokeh</a></p> </li> 
      <li> <p><a href="https://networkx.github.io/">NetworkX</a></p> </li> 
     </ul> 
     <div class="image-credit">
       Article image: Quicksort. 
      <span class="source-name"> (source: <a class="secondary" target="_blank" href="https://commons.wikimedia.org/wiki/File:Quicksort.gif">Simpsons contributor on Wikimedia Commons</a>). </span> 
     </div> 
     <div class="article-tags">
       Tags: 
      <a href="https://www.oreilly.com/tags/100-Days-of-Algorithms">100 Days of Algorithms</a>&nbsp; 
     </div> 
    </div>  
    <div class="article-meta"> 
     <div class="article-share"> 
      <div class="article-share-text">
        Share 
      </div> 
      <ol> 
       <li><a href="https://twitter.com/share" class="twitter-share-button" data-via="oreillymedia" data-show-count="false">Tweet</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script></li> 
       <li> 
        <div class="fb-share-button" data-href="https://www.oreilly.com/ideas/implementing-the-quicksort-algorithm" data-layout="button_count"> 
        </div></li> 
       <li><script type="IN/Share" data-url="https://www.oreilly.com/ideas/implementing-the-quicksort-algorithm" data-counter="right"></script></li> 
      </ol> 
      <hr> 
     </div> 
     <article class="block block-common with-img person with-link"> 
      <div class="thumb"> 
       <div class="features"> 
       </div> 
       <a href="/people/1b7da-mike-loukides"><img src="https://d3tdunqjn7n0wj.cloudfront.net/360x360/mike-loukides-crop-b7719fefe24cc1ed26919575bde11961.jpg" alt="Mike Loukides" srcset="https://d3tdunqjn7n0wj.cloudfront.net/360x360/mike-loukides-crop-b7719fefe24cc1ed26919575bde11961.jpg 360w, https://d3tdunqjn7n0wj.cloudfront.net/720x720/mike-loukides-crop-b7719fefe24cc1ed26919575bde11961.jpg 720w, https://d3tdunqjn7n0wj.cloudfront.net/1440x1440/mike-loukides-crop-b7719fefe24cc1ed26919575bde11961.jpg 1440w" class=""></a> 
      </div> 
      <div class="text-group"> 
       <h2 class="block-title"> <a href="/people/1b7da-mike-loukides">Mike Loukides</a> </h2> 
       <p class="dek">Mike Loukides is Vice President of Content Strategy for O'Reilly Media, Inc. He's edited many highly regarded books on technical subjects that don't involve Windows programming. He's particularly interested in programming languages, Unix and what passes for Unix these days, and system and network administration. Mike is the author of System Performance Tuning and a coauthor of Unix Power Tools. Most recently, he's been fooling around with data and data analysis, languages like R, Mathematica, and Octave, and thinking about how to make books soc...</p> 
       <a class="btn btn--xsmall" style="float: right;" href="/people/1b7da-mike-loukides">more</a> 
      </div> 
     </article> 
    </div> 
    <hr class="t-bkg section-divider"> 
    <aside class="article-related"> 
     <section class="block-rows columns-4 "> 
      <section class="block-group"> 
       <article class="block block-common with-img inset-flag"> 
        <div class="thumb"> 
         <div class="features"> 
         </div> 
         <a href="/ideas/jupyter-insights-marius-tulbure-a-developer-and-javascript-enthusiast-at-figshare"><img src="https://d3tdunqjn7n0wj.cloudfront.net/360x240/17650139495_3beb020d8e_k_crop-c56fa162c8b7a4987543c26e0712af2d.jpg" alt="Global air and sea routes. " srcset="https://d3tdunqjn7n0wj.cloudfront.net/360x240/17650139495_3beb020d8e_k_crop-c56fa162c8b7a4987543c26e0712af2d.jpg 360w, https://d3tdunqjn7n0wj.cloudfront.net/720x480/17650139495_3beb020d8e_k_crop-c56fa162c8b7a4987543c26e0712af2d.jpg 720w, https://d3tdunqjn7n0wj.cloudfront.net/1440x960/17650139495_3beb020d8e_k_crop-c56fa162c8b7a4987543c26e0712af2d.jpg 1440w" sizes="(min-width: 1390px) 310px, (min-width: 1000px) 25vw, (min-width: 600px) 50vw, 100vw" class=""></a> 
        </div> 
        <div class="flag t-bkg--before flag--inset bg-data--before"> 
         <a href="/topics/jupyter">Jupyter</a> 
        </div> 
        <div class="text-group"> 
         <h2 class="block-title"> <a href="/ideas/jupyter-insights-marius-tulbure-a-developer-and-javascript-enthusiast-at-figshare">Jupyter Insights: Marius Tulbure, a developer and JavaScript enthusiast at Figshare</a> </h2> 
         <p class="dek">Jupyter for sharing and prototyping, Jupyter in academia, and FAIR principles.</p> 
        </div> 
       </article> 
       <article class="block block-common with-img inset-flag"> 
        <div class="thumb"> 
         <div class="features"> 
         </div> 
         <a href="/ideas/jupyter-insights-paco-nathan-leader-of-the-learning-group-at-oreilly-media"><img src="https://d3tdunqjn7n0wj.cloudfront.net/360x240/rope-19900_1920_crop-c28aaf1395fccae6f2e321ac8e6383fc.jpg" alt="Rope net." srcset="https://d3tdunqjn7n0wj.cloudfront.net/360x240/rope-19900_1920_crop-c28aaf1395fccae6f2e321ac8e6383fc.jpg 360w, https://d3tdunqjn7n0wj.cloudfront.net/720x480/rope-19900_1920_crop-c28aaf1395fccae6f2e321ac8e6383fc.jpg 720w, https://d3tdunqjn7n0wj.cloudfront.net/1440x960/rope-19900_1920_crop-c28aaf1395fccae6f2e321ac8e6383fc.jpg 1440w" sizes="(min-width: 1390px) 310px, (min-width: 1000px) 25vw, (min-width: 600px) 50vw, 100vw" class=""></a> 
        </div> 
        <div class="flag t-bkg--before flag--inset bg-data--before"> 
         <a href="/topics/jupyter">Jupyter</a> 
        </div> 
        <div class="text-group"> 
         <h2 class="block-title"> <a href="/ideas/jupyter-insights-paco-nathan-leader-of-the-learning-group-at-oreilly-media">Jupyter Insights: Paco Nathan, leader of the Learning Group at O'Reilly Media</a> </h2> 
         <p class="dek">Giving context to code, human-in-the-loop design pattern, and collaborative documents.</p> 
        </div> 
       </article> 
       <article class="block block-common with-img inset-flag"> 
        <div class="thumb"> 
         <div class="features"> 
         </div> 
         <a href="/ideas/intro-to-scikit-learn"><img src="https://d3tdunqjn7n0wj.cloudfront.net/360x240/data-jupyter-colored-dots-crop-6e5d2a77b525b7e4d6414b3a319e445c.jpg" alt="Colored dots" srcset="https://d3tdunqjn7n0wj.cloudfront.net/360x240/data-jupyter-colored-dots-crop-6e5d2a77b525b7e4d6414b3a319e445c.jpg 360w, https://d3tdunqjn7n0wj.cloudfront.net/720x480/data-jupyter-colored-dots-crop-6e5d2a77b525b7e4d6414b3a319e445c.jpg 720w, https://d3tdunqjn7n0wj.cloudfront.net/1440x960/data-jupyter-colored-dots-crop-6e5d2a77b525b7e4d6414b3a319e445c.jpg 1440w" sizes="(min-width: 1390px) 310px, (min-width: 1000px) 25vw, (min-width: 600px) 50vw, 100vw" class=""></a> 
        </div> 
        <div class="flag t-bkg--before flag--inset bg-data--before"> 
         <a href="/topics/jupyter">Jupyter</a> 
        </div> 
        <div class="text-group"> 
         <h2 class="block-title"> <a href="/ideas/intro-to-scikit-learn">Introduction to scikit-learn</a> </h2> 
         <div class="byline">
           By 
          <span class="author" itemscope itemtype="http://schema.org/Person"><a href="/people/89c9c-jake-vanderplas" itemprop="name">Jake VanderPlas</a></span> 
         </div> 
         <p class="dek"></p>
         <p>This excerpt from Jake VanderPlas' <em>Python Data Science Handbook</em></p>
         <p></p> 
        </div> 
       </article> 
       <article class="block block-common with-img inset-flag"> 
        <div class="thumb"> 
         <div class="features"> 
          <div class="feature"> 
           <span class="name">Runnable code</span> 
           <span class="icon icon-code t-fill"> 
            <svg role="img"> 
             <title>code</title> 
             <use xlink:href="/assets/icons-8812ab3f83.svg#code"></use> 
            </svg> </span> 
          </div> 
         </div> 
         <a href="/learning/downey-thinkdsp-excerpt"><img src="https://d3tdunqjn7n0wj.cloudfront.net/360x240/data-jupyter-grade-school-band-lg-82d77ab4ae7785e7e199a5027033d110.jpg" alt="Grade school band at Louviers, Colorado, USA" srcset="https://d3tdunqjn7n0wj.cloudfront.net/360x240/data-jupyter-grade-school-band-lg-82d77ab4ae7785e7e199a5027033d110.jpg 360w, https://d3tdunqjn7n0wj.cloudfront.net/720x480/data-jupyter-grade-school-band-lg-82d77ab4ae7785e7e199a5027033d110.jpg 720w, https://d3tdunqjn7n0wj.cloudfront.net/1440x960/data-jupyter-grade-school-band-lg-82d77ab4ae7785e7e199a5027033d110.jpg 1440w" sizes="(min-width: 1390px) 310px, (min-width: 1000px) 25vw, (min-width: 600px) 50vw, 100vw" class=""></a> 
        </div> 
        <div class="flag t-bkg--before flag--inset bg-data--before"> 
         <a href="/topics/jupyter">Jupyter</a> 
        </div> 
        <div class="text-group"> 
         <h2 class="block-title"> <a href="/learning/downey-thinkdsp-excerpt">Cacophony for the whole family</a> </h2> 
         <div class="byline">
           By 
          <span class="author" itemscope itemtype="http://schema.org/Person"><a href="/people/31361-allen-downey" itemprop="name">Allen Downey</a></span> 
         </div> 
         <p class="dek"></p>
         <p>Allen Downey takes on elementary school band camp in this fun application of Digital Signal Processing. </p>
         <p></p> 
        </div> 
       </article> 
      </section> 
     </section> 
    </aside>   
   </article> 
  </main> 
  <footer role="contentinfo"> 
   <div class="footer-inner"> 
    <div class="about-us"> 
     <h3 class="title">About Us</h3> 
     <ul> 
      <li><a href="http://oreilly.com/about/">Our Company</a></li> 
      <li><a href="http://oreilly.com/work-with-us.html">Teach/Speak/Write</a></li> 
      <li><a href="http://oreilly.com/careers/">Careers</a></li> 
      <li><a href="http://shop.oreilly.com/category/customer-service.do">Customer Service</a></li> 
      <li><a href="http://shop.oreilly.com/category/customer-service.do">Contact Us</a></li> 
     </ul> 
    </div> 
    <div class="site-map"> 
     <h3 class="title">Site Map</h3> 
     <ul> 
      <li><a href="/ideas">Ideas</a></li> 
      <li><a href="/learning">Learning</a></li> 
      <li><a href="/topics">Topics</a></li> 
      <li><a href="/all">All</a></li> 
     </ul> 
    </div> 
    <div class="social"> 
     <ul> 
      <li><a class="icon-link " href="http://fb.co/OReilly"><span class="icon icon-facebook t-fill icon--white icon--large"> 
         <svg role="img"> 
          <title>facebook</title> 
          <use xlink:href="/assets/icons-8812ab3f83.svg#facebook"></use> 
         </svg> </span></a> </li>
      <li><a class="icon-link " href="http://twitter.com/oreillymedia"><span class="icon icon-twitter t-fill icon--white icon--large"> 
         <svg role="img"> 
          <title>twitter</title> 
          <use xlink:href="/assets/icons-8812ab3f83.svg#twitter"></use> 
         </svg> </span></a> </li>
      <li><a class="icon-link " href="https://www.youtube.com/user/OreillyMedia"><span class="icon icon-youtube-large t-fill icon--white icon--large"> 
         <svg role="img"> 
          <title>youtube-large</title> 
          <use xlink:href="/assets/icons-8812ab3f83.svg#youtube-large"></use> 
         </svg> </span></a> </li>
      <li><a class="icon-link " href="https://plus.google.com/+oreillymedia"><span class="icon icon-google t-fill icon--white icon--large"> 
         <svg role="img"> 
          <title>google</title> 
          <use xlink:href="/assets/icons-8812ab3f83.svg#google"></use> 
         </svg> </span></a> </li>
      <li><a class="icon-link " href="https://www.linkedin.com/company/oreilly-media"><span class="icon icon-linkedin t-fill icon--white icon--large"> 
         <svg role="img"> 
          <title>linkedin</title> 
          <use xlink:href="/assets/icons-8812ab3f83.svg#linkedin"></use> 
         </svg> </span></a> </li> 
     </ul> 
    </div> 
   </div> 
   <div class="legal"> 
    <a href="/" class="logo logo-block t-bkg logo--medium"> 
     <svg> 
      <use xlink:href="/assets/icons-8812ab3f83.svg#oreilly-logo"></use> 
     </svg> </a> 
    <p class="copyright">© 2017 O'Reilly Media, Inc. All trademarks and registered trademarks appearing on oreilly.com are the property of their respective owners.</p>
    <br> 
    <a class="t-c" href="http://oreilly.com/terms/">Terms of Service</a> 
    <span class="bullet">•</span> 
    <a class="t-c" href="http://oreilly.com/privacy.html">Privacy Policy</a> 
    <span class="bullet">•</span> 
    <a class="t-c" href="http://www.oreilly.com/about/editorial_independence.html">Editorial Independence</a> 
   </div> 
   <figure class="animal">
    <img src="https://d3ebicv0uqgr7t.cloudfront.net/images/tarsier.png" class="animal-img" alt="Animal">
   </figure> 
  </footer> 
  <!-- Start Adobe Digital Tag Manager --> 
  <script type="text/javascript">_satellite && _satellite.pageBottom();</script> 
  <!-- End Adobe Digital Tag Manager -->   
 </body>
</html>