<!doctype html>
<!--[if lt IE 7]><html class="no-js ie6" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 7]><html class="no-js ie7" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 8]><html class="no-js ie8" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 9]><html class="no-js ie9" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if IE 10]><html class="no-js ie10" lang="en" dir="ltr" data-date-format="non_us"><![endif]-->
<!--[if (gt IE 10)|!(IE)]><!-->
<html class="no-js " lang="en" dir="ltr" data-date-format="non_us">
 <!--<![endif]-->
 <head> 
  <!-- Title for the page --> 
  <title> When you are done sending an SMS or click on the Cancel button and you get the "URL no longer exists" error : Screen-Magic Mobile Media Pvt Ltd </title> 
  <!-- Meta information --> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
  <meta name="description" content=""> 
  <meta name="author" content=""> 
  <link rel="canonical" href="http://screenmagic.freshdesk.com/support/solutions/articles/221443-when-you-are-done-sending-an-sms-or-click-on-the-cancel-button-and-you-get-the-url-no-longer-exists-"> 
  <!-- Responsive setting --> 
  <link rel="apple-touch-icon" href="/assets/touch/touch-icon-iphone.png"> 
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/touch/touch-icon-ipad.png"> 
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/touch/touch-icon-iphone-retina.png"> 
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/touch/touch-icon-ipad-retina.png"> 
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0"> 
  <!-- Adding meta tag for CSRF token --> 
  <meta content="authenticity_token" name="csrf-param"> 
  <meta content="+FSSycPJajEB83VH45/EdT/ObTNDZzsKB5PUvJ52L2g=" name="csrf-token"> 
  <!-- End meta tag for CSRF token --> 
  <!-- Fav icon for portal --> 
  <link rel="shortcut icon" href="/assets/misc/favicon.ico?702017"> 
  <!-- Base stylesheet --> 
  <link href="https://assets8.freshdesk.com/assets/cdn/portal_utils-ab7160c8d38ab98a2d3226b382487154.css" media="screen" rel="stylesheet" type="text/css"> 
  <link href="https://assets5.freshdesk.com/assets/cdn/portal_print-262b6789aa974d42a8ce844dfdea193f.css" media="print" rel="stylesheet" type="text/css"> 
  <!-- Theme stylesheet --> 
  <link href="/support/theme.css?v=1447860582" media="screen" rel="stylesheet" type="text/css"> 
  <!-- Google font url if present --> 
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300italic,700" rel="stylesheet" type="text/css"> 
  <!-- Including default portal based script framework at the top --> 
  <script src="https://assets7.freshdesk.com/assets/cdn/portal_head-3872b5b5173bb1e29488ac20cdbd1fb7.js" type="text/javascript"></script> 
  <!-- Including syntexhighlighter for portal --> 
  <script src="https://assets9.freshdesk.com/assets/cdn/prism-19d1450c5e59864bd7d4ac5cbe5124c6.js" type="text/javascript"></script> 
  <!-- Portal specific integrations (Google analytics) --> 
  <!-- google analytices starts here --> 
  <script type="text/javascript">
	var _gaq = _gaq || [];
	    _gaq.push(['_setAccount', 'UA-22239782-7']);
	    _gaq.push(['_addDevId', '00P19']);
	    _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script> 
  <!-- google analytices ends here --> 
  <!-- Access portal settings information via javascript --> 
  <script type="text/javascript">   	var portal = {"language":"en","name":"Screen-Magic Mobile Media Pvt Ltd","contact_info":"","current_page_name":"article_view","current_tab":"solutions","preferences":{"tab_hover_color":"#4c4b4b","btn_primary_background":"#6c6a6a","textColor":"#333333","btn_background":"#ffffff","inputFocusRingColor":"#f4af1a","bg_color":"#fff","help_center_color":"#f9f9f9","headingsColor":"#333333","baseFont":"Helvetica Neue","headingsFont":"Open Sans Condensed","header_color":"#252525","footer_color":"#777777","linkColor":"#049cdb","linkColorHover":"#036690","tab_color":"#006063"},"image_placeholders":{"spacer":"https://assets2.freshdesk.com/assets/misc/spacer.gif","profile_thumb":"https://assets4.freshdesk.com/assets/misc/profile_blank_thumb-4dc7081f5a81594bba9bcee2a081de27.jpg","profile_medium":"https://assets2.freshdesk.com/assets/misc/profile_blank_medium-155f0a3a5ae0e78ee7917f54b9f26e64.jpg"}};  </script> 
 </head> 
 <body> 
  <div class="page"> 
   <!-- Search and page links for the page --> 
   <section class="help-center rounded-6"> 
    <div class="hc-search"> 
     <div class="hc-search-c"> 
      <h2 class="heading hide-in-mobile">How can we help you today?</h2> 
      <form class="hc-search-form" autocomplete="off" action="/support/search/solutions" id="hc-search-form"> 
       <div class="hc-search-input"> 
        <label for="support-search-input" class="hide">Enter your search term here...</label> 
        <input placeholder="Enter your search term here..." type="text" name="term" class="special" value="" rel="page-search" data-max-matches="10" id="support-search-input"> 
       </div> 
       <div class="hc-search-button"> 
        <button class="btn btn-primary" type="submit" autocomplete="off"> <i class="mobile-icon-search hide-tablet"></i> <span class="hide-in-mobile"> Search </span> </button> 
       </div> 
      </form> 
     </div> 
    </div> 
    <div class="hc-nav  nav-with-contact "> 
     <nav> 
      <div> 
       <a href="/support/tickets/new" class="mobile-icon-nav-newticket new-ticket ellipsis" title="New support ticket"> <span> New support ticket </span> </a> 
      </div> 
      <div> 
       <a href="/support/tickets" class="mobile-icon-nav-status check-status ellipsis" title="Check ticket status"> <span>Check ticket status</span> </a> 
      </div> 
      <div> 
       <a href="tel:1-888-568-1315 " class="mobile-icon-nav-contact contact-info ellipsis"> <span>1-888-568-1315 </span> </a> 
      </div> 
     </nav> 
    </div> 
   </section> 
   <!-- Notification Messages --> 
   <div class="alert alert-with-close notice" id="noticeajax" style="display:none;"></div> 
   <div class="c-wrapper"> 
    <section class="main content rounded-6 min-height-on-desktop" id="article-show-221443"> 
     <div class="breadcrumb"> 
      <a href="/support/solutions"> Solution home </a> 
      <a href="/support/solutions/160433">SMS Magic Interact</a> 
      <a href="/support/solutions/folders/270568">Version 1.43.6</a> 
     </div> 
     <b class="page-stamp page-stamp-article"> <b class="icon-page-article"></b> </b> 
     <h2 class="heading">When you are done sending an SMS or click on the Cancel button and you get the "URL no longer exists" error <a href="javascript:print();" class="icon-print solution-print-icon" title="Print this Article"></a> </h2> 
     <p>Modified on: Fri, 19 Aug, 2016 at 4:28 PM</p> 
     <hr> 
     <article class="article-body" id="article-body" rel="image-enlarge"> 
      <div dir="ltr"> 
       <div dir="ltr"> 
        <p><br><span>If you&nbsp;are Overriding an Existing standard Contact Page with a custom Visual-force Page of managed package and your&nbsp;Salesforce</span><br></p> 
        <p><span rel="tempredactor">instance&nbsp;is&nbsp;https://na1.salesforce.com,&nbsp;</span><br></p> 
        <p></p> 
        <p><span rel="tempredactor"><br></span></p> 
        <p><span rel="tempredactor" style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px;">Then the new URL will be as below to access Contact detail with custom page -:</span></p> 
        <p><span rel="tempredactor"><br></span></p> 
        <p>https://ManagedPackage_PackagePrefix.na1.visual.force.com/apex/Candidate</p> 
        <p><br></p> 
        <p>When you try to send SMS from such&nbsp;<span>custom VF page of managed package, it might give you error as "URL no longer exists" due to wrong return URL set.</span></p> 
        <p><br></p> 
        <p>Our Standard Send SMS button script is as below-:</p> 
        <p><br></p> 
        <pre rel="highlighter" code-brush="html" class="code-large">{!REQUIRESCRIPT("/soap/ajax/14.0/connection.js")} 
{!REQUIRESCRIPT("/soap/ajax/14.0/apex.js")} 
{!REQUIRESCRIPT('/resource/smagicinteract__smJQuery/js/jquery-1.10.2.js')} 
{!REQUIRESCRIPT('/resource/smagicinteract__smJQuery/js/jquery-ui-1.10.4.custom.min.js')} 
{!REQUIRESCRIPT("/resource/smagicinteract__sendSMSJS")} 

var packagePrefix = "smagicinteract__"; 
var recordType = 'contact'; 
var idToUpdate = '{!Contact.Id}' 
var nameField = 'Name'; 
var mobileField = 'MobilePhone'; 
var optOutField = 'smagicinteract__SMSOptOut__c';
var optOutDefaultValue = 'yes';
var smsType = ''; 
var userId = '{!$User.Id}'; 
var elementIdVar = ''; 
var showUserDropDown = false; 
var dialogTitle = '';
var cssUrl = '{!URLFOR('/resource/smagicinteract__smJQuery/css/sm-theme/jquery-ui-1.10.4.custom.min.css')}';
var unrelatedObjectAPIName = '';

sendSMS(recordType, idToUpdate, userId, nameField, mobileField, optOutField, optOutDefaultValue, smsType, elementIdVar, packagePrefix, showUserDropDown, dialogTitle, cssUrl, unrelatedObjectAPIName);</pre> 
        <p><span>&nbsp;</span>&nbsp;</p> 
        <p><b>Solution</b>-:</p> 
        <p>To resolve this problem, we need to do changes in button script as below-:</p> 
        <p>&nbsp;</p> 
        <pre rel="highlighter" code-brush="html" class="code-large">{!REQUIRESCRIPT("/soap/ajax/14.0/connection.js")} 
{!REQUIRESCRIPT("/soap/ajax/14.0/apex.js")} 
var packagePrefix = "smagicinteract__"; 
var recordType = 'Contact'; 
var idToUpdate = '{!Contact.Id}' 
var nameField = 'Name'; 
var mobileField = 'MobilePhone'; 
var optOutField = 'smagicinteract__SMSOptOut__c'; 
var optOutDefaultValue = 'yes'; 
var smsType = ''; 
var userId = '{!$User.Id}'; 
var elementIdVar = ''; 
var showUserDropDown = false; 
var dialogTitle = ''; 
var queryString = parent.window.location 

var url = "/apex/"+packagePrefix+"BulkSendSMS?retURL="+queryString+"&amp;nameField=" +nameField +"&amp;phoneField="+ mobileField+"&amp;optOutField="+optOutField+"&amp;optOutDefaultValue="+optOutDefaultValue+"&amp;objectType="+recordType+"&amp;showUserDropDown="+showUserDropDown+"&amp;recordIds="+idToUpdate;
parent.window.location = url;
</pre> 
        <p></p> 
        <p>&nbsp;</p> 
        <p><br></p> 
        <p><span>Make these changes and then try to reproduce the issue. If it persists, feel free to write us on care@screen-magic.com</span><br></p> 
        <p><span><br></span></p> 
        <p><span style="font-size: 13px;">When you just have VF page but it does not belong to managed package then please&nbsp;</span><a href="http://screenmagic.freshdesk.com/solution/articles/211088-when-you-are-done-sending-an-sms-and-click-on-the-cancel-button-and-you-get-the-url-no-longer-exists" target="" style="font-size: 13px; background-color: rgb(255, 255, 255);">click here</a><span style="font-size: 13px;">&nbsp;for detail solution.</span><span style="font-size: 13px;"><br></span></p> 
        <p><br></p> 
       </div> 
      </div> 
     </article> 
     <hr> 
     <p class="article-vote" id="voting-container" data-user-id="" data-article-id="221443" data-language="en"> Did you find it helpful?<span data-href="/support/solutions/articles/221443/thumbs_up" class="vote-up a-link" id="article_thumbs_up" data-remote="true" data-method="put" data-update="#voting-container" data-user-id="" data-article-id="221443" data-language="en" data-update-with-message="Glad we could be helpful. Thanks for the feedback."> Yes</span><span class="vote-down-container"><span data-href="/support/solutions/articles/221443/thumbs_down" class="vote-down a-link" id="article_thumbs_down" data-remote="true" data-method="put" data-update="#vote-feedback-form" data-user-id="" data-article-id="221443" data-language="en" data-hide-dom="#voting-container" data-show-dom="#vote-feedback-container"> No</span></span></p>
     <a class="hide a-link" id="vote-feedback-form-link" data-hide-dom="#vote-feedback-form-link" data-show-dom="#vote-feedback-container">Send feedback</a>
     <div id="vote-feedback-container" class="hide"> 
      <div class="lead">
       Sorry we couldn't be helpful. Help us improve this article with your feedback.
      </div> 
      <div id="vote-feedback-form"> 
       <div class="sloading loading-small loading-block"></div> 
      </div>
     </div> 
    </section> 
    <section class="sidebar content rounded-6"> 
     <div id="related_articles">
      <div class="cs-g-c">
       <section class="article-list">
        <h3 class="list-lead">Related Articles</h3>
        <ul rel="remote" data-remote-url="/support/search/articles/221443/related_articles?container=related_articles&amp;limit=10" id="related-article-list"></ul>
       </section>
      </div>
     </div> 
    </section> 
   </div> 
  </div> 
  <script type="text/javascript">
	jQuery( document ).ready(function() {
		var asset = {"js":"http://assets.chat.freshdesk.com","css":"http://assets1.chat.freshdesk.com","cloudfront":"https://d36mpcpuzc4ztk.cloudfront.net"};
		var http_only = ((0 == "1")? true : false);
		window.FC_HTTP_ONLY = http_only;
		var fc_isSecured = ((window.location && window.location.protocol == 'https:') && !window.FC_HTTP_ONLY);
		var fc_CSS = document.createElement('link');
		var fc_lang = document.getElementsByTagName('html')[0].getAttribute('lang');
		var fc_rtlLanguages = ['ar','he'];
		var fc_rtlSuffix = (fc_rtlLanguages.indexOf(fc_lang) >= 0) ? "-rtl" : "";
		fc_CSS.setAttribute('rel','stylesheet');
		fc_CSS.setAttribute('type','text/css');
		fc_CSS.setAttribute('href',((fc_isSecured) ? asset.cloudfront : asset.css)+'/css/visitor'+ fc_rtlSuffix +'.css');
		document.getElementsByTagName('head')[0].appendChild(fc_CSS);
		var jsload = (typeof jQuery=='undefined') ? 'visitor-jquery':'visitor';
		var fc_JS = document.createElement('script');
		fc_JS.type = 'text/javascript';
		fc_JS.src = ((fc_isSecured) ? asset.cloudfront : asset.js)+'/js/'+jsload+'.js';
		document.body.appendChild(fc_JS);
		window.livechat_setting = 'eyJ3aWRnZXRfc2l0ZV91cmwiOiJzY3JlZW5tYWdpYy5mcmVzaGRlc2suY29tIiwicHJvZHVjdF9pZCI6bnVsbCwibmFtZSI6InNjcmVlbi1tYWdpYyIsIndpZGdldF9leHRlcm5hbF9pZCI6bnVsbCwid2lkZ2V0X2lkIjoiNjVjNTk1YzUtNWQyOS00ZDI1LThmNTAtZjkzMTk5Mjc0NWZhIiwic2hvd19vbl9wb3J0YWwiOnRydWUsInBvcnRhbF9sb2dpbl9yZXF1aXJlZCI6ZmFsc2UsImxhbmd1YWdlIjoiZW4iLCJ0aW1lem9uZSI6Ik11bWJhaSIsImlkIjozMDcxLCJtYWluX3dpZGdldCI6dHJ1ZSwiZmNfaWQiOiJmMmMxNWZmZTEwZmYyOTM1OWE4YjZlODc3ZjZkNjM5MSIsInNob3ciOjEsInJlcXVpcmVkIjoyLCJoZWxwZGVza25hbWUiOiJzY3JlZW4tbWFnaWMiLCJuYW1lX2xhYmVsIjoiTmFtZSIsIm1lc3NhZ2VfbGFiZWwiOiJNZXNzYWdlIiwicGhvbmVfbGFiZWwiOiJQaG9uZSIsInRleHRmaWVsZF9sYWJlbCI6IlRleHRmaWVsZCIsImRyb3Bkb3duX2xhYmVsIjoiRHJvcGRvd24iLCJ3ZWJ1cmwiOiJzY3JlZW5tYWdpYy5mcmVzaGRlc2suY29tIiwibm9kZXVybCI6ImNoYXQuZnJlc2hkZXNrLmNvbSIsImRlYnVnIjoxLCJtZSI6Ik1lIiwiZXhwaXJ5IjowLCJlbnZpcm9ubWVudCI6InByb2R1Y3Rpb24iLCJlbmRfY2hhdF90aGFua19tc2ciOiJUaGFuayB5b3UhISEiLCJlbmRfY2hhdF9lbmRfdGl0bGUiOiJFbmQiLCJlbmRfY2hhdF9jYW5jZWxfdGl0bGUiOiJDYW5jZWwifQ==';
	});
</script> 
  <script src="https://assets10.freshdesk.com/assets/cdn/portal_bottom-f9d7f80c926afdfac97fd69247200432.js" type="text/javascript"></script> 
  <script src="https://assets3.freshdesk.com/assets/cdn/redactor-4ceb8dfb6fd1620e644b13d71983b95e.js" type="text/javascript"></script> 
  <script src="https://assets2.freshdesk.com/assets/cdn/freshfone_portal-b5255f30f00abf0f4b749ec70e361d6b.js" type="text/javascript"></script> 
  <script src="https://assets2.freshdesk.com/assets/cdn/lang/en-9dc6e766541801d11aadfa7bb1472036.js" type="text/javascript"></script> 
  <!-- Including default portal based script at the bottom --> 
  <script type="text/javascript">
//<![CDATA[
	
	jQuery(document).ready(function() {
					
		// Setting the locale for moment js
		moment.lang('en');

		var validation_meassages = {"required":"This field is required.","remote":"Please fix this field.","email":"Please enter a valid email address.","url":"Please enter a valid URL.","date":"Please enter a valid date.","dateISO":"Please enter a valid date ( ISO ).","number":"Please enter a valid number.","digits":"Please enter only digits.","creditcard":"Please enter a valid credit card number.","equalTo":"Please enter the same value again.","two_decimal_place_warning":"Value cannot have more than 2 decimal digits","select_atleast_one":"Select at least one option.","select2_minimum_limit":"Please type %{char_count} or more letters","select2_maximum_limit":"You can only select %{limit} %{container}"}	

		jQuery.extend(jQuery.validator.messages, validation_meassages );


		jQuery(".call_duration").each(function () {
			var format,time;
			if (jQuery(this).data("time") === undefined) { return; }
			time = jQuery(this).data("time");
			if (time>=3600) {
			 format = "hh:mm:ss";
			} else {
				format = "mm:ss";
			}
			jQuery(this).html(time.toTime(format));
		});
	});

	// Shortcuts variables
	var Shortcuts = {"global":{"help":"?","save":"mod+return","cancel":"esc","search":"/","status_dialog":"mod+alt+return","save_cuctomization":"mod+shift+s"},"app_nav":{"dashboard":"g d","tickets":"g t","social":"g e","solutions":"g s","forums":"g f","customers":"g c","reports":"g r","admin":"g a","ticket_new":"g n","compose_email":"g m"},"pagination":{"previous":"alt+left","next":"alt+right","alt_previous":"j","alt_next":"k"},"ticket_list":{"ticket_show":"return","select":"x","select_all":"shift+x","search_view":"v","show_description":"space","unwatch":"w","delete":"#","pickup":"@","spam":"!","close":"~","silent_close":"alt+shift+`","undo":"z","reply":"r","forward":"f","add_note":"n","scenario":"s"},"ticket_detail":{"toggle_watcher":"w","reply":"r","forward":"f","add_note":"n","close":"~","silent_close":"alt+shift+`","add_time":"m","spam":"!","delete":"#","show_activities_toggle":"}","properties":"p","expand":"]","undo":"z","select_watcher":"shift+w","go_to_next":["j","down"],"go_to_previous":["k","up"],"scenario":"s","pickup":"@","collaboration":"d"},"social_stream":{"search":"s","go_to_next":["j","down"],"go_to_previous":["k","up"],"open_stream":["space","return"],"close":"esc","reply":"r","retweet":"shift+r"},"portal_customizations":{"preview":"mod+shift+p"},"discussions":{"toggle_following":"w","add_follower":"shift+w","reply_topic":"r"}};
	
	// Date formats
	var DATE_FORMATS = {"non_us":{"moment_date_with_week":"ddd, D MMM, YYYY","datepicker":"d M, yy","datepicker_escaped":"d M yy","datepicker_full_date":"D, d M, yy","mediumDate":"d MMM, yyyy"},"us":{"moment_date_with_week":"ddd, MMM D, YYYY","datepicker":"M d, yy","datepicker_escaped":"M d yy","datepicker_full_date":"D, M d, yy","mediumDate":"MMM d, yyyy"}};

	var lang = { 
		loadingText: "Please Wait...",
		viewAllTickets: "View all tickets"
	};


//]]>
</script> 
  <img src="/support/solutions/articles/221443-when-you-are-done-sending-an-sms-or-click-on-the-cancel-button-and-you-get-the-url-no-longer-exists-/hit">   
 </body>
</html>