<!doctype html>
<!--[if IE 6]>
<html id="ie6" lang="en">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en">
<![endif]-->
<!--[if (!IE)]><!-->
<html lang="en">
 <!--<![endif]-->
 <head> 
  <meta charset="UTF-8"> 
  <title>Sending SMS messages using Twilio and Bluemix | Martin Gale's blog</title> 
  <link rel="profile" href="http://gmpg.org/xfn/11"> 
  <link rel="pingback" href="https://galem.wordpress.com/xmlrpc.php"> 
  <link rel="dns-prefetch" href="//s2.wp.com"> 
  <link rel="dns-prefetch" href="//s1.wp.com"> 
  <link rel="dns-prefetch" href="//s0.wp.com"> 
  <link rel="dns-prefetch" href="//s.pubmine.com"> 
  <link rel="dns-prefetch" href="//x.bidswitch.net"> 
  <link rel="dns-prefetch" href="//static.criteo.net"> 
  <link rel="dns-prefetch" href="//ib.adnxs.com"> 
  <link rel="dns-prefetch" href="//aax.amazon-adsystem.com"> 
  <link rel="dns-prefetch" href="//bidder.criteo.com"> 
  <link rel="dns-prefetch" href="//cas.criteo.com"> 
  <link rel="dns-prefetch" href="//gum.criteo.com"> 
  <link rel="dns-prefetch" href="//ads.pubmatic.com"> 
  <link rel="dns-prefetch" href="//gads.pubmatic.com"> 
  <link rel="dns-prefetch" href="//tpc.googlesyndication.com"> 
  <link rel="dns-prefetch" href="//ad.doubleclick.net"> 
  <link rel="dns-prefetch" href="//googleads.g.doubleclick.net"> 
  <link rel="dns-prefetch" href="//www.googletagservices.com"> 
  <link rel="dns-prefetch" href="//cdn.switchadhub.com"> 
  <link rel="dns-prefetch" href="//delivery.g.switchadhub.com"> 
  <link rel="dns-prefetch" href="//delivery.swid.switchadhub.com"> 
  <link rel="alternate" type="application/rss+xml" title="Martin Gale's blog » Feed" href="https://galem.wordpress.com/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Martin Gale's blog » Comments Feed" href="https://galem.wordpress.com/comments/feed/"> 
  <link rel="alternate" type="application/rss+xml" title="Martin Gale's blog » Sending SMS messages using Twilio and&nbsp;Bluemix Comments Feed" href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/feed/"> 
  <script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script> 
  <script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s1.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1496863874h&ver=4.8.1-RC2-41203"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b===c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script> 
  <style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style> 
  <link rel="stylesheet" id="all-css-0-1" href="https://s2.wp.com/_static/??-eJyNUltuAyEMvFBdtGnUx0fVsxjWZZ0YjBY2UW5fNqs0rxblB3nMjMc2mH0Cp7FQLCZMkGTyHLPZJ6cBcmChww16djk/mb9lwlvKZkMlodvCEd3Rrag/++jYY5+NF7Uoj3GdjigcCXarVi8jCRbqIWkuN6glq9Wp5kPCMjMC9YwkFCqtJQvp9aSaw6HO37RZVmptGilnqGfgKUAZqtG9bkmbNNnf4U0uB6GHmBzdwoajabMr7j3VbWV1jAJcKddgEbOJWpbLU9Cq6klB1GFhjVcAvgV5bD/i/AVq6E1lXcCWCN1c3OJ4jv5b1LC++Hpf4bNbf7yt3rvupdv8ACTKKpE=" type="text/css" media="all"> 
  <script type="text/javascript">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script> 
  <script type="text/javascript" src="https://s1.wp.com/_static/??-eJyFj90KwjAMhV/IrAw6xQvxWWoXS2r/bNoNfXo70At1KARCTr4cTsScgIJ2dUQWttW1Yr49W2d5I34B4MlkVbDzFF6wjqFgKAvr44kcQmXMyjStGZ3jCpciF4/MDVrZvkeiMBHOfzGLJSl9gYxM9y9XXyG5aiiwyOjaAyMsGT6mdnX0h17uh36Qcre1DyuucHk="></script> 
  <link rel="stylesheet" id="all-css-0-2" href="https://s1.wp.com/wp-content/mu-plugins/highlander-comments/style.css?m=1377793621h" type="text/css" media="all"> 
  <!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='https://s1.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563h&#038;ver=20110606' type='text/css' media='all' />
<![endif]--> 
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://galem.wordpress.com/xmlrpc.php?rsd"> 
  <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml"> 
  <link rel="prev" title="Fixing jQuery Mobile headers in a Worklight app on iOS&nbsp;7" href="https://galem.wordpress.com/2014/03/14/fixing-jquery-mobile-headers-in-a-worklight-app-on-ios-7/"> 
  <link rel="next" title="Simple database operations via HTTP with Node JS, MongoDB and&nbsp;Bluemix" href="https://galem.wordpress.com/2014/08/06/simple-database-operations-via-http-with-node-js-mongodb-and-bluemix/"> 
  <meta name="generator" content="WordPress.com"> 
  <link rel="canonical" href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/"> 
  <link rel="shortlink" href="http://wp.me/poLj0-fd"> 
  <link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fgalem.wordpress.com%2F2014%2F08%2F02%2Fsending-sms-messages-using-twilio-and-bluemix%2F&amp;for=wpcom-auto-discovery">
  <link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fgalem.wordpress.com%2F2014%2F08%2F02%2Fsending-sms-messages-using-twilio-and-bluemix%2F&amp;for=wpcom-auto-discovery"> 
  <!-- Jetpack Open Graph Tags --> 
  <meta property="og:type" content="article"> 
  <meta property="og:title" content="Sending SMS messages using Twilio and Bluemix"> 
  <meta property="og:url" content="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/"> 
  <meta property="og:description" content="I’ve been tinkering with an Internet of Things project at home for a while which I’ll write up in due course, but in the course of doing so have knocked up a few useful fragments of fun…"> 
  <meta property="article:published_time" content="2014-08-02T21:07:00+00:00"> 
  <meta property="article:modified_time" content="2014-08-02T21:20:21+00:00"> 
  <meta property="og:site_name" content="Martin Gale's blog"> 
  <meta property="og:image" content="https://galem.files.wordpress.com/2014/08/twilio-sample.png?w=300"> 
  <meta property="og:locale" content="en_US"> 
  <meta name="twitter:site" content="@wordpressdotcom"> 
  <meta name="twitter:text:title" content="Sending SMS messages using Twilio and&nbsp;Bluemix"> 
  <meta name="twitter:image" content="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-11-06.png?w=240"> 
  <meta name="twitter:card" content="summary"> 
  <meta property="fb:app_id" content="249643311490"> 
  <meta property="article:publisher" content="https://www.facebook.com/WordPresscom"> 
  <link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/e4ab9de631638ae4e12f6aaaca60b273?s=32" sizes="16x16"> 
  <link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/e4ab9de631638ae4e12f6aaaca60b273?s=32" sizes="16x16"> 
  <link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/e4ab9de631638ae4e12f6aaaca60b273?s=114"> 
  <link rel="openid.server" href="https://galem.wordpress.com/?openidserver=1"> 
  <link rel="openid.delegate" href="https://galem.wordpress.com/"> 
  <link rel="search" type="application/opensearchdescription+xml" href="https://galem.wordpress.com/osd.xml" title="Martin Gale's blog"> 
  <link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com"> 
  <meta name="application-name" content="Martin Gale's blog">
  <meta name="msapplication-window" content="width=device-width;height=device-height">
  <meta name="msapplication-tooltip" content="running, technology, music and anything else that springs to mind">
  <meta name="msapplication-task" content="name=Subscribe;action-uri=https://galem.wordpress.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/e4ab9de631638ae4e12f6aaaca60b273?s=16">
  <meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s2.wp.com/i/favicon.ico">
  <meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s2.wp.com/i/favicon.ico">
  <meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s2.wp.com/i/favicon.ico">
  <meta name="title" content="Sending SMS messages using Twilio and&nbsp;Bluemix | Martin Gale's blog on WordPress.com"> 
  <meta name="description" content="I've been tinkering with an Internet of Things project at home for a while which I'll write up in due course, but in the course of doing so have knocked up a few useful fragments of function&nbsp;that I thought I'd share in case other people need them. The first of these is a simple Node.js…"> 
  <script type="text/javascript">
		var __ATA_PP = { pt: 1, ht: 0, tn: 'coraline', amp: false };
		</script> 
  <script type="text/javascript" src="//s.pubmine.com/head.js"></script> 
  <script type="text/javascript" src="https://static.criteo.net/js/ld/publishertag.js"></script>
  <link rel="amphtml" href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/amp/">
  <style type="text/css" id="syntaxhighlighteranchor"></style> 
  <script type="text/javascript">
	window.google_analytics_uacct = "UA-52447-2";
</script> 
  <script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-52447-2']);
	_gaq.push(['_setDomainName', 'wordpress.com']);
	_gaq.push(['_initData']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</script> 
 </head> 
 <body class="post-template-default single single-post postid-943 single-format-standard mp6 customizer-styles-applied two-column content-sidebar highlander-enabled highlander-light"> 
  <div id="container" class="hfeed contain"> 
   <div id="header"> 
    <div id="masthead" role="banner"> 
     <div id="site-title"> 
      <span> <a href="https://galem.wordpress.com/" title="Martin Gale's blog" rel="home">Martin Gale's blog</a> </span> 
     </div> 
     <div id="site-description">
      running, technology, music and anything else that springs to mind
     </div> 
    </div>
    <!-- #masthead --> 
    <div id="access" role="navigation"> 
     <div class="skip-link screen-reader-text">
      <a href="#content" title="Skip to content">Skip to content</a>
     </div> 
     <div class="menu">
      <ul> 
       <li><a href="https://galem.wordpress.com/">Home</a></li>
       <li class="page_item page-item-2"><a href="https://galem.wordpress.com/about/">About</a></li> 
       <li class="page_item page-item-989"><a href="https://galem.wordpress.com/press/">Press</a></li> 
      </ul>
     </div> 
    </div>
    <!-- #access --> 
    <div id="branding"> 
     <a href="https://galem.wordpress.com/"> <img src="https://galem.files.wordpress.com/2011/01/blogbanner.jpg" width="990" height="180" alt=""> </a> 
    </div>
    <!-- #branding --> 
   </div>
   <!-- #header --> 
   <div id="content-box"> 
    <div id="content-container"> 
     <div id="content" role="main"> 
      <div id="nav-above" class="navigation"> 
       <div class="nav-previous">
        <a href="https://galem.wordpress.com/2014/03/14/fixing-jquery-mobile-headers-in-a-worklight-app-on-ios-7/" rel="prev"><span class="meta-nav">?</span> Fixing jQuery Mobile headers in a Worklight app on iOS&nbsp;7</a>
       </div> 
       <div class="nav-next">
        <a href="https://galem.wordpress.com/2014/08/06/simple-database-operations-via-http-with-node-js-mongodb-and-bluemix/" rel="next">Simple database operations via HTTP with Node JS, MongoDB and&nbsp;Bluemix <span class="meta-nav">?</span></a>
       </div> 
      </div>
      <!-- #nav-above --> 
      <div id="post-943" class="post-943 post type-post status-publish format-standard hentry category-iot category-mobile category-snippets tag-bluemix tag-express tag-expressjs tag-javascript tag-node tag-nodejs tag-twilio"> 
       <h1 class="entry-title">Sending SMS messages using Twilio and&nbsp;Bluemix</h1> 
       <div class="entry-meta"> 
        <span class="meta-prep meta-prep-author">Posted on</span> 
        <a href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/" title="9:07 pm" rel="bookmark"><span class="entry-date">August 2, 2014</span></a> 
        <span class="comments-link"><span class="meta-sep">|</span> <a href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/#comments">4 Comments</a></span> 
       </div>
       <!-- .entry-meta --> 
       <div class="entry-content"> 
        <p>I’ve been tinkering with an <a href="http://en.wikipedia.org/wiki/Internet_of_Things">Internet of Things</a> project at home for a while which I’ll write up in due course, but in the course of doing so have knocked up a few useful fragments of function&nbsp;that I thought I’d share in case other people need them. The first of these is a simple <a href="http://nodejs.org">Node.js</a> app to send an <a href="http://en.wikipedia.org/wiki/SMS">SMS message</a> via <a href="http://www.twilio.com">Twilio</a> using <a href="https://ace.ng.bluemix.net">IBM Bluemix</a>.</p> 
        <p>There’s lots of material on Twilio and Bluemix but by way of a very rapid summary, Twilio provide nice, friendly APIs over telephony-type services (such as sending&nbsp;SMS&nbsp;messages), and Bluemix is IBM’s <a href="http://cloudfoundry.org/index.html">Cloud Foundry</a>-based <a href="http://en.wikipedia.org/wiki/Platform_as_a_service">Platform-as-a-Service</a> offering to enable developers to build applications rapidly in the cloud. Twilio have created a service within Bluemix that developers can pick up and use to enable their applications with the Twilio services.&nbsp;One of the things I wanted for my application was a way of notifying me that something had happened, and a text message suited my needs nicely.&nbsp;Twilio provide <a href="https://www.twilio.com/help/faq/twilio-basics/how-does-twilios-free-trial-work">a free trial service with a few restrictions</a> which you can upgrade once you want to do something serious.</p> 
        <p>To begin with, I created myself a Node application on Bluemix using the Node JS Web Starter application boilerplate provided:</p> 
        <p><a href="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-11-06.png"><img data-attachment-id="944" data-permalink="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/screen-shot-2014-08-02-at-18-11-06/" data-orig-file="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-11-06.png" data-orig-size="314,342" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="" data-image-description="" data-medium-file="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-11-06.png?w=112&amp;h=122" data-large-file="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-11-06.png?w=314" class="aligncenter wp-image-944" src="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-11-06.png?w=112&amp;h=122" alt="" width="112" height="122" srcset="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-11-06.png?w=112&amp;h=122 112w, https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-11-06.png?w=224&amp;h=244 224w, https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-11-06.png?w=138&amp;h=150 138w" sizes="(max-width: 112px) 100vw, 112px"></a>My approach was to create a simple HTTP-based service that I could invoke with the destination phone number, and the message itself as parameters. To make the Twilio service available to my Node application, it was simply case of adding the service to my application in Bluemix. Twilio is listed as one of the <strong>Mobile</strong> services:</p> 
        <p><a href="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-32-56.png"><img data-attachment-id="946" data-permalink="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/screen-shot-2014-08-02-at-18-32-56/" data-orig-file="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-32-56.png" data-orig-size="302,342" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="" data-image-description="" data-medium-file="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-32-56.png?w=265" data-large-file="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-32-56.png?w=302" class="aligncenter wp-image-946" src="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-32-56.png?w=123&amp;h=140" alt="" width="123" height="140" srcset="https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-32-56.png?w=123&amp;h=140 123w, https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-32-56.png?w=246&amp;h=280 246w, https://galem.files.wordpress.com/2014/08/screen-shot-2014-08-02-at-18-32-56.png?w=132&amp;h=150 132w" sizes="(max-width: 123px) 100vw, 123px"></a></p> 
        <p>Once you have added the Twilio service, you configure it in Bluemix by providing the <strong>Account SID</strong> and <strong>Auth Token</strong> values that you find on <a href="https://www.twilio.com/user/account">the account details page</a> once you have registered and logged in to Twilio.</p> 
        <p>The Node JS Web Starter boilerplate creates a simple template for a web server that serves up pages using the <a href="http://expressjs.com">Express</a> framework on top of Node. Express is handy, in that it provides a useful framework for handling HTTP requests, so I decided to stick with it for my HTTP service. The first change I needed to make to the boilerplate was to add a reference to Twilio in the <tt>package.json</tt> file so that the modules would be available to my code.</p> 
        <pre> 
{
   "name": "NodejsStarterApp",
   "version": "0.0.1",
   "description": "A sample nodejs app for BlueMix",
   "dependencies": {
      "mongodb": "1.4.6",
      "express": "3.4.7",
      <span style="color:#ff0000;">"twilio": "^1.6.0",</span>
      "jade": "1.1.4"
   },
   "engines": {
      "node": "0.10.26"
   },
   "repository": {}
}
</pre> 
        <p>When you <tt>push</tt> your updated code to Bluemix, Bluemix automatically does the <tt>npm install</tt> to go and fetch the modules based on the <tt>package.json</tt>.</p> 
        <p>Within the app, you then need to set up the Twilio package ready for sending messages. First, we need to <tt>require</tt> the Twilio package so we can access the service from our code, and then retrieve the Account SID and Auth Token values configured in Bluemix from the <tt>VCAP_SERVICES</tt> environment variable that Bluemix provides to the Node runtime.</p> 
        <pre>var twilio = require('twilio'); // Twilio API
...
var services = JSON.parse(process.env.VCAP_SERVICES || "{}");
...
var twilioSid, twilioToken;
services['user-provided'].forEach(function(service) {
   if (service.name == 'Twilio-ph') { 
      twilioSid = service.credentials.accountSID;
      twilioToken = service.credentials.authToken;
   }
});
</pre> 
        <p>Note that <tt>Twilio-ph</tt> is the name I gave to the Twilio service when I added it to my application in Bluemix, yours may vary so remember to change it if different.</p> 
        <p>The environment is now set up, so now we need to create our HTTP handler using Express to form the basis of our service. &nbsp;I’ve added <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">Basic Authentication</a> to my handler to prevent spam to my Twilio account, this is nice and easy to do using Express.</p> 
        <pre>// Configured environment variables to protect Twilio requests
var USER = process.env.USER;
console.log("USER = "+USER);
var PASSWORD = process.env.PASSWORD;
console.log("PASSWORD = "+PASSWORD);

// Basic authentication to restrict access to my services.
var auth = express.basicAuth(USER, PASSWORD);
</pre> 
        <p>I’ve used environment variables that I’ve set in the Bluemix environment, clearly in a production environment one would use a proper directory. You can set your own environment variables within your application by going to the <strong>Runtime</strong> view of your application and selecting the <strong>USER-DEFINED</strong> button on the main panel.</p> 
        <p>The HTTP handler simply looks for the URI pattern <tt>/twilio</tt> as a <tt>GET</tt> request and reads the destination telephone number and the message content as query parameters. The <tt>auth</tt> object passed in applies the Basic Authentication rule defined previously.</p> 
        <pre>app.get('/twilio', auth, function(req, res) {
   var toNum = req.param("number");
   var twilioMessage = req.param("message");
   var fromNum = '<span style="color:#ff0000;"><em>your Twilio number</em></span>';
</pre> 
        <p>Your Twilio number can be found on <a href="https://www.twilio.com/user/account/phone-numbers/incoming">the Twilio account details page</a>.</p> 
        <p>Twilio make it really easy to send a message using their <tt>twilio.RestClient</tt> API wrapper class. You simply instantiate an instance of the <tt>twilio.RestClient</tt> class, and invoke the <tt>sendMessage</tt> method with a JSON object containing parameters describing who the message is to, the number it is sent from and the message to be included in the SMS. You provide a callback function that is invoked when the request is completed.</p> 
        <pre>   var client = new twilio.RestClient(twilioSid, twilioToken);
   client.sendMessage(
     {
         to: toNum,
         from: fromNum, 
         body: twilioMessage
      }, 
      function(err, message) {
         if (err) {
            console.error("Problem: "+err+": "+message);
            res.send("Error! "+err+": "+message);
            return;
         } else {
            res.send("Done!");
            console.log("Twilio message sent from "+fromNum+
            " to "+toNum+": "+twilioMessage);
         }
      }
   );
});
</pre> 
        <p>Once deployed, the service can be invoked with a URL in the form described below:</p> 
        <pre>http://<em><span style="color:#ff0000;">appname</span></em>.mybluemix.net/twilio?number=<em><span style="color:#ff0000;">number</span></em>&amp;message=<em><span style="color:#ff0000;">mess </span></em></pre> 
        <p>If invoked programmatically the authentication credentials will be required in the HTTP header. If tried from a browser, the browser will prompt for a username and password combination. Ultimately you’ll receive an SMS on your phone:<br> <a href="https://galem.files.wordpress.com/2014/08/twilio-sample.png"><img data-attachment-id="950" data-permalink="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/twilio-sample/" data-orig-file="https://galem.files.wordpress.com/2014/08/twilio-sample.png" data-orig-size="638,315" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="twilio sample" data-image-description="" data-medium-file="https://galem.files.wordpress.com/2014/08/twilio-sample.png?w=276&amp;h=136" data-large-file="https://galem.files.wordpress.com/2014/08/twilio-sample.png?w=500" class="aligncenter wp-image-950" src="https://galem.files.wordpress.com/2014/08/twilio-sample.png?w=276&amp;h=136" alt="twilio sample" width="276" height="136" srcset="https://galem.files.wordpress.com/2014/08/twilio-sample.png?w=276&amp;h=136 276w, https://galem.files.wordpress.com/2014/08/twilio-sample.png?w=552&amp;h=272 552w, https://galem.files.wordpress.com/2014/08/twilio-sample.png?w=150&amp;h=74 150w, https://galem.files.wordpress.com/2014/08/twilio-sample.png?w=300&amp;h=148 300w" sizes="(max-width: 276px) 100vw, 276px"></a><br> And there it is. I can now trigger SMS messages either from my <a href="http://nodered.org">NodeRED</a> flows, browser or any other apps I might write.</p> 
        <style type="text/css">
			div.wpmrec2x{max-width:610px;}
			div.wpmrec2x div.u > div{float:left;margin-right:10px;}
			div.wpmrec2x div.u > div:nth-child(3n){margin-right:0px;}
			</style> 
        <div class="wpcnt"> 
         <div class="wpa wpmrec wpmrec2x"> 
          <span class="wpa-about">Advertisements</span> 
          <div class="u"> 
           <script type="text/javascript" id="s26942">
						(function(g,$){if("undefined"!=typeof g.__ATA){
							g.__ATA.initAd({collapseEmpty:'after', sectionId:26942, width:300, height:250});
							g.__ATA.initAd({collapseEmpty:'after', sectionId:114160, width:300, height:250});
						}})(window,jQuery);
					</script> 
          </div> 
          <div id="crt-721113755" style="width:300px;height:250px;"></div> 
          <script type="text/javascript">
		var o = document.getElementById('crt-721113755');
		if ("undefined"!=typeof Criteo) {
			var p = o.parentNode;
			p.style.setProperty('display', 'inline-block', 'important');
			o.style.setProperty('display', 'block', 'important');
			Criteo.DisplayAcceptableAdIfAdblocked({zoneid:388248,containerid:"crt-721113755",collapseContainerIfNotAdblocked:true,"callifnotadblocked": function () {var o = document.getElementById('crt-721113755'); o.style.setProperty('display','none','important');o.style.setProperty('visbility','hidden','important'); } });
		} else {
			o.style.setProperty('display', 'none', 'important');
			o.style.setProperty('visibility', 'hidden', 'important');
		}
		</script> 
          <div id="crt-2089620400" style="width:300px;height:250px;"></div> 
          <script type="text/javascript">
		var o = document.getElementById('crt-2089620400');
		if ("undefined"!=typeof Criteo) {
			var p = o.parentNode;
			p.style.setProperty('display', 'inline-block', 'important');
			o.style.setProperty('display', 'block', 'important');
			Criteo.DisplayAcceptableAdIfAdblocked({zoneid:837497,containerid:"crt-2089620400",collapseContainerIfNotAdblocked:true,"callifnotadblocked": function () {var o = document.getElementById('crt-2089620400'); o.style.setProperty('display','none','important');o.style.setProperty('visbility','hidden','important'); } });
		} else {
			o.style.setProperty('display', 'none', 'important');
			o.style.setProperty('visibility', 'hidden', 'important');
		}
		</script> 
         </div> 
        </div>
        <div id="jp-post-flair" class="sharedaddy sd-like-enabled">
         <div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded" id="like-post-wrapper-5901718-943-59bebba7f06eb" data-src="//widgets.wp.com/likes/#blog_id=5901718&amp;post_id=943&amp;origin=galem.wordpress.com&amp;obj_id=5901718-943-59bebba7f06eb" data-name="like-post-frame-5901718-943-59bebba7f06eb">
          <h3 class="sd-title">Like this:</h3>
          <div class="likes-widget-placeholder post-likes-widget-placeholder" style="height: 55px;">
           <span class="button"><span>Like</span></span> 
           <span class="loading">Loading...</span>
          </div>
          <span class="sd-text-color"></span>
          <a class="sd-link-color"></a>
         </div> 
         <div id="jp-relatedposts" class="jp-relatedposts"> 
          <h3 class="jp-relatedposts-headline"><em>Related</em></h3> 
         </div>
        </div> 
       </div>
       <!-- .entry-content --> 
       <div class="entry-info">
         This entry was posted in 
        <a href="https://galem.wordpress.com/category/iot/" rel="category tag">iot</a>, 
        <a href="https://galem.wordpress.com/category/mobile/" rel="category tag">mobile</a>, 
        <a href="https://galem.wordpress.com/category/snippets/" rel="category tag">Snippets</a> and tagged 
        <a href="https://galem.wordpress.com/tag/bluemix/" rel="tag">bluemix</a>, 
        <a href="https://galem.wordpress.com/tag/express/" rel="tag">express</a>, 
        <a href="https://galem.wordpress.com/tag/expressjs/" rel="tag">expressjs</a>, 
        <a href="https://galem.wordpress.com/tag/javascript/" rel="tag">javascript</a>, 
        <a href="https://galem.wordpress.com/tag/node/" rel="tag">node</a>, 
        <a href="https://galem.wordpress.com/tag/nodejs/" rel="tag">nodejs</a>, 
        <a href="https://galem.wordpress.com/tag/twilio/" rel="tag">twilio</a>. Bookmark the 
        <a href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/" title="Permalink to Sending SMS messages using Twilio and&nbsp;Bluemix" rel="bookmark">permalink</a>. 
       </div>
       <!-- .entry-info --> 
      </div>
      <!-- #post-## --> 
      <div id="nav-below" class="navigation"> 
       <div class="nav-previous">
        <a href="https://galem.wordpress.com/2014/03/14/fixing-jquery-mobile-headers-in-a-worklight-app-on-ios-7/" rel="prev"><span class="meta-nav">?</span> Fixing jQuery Mobile headers in a Worklight app on iOS&nbsp;7</a>
       </div> 
       <div class="nav-next">
        <a href="https://galem.wordpress.com/2014/08/06/simple-database-operations-via-http-with-node-js-mongodb-and-bluemix/" rel="next">Simple database operations via HTTP with Node JS, MongoDB and&nbsp;Bluemix <span class="meta-nav">?</span></a>
       </div> 
      </div>
      <!-- #nav-below --> 
      <div id="comments"> 
       <h3 id="comments-title"> 4 responses to “<span>Sending SMS messages using Twilio and&nbsp;Bluemix</span>” </h3> 
       <ol class="commentlist"> 
        <li class="comment even thread-even depth-1 highlander-comment" id="li-comment-543"> 
         <div id="comment-543"> 
          <div class="comment-author vcard"> 
           <img alt="" src="https://1.gravatar.com/avatar/d16516bdd30ba08f6421bbf14c445702?s=48&amp;d=identicon&amp;r=G" class="avatar avatar-48" height="48" width="48"> 
           <cite class="fn"><a href="http://fathersdayrock.com/,fathersdayrock.com,www.fathersdayrock.com" rel="external nofollow" class="url">Quotes for independence day 2014</a></cite> 
           <span class="comment-meta commentmetadata"> | <a href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/#comment-543"> August 3, 2014 at 11:03 am</a> | <a rel="nofollow" class="comment-reply-link" href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/?replytocom=543#respond" onclick="return addComment.moveForm( &quot;comment-543&quot;, &quot;543&quot;, &quot;respond&quot;, &quot;943&quot; )" aria-label="Reply to Quotes for independence day 2014">Reply</a> </span>
           <!-- .comment-meta .commentmetadata --> 
          </div>
          <!-- .comment-author .vcard --> 
          <div class="comment-body">
           <p>It’s hard to find educated people for this topic, but you sound like you know what you’re talking about!<br> Thanks</p> 
          </div> 
         </div>
         <!-- #comment-##  --> </li>
        <!-- #comment-## --> 
        <li class="comment byuser comment-author-samjgarforth odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-612"> 
         <div id="comment-612"> 
          <div class="comment-author vcard"> 
           <img alt="" src="https://2.gravatar.com/avatar/b26612b26093995d6644fda27dc7bc88?s=48&amp;d=identicon&amp;r=G" class="avatar avatar-48" height="48" width="48"> 
           <cite class="fn"><a href="http://samjgarforth.wordpress.com" rel="external nofollow" class="url">samjgarforth</a></cite> 
           <span class="comment-meta commentmetadata"> | <a href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/#comment-612"> September 14, 2014 at 3:37 pm</a> | <a rel="nofollow" class="comment-reply-link" href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/?replytocom=612#respond" onclick="return addComment.moveForm( &quot;comment-612&quot;, &quot;612&quot;, &quot;respond&quot;, &quot;943&quot; )" aria-label="Reply to samjgarforth">Reply</a> </span>
           <!-- .comment-meta .commentmetadata --> 
          </div>
          <!-- .comment-author .vcard --> 
          <div class="comment-body">
           <p>Reblogged this on <a href="http://samjgarforth.wordpress.com/2014/09/14/sending-sms-messages-using-twilio-and-bluemix/" rel="nofollow">Sam Garforth</a> and commented:<br> Here’s an excellent post on setting up a Bluemix app to send SMS messages.</p> 
          </div> 
         </div>
         <!-- #comment-##  --> </li>
        <!-- #comment-## --> 
        <li class="post pingback"> <p>Pingback: <a href="https://galem.wordpress.com/2014/10/14/parsing-llap-packets-using-nodered-on-the-raspberry-pi/" rel="external nofollow" class="url">Parsing LLAP packets using NodeRED on the Raspberry Pi | Martin Gale's blog</a></p> </li>
        <!-- #comment-## --> 
        <li class="comment byuser comment-author-petercripps even thread-even depth-1 highlander-comment" id="li-comment-819"> 
         <div id="comment-819"> 
          <div class="comment-author vcard"> 
           <img alt="" src="https://0.gravatar.com/avatar/0d19ff4df8bbfe0476f3d4e9a95e3181?s=48&amp;d=identicon&amp;r=G" class="avatar avatar-48" height="48" width="48"> 
           <cite class="fn"><a href="http://softwarearchitecturezen.wordpress.com/" rel="external nofollow" class="url">Peter Cripps</a></cite> 
           <span class="comment-meta commentmetadata"> | <a href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/#comment-819"> November 28, 2014 at 7:16 pm</a> | <a rel="nofollow" class="comment-reply-link" href="https://galem.wordpress.com/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/?replytocom=819#respond" onclick="return addComment.moveForm( &quot;comment-819&quot;, &quot;819&quot;, &quot;respond&quot;, &quot;943&quot; )" aria-label="Reply to Peter Cripps">Reply</a> </span>
           <!-- .comment-meta .commentmetadata --> 
          </div>
          <!-- .comment-author .vcard --> 
          <div class="comment-body">
           <p>Hi Martin, very useful for what I’m currently looking at. Thanks.</p> 
          </div> 
         </div>
         <!-- #comment-##  --> </li>
        <!-- #comment-## --> 
       </ol> 
       <div id="respond" class="comment-respond"> 
        <h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/#respond" style="display:none;">Cancel reply</a></small></h3> 
        <form action="https://galem.wordpress.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"> 
         <input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="947f2683b4">
         <input type="hidden" name="_wp_http_referer" value="/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/"> 
         <input type="hidden" name="hc_post_as" id="hc_post_as" value="guest"> 
         <div class="comment-form-field comment-textarea"> 
          <label for="comment">Enter your comment here...</label> 
          <div id="comment-form-comment">
           <textarea id="comment" name="comment" title="Enter your comment here..."></textarea>
          </div> 
         </div> 
         <div id="comment-form-identity"> 
          <div id="comment-form-nascar"> 
           <p>Fill in your details below or click an icon to log in:</p> 
           <ul> 
            <li class="selected" style="display:none;"> <a href="#comment-form-guest" id="postas-guest" title="Guest"> <span></span> </a> </li> 
            <li> <a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" title="WordPress.com"> <span></span> </a> </li> 
            <li> <a href="#comment-form-load-service:Twitter" id="postas-twitter" title="Twitter"> <span></span> </a> </li> 
            <li> <a href="#comment-form-load-service:Facebook" id="postas-facebook" title="Facebook"> <span></span> </a> </li> 
            <li> <iframe id="googleplus-sign-in" name="googleplus-sign-in" src="https://public-api.wordpress.com/connect/?googleplus-sign-in=https%3A%2F%2Fgalem.wordpress.com" width="24" height="24" scrolling="no" allowtransparency="true" seamless frameborder="0"></iframe> </li> 
           </ul> 
          </div> 
          <div id="comment-form-guest" class="comment-form-service selected"> 
           <div class="comment-form-padder"> 
            <div class="comment-form-avatar"> 
             <a href="https://gravatar.com/site/signup/" target="_blank"> <img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Gravatar" width="25" class="no-grav"> </a> 
            </div> 
            <div class="comment-form-fields"> 
             <div class="comment-form-field comment-form-email"> 
              <label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label> 
              <div class="comment-form-input">
               <input id="email" name="email" type="email" value="">
              </div> 
             </div> 
             <div class="comment-form-field comment-form-author"> 
              <label for="author">Name <span class="required">(required)</span></label> 
              <div class="comment-form-input">
               <input id="author" name="author" type="text" value="">
              </div> 
             </div> 
             <div class="comment-form-field comment-form-url"> 
              <label for="url">Website</label> 
              <div class="comment-form-input">
               <input id="url" name="url" type="url" value="">
              </div> 
             </div> 
            </div> 
           </div> 
          </div> 
          <div id="comment-form-wordpress" class="comment-form-service"> 
           <div class="comment-form-padder"> 
            <div class="comment-form-avatar"> 
             <img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="WordPress.com Logo" width="25" class="no-grav"> 
            </div> 
            <div class="comment-form-fields"> 
             <input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value=""> 
             <input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value=""> 
             <input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value=""> 
             <p class="comment-form-posting-as pa-wordpress"><strong></strong> You are commenting using your WordPress.com account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p> 
            </div> 
           </div> 
          </div> 
          <div id="comment-form-twitter" class="comment-form-service"> 
           <div class="comment-form-padder"> 
            <div class="comment-form-avatar"> 
             <img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Twitter picture" width="25" class="no-grav"> 
            </div> 
            <div class="comment-form-fields"> 
             <input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value=""> 
             <input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value=""> 
             <input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value=""> 
             <p class="comment-form-posting-as pa-twitter"><strong></strong> You are commenting using your Twitter account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p> 
            </div> 
           </div> 
          </div> 
          <div id="comment-form-facebook" class="comment-form-service"> 
           <div class="comment-form-padder"> 
            <div class="comment-form-avatar"> 
             <img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Facebook photo" width="25" class="no-grav"> 
            </div> 
            <div class="comment-form-fields"> 
             <input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value=""> 
             <input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value=""> 
             <input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value=""> 
             <p class="comment-form-posting-as pa-facebook"><strong></strong> You are commenting using your Facebook account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p> 
            </div> 
           </div> 
          </div> 
          <div id="comment-form-googleplus" class="comment-form-service"> 
           <div class="comment-form-padder"> 
            <div class="comment-form-avatar"> 
             <img src="https://1.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=25&amp;d=identicon&amp;forcedefault=y&amp;r=G" alt="Google+ photo" width="25" class="no-grav"> 
            </div> 
            <div class="comment-form-fields"> 
             <input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value=""> 
             <input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value=""> 
             <input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value=""> 
             <p class="comment-form-posting-as pa-googleplus"><strong></strong> You are commenting using your Google+ account. <span class="comment-form-log-out">(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)</span></p> 
            </div> 
           </div> 
          </div> 
          <div id="comment-form-load-service" class="comment-form-service"> 
           <div class="comment-form-posting-as-cancel">
            <a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a>
           </div> 
           <p>Connecting to %s</p> 
          </div> 
         </div> 
         <script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script> 
         <div id="comment-form-subscribe"> 
          <p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;"> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of new comments via email.</label></p>
         </div> 
         <p class="form-submit"><input name="submit" type="submit" id="comment-submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="943" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"> </p>
         <p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="f5d257321c"></p> 
         <input type="hidden" name="genseq" value="1505672104"> 
         <p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="117"></p> 
        </form> 
       </div>
       <!-- #respond --> 
       <div style="clear: both"></div> 
      </div>
      <!-- #comments --> 
     </div>
     <!-- #content --> 
    </div>
    <!-- #content-container --> 
    <div id="primary" class="widget-area" role="complementary"> 
     <ul class="xoxo"> 
      <li id="search" class="widget-container widget_search"> <h3 class="widget-title">Search It!</h3> 
       <form role="search" method="get" id="searchform" class="searchform" action="https://galem.wordpress.com/"> 
        <div> 
         <label class="screen-reader-text" for="s">Search for:</label> 
         <input type="text" value="" name="s" id="s"> 
         <input type="submit" id="searchsubmit" value="Search"> 
        </div> 
       </form> </li> 
      <li class="widget-container"> <h3 class="widget-title">Recent Entries</h3> 
       <ul> 
        <li><a href="https://galem.wordpress.com/2017/05/03/a-simple-game-in-scratch/">A simple game in&nbsp;Scratch</a></li> 
        <li><a href="https://galem.wordpress.com/2016/09/23/iot-reference-architecture-for-the-edge-domain/">IoT reference architecture for the edge&nbsp;domain</a></li> 
        <li><a href="https://galem.wordpress.com/2016/09/22/brownfield-iot-in-manufacturing-new-blog-post/">Brownfield IoT in manufacturing – new blog&nbsp;post</a></li> 
        <li><a href="https://galem.wordpress.com/2016/09/14/thingmonk-2016/">Thingmonk 2016</a></li> 
        <li><a href="https://galem.wordpress.com/2016/07/22/been-a-little-while-but-then-not/">Been a little while…but then&nbsp;not!</a></li> 
        <li><a href="https://galem.wordpress.com/2015/04/03/wanted-safe-return-of-running-mojo/">Wanted: safe return of running&nbsp;mojo</a></li> 
        <li><a href="https://galem.wordpress.com/2015/03/17/wearable-technology-show-2015/">Wearable Technology Show&nbsp;2015</a></li> 
        <li><a href="https://galem.wordpress.com/2015/03/17/calling-a-rest-service-from-swift-a-quick-example/">Calling a REST service from Swift — a quick&nbsp;example</a></li> 
        <li><a href="https://galem.wordpress.com/2014/10/14/parsing-llap-packets-using-nodered-on-the-raspberry-pi/">Parsing LLAP packets using NodeRED on the Raspberry&nbsp;Pi</a></li> 
        <li><a href="https://galem.wordpress.com/2014/10/14/configuring-the-raspberry-pi-to-share-a-macs-internet-connection/">Configuring the Raspberry Pi to share a Mac’s internet&nbsp;connection</a></li> 
       </ul> </li> 
      <li class="widget-container"> <h3 class="widget-title">Links</h3> 
       <ul> 
        <li><a href="http://richardappleby.wordpress.com">Richard\’s Blog</a></li> 
        <li><a href="http://mattperrins.wordpress.com/">Seen through my eyes (Matt Perrins)</a></li> 
        <li><a href="http://soatipsntricks.wordpress.com/">SOA Tips ‘n’ Tricks (Andrew Ferrier)</a></li> 
        <li><a href="http://andypiper.wordpress.com/">The Lost Outpost (Andy Piper)</a></li> 
       </ul> </li> 
     </ul> 
    </div>
    <!-- #primary .widget-area --> 
   </div>
   <!-- #content-box --> 
   <div id="footer" role="contentinfo"> 
    <div id="colophon"> 
     <span class="generator-link"><a href="https://wordpress.com/?ref=footer_website">Create a free website or blog at WordPress.com.</a></span> 
    </div>
    <!-- #colophon --> 
   </div>
   <!-- #footer --> 
  </div>
  <!-- #container --> 
  <!--  --> 
  <script type="text/javascript" src="//0.gravatar.com/js/gprofiles.js?ver=201737y"></script> 
  <script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script> 
  <script type="text/javascript" src="https://s1.wp.com/wp-content/mu-plugins/gravatar-hovercards/wpgroho.js?m=1380573781h"></script> 
  <script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script> 
  <div style="display:none"> 
   <div class="grofile-hash-map-d16516bdd30ba08f6421bbf14c445702"> 
   </div> 
   <div class="grofile-hash-map-b26612b26093995d6644fda27dc7bc88"> 
   </div> 
   <div class="grofile-hash-map-0d19ff4df8bbfe0476f3d4e9a95e3181"> 
   </div> 
  </div> 
  <script type="text/javascript">
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"https:\/\/galem.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"https:\/\/galem.wordpress.com\/wp-login.php?action=logout&_wpnonce=b99294e861","homeURL":"https:\/\/galem.wordpress.com\/","postID":"943","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"0","userIsLoggedIn":"","isJetpack":"0","text_direction":"ltr"};
/* ]]> */
</script> 
  <script type="text/javascript" src="https://s2.wp.com/_static/??/wp-content/js/jquery/jquery.autoresize.js,/wp-content/mu-plugins/highlander-comments/script.js?m=1479964158j"></script> 
  <div id="carousel-reblog-box"> 
   <form action="#" name="carousel-reblog"> 
    <textarea id="carousel-reblog-content" name="carousel-reblog-content" placeholder="Add your thoughts here... (optional)"></textarea> 
    <label for="carousel-reblog-to-blog-id" id="carousel-reblog-lblogid">Post to</label> 
    <select name="carousel-reblog-to-blog-id" id="carousel-reblog-to-blog-id"> </select> 
    <div class="submit"> 
     <span class="canceltext"><a href="#" class="cancel">Cancel</a></span> 
     <input type="submit" name="carousel-reblog-submit" class="button" id="carousel-reblog-submit" value="Reblog Post"> 
     <input type="hidden" id="carousel-reblog-blog-id" value="5901718"> 
     <input type="hidden" id="carousel-reblog-blog-url" value="https://galem.wordpress.com"> 
     <input type="hidden" id="carousel-reblog-blog-title" value="Martin Gale's blog"> 
     <input type="hidden" id="carousel-reblog-post-url" value=""> 
     <input type="hidden" id="carousel-reblog-post-title" value=""> 
    </div> 
    <input type="hidden" id="_wpnonce" name="_wpnonce" value="eeebe856c0">
    <input type="hidden" name="_wp_http_referer" value="/2014/08/02/sending-sms-messages-using-twilio-and-bluemix/"> 
   </form> 
   <div class="arrow"></div> 
  </div> 
  <link rel="stylesheet" id="all-css-0-3" href="https://s1.wp.com/wp-content/mu-plugins/carousel/jetpack-carousel.css?m=1481571546h" type="text/css" media="all"> 
  <!--[if lte IE 8]>
<link rel='stylesheet' id='jetpack-carousel-ie8fix-css'  href='https://s1.wp.com/wp-content/mu-plugins/carousel/jetpack-carousel-ie8fix.css?m=1412618825h&#038;ver=20121024' type='text/css' media='all' />
<![endif]--> 
  <script type="text/javascript">
/* <![CDATA[ */
var actionbardata = {"siteID":"5901718","siteName":"Martin Gale's blog","siteURL":"http:\/\/galem.wordpress.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/e4ab9de631638ae4e12f6aaaca60b273?s=50&d=https%3A%2F%2Fs1.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/coraline","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/galem.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fgalem.wordpress.com%2F2014%2F08%2F02%2Fsending-sms-messages-using-twilio-and-bluemix%2F","themeURL":"","xhrURL":"https:\/\/galem.wordpress.com\/wp-admin\/admin-ajax.php","nonce":"cdb87720e3","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"7d34008381\" \/>","referer":"https:\/\/galem.wordpress.com\/2014\/08\/02\/sending-sms-messages-using-twilio-and-bluemix\/","canFollow":"1","feedID":"256166","statusMessage":"","customizeLink":"https:\/\/galem.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Fgalem.wordpress.com%2F2014%2F08%2F02%2Fsending-sms-messages-using-twilio-and-bluemix%2F","postID":"943","shortlink":"http:\/\/wp.me\/poLj0-fd","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/galem.wordpress.com\/943","statsLink":"https:\/\/wordpress.com\/stats\/post\/943\/galem.wordpress.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Coraline","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 32 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/galem.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fgalem.wordpress.com%2F2014%2F08%2F02%2Fsending-sms-messages-using-twilio-and-bluemix%2F\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script> 
  <script type="text/javascript">
/* <![CDATA[ */
var jetpackCarouselStrings = {"widths":[370,700,1000,1200,1400,2000],"is_logged_in":"","lang":"en","ajaxurl":"https:\/\/galem.wordpress.com\/wp-admin\/admin-ajax.php","nonce":"16ba0dfd14","display_exif":"1","display_geo":"1","single_image_gallery":"1","single_image_gallery_media_file":"","background_color":"black","comment":"Comment","post_comment":"Post Comment","write_comment":"Write a Comment...","loading_comments":"Loading Comments...","download_original":"View full size <span class=\"photo-size\">{0}<span class=\"photo-size-times\">\u00d7<\/span>{1}<\/span>","no_comment_text":"Please be sure to submit some text with your comment.","no_comment_email":"Please provide an email address to comment.","no_comment_author":"Please provide your name to comment.","comment_post_error":"Sorry, but there was an error posting your comment. Please try again later.","comment_approved":"Your comment was approved.","comment_unapproved":"Your comment is in moderation.","camera":"Camera","aperture":"Aperture","shutter_speed":"Shutter Speed","focal_length":"Focal Length","comment_registration":"0","require_name_email":"1","login_url":"https:\/\/galem.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Fgalem.wordpress.com%2F2014%2F08%2F02%2Fsending-sms-messages-using-twilio-and-bluemix%2F","blog_id":"5901718","local_comments_commenting_as":"<fieldset><label for=\"email\">Email (Required)<\/label> <input type=\"text\" name=\"email\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-email-field\" \/><\/fieldset><fieldset><label for=\"author\">Name (Required)<\/label> <input type=\"text\" name=\"author\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-author-field\" \/><\/fieldset><fieldset><label for=\"url\">Website<\/label> <input type=\"text\" name=\"url\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-url-field\" \/><\/fieldset>","reblog":"Reblog","reblogged":"Reblogged","reblog_add_thoughts":"Add your thoughts here... (optional)","reblogging":"Reblogging...","post_reblog":"Post Reblog","stats_query_args":"blog=5901718&v=wpcom&tz=0&user_id=0&subd=galem","is_public":"1","reblog_enabled":""};
/* ]]> */
</script> 
  <script type="text/javascript" src="https://s0.wp.com/_static/??-eJx9j9sOwiAQRH9Iuq3Gy4vxUwzCqlBuLlDt30sTW/vQ9InNzHB2Ft6BCe8SugQ6gsROCQyfSscNzCybWTD5oVwEo1qM8MqY8cmdNEhjWDlhsixmAQlvbfnICIPpK6vcCpHL4rMbJ7A8JqQyMd8hkRpgk7ZGEEl5NxCmaalUDP8ec12Xa6j/PdU8tbBLcPI5ogGNKXDRslFY69eqaDGxXVXDtWyGuydb8hd7bvb19nBqjttafwHkbJMS"></script> 
  <script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script> 
  <script type="text/javascript">
	var skimlinks_pub_id = "725X584219"
	var skimlinks_sitename = "galem.wordpress.com";
	</script> 
  <script type="text/javascript" defer src="https://s.skimresources.com/js/725X1342.skimlinks.js"></script> 
  <iframe src="https://widgets.wp.com/likes/master.html?ver=20170206#ver=20170206" scrolling="no" id="likes-master" name="likes-master" style="display:none;"></iframe> 
  <div id="likes-other-gravatars">
   <div class="likes-text">
    <span>%d</span> bloggers like this:
   </div>
   <ul class="wpl-avatars sd-like-gravatars"></ul>
  </div> 
  <script src="//stats.wp.com/w.js?56" type="text/javascript" async defer></script> 
  <script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'5901718','blog_tz':'0','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'5901718','v':'wpcom','tz':'0','user_id':'0','post':'943','subd':'galem'}]);
_stq.push(['extra', {'crypt':'UE5XaGUuOTlwaD85flAmcm1mcmZsaDhkV11YdWFnNncxc1tjZG9XVXhRVnolXz01bj9hWHNYW2RybkRhVSZMSUN0L35CWTZMdEF1R3k5OW1SUEZfNm1YbzBjSiZPUiZBcyZsUk0xaW1BRmFwYVc9WTRmcllOQTQrc1UlMjBOYiVJR0w/YlRTMnR4YX5wTC55MDNpXTU0ZnFfVVFCRzk3SmtGQ2gzcTZ3JjFbbnZfVTJlSiwvN1A2L0VoaXQ1Qko3VDA/aVZDUXpddmxKRk5HV3NjV1Iuc3ZhbWtMPXY4Yi1uPWZ1MytXUl9aN1l1aw=='}]);
_stq.push([ 'clickTrackerInit', '5901718', '943' ]);
	</script> 
  <noscript>
   <img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="">
  </noscript> 
  <script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script> 
 </body>
</html>